(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var ap={exports:{}},pc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0;function nN(){if(M0)return pc;M0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:n,type:i,key:h,ref:o!==void 0?o:null,props:u}}return pc.Fragment=e,pc.jsx=t,pc.jsxs=t,pc}var P0;function sN(){return P0||(P0=1,ap.exports=nN()),ap.exports}var c=sN(),op={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V0;function rN(){if(V0)return Oe;V0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),E=Symbol.iterator;function N(k){return k===null||typeof k!="object"?null:(k=E&&k[E]||k["@@iterator"],typeof k=="function"?k:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,G={};function B(k,se,de){this.props=k,this.context=se,this.refs=G,this.updater=de||O}B.prototype.isReactComponent={},B.prototype.setState=function(k,se){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,se,"setState")},B.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function ee(){}ee.prototype=B.prototype;function Q(k,se,de){this.props=k,this.context=se,this.refs=G,this.updater=de||O}var ie=Q.prototype=new ee;ie.constructor=Q,V(ie,B.prototype),ie.isPureReactComponent=!0;var ve=Array.isArray,ce={H:null,A:null,T:null,S:null,V:null},be=Object.prototype.hasOwnProperty;function A(k,se,de,ue,ge,Pe){return de=Pe.ref,{$$typeof:n,type:k,key:se,ref:de!==void 0?de:null,props:Pe}}function S(k,se){return A(k.type,se,void 0,void 0,void 0,k.props)}function C(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function P(k){var se={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(de){return se[de]})}var D=/\/+/g;function U(k,se){return typeof k=="object"&&k!==null&&k.key!=null?P(""+k.key):se.toString(36)}function j(){}function it(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(j,j):(k.status="pending",k.then(function(se){k.status==="pending"&&(k.status="fulfilled",k.value=se)},function(se){k.status==="pending"&&(k.status="rejected",k.reason=se)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function oe(k,se,de,ue,ge){var Pe=typeof k;(Pe==="undefined"||Pe==="boolean")&&(k=null);var J=!1;if(k===null)J=!0;else switch(Pe){case"bigint":case"string":case"number":J=!0;break;case"object":switch(k.$$typeof){case n:case e:J=!0;break;case x:return J=k._init,oe(J(k._payload),se,de,ue,ge)}}if(J)return ge=ge(k),J=ue===""?"."+U(k,0):ue,ve(ge)?(de="",J!=null&&(de=J.replace(D,"$&/")+"/"),oe(ge,se,de,"",function($e){return $e})):ge!=null&&(C(ge)&&(ge=S(ge,de+(ge.key==null||k&&k.key===ge.key?"":(""+ge.key).replace(D,"$&/")+"/")+J)),se.push(ge)),1;J=0;var De=ue===""?".":ue+":";if(ve(k))for(var we=0;we<k.length;we++)ue=k[we],Pe=De+U(ue,we),J+=oe(ue,se,de,Pe,ge);else if(we=N(k),typeof we=="function")for(k=we.call(k),we=0;!(ue=k.next()).done;)ue=ue.value,Pe=De+U(ue,we++),J+=oe(ue,se,de,Pe,ge);else if(Pe==="object"){if(typeof k.then=="function")return oe(it(k),se,de,ue,ge);throw se=String(k),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return J}function F(k,se,de){if(k==null)return k;var ue=[],ge=0;return oe(k,ue,"","",function(Pe){return se.call(de,Pe,ge++)}),ue}function ae(k){if(k._status===-1){var se=k._result;se=se(),se.then(function(de){(k._status===0||k._status===-1)&&(k._status=1,k._result=de)},function(de){(k._status===0||k._status===-1)&&(k._status=2,k._result=de)}),k._status===-1&&(k._status=0,k._result=se)}if(k._status===1)return k._result.default;throw k._result}var he=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function ke(){}return Oe.Children={map:F,forEach:function(k,se,de){F(k,function(){se.apply(this,arguments)},de)},count:function(k){var se=0;return F(k,function(){se++}),se},toArray:function(k){return F(k,function(se){return se})||[]},only:function(k){if(!C(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Oe.Component=B,Oe.Fragment=t,Oe.Profiler=o,Oe.PureComponent=Q,Oe.StrictMode=i,Oe.Suspense=g,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(k){return ce.H.useMemoCache(k)}},Oe.cache=function(k){return function(){return k.apply(null,arguments)}},Oe.cloneElement=function(k,se,de){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ue=V({},k.props),ge=k.key,Pe=void 0;if(se!=null)for(J in se.ref!==void 0&&(Pe=void 0),se.key!==void 0&&(ge=""+se.key),se)!be.call(se,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&se.ref===void 0||(ue[J]=se[J]);var J=arguments.length-2;if(J===1)ue.children=de;else if(1<J){for(var De=Array(J),we=0;we<J;we++)De[we]=arguments[we+2];ue.children=De}return A(k.type,ge,void 0,void 0,Pe,ue)},Oe.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Oe.createElement=function(k,se,de){var ue,ge={},Pe=null;if(se!=null)for(ue in se.key!==void 0&&(Pe=""+se.key),se)be.call(se,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ge[ue]=se[ue]);var J=arguments.length-2;if(J===1)ge.children=de;else if(1<J){for(var De=Array(J),we=0;we<J;we++)De[we]=arguments[we+2];ge.children=De}if(k&&k.defaultProps)for(ue in J=k.defaultProps,J)ge[ue]===void 0&&(ge[ue]=J[ue]);return A(k,Pe,void 0,void 0,null,ge)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(k){return{$$typeof:p,render:k}},Oe.isValidElement=C,Oe.lazy=function(k){return{$$typeof:x,_payload:{_status:-1,_result:k},_init:ae}},Oe.memo=function(k,se){return{$$typeof:y,type:k,compare:se===void 0?null:se}},Oe.startTransition=function(k){var se=ce.T,de={};ce.T=de;try{var ue=k(),ge=ce.S;ge!==null&&ge(de,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(ke,he)}catch(Pe){he(Pe)}finally{ce.T=se}},Oe.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},Oe.use=function(k){return ce.H.use(k)},Oe.useActionState=function(k,se,de){return ce.H.useActionState(k,se,de)},Oe.useCallback=function(k,se){return ce.H.useCallback(k,se)},Oe.useContext=function(k){return ce.H.useContext(k)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(k,se){return ce.H.useDeferredValue(k,se)},Oe.useEffect=function(k,se,de){var ue=ce.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ue.useEffect(k,se)},Oe.useId=function(){return ce.H.useId()},Oe.useImperativeHandle=function(k,se,de){return ce.H.useImperativeHandle(k,se,de)},Oe.useInsertionEffect=function(k,se){return ce.H.useInsertionEffect(k,se)},Oe.useLayoutEffect=function(k,se){return ce.H.useLayoutEffect(k,se)},Oe.useMemo=function(k,se){return ce.H.useMemo(k,se)},Oe.useOptimistic=function(k,se){return ce.H.useOptimistic(k,se)},Oe.useReducer=function(k,se,de){return ce.H.useReducer(k,se,de)},Oe.useRef=function(k){return ce.H.useRef(k)},Oe.useState=function(k){return ce.H.useState(k)},Oe.useSyncExternalStore=function(k,se,de){return ce.H.useSyncExternalStore(k,se,de)},Oe.useTransition=function(){return ce.H.useTransition()},Oe.version="19.1.1",Oe}var L0;function lg(){return L0||(L0=1,op.exports=rN()),op.exports}var I=lg(),lp={exports:{}},gc={},cp={exports:{}},up={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0;function iN(){return U0||(U0=1,(function(n){function e(F,ae){var he=F.length;F.push(ae);e:for(;0<he;){var ke=he-1>>>1,k=F[ke];if(0<o(k,ae))F[ke]=ae,F[he]=k,he=ke;else break e}}function t(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var ae=F[0],he=F.pop();if(he!==ae){F[0]=he;e:for(var ke=0,k=F.length,se=k>>>1;ke<se;){var de=2*(ke+1)-1,ue=F[de],ge=de+1,Pe=F[ge];if(0>o(ue,he))ge<k&&0>o(Pe,ue)?(F[ke]=Pe,F[ge]=he,ke=ge):(F[ke]=ue,F[de]=he,ke=de);else if(ge<k&&0>o(Pe,he))F[ke]=Pe,F[ge]=he,ke=ge;else break e}}return ae}function o(F,ae){var he=F.sortIndex-ae.sortIndex;return he!==0?he:F.id-ae.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var h=Date,p=h.now();n.unstable_now=function(){return h.now()-p}}var g=[],y=[],x=1,E=null,N=3,O=!1,V=!1,G=!1,B=!1,ee=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function ve(F){for(var ae=t(y);ae!==null;){if(ae.callback===null)i(y);else if(ae.startTime<=F)i(y),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=t(y)}}function ce(F){if(G=!1,ve(F),!V)if(t(g)!==null)V=!0,be||(be=!0,U());else{var ae=t(y);ae!==null&&oe(ce,ae.startTime-F)}}var be=!1,A=-1,S=5,C=-1;function P(){return B?!0:!(n.unstable_now()-C<S)}function D(){if(B=!1,be){var F=n.unstable_now();C=F;var ae=!0;try{e:{V=!1,G&&(G=!1,Q(A),A=-1),O=!0;var he=N;try{t:{for(ve(F),E=t(g);E!==null&&!(E.expirationTime>F&&P());){var ke=E.callback;if(typeof ke=="function"){E.callback=null,N=E.priorityLevel;var k=ke(E.expirationTime<=F);if(F=n.unstable_now(),typeof k=="function"){E.callback=k,ve(F),ae=!0;break t}E===t(g)&&i(g),ve(F)}else i(g);E=t(g)}if(E!==null)ae=!0;else{var se=t(y);se!==null&&oe(ce,se.startTime-F),ae=!1}}break e}finally{E=null,N=he,O=!1}ae=void 0}}finally{ae?U():be=!1}}}var U;if(typeof ie=="function")U=function(){ie(D)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,it=j.port2;j.port1.onmessage=D,U=function(){it.postMessage(null)}}else U=function(){ee(D,0)};function oe(F,ae){A=ee(function(){F(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return N},n.unstable_next=function(F){switch(N){case 1:case 2:case 3:var ae=3;break;default:ae=N}var he=N;N=ae;try{return F()}finally{N=he}},n.unstable_requestPaint=function(){B=!0},n.unstable_runWithPriority=function(F,ae){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var he=N;N=F;try{return ae()}finally{N=he}},n.unstable_scheduleCallback=function(F,ae,he){var ke=n.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?ke+he:ke):he=ke,F){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=he+k,F={id:x++,callback:ae,priorityLevel:F,startTime:he,expirationTime:k,sortIndex:-1},he>ke?(F.sortIndex=he,e(y,F),t(g)===null&&F===t(y)&&(G?(Q(A),A=-1):G=!0,oe(ce,he-ke))):(F.sortIndex=k,e(g,F),V||O||(V=!0,be||(be=!0,U()))),F},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(F){var ae=N;return function(){var he=N;N=ae;try{return F.apply(this,arguments)}finally{N=he}}}})(up)),up}var B0;function aN(){return B0||(B0=1,cp.exports=iN()),cp.exports}var dp={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z0;function oN(){if(z0)return on;z0=1;var n=lg();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,x){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:g,containerInfo:y,implementation:x}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,on.createPortal=function(g,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,x)},on.flushSync=function(g){var y=h.T,x=i.p;try{if(h.T=null,i.p=2,g)return g()}finally{h.T=y,i.p=x,i.d.f()}},on.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(g,y))},on.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},on.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var x=y.as,E=p(x,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,O=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?i.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:N,fetchPriority:O}):x==="script"&&i.d.X(g,{crossOrigin:E,integrity:N,fetchPriority:O,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},on.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=p(y.as,y.crossOrigin);i.d.M(g,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(g)},on.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,E=p(x,y.crossOrigin);i.d.L(g,x,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},on.preloadModule=function(g,y){if(typeof g=="string")if(y){var x=p(y.as,y.crossOrigin);i.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(g)},on.requestFormReset=function(g){i.d.r(g)},on.unstable_batchedUpdates=function(g,y){return g(y)},on.useFormState=function(g,y,x){return h.H.useFormState(g,y,x)},on.useFormStatus=function(){return h.H.useHostTransitionStatus()},on.version="19.1.1",on}var H0;function lN(){if(H0)return dp.exports;H0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),dp.exports=oN(),dp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q0;function cN(){if(q0)return gc;q0=1;var n=aN(),e=lg(),t=lN();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function u(s){var r=s,a=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(a=r.return),s=r.return;while(s)}return r.tag===3?a:null}function h(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function p(s){if(u(s)!==s)throw Error(i(188))}function g(s){var r=s.alternate;if(!r){if(r=u(s),r===null)throw Error(i(188));return r!==s?null:s}for(var a=s,l=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return p(f),s;if(m===l)return p(f),r;m=m.sibling}throw Error(i(188))}if(a.return!==l.return)a=f,l=m;else{for(var w=!1,_=f.child;_;){if(_===a){w=!0,a=f,l=m;break}if(_===l){w=!0,l=f,a=m;break}_=_.sibling}if(!w){for(_=m.child;_;){if(_===a){w=!0,a=m,l=f;break}if(_===l){w=!0,l=m,a=f;break}_=_.sibling}if(!w)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?s:r}function y(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=y(s),r!==null)return r;s=s.sibling}return null}var x=Object.assign,E=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),ee=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=D&&s[D]||s["@@iterator"],typeof s=="function"?s:null)}var j=Symbol.for("react.client.reference");function it(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===j?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case V:return"Fragment";case B:return"Profiler";case G:return"StrictMode";case ce:return"Suspense";case be:return"SuspenseList";case C:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case O:return"Portal";case ie:return(s.displayName||"Context")+".Provider";case Q:return(s._context.displayName||"Context")+".Consumer";case ve:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case A:return r=s.displayName||null,r!==null?r:it(s.type)||"Memo";case S:r=s._payload,s=s._init;try{return it(s(r))}catch{}}return null}var oe=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},ke=[],k=-1;function se(s){return{current:s}}function de(s){0>k||(s.current=ke[k],ke[k]=null,k--)}function ue(s,r){k++,ke[k]=s.current,s.current=r}var ge=se(null),Pe=se(null),J=se(null),De=se(null);function we(s,r){switch(ue(J,r),ue(Pe,s),ue(ge,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?c0(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=c0(r),s=u0(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}de(ge),ue(ge,s)}function $e(){de(ge),de(Pe),de(J)}function Rt(s){s.memoizedState!==null&&ue(De,s);var r=ge.current,a=u0(r,s.type);r!==a&&(ue(Pe,s),ue(ge,a))}function Tn(s){Pe.current===s&&(de(ge),de(Pe)),De.current===s&&(de(De),uc._currentValue=he)}var Nn=Object.prototype.hasOwnProperty,jt=n.unstable_scheduleCallback,fn=n.unstable_cancelCallback,Gn=n.unstable_shouldYield,Pi=n.unstable_requestPaint,Sn=n.unstable_now,uu=n.unstable_getCurrentPriorityLevel,Pt=n.unstable_ImmediatePriority,Ht=n.unstable_UserBlockingPriority,Ys=n.unstable_NormalPriority,lf=n.unstable_LowPriority,dl=n.unstable_IdlePriority,cf=n.log,Vi=n.unstable_setDisableYieldValue,Ir=null,sn=null;function Kn(s){if(typeof cf=="function"&&Vi(s),sn&&typeof sn.setStrictMode=="function")try{sn.setStrictMode(Ir,s)}catch{}}var mn=Math.clz32?Math.clz32:hu,uf=Math.log,du=Math.LN2;function hu(s){return s>>>=0,s===0?32:31-(uf(s)/du|0)|0}var _s=256,kr=4194304;function cs(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Yn(s,r,a){var l=s.pendingLanes;if(l===0)return 0;var f=0,m=s.suspendedLanes,w=s.pingedLanes;s=s.warmLanes;var _=l&134217727;return _!==0?(l=_&~m,l!==0?f=cs(l):(w&=_,w!==0?f=cs(w):a||(a=_&~s,a!==0&&(f=cs(a))))):(_=l&~m,_!==0?f=cs(_):w!==0?f=cs(w):a||(a=l&~s,a!==0&&(f=cs(a)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,a=r&-r,m>=a||m===32&&(a&4194048)!==0)?r:f}function Dr(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Ha(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hl(){var s=_s;return _s<<=1,(_s&4194048)===0&&(_s=256),s}function Or(){var s=kr;return kr<<=1,(kr&62914560)===0&&(kr=4194304),s}function qa(s){for(var r=[],a=0;31>a;a++)r.push(s);return r}function wt(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function fu(s,r,a,l,f,m){var w=s.pendingLanes;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=a,s.entangledLanes&=a,s.errorRecoveryDisabledLanes&=a,s.shellSuspendCounter=0;var _=s.entanglements,R=s.expirationTimes,q=s.hiddenUpdates;for(a=w&~a;0<a;){var W=31-mn(a),te=1<<W;_[W]=0,R[W]=-1;var $=q[W];if($!==null)for(q[W]=null,W=0;W<$.length;W++){var K=$[W];K!==null&&(K.lane&=-536870913)}a&=~te}l!==0&&Mr(s,l,0),m!==0&&f===0&&s.tag!==0&&(s.suspendedLanes|=m&~(w&~r))}function Mr(s,r,a){s.pendingLanes|=r,s.suspendedLanes&=~r;var l=31-mn(r);s.entangledLanes|=r,s.entanglements[l]=s.entanglements[l]|1073741824|a&4194090}function Pr(s,r){var a=s.entangledLanes|=r;for(s=s.entanglements;a;){var l=31-mn(a),f=1<<l;f&r|s[l]&r&&(s[l]|=r),a&=~f}}function fl(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ml(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Qs(){var s=ae.p;return s!==0?s:(s=window.event,s===void 0?32:R0(s.type))}function df(s,r){var a=ae.p;try{return ae.p=s,r()}finally{ae.p=a}}var Es=Math.random().toString(36).slice(2),xt="__reactFiber$"+Es,Qt="__reactProps$"+Es,Xs="__reactContainer$"+Es,Li="__reactEvents$"+Es,Ui="__reactListeners$"+Es,hf="__reactHandles$"+Es,us="__reactResources$"+Es,Vr="__reactMarker$"+Es;function Fa(s){delete s[xt],delete s[Qt],delete s[Li],delete s[Ui],delete s[hf]}function Ts(s){var r=s[xt];if(r)return r;for(var a=s.parentNode;a;){if(r=a[Xs]||a[xt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(s=m0(s);s!==null;){if(a=s[xt])return a;s=m0(s)}return r}s=a,a=s.parentNode}return null}function Ns(s){if(s=s[xt]||s[Xs]){var r=s.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return s}return null}function Lr(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Ur(s){var r=s[us];return r||(r=s[us]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function _t(s){s[Vr]=!0}var mu=new Set,Bi={};function Ss(s,r){As(s,r),As(s+"Capture",r)}function As(s,r){for(Bi[s]=r,s=0;s<r.length;s++)mu.add(r[s])}var zi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cs={},$a={};function ff(s){return Nn.call($a,s)?!0:Nn.call(Cs,s)?!1:zi.test(s)?$a[s]=!0:(Cs[s]=!0,!1)}function Hi(s,r,a){if(ff(r))if(a===null)s.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+a)}}function qi(s,r,a){if(a===null)s.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+a)}}function Qn(s,r,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttributeNS(r,a,""+l)}}var Fi,Ga;function Ws(s){if(Fi===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Fi=r&&r[1]||"",Ga=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fi+s+Ga}var Ka=!1;function Ya(s,r){if(!s||Ka)return"";Ka=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var $=K}Reflect.construct(s,[],te)}else{try{te.call()}catch(K){$=K}s.call(te.prototype)}}else{try{throw Error()}catch(K){$=K}(te=s())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&$&&typeof K.stack=="string")return[K.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),w=m[0],_=m[1];if(w&&_){var R=w.split(`
`),q=_.split(`
`);for(f=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(l===R.length||f===q.length)for(l=R.length-1,f=q.length-1;1<=l&&0<=f&&R[l]!==q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(R[l]!==q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||R[l]!==q[f]){var W=`
`+R[l].replace(" at new "," at ");return s.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",s.displayName)),W}while(1<=l&&0<=f);break}}}finally{Ka=!1,Error.prepareStackTrace=a}return(a=s?s.displayName||s.name:"")?Ws(a):""}function mf(s){switch(s.tag){case 26:case 27:case 5:return Ws(s.type);case 16:return Ws("Lazy");case 13:return Ws("Suspense");case 19:return Ws("SuspenseList");case 0:case 15:return Ya(s.type,!1);case 11:return Ya(s.type.render,!1);case 1:return Ya(s.type,!0);case 31:return Ws("Activity");default:return""}}function ds(s){try{var r="";do r+=mf(s),s=s.return;while(s);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ft(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Br(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function $i(s){var r=Br(s)?"checked":"value",a=Object.getOwnPropertyDescriptor(s.constructor.prototype,r),l=""+s[r];if(!s.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return f.call(this)},set:function(w){l=""+w,m.call(this,w)}}),Object.defineProperty(s,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function zr(s){s._valueTracker||(s._valueTracker=$i(s))}function et(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return s&&(l=Br(s)?s.checked?"true":"false":s.value),s=l,s!==a?(r.setValue(s),!0):!1}function Zs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Gi=/[\n"\\]/g;function qt(s){return s.replace(Gi,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function pl(s,r,a,l,f,m,w,_){s.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.type=w:s.removeAttribute("type"),r!=null?w==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+ft(r)):s.value!==""+ft(r)&&(s.value=""+ft(r)):w!=="submit"&&w!=="reset"||s.removeAttribute("value"),r!=null?yl(s,w,ft(r)):a!=null?yl(s,w,ft(a)):l!=null&&s.removeAttribute("value"),f==null&&m!=null&&(s.defaultChecked=!!m),f!=null&&(s.checked=f&&typeof f!="function"&&typeof f!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?s.name=""+ft(_):s.removeAttribute("name")}function gl(s,r,a,l,f,m,w,_){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(s.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;a=a!=null?""+ft(a):"",r=r!=null?""+ft(r):a,_||r===s.value||(s.value=r),s.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,s.checked=_?s.checked:!!l,s.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.name=w)}function yl(s,r,a){r==="number"&&Zs(s.ownerDocument)===s||s.defaultValue===""+a||(s.defaultValue=""+a)}function Hr(s,r,a,l){if(s=s.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<s.length;a++)f=r.hasOwnProperty("$"+s[a].value),s[a].selected!==f&&(s[a].selected=f),f&&l&&(s[a].defaultSelected=!0)}else{for(a=""+ft(a),r=null,f=0;f<s.length;f++){if(s[f].value===a){s[f].selected=!0,l&&(s[f].defaultSelected=!0);return}r!==null||s[f].disabled||(r=s[f])}r!==null&&(r.selected=!0)}}function pu(s,r,a){if(r!=null&&(r=""+ft(r),r!==s.value&&(s.value=r),a==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=a!=null?""+ft(a):""}function gu(s,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(i(92));if(oe(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=ft(r),s.defaultValue=a,l=s.textContent,l===a&&l!==""&&l!==null&&(s.value=l)}function Xn(s,r){if(r){var a=s.firstChild;if(a&&a===s.lastChild&&a.nodeType===3){a.nodeValue=r;return}}s.textContent=r}var Js=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vl(s,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":l?s.setProperty(r,a):typeof a!="number"||a===0||Js.has(r)?r==="float"?s.cssFloat=a:s[r]=(""+a).trim():s[r]=a+"px"}function bl(s,r,a){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&vl(s,f,l)}else for(var m in r)r.hasOwnProperty(m)&&vl(s,m,r[m])}function Qa(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hs(s){return vu.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var wl=null;function xl(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var qr=null,pn=null;function bu(s){var r=Ns(s);if(r&&(s=r.stateNode)){var a=s[Qt]||null;e:switch(s=r.stateNode,r.type){case"input":if(pl(s,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=s;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+qt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==s&&l.form===s.form){var f=l[Qt]||null;if(!f)throw Error(i(90));pl(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===s.form&&et(l)}break e;case"textarea":pu(s,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Hr(s,!!a.multiple,r,!1)}}}var Ki=!1;function Yi(s,r,a){if(Ki)return s(r,a);Ki=!0;try{var l=s(r);return l}finally{if(Ki=!1,(qr!==null||pn!==null)&&(ld(),qr&&(r=qr,s=pn,pn=qr=null,bu(r),s)))for(r=0;r<s.length;r++)bu(s[r])}}function Fr(s,r){var a=s.stateNode;if(a===null)return null;var l=a[Qt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(s=s.type,l=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!l;break e;default:s=!1}if(s)return null;if(a&&typeof a!="function")throw Error(i(231,r,typeof a));return a}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),er=!1;if(gn)try{var $r={};Object.defineProperty($r,"passive",{get:function(){er=!0}}),window.addEventListener("test",$r,$r),window.removeEventListener("test",$r,$r)}catch{er=!1}var Wn=null,at=null,Xa=null;function wu(){if(Xa)return Xa;var s,r=at,a=r.length,l,f="value"in Wn?Wn.value:Wn.textContent,m=f.length;for(s=0;s<a&&r[s]===f[s];s++);var w=a-s;for(l=1;l<=w&&r[a-l]===f[m-l];l++);return Xa=f.slice(s,1<l?1-l:void 0)}function Qi(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function Xi(){return!0}function _l(){return!1}function Vt(s){function r(a,l,f,m,w){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var _ in s)s.hasOwnProperty(_)&&(a=s[_],this[_]=a?a(m):m[_]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Xi:_l,this.isPropagationStopped=_l,this}return x(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),r}var rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wi=Vt(rn),Zi=x({},rn,{view:0,detail:0}),Ji=Vt(Zi),Wa,ea,Rs,ta=x({},Zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eo,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Rs&&(Rs&&s.type==="mousemove"?(Wa=s.screenX-Rs.screenX,ea=s.screenY-Rs.screenY):ea=Wa=0,Rs=s),Wa)},movementY:function(s){return"movementY"in s?s.movementY:ea}}),na=Vt(ta),pf=x({},ta,{dataTransfer:0}),xu=Vt(pf),sa=x({},Zi,{relatedTarget:0}),Za=Vt(sa),_u=x({},rn,{animationName:0,elapsedTime:0,pseudoElement:0}),El=Vt(_u),Tl=x({},rn,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Eu=Vt(Tl),Ja=x({},rn,{data:0}),Nl=Vt(Ja),Tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Su(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Nu[s])?!!r[s]:!1}function eo(){return Su}var Au=x({},Zi,{key:function(s){if(s.key){var r=Tu[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=Qi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?tr[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eo,charCode:function(s){return s.type==="keypress"?Qi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Qi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),to=Vt(Au),yn=x({},ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sl=Vt(yn),Cu=x({},Zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eo}),Gr=Vt(Cu),d=x({},rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),v=Vt(d),b=x({},ta,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),T=Vt(b),H=x({},rn,{newState:0,oldState:0}),Y=Vt(H),le=[9,13,27,32],je=gn&&"CompositionEvent"in window,ct=null;gn&&"documentMode"in document&&(ct=document.documentMode);var We=gn&&"TextEvent"in window&&!ct,Et=gn&&(!je||ct&&8<ct&&11>=ct),Dn=" ",js=!1;function fs(s,r){switch(s){case"keyup":return le.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ms(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ps=!1;function Al(s,r){switch(s){case"compositionend":return ms(r);case"keypress":return r.which!==32?null:(js=!0,Dn);case"textInput":return s=r.data,s===Dn&&js?null:s;default:return null}}function R1(s,r){if(ps)return s==="compositionend"||!je&&fs(s,r)?(s=wu(),Xa=at=Wn=null,ps=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Et&&r.locale!=="ko"?null:r.data;default:return null}}var j1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ey(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!j1[s.type]:r==="textarea"}function Ty(s,r,a,l){qr?pn?pn.push(l):pn=[l]:qr=l,r=md(r,"onChange"),0<r.length&&(a=new Wi("onChange","change",null,a,l),s.push({event:a,listeners:r}))}var Cl=null,Rl=null;function I1(s){r0(s,0)}function Ru(s){var r=Lr(s);if(et(r))return s}function Ny(s,r){if(s==="change")return r}var Sy=!1;if(gn){var gf;if(gn){var yf="oninput"in document;if(!yf){var Ay=document.createElement("div");Ay.setAttribute("oninput","return;"),yf=typeof Ay.oninput=="function"}gf=yf}else gf=!1;Sy=gf&&(!document.documentMode||9<document.documentMode)}function Cy(){Cl&&(Cl.detachEvent("onpropertychange",Ry),Rl=Cl=null)}function Ry(s){if(s.propertyName==="value"&&Ru(Rl)){var r=[];Ty(r,Rl,s,xl(s)),Yi(I1,r)}}function k1(s,r,a){s==="focusin"?(Cy(),Cl=r,Rl=a,Cl.attachEvent("onpropertychange",Ry)):s==="focusout"&&Cy()}function D1(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ru(Rl)}function O1(s,r){if(s==="click")return Ru(r)}function M1(s,r){if(s==="input"||s==="change")return Ru(r)}function P1(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var On=typeof Object.is=="function"?Object.is:P1;function jl(s,r){if(On(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var a=Object.keys(s),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Nn.call(r,f)||!On(s[f],r[f]))return!1}return!0}function jy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Iy(s,r){var a=jy(s);s=0;for(var l;a;){if(a.nodeType===3){if(l=s+a.textContent.length,s<=r&&l>=r)return{node:a,offset:r-s};s=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=jy(a)}}function ky(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?ky(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function Dy(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=Zs(s.document);r instanceof s.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)s=r.contentWindow;else break;r=Zs(s.document)}return r}function vf(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var V1=gn&&"documentMode"in document&&11>=document.documentMode,no=null,bf=null,Il=null,wf=!1;function Oy(s,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wf||no==null||no!==Zs(l)||(l=no,"selectionStart"in l&&vf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Il&&jl(Il,l)||(Il=l,l=md(bf,"onSelect"),0<l.length&&(r=new Wi("onSelect","select",null,r,a),s.push({event:r,listeners:l}),r.target=no)))}function ra(s,r){var a={};return a[s.toLowerCase()]=r.toLowerCase(),a["Webkit"+s]="webkit"+r,a["Moz"+s]="moz"+r,a}var so={animationend:ra("Animation","AnimationEnd"),animationiteration:ra("Animation","AnimationIteration"),animationstart:ra("Animation","AnimationStart"),transitionrun:ra("Transition","TransitionRun"),transitionstart:ra("Transition","TransitionStart"),transitioncancel:ra("Transition","TransitionCancel"),transitionend:ra("Transition","TransitionEnd")},xf={},My={};gn&&(My=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function ia(s){if(xf[s])return xf[s];if(!so[s])return s;var r=so[s],a;for(a in r)if(r.hasOwnProperty(a)&&a in My)return xf[s]=r[a];return s}var Py=ia("animationend"),Vy=ia("animationiteration"),Ly=ia("animationstart"),L1=ia("transitionrun"),U1=ia("transitionstart"),B1=ia("transitioncancel"),Uy=ia("transitionend"),By=new Map,_f="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_f.push("scrollEnd");function gs(s,r){By.set(s,r),Ss(r,[s])}var zy=new WeakMap;function Zn(s,r){if(typeof s=="object"&&s!==null){var a=zy.get(s);return a!==void 0?a:(r={value:s,source:r,stack:ds(r)},zy.set(s,r),r)}return{value:s,source:r,stack:ds(r)}}var Jn=[],ro=0,Ef=0;function ju(){for(var s=ro,r=Ef=ro=0;r<s;){var a=Jn[r];Jn[r++]=null;var l=Jn[r];Jn[r++]=null;var f=Jn[r];Jn[r++]=null;var m=Jn[r];if(Jn[r++]=null,l!==null&&f!==null){var w=l.pending;w===null?f.next=f:(f.next=w.next,w.next=f),l.pending=f}m!==0&&Hy(a,f,m)}}function Iu(s,r,a,l){Jn[ro++]=s,Jn[ro++]=r,Jn[ro++]=a,Jn[ro++]=l,Ef|=l,s.lanes|=l,s=s.alternate,s!==null&&(s.lanes|=l)}function Tf(s,r,a,l){return Iu(s,r,a,l),ku(s)}function io(s,r){return Iu(s,null,null,r),ku(s)}function Hy(s,r,a){s.lanes|=a;var l=s.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=s.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(s=m.stateNode,s===null||s._visibility&1||(f=!0)),s=m,m=m.return;return s.tag===3?(m=s.stateNode,f&&r!==null&&(f=31-mn(a),s=m.hiddenUpdates,l=s[f],l===null?s[f]=[r]:l.push(r),r.lane=a|536870912),m):null}function ku(s){if(50<nc)throw nc=0,jm=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var ao={};function z1(s,r,a,l){this.tag=s,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(s,r,a,l){return new z1(s,r,a,l)}function Nf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function nr(s,r){var a=s.alternate;return a===null?(a=Mn(s.tag,r,s.key,s.mode),a.elementType=s.elementType,a.type=s.type,a.stateNode=s.stateNode,a.alternate=s,s.alternate=a):(a.pendingProps=r,a.type=s.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=s.flags&65011712,a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,r=s.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=s.sibling,a.index=s.index,a.ref=s.ref,a.refCleanup=s.refCleanup,a}function qy(s,r){s.flags&=65011714;var a=s.alternate;return a===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,r=a.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Du(s,r,a,l,f,m){var w=0;if(l=s,typeof s=="function")Nf(s)&&(w=1);else if(typeof s=="string")w=qT(s,a,ge.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case C:return s=Mn(31,a,r,f),s.elementType=C,s.lanes=m,s;case V:return aa(a.children,f,m,r);case G:w=8,f|=24;break;case B:return s=Mn(12,a,r,f|2),s.elementType=B,s.lanes=m,s;case ce:return s=Mn(13,a,r,f),s.elementType=ce,s.lanes=m,s;case be:return s=Mn(19,a,r,f),s.elementType=be,s.lanes=m,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case ee:case ie:w=10;break e;case Q:w=9;break e;case ve:w=11;break e;case A:w=14;break e;case S:w=16,l=null;break e}w=29,a=Error(i(130,s===null?"null":typeof s,"")),l=null}return r=Mn(w,a,r,f),r.elementType=s,r.type=l,r.lanes=m,r}function aa(s,r,a,l){return s=Mn(7,s,l,r),s.lanes=a,s}function Sf(s,r,a){return s=Mn(6,s,null,r),s.lanes=a,s}function Af(s,r,a){return r=Mn(4,s.children!==null?s.children:[],s.key,r),r.lanes=a,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var oo=[],lo=0,Ou=null,Mu=0,es=[],ts=0,oa=null,sr=1,rr="";function la(s,r){oo[lo++]=Mu,oo[lo++]=Ou,Ou=s,Mu=r}function Fy(s,r,a){es[ts++]=sr,es[ts++]=rr,es[ts++]=oa,oa=s;var l=sr;s=rr;var f=32-mn(l)-1;l&=~(1<<f),a+=1;var m=32-mn(r)+f;if(30<m){var w=f-f%5;m=(l&(1<<w)-1).toString(32),l>>=w,f-=w,sr=1<<32-mn(r)+f|a<<f|l,rr=m+s}else sr=1<<m|a<<f|l,rr=s}function Cf(s){s.return!==null&&(la(s,1),Fy(s,1,0))}function Rf(s){for(;s===Ou;)Ou=oo[--lo],oo[lo]=null,Mu=oo[--lo],oo[lo]=null;for(;s===oa;)oa=es[--ts],es[ts]=null,rr=es[--ts],es[ts]=null,sr=es[--ts],es[ts]=null}var vn=null,yt=null,Ye=!1,ca=null,Is=!1,jf=Error(i(519));function ua(s){var r=Error(i(418,""));throw Ol(Zn(r,s)),jf}function $y(s){var r=s.stateNode,a=s.type,l=s.memoizedProps;switch(r[xt]=s,r[Qt]=l,a){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(a=0;a<rc.length;a++)Ue(rc[a],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":Ue("invalid",r),gl(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),zr(r);break;case"select":Ue("invalid",r);break;case"textarea":Ue("invalid",r),gu(r,l.value,l.defaultValue,l.children),zr(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||l0(r.textContent,a)?(l.popover!=null&&(Ue("beforetoggle",r),Ue("toggle",r)),l.onScroll!=null&&Ue("scroll",r),l.onScrollEnd!=null&&Ue("scrollend",r),l.onClick!=null&&(r.onclick=pd),r=!0):r=!1,r||ua(s)}function Gy(s){for(vn=s.return;vn;)switch(vn.tag){case 5:case 13:Is=!1;return;case 27:case 3:Is=!0;return;default:vn=vn.return}}function kl(s){if(s!==vn)return!1;if(!Ye)return Gy(s),Ye=!0,!1;var r=s.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=s.type,a=!(a!=="form"&&a!=="button")||Gm(s.type,s.memoizedProps)),a=!a),a&&yt&&ua(s),Gy(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,r=0;s;){if(s.nodeType===8)if(a=s.data,a==="/$"){if(r===0){yt=vs(s.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;s=s.nextSibling}yt=null}}else r===27?(r=yt,li(s.type)?(s=Xm,Xm=null,yt=s):yt=r):yt=vn?vs(s.stateNode.nextSibling):null;return!0}function Dl(){yt=vn=null,Ye=!1}function Ky(){var s=ca;return s!==null&&(Rn===null?Rn=s:Rn.push.apply(Rn,s),ca=null),s}function Ol(s){ca===null?ca=[s]:ca.push(s)}var If=se(null),da=null,ir=null;function Kr(s,r,a){ue(If,r._currentValue),r._currentValue=a}function ar(s){s._currentValue=If.current,de(If)}function kf(s,r,a){for(;s!==null;){var l=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),s===a)break;s=s.return}}function Df(s,r,a,l){var f=s.child;for(f!==null&&(f.return=s);f!==null;){var m=f.dependencies;if(m!==null){var w=f.child;m=m.firstContext;e:for(;m!==null;){var _=m;m=f;for(var R=0;R<r.length;R++)if(_.context===r[R]){m.lanes|=a,_=m.alternate,_!==null&&(_.lanes|=a),kf(m.return,a,s),l||(w=null);break e}m=_.next}}else if(f.tag===18){if(w=f.return,w===null)throw Error(i(341));w.lanes|=a,m=w.alternate,m!==null&&(m.lanes|=a),kf(w,a,s),w=null}else w=f.child;if(w!==null)w.return=f;else for(w=f;w!==null;){if(w===s){w=null;break}if(f=w.sibling,f!==null){f.return=w.return,w=f;break}w=w.return}f=w}}function Ml(s,r,a,l){s=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var w=f.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var _=f.type;On(f.pendingProps.value,w.value)||(s!==null?s.push(_):s=[_])}}else if(f===De.current){if(w=f.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(s!==null?s.push(uc):s=[uc])}f=f.return}s!==null&&Df(r,s,a,l),r.flags|=262144}function Pu(s){for(s=s.firstContext;s!==null;){if(!On(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ha(s){da=s,ir=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function an(s){return Yy(da,s)}function Vu(s,r){return da===null&&ha(s),Yy(s,r)}function Yy(s,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ir===null){if(s===null)throw Error(i(308));ir=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else ir=ir.next=r;return a}var H1=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(a,l){s.push(l)}};this.abort=function(){r.aborted=!0,s.forEach(function(a){return a()})}},q1=n.unstable_scheduleCallback,F1=n.unstable_NormalPriority,Lt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Of(){return{controller:new H1,data:new Map,refCount:0}}function Pl(s){s.refCount--,s.refCount===0&&q1(F1,function(){s.controller.abort()})}var Vl=null,Mf=0,co=0,uo=null;function $1(s,r){if(Vl===null){var a=Vl=[];Mf=0,co=Vm(),uo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Mf++,r.then(Qy,Qy),r}function Qy(){if(--Mf===0&&Vl!==null){uo!==null&&(uo.status="fulfilled");var s=Vl;Vl=null,co=0,uo=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function G1(s,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return s.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Xy=F.S;F.S=function(s,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&$1(s,r),Xy!==null&&Xy(s,r)};var fa=se(null);function Pf(){var s=fa.current;return s!==null?s:ot.pooledCache}function Lu(s,r){r===null?ue(fa,fa.current):ue(fa,r.pool)}function Wy(){var s=Pf();return s===null?null:{parent:Lt._currentValue,pool:s}}var Ll=Error(i(460)),Zy=Error(i(474)),Uu=Error(i(542)),Vf={then:function(){}};function Jy(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Bu(){}function ev(s,r,a){switch(a=s[a],a===void 0?s.push(r):a!==r&&(r.then(Bu,Bu),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,nv(s),s;default:if(typeof r.status=="string")r.then(Bu,Bu);else{if(s=ot,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,nv(s),s}throw Ul=r,Ll}}var Ul=null;function tv(){if(Ul===null)throw Error(i(459));var s=Ul;return Ul=null,s}function nv(s){if(s===Ll||s===Uu)throw Error(i(483))}var Yr=!1;function Lf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uf(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Qr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Xr(s,r,a){var l=s.updateQueue;if(l===null)return null;if(l=l.shared,(Ze&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=ku(s),Hy(s,null,a),r}return Iu(s,l,r,a),ku(s)}function Bl(s,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=s.pendingLanes,a|=l,r.lanes=a,Pr(s,a)}}function Bf(s,r){var a=s.updateQueue,l=s.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var w={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=w:m=m.next=w,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},s.updateQueue=a;return}s=a.lastBaseUpdate,s===null?a.firstBaseUpdate=r:s.next=r,a.lastBaseUpdate=r}var zf=!1;function zl(){if(zf){var s=uo;if(s!==null)throw s}}function Hl(s,r,a,l){zf=!1;var f=s.updateQueue;Yr=!1;var m=f.firstBaseUpdate,w=f.lastBaseUpdate,_=f.shared.pending;if(_!==null){f.shared.pending=null;var R=_,q=R.next;R.next=null,w===null?m=q:w.next=q,w=R;var W=s.alternate;W!==null&&(W=W.updateQueue,_=W.lastBaseUpdate,_!==w&&(_===null?W.firstBaseUpdate=q:_.next=q,W.lastBaseUpdate=R))}if(m!==null){var te=f.baseState;w=0,W=q=R=null,_=m;do{var $=_.lane&-536870913,K=$!==_.lane;if(K?(qe&$)===$:(l&$)===$){$!==0&&$===co&&(zf=!0),W!==null&&(W=W.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var Ce=s,Ee=_;$=r;var st=a;switch(Ee.tag){case 1:if(Ce=Ee.payload,typeof Ce=="function"){te=Ce.call(st,te,$);break e}te=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Ee.payload,$=typeof Ce=="function"?Ce.call(st,te,$):Ce,$==null)break e;te=x({},te,$);break e;case 2:Yr=!0}}$=_.callback,$!==null&&(s.flags|=64,K&&(s.flags|=8192),K=f.callbacks,K===null?f.callbacks=[$]:K.push($))}else K={lane:$,tag:_.tag,payload:_.payload,callback:_.callback,next:null},W===null?(q=W=K,R=te):W=W.next=K,w|=$;if(_=_.next,_===null){if(_=f.shared.pending,_===null)break;K=_,_=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);W===null&&(R=te),f.baseState=R,f.firstBaseUpdate=q,f.lastBaseUpdate=W,m===null&&(f.shared.lanes=0),ri|=w,s.lanes=w,s.memoizedState=te}}function sv(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function rv(s,r){var a=s.callbacks;if(a!==null)for(s.callbacks=null,s=0;s<a.length;s++)sv(a[s],r)}var ho=se(null),zu=se(0);function iv(s,r){s=fr,ue(zu,s),ue(ho,r),fr=s|r.baseLanes}function Hf(){ue(zu,fr),ue(ho,ho.current)}function qf(){fr=zu.current,de(ho),de(zu)}var Wr=0,Me=null,tt=null,It=null,Hu=!1,fo=!1,ma=!1,qu=0,ql=0,mo=null,K1=0;function Tt(){throw Error(i(321))}function Ff(s,r){if(r===null)return!1;for(var a=0;a<r.length&&a<s.length;a++)if(!On(s[a],r[a]))return!1;return!0}function $f(s,r,a,l,f,m){return Wr=m,Me=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,F.H=s===null||s.memoizedState===null?Hv:qv,ma=!1,m=a(l,f),ma=!1,fo&&(m=ov(r,a,l,f)),av(s),m}function av(s){F.H=Qu;var r=tt!==null&&tt.next!==null;if(Wr=0,It=tt=Me=null,Hu=!1,ql=0,mo=null,r)throw Error(i(300));s===null||Ft||(s=s.dependencies,s!==null&&Pu(s)&&(Ft=!0))}function ov(s,r,a,l){Me=s;var f=0;do{if(fo&&(mo=null),ql=0,fo=!1,25<=f)throw Error(i(301));if(f+=1,It=tt=null,s.updateQueue!=null){var m=s.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}F.H=eT,m=r(a,l)}while(fo);return m}function Y1(){var s=F.H,r=s.useState()[0];return r=typeof r.then=="function"?Fl(r):r,s=s.useState()[0],(tt!==null?tt.memoizedState:null)!==s&&(Me.flags|=1024),r}function Gf(){var s=qu!==0;return qu=0,s}function Kf(s,r,a){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~a}function Yf(s){if(Hu){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Hu=!1}Wr=0,It=tt=Me=null,fo=!1,ql=qu=0,mo=null}function An(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Me.memoizedState=It=s:It=It.next=s,It}function kt(){if(tt===null){var s=Me.alternate;s=s!==null?s.memoizedState:null}else s=tt.next;var r=It===null?Me.memoizedState:It.next;if(r!==null)It=r,tt=s;else{if(s===null)throw Me.alternate===null?Error(i(467)):Error(i(310));tt=s,s={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},It===null?Me.memoizedState=It=s:It=It.next=s}return It}function Qf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fl(s){var r=ql;return ql+=1,mo===null&&(mo=[]),s=ev(mo,s,r),r=Me,(It===null?r.memoizedState:It.next)===null&&(r=r.alternate,F.H=r===null||r.memoizedState===null?Hv:qv),s}function Fu(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Fl(s);if(s.$$typeof===ie)return an(s)}throw Error(i(438,String(s)))}function Xf(s){var r=null,a=Me.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Qf(),Me.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(s),l=0;l<s;l++)a[l]=P;return r.index++,a}function or(s,r){return typeof r=="function"?r(s):r}function $u(s){var r=kt();return Wf(r,tt,s)}function Wf(s,r,a){var l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var f=s.baseQueue,m=l.pending;if(m!==null){if(f!==null){var w=f.next;f.next=m.next,m.next=w}r.baseQueue=f=m,l.pending=null}if(m=s.baseState,f===null)s.memoizedState=m;else{r=f.next;var _=w=null,R=null,q=r,W=!1;do{var te=q.lane&-536870913;if(te!==q.lane?(qe&te)===te:(Wr&te)===te){var $=q.revertLane;if($===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),te===co&&(W=!0);else if((Wr&$)===$){q=q.next,$===co&&(W=!0);continue}else te={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},R===null?(_=R=te,w=m):R=R.next=te,Me.lanes|=$,ri|=$;te=q.action,ma&&a(m,te),m=q.hasEagerState?q.eagerState:a(m,te)}else $={lane:te,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},R===null?(_=R=$,w=m):R=R.next=$,Me.lanes|=te,ri|=te;q=q.next}while(q!==null&&q!==r);if(R===null?w=m:R.next=_,!On(m,s.memoizedState)&&(Ft=!0,W&&(a=uo,a!==null)))throw a;s.memoizedState=m,s.baseState=w,s.baseQueue=R,l.lastRenderedState=m}return f===null&&(l.lanes=0),[s.memoizedState,l.dispatch]}function Zf(s){var r=kt(),a=r.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=s;var l=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var w=f=f.next;do m=s(m,w.action),w=w.next;while(w!==f);On(m,r.memoizedState)||(Ft=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function lv(s,r,a){var l=Me,f=kt(),m=Ye;if(m){if(a===void 0)throw Error(i(407));a=a()}else a=r();var w=!On((tt||f).memoizedState,a);w&&(f.memoizedState=a,Ft=!0),f=f.queue;var _=dv.bind(null,l,f,s);if($l(2048,8,_,[s]),f.getSnapshot!==r||w||It!==null&&It.memoizedState.tag&1){if(l.flags|=2048,po(9,Gu(),uv.bind(null,l,f,a,r),null),ot===null)throw Error(i(349));m||(Wr&124)!==0||cv(l,r,a)}return a}function cv(s,r,a){s.flags|=16384,s={getSnapshot:r,value:a},r=Me.updateQueue,r===null?(r=Qf(),Me.updateQueue=r,r.stores=[s]):(a=r.stores,a===null?r.stores=[s]:a.push(s))}function uv(s,r,a,l){r.value=a,r.getSnapshot=l,hv(r)&&fv(s)}function dv(s,r,a){return a(function(){hv(r)&&fv(s)})}function hv(s){var r=s.getSnapshot;s=s.value;try{var a=r();return!On(s,a)}catch{return!0}}function fv(s){var r=io(s,2);r!==null&&Bn(r,s,2)}function Jf(s){var r=An();if(typeof s=="function"){var a=s;if(s=a(),ma){Kn(!0);try{a()}finally{Kn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:s},r}function mv(s,r,a,l){return s.baseState=a,Wf(s,tt,typeof l=="function"?l:or)}function Q1(s,r,a,l,f){if(Yu(s))throw Error(i(485));if(s=r.action,s!==null){var m={payload:f,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){m.listeners.push(w)}};F.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,pv(r,m)):(m.next=a.next,r.pending=a.next=m)}}function pv(s,r){var a=r.action,l=r.payload,f=s.state;if(r.isTransition){var m=F.T,w={};F.T=w;try{var _=a(f,l),R=F.S;R!==null&&R(w,_),gv(s,r,_)}catch(q){em(s,r,q)}finally{F.T=m}}else try{m=a(f,l),gv(s,r,m)}catch(q){em(s,r,q)}}function gv(s,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){yv(s,r,l)},function(l){return em(s,r,l)}):yv(s,r,a)}function yv(s,r,a){r.status="fulfilled",r.value=a,vv(r),s.state=a,r=s.pending,r!==null&&(a=r.next,a===r?s.pending=null:(a=a.next,r.next=a,pv(s,a)))}function em(s,r,a){var l=s.pending;if(s.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,vv(r),r=r.next;while(r!==l)}s.action=null}function vv(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function bv(s,r){return r}function wv(s,r){if(Ye){var a=ot.formState;if(a!==null){e:{var l=Me;if(Ye){if(yt){t:{for(var f=yt,m=Is;f.nodeType!==8;){if(!m){f=null;break t}if(f=vs(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){yt=vs(f.nextSibling),l=f.data==="F!";break e}}ua(l)}l=!1}l&&(r=a[0])}}return a=An(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bv,lastRenderedState:r},a.queue=l,a=Uv.bind(null,Me,l),l.dispatch=a,l=Jf(!1),m=im.bind(null,Me,!1,l.queue),l=An(),f={state:r,dispatch:null,action:s,pending:null},l.queue=f,a=Q1.bind(null,Me,f,m,a),f.dispatch=a,l.memoizedState=s,[r,a,!1]}function xv(s){var r=kt();return _v(r,tt,s)}function _v(s,r,a){if(r=Wf(s,r,bv)[0],s=$u(or)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Fl(r)}catch(w){throw w===Ll?Uu:w}else l=r;r=kt();var f=r.queue,m=f.dispatch;return a!==r.memoizedState&&(Me.flags|=2048,po(9,Gu(),X1.bind(null,f,a),null)),[l,m,s]}function X1(s,r){s.action=r}function Ev(s){var r=kt(),a=tt;if(a!==null)return _v(r,a,s);kt(),r=r.memoizedState,a=kt();var l=a.queue.dispatch;return a.memoizedState=s,[r,l,!1]}function po(s,r,a,l){return s={tag:s,create:a,deps:l,inst:r,next:null},r=Me.updateQueue,r===null&&(r=Qf(),Me.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=s.next=s:(l=a.next,a.next=s,s.next=l,r.lastEffect=s),s}function Gu(){return{destroy:void 0,resource:void 0}}function Tv(){return kt().memoizedState}function Ku(s,r,a,l){var f=An();l=l===void 0?null:l,Me.flags|=s,f.memoizedState=po(1|r,Gu(),a,l)}function $l(s,r,a,l){var f=kt();l=l===void 0?null:l;var m=f.memoizedState.inst;tt!==null&&l!==null&&Ff(l,tt.memoizedState.deps)?f.memoizedState=po(r,m,a,l):(Me.flags|=s,f.memoizedState=po(1|r,m,a,l))}function Nv(s,r){Ku(8390656,8,s,r)}function Sv(s,r){$l(2048,8,s,r)}function Av(s,r){return $l(4,2,s,r)}function Cv(s,r){return $l(4,4,s,r)}function Rv(s,r){if(typeof r=="function"){s=s();var a=r(s);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function jv(s,r,a){a=a!=null?a.concat([s]):null,$l(4,4,Rv.bind(null,r,s),a)}function tm(){}function Iv(s,r){var a=kt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Ff(r,l[1])?l[0]:(a.memoizedState=[s,r],s)}function kv(s,r){var a=kt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Ff(r,l[1]))return l[0];if(l=s(),ma){Kn(!0);try{s()}finally{Kn(!1)}}return a.memoizedState=[l,r],l}function nm(s,r,a){return a===void 0||(Wr&1073741824)!==0?s.memoizedState=r:(s.memoizedState=a,s=Mb(),Me.lanes|=s,ri|=s,a)}function Dv(s,r,a,l){return On(a,r)?a:ho.current!==null?(s=nm(s,a,l),On(s,r)||(Ft=!0),s):(Wr&42)===0?(Ft=!0,s.memoizedState=a):(s=Mb(),Me.lanes|=s,ri|=s,r)}function Ov(s,r,a,l,f){var m=ae.p;ae.p=m!==0&&8>m?m:8;var w=F.T,_={};F.T=_,im(s,!1,r,a);try{var R=f(),q=F.S;if(q!==null&&q(_,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var W=G1(R,l);Gl(s,r,W,Un(s))}else Gl(s,r,l,Un(s))}catch(te){Gl(s,r,{then:function(){},status:"rejected",reason:te},Un())}finally{ae.p=m,F.T=w}}function W1(){}function sm(s,r,a,l){if(s.tag!==5)throw Error(i(476));var f=Mv(s).queue;Ov(s,f,r,he,a===null?W1:function(){return Pv(s),a(l)})}function Mv(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:he},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:a},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function Pv(s){var r=Mv(s).next.queue;Gl(s,r,{},Un())}function rm(){return an(uc)}function Vv(){return kt().memoizedState}function Lv(){return kt().memoizedState}function Z1(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var a=Un();s=Qr(a);var l=Xr(r,s,a);l!==null&&(Bn(l,r,a),Bl(l,r,a)),r={cache:Of()},s.payload=r;return}r=r.return}}function J1(s,r,a){var l=Un();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Yu(s)?Bv(r,a):(a=Tf(s,r,a,l),a!==null&&(Bn(a,s,l),zv(a,r,l)))}function Uv(s,r,a){var l=Un();Gl(s,r,a,l)}function Gl(s,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Yu(s))Bv(r,f);else{var m=s.alternate;if(s.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var w=r.lastRenderedState,_=m(w,a);if(f.hasEagerState=!0,f.eagerState=_,On(_,w))return Iu(s,r,f,0),ot===null&&ju(),!1}catch{}finally{}if(a=Tf(s,r,f,l),a!==null)return Bn(a,s,l),zv(a,r,l),!0}return!1}function im(s,r,a,l){if(l={lane:2,revertLane:Vm(),action:l,hasEagerState:!1,eagerState:null,next:null},Yu(s)){if(r)throw Error(i(479))}else r=Tf(s,a,l,2),r!==null&&Bn(r,s,2)}function Yu(s){var r=s.alternate;return s===Me||r!==null&&r===Me}function Bv(s,r){fo=Hu=!0;var a=s.pending;a===null?r.next=r:(r.next=a.next,a.next=r),s.pending=r}function zv(s,r,a){if((a&4194048)!==0){var l=r.lanes;l&=s.pendingLanes,a|=l,r.lanes=a,Pr(s,a)}}var Qu={readContext:an,use:Fu,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt},Hv={readContext:an,use:Fu,useCallback:function(s,r){return An().memoizedState=[s,r===void 0?null:r],s},useContext:an,useEffect:Nv,useImperativeHandle:function(s,r,a){a=a!=null?a.concat([s]):null,Ku(4194308,4,Rv.bind(null,r,s),a)},useLayoutEffect:function(s,r){return Ku(4194308,4,s,r)},useInsertionEffect:function(s,r){Ku(4,2,s,r)},useMemo:function(s,r){var a=An();r=r===void 0?null:r;var l=s();if(ma){Kn(!0);try{s()}finally{Kn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(s,r,a){var l=An();if(a!==void 0){var f=a(r);if(ma){Kn(!0);try{a(r)}finally{Kn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:f},l.queue=s,s=s.dispatch=J1.bind(null,Me,s),[l.memoizedState,s]},useRef:function(s){var r=An();return s={current:s},r.memoizedState=s},useState:function(s){s=Jf(s);var r=s.queue,a=Uv.bind(null,Me,r);return r.dispatch=a,[s.memoizedState,a]},useDebugValue:tm,useDeferredValue:function(s,r){var a=An();return nm(a,s,r)},useTransition:function(){var s=Jf(!1);return s=Ov.bind(null,Me,s.queue,!0,!1),An().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,a){var l=Me,f=An();if(Ye){if(a===void 0)throw Error(i(407));a=a()}else{if(a=r(),ot===null)throw Error(i(349));(qe&124)!==0||cv(l,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,Nv(dv.bind(null,l,m,s),[s]),l.flags|=2048,po(9,Gu(),uv.bind(null,l,m,a,r),null),a},useId:function(){var s=An(),r=ot.identifierPrefix;if(Ye){var a=rr,l=sr;a=(l&~(1<<32-mn(l)-1)).toString(32)+a,r=""+r+"R"+a,a=qu++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=K1++,r=""+r+"r"+a.toString(32)+"";return s.memoizedState=r},useHostTransitionStatus:rm,useFormState:wv,useActionState:wv,useOptimistic:function(s){var r=An();r.memoizedState=r.baseState=s;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=im.bind(null,Me,!0,a),a.dispatch=r,[s,r]},useMemoCache:Xf,useCacheRefresh:function(){return An().memoizedState=Z1.bind(null,Me)}},qv={readContext:an,use:Fu,useCallback:Iv,useContext:an,useEffect:Sv,useImperativeHandle:jv,useInsertionEffect:Av,useLayoutEffect:Cv,useMemo:kv,useReducer:$u,useRef:Tv,useState:function(){return $u(or)},useDebugValue:tm,useDeferredValue:function(s,r){var a=kt();return Dv(a,tt.memoizedState,s,r)},useTransition:function(){var s=$u(or)[0],r=kt().memoizedState;return[typeof s=="boolean"?s:Fl(s),r]},useSyncExternalStore:lv,useId:Vv,useHostTransitionStatus:rm,useFormState:xv,useActionState:xv,useOptimistic:function(s,r){var a=kt();return mv(a,tt,s,r)},useMemoCache:Xf,useCacheRefresh:Lv},eT={readContext:an,use:Fu,useCallback:Iv,useContext:an,useEffect:Sv,useImperativeHandle:jv,useInsertionEffect:Av,useLayoutEffect:Cv,useMemo:kv,useReducer:Zf,useRef:Tv,useState:function(){return Zf(or)},useDebugValue:tm,useDeferredValue:function(s,r){var a=kt();return tt===null?nm(a,s,r):Dv(a,tt.memoizedState,s,r)},useTransition:function(){var s=Zf(or)[0],r=kt().memoizedState;return[typeof s=="boolean"?s:Fl(s),r]},useSyncExternalStore:lv,useId:Vv,useHostTransitionStatus:rm,useFormState:Ev,useActionState:Ev,useOptimistic:function(s,r){var a=kt();return tt!==null?mv(a,tt,s,r):(a.baseState=s,[s,a.queue.dispatch])},useMemoCache:Xf,useCacheRefresh:Lv},go=null,Kl=0;function Xu(s){var r=Kl;return Kl+=1,go===null&&(go=[]),ev(go,s,r)}function Yl(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Wu(s,r){throw r.$$typeof===E?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function Fv(s){var r=s._init;return r(s._payload)}function $v(s){function r(L,M){if(s){var z=L.deletions;z===null?(L.deletions=[M],L.flags|=16):z.push(M)}}function a(L,M){if(!s)return null;for(;M!==null;)r(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function f(L,M){return L=nr(L,M),L.index=0,L.sibling=null,L}function m(L,M,z){return L.index=z,s?(z=L.alternate,z!==null?(z=z.index,z<M?(L.flags|=67108866,M):z):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function w(L){return s&&L.alternate===null&&(L.flags|=67108866),L}function _(L,M,z,Z){return M===null||M.tag!==6?(M=Sf(z,L.mode,Z),M.return=L,M):(M=f(M,z),M.return=L,M)}function R(L,M,z,Z){var me=z.type;return me===V?W(L,M,z.props.children,Z,z.key):M!==null&&(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===S&&Fv(me)===M.type)?(M=f(M,z.props),Yl(M,z),M.return=L,M):(M=Du(z.type,z.key,z.props,null,L.mode,Z),Yl(M,z),M.return=L,M)}function q(L,M,z,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=Af(z,L.mode,Z),M.return=L,M):(M=f(M,z.children||[]),M.return=L,M)}function W(L,M,z,Z,me){return M===null||M.tag!==7?(M=aa(z,L.mode,Z,me),M.return=L,M):(M=f(M,z),M.return=L,M)}function te(L,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Sf(""+M,L.mode,z),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case N:return z=Du(M.type,M.key,M.props,null,L.mode,z),Yl(z,M),z.return=L,z;case O:return M=Af(M,L.mode,z),M.return=L,M;case S:var Z=M._init;return M=Z(M._payload),te(L,M,z)}if(oe(M)||U(M))return M=aa(M,L.mode,z,null),M.return=L,M;if(typeof M.then=="function")return te(L,Xu(M),z);if(M.$$typeof===ie)return te(L,Vu(L,M),z);Wu(L,M)}return null}function $(L,M,z,Z){var me=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return me!==null?null:_(L,M,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case N:return z.key===me?R(L,M,z,Z):null;case O:return z.key===me?q(L,M,z,Z):null;case S:return me=z._init,z=me(z._payload),$(L,M,z,Z)}if(oe(z)||U(z))return me!==null?null:W(L,M,z,Z,null);if(typeof z.then=="function")return $(L,M,Xu(z),Z);if(z.$$typeof===ie)return $(L,M,Vu(L,z),Z);Wu(L,z)}return null}function K(L,M,z,Z,me){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(z)||null,_(M,L,""+Z,me);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case N:return L=L.get(Z.key===null?z:Z.key)||null,R(M,L,Z,me);case O:return L=L.get(Z.key===null?z:Z.key)||null,q(M,L,Z,me);case S:var Ve=Z._init;return Z=Ve(Z._payload),K(L,M,z,Z,me)}if(oe(Z)||U(Z))return L=L.get(z)||null,W(M,L,Z,me,null);if(typeof Z.then=="function")return K(L,M,z,Xu(Z),me);if(Z.$$typeof===ie)return K(L,M,z,Vu(M,Z),me);Wu(M,Z)}return null}function Ce(L,M,z,Z){for(var me=null,Ve=null,ye=M,Te=M=0,Gt=null;ye!==null&&Te<z.length;Te++){ye.index>Te?(Gt=ye,ye=null):Gt=ye.sibling;var Ge=$(L,ye,z[Te],Z);if(Ge===null){ye===null&&(ye=Gt);break}s&&ye&&Ge.alternate===null&&r(L,ye),M=m(Ge,M,Te),Ve===null?me=Ge:Ve.sibling=Ge,Ve=Ge,ye=Gt}if(Te===z.length)return a(L,ye),Ye&&la(L,Te),me;if(ye===null){for(;Te<z.length;Te++)ye=te(L,z[Te],Z),ye!==null&&(M=m(ye,M,Te),Ve===null?me=ye:Ve.sibling=ye,Ve=ye);return Ye&&la(L,Te),me}for(ye=l(ye);Te<z.length;Te++)Gt=K(ye,L,Te,z[Te],Z),Gt!==null&&(s&&Gt.alternate!==null&&ye.delete(Gt.key===null?Te:Gt.key),M=m(Gt,M,Te),Ve===null?me=Gt:Ve.sibling=Gt,Ve=Gt);return s&&ye.forEach(function(fi){return r(L,fi)}),Ye&&la(L,Te),me}function Ee(L,M,z,Z){if(z==null)throw Error(i(151));for(var me=null,Ve=null,ye=M,Te=M=0,Gt=null,Ge=z.next();ye!==null&&!Ge.done;Te++,Ge=z.next()){ye.index>Te?(Gt=ye,ye=null):Gt=ye.sibling;var fi=$(L,ye,Ge.value,Z);if(fi===null){ye===null&&(ye=Gt);break}s&&ye&&fi.alternate===null&&r(L,ye),M=m(fi,M,Te),Ve===null?me=fi:Ve.sibling=fi,Ve=fi,ye=Gt}if(Ge.done)return a(L,ye),Ye&&la(L,Te),me;if(ye===null){for(;!Ge.done;Te++,Ge=z.next())Ge=te(L,Ge.value,Z),Ge!==null&&(M=m(Ge,M,Te),Ve===null?me=Ge:Ve.sibling=Ge,Ve=Ge);return Ye&&la(L,Te),me}for(ye=l(ye);!Ge.done;Te++,Ge=z.next())Ge=K(ye,L,Te,Ge.value,Z),Ge!==null&&(s&&Ge.alternate!==null&&ye.delete(Ge.key===null?Te:Ge.key),M=m(Ge,M,Te),Ve===null?me=Ge:Ve.sibling=Ge,Ve=Ge);return s&&ye.forEach(function(tN){return r(L,tN)}),Ye&&la(L,Te),me}function st(L,M,z,Z){if(typeof z=="object"&&z!==null&&z.type===V&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case N:e:{for(var me=z.key;M!==null;){if(M.key===me){if(me=z.type,me===V){if(M.tag===7){a(L,M.sibling),Z=f(M,z.props.children),Z.return=L,L=Z;break e}}else if(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===S&&Fv(me)===M.type){a(L,M.sibling),Z=f(M,z.props),Yl(Z,z),Z.return=L,L=Z;break e}a(L,M);break}else r(L,M);M=M.sibling}z.type===V?(Z=aa(z.props.children,L.mode,Z,z.key),Z.return=L,L=Z):(Z=Du(z.type,z.key,z.props,null,L.mode,Z),Yl(Z,z),Z.return=L,L=Z)}return w(L);case O:e:{for(me=z.key;M!==null;){if(M.key===me)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){a(L,M.sibling),Z=f(M,z.children||[]),Z.return=L,L=Z;break e}else{a(L,M);break}else r(L,M);M=M.sibling}Z=Af(z,L.mode,Z),Z.return=L,L=Z}return w(L);case S:return me=z._init,z=me(z._payload),st(L,M,z,Z)}if(oe(z))return Ce(L,M,z,Z);if(U(z)){if(me=U(z),typeof me!="function")throw Error(i(150));return z=me.call(z),Ee(L,M,z,Z)}if(typeof z.then=="function")return st(L,M,Xu(z),Z);if(z.$$typeof===ie)return st(L,M,Vu(L,z),Z);Wu(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(a(L,M.sibling),Z=f(M,z),Z.return=L,L=Z):(a(L,M),Z=Sf(z,L.mode,Z),Z.return=L,L=Z),w(L)):a(L,M)}return function(L,M,z,Z){try{Kl=0;var me=st(L,M,z,Z);return go=null,me}catch(ye){if(ye===Ll||ye===Uu)throw ye;var Ve=Mn(29,ye,null,L.mode);return Ve.lanes=Z,Ve.return=L,Ve}finally{}}}var yo=$v(!0),Gv=$v(!1),ns=se(null),ks=null;function Zr(s){var r=s.alternate;ue(Ut,Ut.current&1),ue(ns,s),ks===null&&(r===null||ho.current!==null||r.memoizedState!==null)&&(ks=s)}function Kv(s){if(s.tag===22){if(ue(Ut,Ut.current),ue(ns,s),ks===null){var r=s.alternate;r!==null&&r.memoizedState!==null&&(ks=s)}}else Jr()}function Jr(){ue(Ut,Ut.current),ue(ns,ns.current)}function lr(s){de(ns),ks===s&&(ks=null),de(Ut)}var Ut=se(0);function Zu(s){for(var r=s;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Qm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function am(s,r,a,l){r=s.memoizedState,a=a(l,r),a=a==null?r:x({},r,a),s.memoizedState=a,s.lanes===0&&(s.updateQueue.baseState=a)}var om={enqueueSetState:function(s,r,a){s=s._reactInternals;var l=Un(),f=Qr(l);f.payload=r,a!=null&&(f.callback=a),r=Xr(s,f,l),r!==null&&(Bn(r,s,l),Bl(r,s,l))},enqueueReplaceState:function(s,r,a){s=s._reactInternals;var l=Un(),f=Qr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Xr(s,f,l),r!==null&&(Bn(r,s,l),Bl(r,s,l))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var a=Un(),l=Qr(a);l.tag=2,r!=null&&(l.callback=r),r=Xr(s,l,a),r!==null&&(Bn(r,s,a),Bl(r,s,a))}};function Yv(s,r,a,l,f,m,w){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(l,m,w):r.prototype&&r.prototype.isPureReactComponent?!jl(a,l)||!jl(f,m):!0}function Qv(s,r,a,l){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==s&&om.enqueueReplaceState(r,r.state,null)}function pa(s,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(s=s.defaultProps){a===r&&(a=x({},a));for(var f in s)a[f]===void 0&&(a[f]=s[f])}return a}var Ju=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function Xv(s){Ju(s)}function Wv(s){console.error(s)}function Zv(s){Ju(s)}function ed(s,r){try{var a=s.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Jv(s,r,a){try{var l=s.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function lm(s,r,a){return a=Qr(a),a.tag=3,a.payload={element:null},a.callback=function(){ed(s,r)},a}function eb(s){return s=Qr(s),s.tag=3,s}function tb(s,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;s.payload=function(){return f(m)},s.callback=function(){Jv(r,a,l)}}var w=a.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(s.callback=function(){Jv(r,a,l),typeof f!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function tT(s,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Ml(r,a,f,!0),a=ns.current,a!==null){switch(a.tag){case 13:return ks===null?km():a.alternate===null&&vt===0&&(vt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Vf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Om(s,l,f)),!1;case 22:return a.flags|=65536,l===Vf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Om(s,l,f)),!1}throw Error(i(435,a.tag))}return Om(s,l,f),km(),!1}if(Ye)return r=ns.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==jf&&(s=Error(i(422),{cause:l}),Ol(Zn(s,a)))):(l!==jf&&(r=Error(i(423),{cause:l}),Ol(Zn(r,a))),s=s.current.alternate,s.flags|=65536,f&=-f,s.lanes|=f,l=Zn(l,a),f=lm(s.stateNode,l,f),Bf(s,f),vt!==4&&(vt=2)),!1;var m=Error(i(520),{cause:l});if(m=Zn(m,a),tc===null?tc=[m]:tc.push(m),vt!==4&&(vt=2),r===null)return!0;l=Zn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,s=f&-f,a.lanes|=s,s=lm(a.stateNode,l,s),Bf(a,s),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ii===null||!ii.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=eb(f),tb(f,s,a,l),Bf(a,f),!1}a=a.return}while(a!==null);return!1}var nb=Error(i(461)),Ft=!1;function Xt(s,r,a,l){r.child=s===null?Gv(r,null,a,l):yo(r,s.child,a,l)}function sb(s,r,a,l,f){a=a.render;var m=r.ref;if("ref"in l){var w={};for(var _ in l)_!=="ref"&&(w[_]=l[_])}else w=l;return ha(r),l=$f(s,r,a,w,m,f),_=Gf(),s!==null&&!Ft?(Kf(s,r,f),cr(s,r,f)):(Ye&&_&&Cf(r),r.flags|=1,Xt(s,r,l,f),r.child)}function rb(s,r,a,l,f){if(s===null){var m=a.type;return typeof m=="function"&&!Nf(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,ib(s,r,m,l,f)):(s=Du(a.type,null,l,r,r.mode,f),s.ref=r.ref,s.return=r,r.child=s)}if(m=s.child,!gm(s,f)){var w=m.memoizedProps;if(a=a.compare,a=a!==null?a:jl,a(w,l)&&s.ref===r.ref)return cr(s,r,f)}return r.flags|=1,s=nr(m,l),s.ref=r.ref,s.return=r,r.child=s}function ib(s,r,a,l,f){if(s!==null){var m=s.memoizedProps;if(jl(m,l)&&s.ref===r.ref)if(Ft=!1,r.pendingProps=l=m,gm(s,f))(s.flags&131072)!==0&&(Ft=!0);else return r.lanes=s.lanes,cr(s,r,f)}return cm(s,r,a,l,f)}function ab(s,r,a){var l=r.pendingProps,f=l.children,m=s!==null?s.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,s!==null){for(f=r.child=s.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;r.childLanes=m&~l}else r.childLanes=0,r.child=null;return ob(s,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Lu(r,m!==null?m.cachePool:null),m!==null?iv(r,m):Hf(),Kv(r);else return r.lanes=r.childLanes=536870912,ob(s,r,m!==null?m.baseLanes|a:a,a)}else m!==null?(Lu(r,m.cachePool),iv(r,m),Jr(),r.memoizedState=null):(s!==null&&Lu(r,null),Hf(),Jr());return Xt(s,r,f,a),r.child}function ob(s,r,a,l){var f=Pf();return f=f===null?null:{parent:Lt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},s!==null&&Lu(r,null),Hf(),Kv(r),s!==null&&Ml(s,r,l,!0),null}function td(s,r){var a=r.ref;if(a===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(s===null||s.ref!==a)&&(r.flags|=4194816)}}function cm(s,r,a,l,f){return ha(r),a=$f(s,r,a,l,void 0,f),l=Gf(),s!==null&&!Ft?(Kf(s,r,f),cr(s,r,f)):(Ye&&l&&Cf(r),r.flags|=1,Xt(s,r,a,f),r.child)}function lb(s,r,a,l,f,m){return ha(r),r.updateQueue=null,a=ov(r,l,a,f),av(s),l=Gf(),s!==null&&!Ft?(Kf(s,r,m),cr(s,r,m)):(Ye&&l&&Cf(r),r.flags|=1,Xt(s,r,a,m),r.child)}function cb(s,r,a,l,f){if(ha(r),r.stateNode===null){var m=ao,w=a.contextType;typeof w=="object"&&w!==null&&(m=an(w)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=om,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},Lf(r),w=a.contextType,m.context=typeof w=="object"&&w!==null?an(w):ao,m.state=r.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(am(r,a,w,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(w=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),w!==m.state&&om.enqueueReplaceState(m,m.state,null),Hl(r,l,m,f),zl(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(s===null){m=r.stateNode;var _=r.memoizedProps,R=pa(a,_);m.props=R;var q=m.context,W=a.contextType;w=ao,typeof W=="object"&&W!==null&&(w=an(W));var te=a.getDerivedStateFromProps;W=typeof te=="function"||typeof m.getSnapshotBeforeUpdate=="function",_=r.pendingProps!==_,W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_||q!==w)&&Qv(r,m,l,w),Yr=!1;var $=r.memoizedState;m.state=$,Hl(r,l,m,f),zl(),q=r.memoizedState,_||$!==q||Yr?(typeof te=="function"&&(am(r,a,te,l),q=r.memoizedState),(R=Yr||Yv(r,a,R,l,$,q,w))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),m.props=l,m.state=q,m.context=w,l=R):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,Uf(s,r),w=r.memoizedProps,W=pa(a,w),m.props=W,te=r.pendingProps,$=m.context,q=a.contextType,R=ao,typeof q=="object"&&q!==null&&(R=an(q)),_=a.getDerivedStateFromProps,(q=typeof _=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w!==te||$!==R)&&Qv(r,m,l,R),Yr=!1,$=r.memoizedState,m.state=$,Hl(r,l,m,f),zl();var K=r.memoizedState;w!==te||$!==K||Yr||s!==null&&s.dependencies!==null&&Pu(s.dependencies)?(typeof _=="function"&&(am(r,a,_,l),K=r.memoizedState),(W=Yr||Yv(r,a,W,l,$,K,R)||s!==null&&s.dependencies!==null&&Pu(s.dependencies))?(q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,K,R),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,K,R)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||w===s.memoizedProps&&$===s.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&$===s.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),m.props=l,m.state=K,m.context=R,l=W):(typeof m.componentDidUpdate!="function"||w===s.memoizedProps&&$===s.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&$===s.memoizedState||(r.flags|=1024),l=!1)}return m=l,td(s,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,s!==null&&l?(r.child=yo(r,s.child,null,f),r.child=yo(r,null,a,f)):Xt(s,r,a,f),r.memoizedState=m.state,s=r.child):s=cr(s,r,f),s}function ub(s,r,a,l){return Dl(),r.flags|=256,Xt(s,r,a,l),r.child}var um={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dm(s){return{baseLanes:s,cachePool:Wy()}}function hm(s,r,a){return s=s!==null?s.childLanes&~a:0,r&&(s|=ss),s}function db(s,r,a){var l=r.pendingProps,f=!1,m=(r.flags&128)!==0,w;if((w=m)||(w=s!==null&&s.memoizedState===null?!1:(Ut.current&2)!==0),w&&(f=!0,r.flags&=-129),w=(r.flags&32)!==0,r.flags&=-33,s===null){if(Ye){if(f?Zr(r):Jr(),Ye){var _=yt,R;if(R=_){e:{for(R=_,_=Is;R.nodeType!==8;){if(!_){_=null;break e}if(R=vs(R.nextSibling),R===null){_=null;break e}}_=R}_!==null?(r.memoizedState={dehydrated:_,treeContext:oa!==null?{id:sr,overflow:rr}:null,retryLane:536870912,hydrationErrors:null},R=Mn(18,null,null,0),R.stateNode=_,R.return=r,r.child=R,vn=r,yt=null,R=!0):R=!1}R||ua(r)}if(_=r.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return Qm(_)?r.lanes=32:r.lanes=536870912,null;lr(r)}return _=l.children,l=l.fallback,f?(Jr(),f=r.mode,_=nd({mode:"hidden",children:_},f),l=aa(l,f,a,null),_.return=r,l.return=r,_.sibling=l,r.child=_,f=r.child,f.memoizedState=dm(a),f.childLanes=hm(s,w,a),r.memoizedState=um,l):(Zr(r),fm(r,_))}if(R=s.memoizedState,R!==null&&(_=R.dehydrated,_!==null)){if(m)r.flags&256?(Zr(r),r.flags&=-257,r=mm(s,r,a)):r.memoizedState!==null?(Jr(),r.child=s.child,r.flags|=128,r=null):(Jr(),f=l.fallback,_=r.mode,l=nd({mode:"visible",children:l.children},_),f=aa(f,_,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,yo(r,s.child,null,a),l=r.child,l.memoizedState=dm(a),l.childLanes=hm(s,w,a),r.memoizedState=um,r=f);else if(Zr(r),Qm(_)){if(w=_.nextSibling&&_.nextSibling.dataset,w)var q=w.dgst;w=q,l=Error(i(419)),l.stack="",l.digest=w,Ol({value:l,source:null,stack:null}),r=mm(s,r,a)}else if(Ft||Ml(s,r,a,!1),w=(a&s.childLanes)!==0,Ft||w){if(w=ot,w!==null&&(l=a&-a,l=(l&42)!==0?1:fl(l),l=(l&(w.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,io(s,l),Bn(w,s,l),nb;_.data==="$?"||km(),r=mm(s,r,a)}else _.data==="$?"?(r.flags|=192,r.child=s.child,r=null):(s=R.treeContext,yt=vs(_.nextSibling),vn=r,Ye=!0,ca=null,Is=!1,s!==null&&(es[ts++]=sr,es[ts++]=rr,es[ts++]=oa,sr=s.id,rr=s.overflow,oa=r),r=fm(r,l.children),r.flags|=4096);return r}return f?(Jr(),f=l.fallback,_=r.mode,R=s.child,q=R.sibling,l=nr(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,q!==null?f=nr(q,f):(f=aa(f,_,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,_=s.child.memoizedState,_===null?_=dm(a):(R=_.cachePool,R!==null?(q=Lt._currentValue,R=R.parent!==q?{parent:q,pool:q}:R):R=Wy(),_={baseLanes:_.baseLanes|a,cachePool:R}),f.memoizedState=_,f.childLanes=hm(s,w,a),r.memoizedState=um,l):(Zr(r),a=s.child,s=a.sibling,a=nr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,s!==null&&(w=r.deletions,w===null?(r.deletions=[s],r.flags|=16):w.push(s)),r.child=a,r.memoizedState=null,a)}function fm(s,r){return r=nd({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function nd(s,r){return s=Mn(22,s,null,r),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function mm(s,r,a){return yo(r,s.child,null,a),s=fm(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function hb(s,r,a){s.lanes|=r;var l=s.alternate;l!==null&&(l.lanes|=r),kf(s.return,r,a)}function pm(s,r,a,l,f){var m=s.memoizedState;m===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=f)}function fb(s,r,a){var l=r.pendingProps,f=l.revealOrder,m=l.tail;if(Xt(s,r,l.children,a),l=Ut.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&hb(s,a,r);else if(s.tag===19)hb(s,a,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}l&=1}switch(ue(Ut,l),f){case"forwards":for(a=r.child,f=null;a!==null;)s=a.alternate,s!==null&&Zu(s)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),pm(r,!1,f,a,m);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(s=f.alternate,s!==null&&Zu(s)===null){r.child=f;break}s=f.sibling,f.sibling=a,a=f,f=s}pm(r,!0,a,null,m);break;case"together":pm(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function cr(s,r,a){if(s!==null&&(r.dependencies=s.dependencies),ri|=r.lanes,(a&r.childLanes)===0)if(s!==null){if(Ml(s,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,a=nr(s,s.pendingProps),r.child=a,a.return=r;s.sibling!==null;)s=s.sibling,a=a.sibling=nr(s,s.pendingProps),a.return=r;a.sibling=null}return r.child}function gm(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Pu(s)))}function nT(s,r,a){switch(r.tag){case 3:we(r,r.stateNode.containerInfo),Kr(r,Lt,s.memoizedState.cache),Dl();break;case 27:case 5:Rt(r);break;case 4:we(r,r.stateNode.containerInfo);break;case 10:Kr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Zr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?db(s,r,a):(Zr(r),s=cr(s,r,a),s!==null?s.sibling:null);Zr(r);break;case 19:var f=(s.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Ml(s,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return fb(s,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(Ut,Ut.current),l)break;return null;case 22:case 23:return r.lanes=0,ab(s,r,a);case 24:Kr(r,Lt,s.memoizedState.cache)}return cr(s,r,a)}function mb(s,r,a){if(s!==null)if(s.memoizedProps!==r.pendingProps)Ft=!0;else{if(!gm(s,a)&&(r.flags&128)===0)return Ft=!1,nT(s,r,a);Ft=(s.flags&131072)!==0}else Ft=!1,Ye&&(r.flags&1048576)!==0&&Fy(r,Mu,r.index);switch(r.lanes=0,r.tag){case 16:e:{s=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Nf(l)?(s=pa(l,s),r.tag=1,r=cb(null,r,l,s,a)):(r.tag=0,r=cm(null,r,l,s,a));else{if(l!=null){if(f=l.$$typeof,f===ve){r.tag=11,r=sb(null,r,l,s,a);break e}else if(f===A){r.tag=14,r=rb(null,r,l,s,a);break e}}throw r=it(l)||l,Error(i(306,r,""))}}return r;case 0:return cm(s,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=pa(l,r.pendingProps),cb(s,r,l,f,a);case 3:e:{if(we(r,r.stateNode.containerInfo),s===null)throw Error(i(387));l=r.pendingProps;var m=r.memoizedState;f=m.element,Uf(s,r),Hl(r,l,null,a);var w=r.memoizedState;if(l=w.cache,Kr(r,Lt,l),l!==m.cache&&Df(r,[Lt],a,!0),zl(),l=w.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:w.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=ub(s,r,l,a);break e}else if(l!==f){f=Zn(Error(i(424)),r),Ol(f),r=ub(s,r,l,a);break e}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(yt=vs(s.firstChild),vn=r,Ye=!0,ca=null,Is=!0,a=Gv(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Dl(),l===f){r=cr(s,r,a);break e}Xt(s,r,l,a)}r=r.child}return r;case 26:return td(s,r),s===null?(a=v0(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ye||(a=r.type,s=r.pendingProps,l=gd(J.current).createElement(a),l[xt]=r,l[Qt]=s,Zt(l,a,s),_t(l),r.stateNode=l):r.memoizedState=v0(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return Rt(r),s===null&&Ye&&(l=r.stateNode=p0(r.type,r.pendingProps,J.current),vn=r,Is=!0,f=yt,li(r.type)?(Xm=f,yt=vs(l.firstChild)):yt=f),Xt(s,r,r.pendingProps.children,a),td(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Ye&&((f=l=yt)&&(l=jT(l,r.type,r.pendingProps,Is),l!==null?(r.stateNode=l,vn=r,yt=vs(l.firstChild),Is=!1,f=!0):f=!1),f||ua(r)),Rt(r),f=r.type,m=r.pendingProps,w=s!==null?s.memoizedProps:null,l=m.children,Gm(f,m)?l=null:w!==null&&Gm(f,w)&&(r.flags|=32),r.memoizedState!==null&&(f=$f(s,r,Y1,null,null,a),uc._currentValue=f),td(s,r),Xt(s,r,l,a),r.child;case 6:return s===null&&Ye&&((s=a=yt)&&(a=IT(a,r.pendingProps,Is),a!==null?(r.stateNode=a,vn=r,yt=null,s=!0):s=!1),s||ua(r)),null;case 13:return db(s,r,a);case 4:return we(r,r.stateNode.containerInfo),l=r.pendingProps,s===null?r.child=yo(r,null,l,a):Xt(s,r,l,a),r.child;case 11:return sb(s,r,r.type,r.pendingProps,a);case 7:return Xt(s,r,r.pendingProps,a),r.child;case 8:return Xt(s,r,r.pendingProps.children,a),r.child;case 12:return Xt(s,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Kr(r,r.type,l.value),Xt(s,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,ha(r),f=an(f),l=l(f),r.flags|=1,Xt(s,r,l,a),r.child;case 14:return rb(s,r,r.type,r.pendingProps,a);case 15:return ib(s,r,r.type,r.pendingProps,a);case 19:return fb(s,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},s===null?(a=nd(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=nr(s.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return ab(s,r,a);case 24:return ha(r),l=an(Lt),s===null?(f=Pf(),f===null&&(f=ot,m=Of(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:l,cache:f},Lf(r),Kr(r,Lt,f)):((s.lanes&a)!==0&&(Uf(s,r),Hl(r,null,null,a),zl()),f=s.memoizedState,m=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Kr(r,Lt,l)):(l=m.cache,Kr(r,Lt,l),l!==f.cache&&Df(r,[Lt],a,!0))),Xt(s,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function ur(s){s.flags|=4}function pb(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!E0(r)){if(r=ns.current,r!==null&&((qe&4194048)===qe?ks!==null:(qe&62914560)!==qe&&(qe&536870912)===0||r!==ks))throw Ul=Vf,Zy;s.flags|=8192}}function sd(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Or():536870912,s.lanes|=r,xo|=r)}function Ql(s,r){if(!Ye)switch(s.tailMode){case"hidden":r=s.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?s.tail=null:a.sibling=null;break;case"collapsed":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:l.sibling=null}}function mt(s){var r=s.alternate!==null&&s.alternate.child===s.child,a=0,l=0;if(r)for(var f=s.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=s,f=f.sibling;else for(f=s.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=s,f=f.sibling;return s.subtreeFlags|=l,s.childLanes=a,r}function sT(s,r,a){var l=r.pendingProps;switch(Rf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(r),null;case 1:return mt(r),null;case 3:return a=r.stateNode,l=null,s!==null&&(l=s.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ar(Lt),$e(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(s===null||s.child===null)&&(kl(r)?ur(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ky())),mt(r),null;case 26:return a=r.memoizedState,s===null?(ur(r),a!==null?(mt(r),pb(r,a)):(mt(r),r.flags&=-16777217)):a?a!==s.memoizedState?(ur(r),mt(r),pb(r,a)):(mt(r),r.flags&=-16777217):(s.memoizedProps!==l&&ur(r),mt(r),r.flags&=-16777217),null;case 27:Tn(r),a=J.current;var f=r.type;if(s!==null&&r.stateNode!=null)s.memoizedProps!==l&&ur(r);else{if(!l){if(r.stateNode===null)throw Error(i(166));return mt(r),null}s=ge.current,kl(r)?$y(r):(s=p0(f,l,a),r.stateNode=s,ur(r))}return mt(r),null;case 5:if(Tn(r),a=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==l&&ur(r);else{if(!l){if(r.stateNode===null)throw Error(i(166));return mt(r),null}if(s=ge.current,kl(r))$y(r);else{switch(f=gd(J.current),s){case 1:s=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:s=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":s=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":s=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":s=f.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?s.multiple=!0:l.size&&(s.size=l.size);break;default:s=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}s[xt]=r,s[Qt]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)s.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=s;e:switch(Zt(s,a,l),a){case"button":case"input":case"select":case"textarea":s=!!l.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ur(r)}}return mt(r),r.flags&=-16777217,null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==l&&ur(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(i(166));if(s=J.current,kl(r)){if(s=r.stateNode,a=r.memoizedProps,l=null,f=vn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}s[xt]=r,s=!!(s.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||l0(s.nodeValue,a)),s||ua(r)}else s=gd(s).createTextNode(l),s[xt]=r,r.stateNode=s}return mt(r),null;case 13:if(l=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(f=kl(r),l!==null&&l.dehydrated!==null){if(s===null){if(!f)throw Error(i(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[xt]=r}else Dl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;mt(r),f=!1}else f=Ky(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(lr(r),r):(lr(r),null)}if(lr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,s=s!==null&&s.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return a!==s&&a&&(r.child.flags|=8192),sd(r,r.updateQueue),mt(r),null;case 4:return $e(),s===null&&zm(r.stateNode.containerInfo),mt(r),null;case 10:return ar(r.type),mt(r),null;case 19:if(de(Ut),f=r.memoizedState,f===null)return mt(r),null;if(l=(r.flags&128)!==0,m=f.rendering,m===null)if(l)Ql(f,!1);else{if(vt!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(m=Zu(s),m!==null){for(r.flags|=128,Ql(f,!1),s=m.updateQueue,r.updateQueue=s,sd(r,s),r.subtreeFlags=0,s=a,a=r.child;a!==null;)qy(a,s),a=a.sibling;return ue(Ut,Ut.current&1|2),r.child}s=s.sibling}f.tail!==null&&Sn()>ad&&(r.flags|=128,l=!0,Ql(f,!1),r.lanes=4194304)}else{if(!l)if(s=Zu(m),s!==null){if(r.flags|=128,l=!0,s=s.updateQueue,r.updateQueue=s,sd(r,s),Ql(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Ye)return mt(r),null}else 2*Sn()-f.renderingStartTime>ad&&a!==536870912&&(r.flags|=128,l=!0,Ql(f,!1),r.lanes=4194304);f.isBackwards?(m.sibling=r.child,r.child=m):(s=f.last,s!==null?s.sibling=m:r.child=m,f.last=m)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Sn(),r.sibling=null,s=Ut.current,ue(Ut,l?s&1|2:s&1),r):(mt(r),null);case 22:case 23:return lr(r),qf(),l=r.memoizedState!==null,s!==null?s.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(mt(r),r.subtreeFlags&6&&(r.flags|=8192)):mt(r),a=r.updateQueue,a!==null&&sd(r,a.retryQueue),a=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),s!==null&&de(fa),null;case 24:return a=null,s!==null&&(a=s.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ar(Lt),mt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function rT(s,r){switch(Rf(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return ar(Lt),$e(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return Tn(r),null;case 13:if(lr(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Dl()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return de(Ut),null;case 4:return $e(),null;case 10:return ar(r.type),null;case 22:case 23:return lr(r),qf(),s!==null&&de(fa),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return ar(Lt),null;case 25:return null;default:return null}}function gb(s,r){switch(Rf(r),r.tag){case 3:ar(Lt),$e();break;case 26:case 27:case 5:Tn(r);break;case 4:$e();break;case 13:lr(r);break;case 19:de(Ut);break;case 10:ar(r.type);break;case 22:case 23:lr(r),qf(),s!==null&&de(fa);break;case 24:ar(Lt)}}function Xl(s,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&s)===s){l=void 0;var m=a.create,w=a.inst;l=m(),w.destroy=l}a=a.next}while(a!==f)}}catch(_){rt(r,r.return,_)}}function ei(s,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&s)===s){var w=l.inst,_=w.destroy;if(_!==void 0){w.destroy=void 0,f=r;var R=a,q=_;try{q()}catch(W){rt(f,R,W)}}}l=l.next}while(l!==m)}}catch(W){rt(r,r.return,W)}}function yb(s){var r=s.updateQueue;if(r!==null){var a=s.stateNode;try{rv(r,a)}catch(l){rt(s,s.return,l)}}}function vb(s,r,a){a.props=pa(s.type,s.memoizedProps),a.state=s.memoizedState;try{a.componentWillUnmount()}catch(l){rt(s,r,l)}}function Wl(s,r){try{var a=s.ref;if(a!==null){switch(s.tag){case 26:case 27:case 5:var l=s.stateNode;break;case 30:l=s.stateNode;break;default:l=s.stateNode}typeof a=="function"?s.refCleanup=a(l):a.current=l}}catch(f){rt(s,r,f)}}function Ds(s,r){var a=s.ref,l=s.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){rt(s,r,f)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){rt(s,r,f)}else a.current=null}function bb(s){var r=s.type,a=s.memoizedProps,l=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){rt(s,s.return,f)}}function ym(s,r,a){try{var l=s.stateNode;NT(l,s.type,a,r),l[Qt]=r}catch(f){rt(s,s.return,f)}}function wb(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&li(s.type)||s.tag===4}function vm(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||wb(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&li(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function bm(s,r,a){var l=s.tag;if(l===5||l===6)s=s.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(s,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(s),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=pd));else if(l!==4&&(l===27&&li(s.type)&&(a=s.stateNode,r=null),s=s.child,s!==null))for(bm(s,r,a),s=s.sibling;s!==null;)bm(s,r,a),s=s.sibling}function rd(s,r,a){var l=s.tag;if(l===5||l===6)s=s.stateNode,r?a.insertBefore(s,r):a.appendChild(s);else if(l!==4&&(l===27&&li(s.type)&&(a=s.stateNode),s=s.child,s!==null))for(rd(s,r,a),s=s.sibling;s!==null;)rd(s,r,a),s=s.sibling}function xb(s){var r=s.stateNode,a=s.memoizedProps;try{for(var l=s.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Zt(r,l,a),r[xt]=s,r[Qt]=a}catch(m){rt(s,s.return,m)}}var dr=!1,Nt=!1,wm=!1,_b=typeof WeakSet=="function"?WeakSet:Set,$t=null;function iT(s,r){if(s=s.containerInfo,Fm=_d,s=Dy(s),vf(s)){if("selectionStart"in s)var a={start:s.selectionStart,end:s.selectionEnd};else e:{a=(a=s.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var w=0,_=-1,R=-1,q=0,W=0,te=s,$=null;t:for(;;){for(var K;te!==a||f!==0&&te.nodeType!==3||(_=w+f),te!==m||l!==0&&te.nodeType!==3||(R=w+l),te.nodeType===3&&(w+=te.nodeValue.length),(K=te.firstChild)!==null;)$=te,te=K;for(;;){if(te===s)break t;if($===a&&++q===f&&(_=w),$===m&&++W===l&&(R=w),(K=te.nextSibling)!==null)break;te=$,$=te.parentNode}te=K}a=_===-1||R===-1?null:{start:_,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for($m={focusedElem:s,selectionRange:a},_d=!1,$t=r;$t!==null;)if(r=$t,s=r.child,(r.subtreeFlags&1024)!==0&&s!==null)s.return=r,$t=s;else for(;$t!==null;){switch(r=$t,m=r.alternate,s=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&m!==null){s=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Ce=pa(a.type,f,a.elementType===a.type);s=l.getSnapshotBeforeUpdate(Ce,m),l.__reactInternalSnapshotBeforeUpdate=s}catch(Ee){rt(a,a.return,Ee)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,a=s.nodeType,a===9)Ym(s);else if(a===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Ym(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,$t=s;break}$t=r.return}}function Eb(s,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ti(s,a),l&4&&Xl(5,a);break;case 1:if(ti(s,a),l&4)if(s=a.stateNode,r===null)try{s.componentDidMount()}catch(w){rt(a,a.return,w)}else{var f=pa(a.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(f,r,s.__reactInternalSnapshotBeforeUpdate)}catch(w){rt(a,a.return,w)}}l&64&&yb(a),l&512&&Wl(a,a.return);break;case 3:if(ti(s,a),l&64&&(s=a.updateQueue,s!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{rv(s,r)}catch(w){rt(a,a.return,w)}}break;case 27:r===null&&l&4&&xb(a);case 26:case 5:ti(s,a),r===null&&l&4&&bb(a),l&512&&Wl(a,a.return);break;case 12:ti(s,a);break;case 13:ti(s,a),l&4&&Sb(s,a),l&64&&(s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(a=mT.bind(null,a),kT(s,a))));break;case 22:if(l=a.memoizedState!==null||dr,!l){r=r!==null&&r.memoizedState!==null||Nt,f=dr;var m=Nt;dr=l,(Nt=r)&&!m?ni(s,a,(a.subtreeFlags&8772)!==0):ti(s,a),dr=f,Nt=m}break;case 30:break;default:ti(s,a)}}function Tb(s){var r=s.alternate;r!==null&&(s.alternate=null,Tb(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&Fa(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ht=null,Cn=!1;function hr(s,r,a){for(a=a.child;a!==null;)Nb(s,r,a),a=a.sibling}function Nb(s,r,a){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Ir,a)}catch{}switch(a.tag){case 26:Nt||Ds(a,r),hr(s,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||Ds(a,r);var l=ht,f=Cn;li(a.type)&&(ht=a.stateNode,Cn=!1),hr(s,r,a),ac(a.stateNode),ht=l,Cn=f;break;case 5:Nt||Ds(a,r);case 6:if(l=ht,f=Cn,ht=null,hr(s,r,a),ht=l,Cn=f,ht!==null)if(Cn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(a.stateNode)}catch(m){rt(a,r,m)}else try{ht.removeChild(a.stateNode)}catch(m){rt(a,r,m)}break;case 18:ht!==null&&(Cn?(s=ht,f0(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.stateNode),mc(s)):f0(ht,a.stateNode));break;case 4:l=ht,f=Cn,ht=a.stateNode.containerInfo,Cn=!0,hr(s,r,a),ht=l,Cn=f;break;case 0:case 11:case 14:case 15:Nt||ei(2,a,r),Nt||ei(4,a,r),hr(s,r,a);break;case 1:Nt||(Ds(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&vb(a,r,l)),hr(s,r,a);break;case 21:hr(s,r,a);break;case 22:Nt=(l=Nt)||a.memoizedState!==null,hr(s,r,a),Nt=l;break;default:hr(s,r,a)}}function Sb(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{mc(s)}catch(a){rt(r,r.return,a)}}function aT(s){switch(s.tag){case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new _b),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new _b),r;default:throw Error(i(435,s.tag))}}function xm(s,r){var a=aT(s);r.forEach(function(l){var f=pT.bind(null,s,l);a.has(l)||(a.add(l),l.then(f,f))})}function Pn(s,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=s,w=r,_=w;e:for(;_!==null;){switch(_.tag){case 27:if(li(_.type)){ht=_.stateNode,Cn=!1;break e}break;case 5:ht=_.stateNode,Cn=!1;break e;case 3:case 4:ht=_.stateNode.containerInfo,Cn=!0;break e}_=_.return}if(ht===null)throw Error(i(160));Nb(m,w,f),ht=null,Cn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Ab(r,s),r=r.sibling}var ys=null;function Ab(s,r){var a=s.alternate,l=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Pn(r,s),Vn(s),l&4&&(ei(3,s,s.return),Xl(3,s),ei(5,s,s.return));break;case 1:Pn(r,s),Vn(s),l&512&&(Nt||a===null||Ds(a,a.return)),l&64&&dr&&(s=s.updateQueue,s!==null&&(l=s.callbacks,l!==null&&(a=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ys;if(Pn(r,s),Vn(s),l&512&&(Nt||a===null||Ds(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=s.memoizedState,a===null)if(l===null)if(s.stateNode===null){e:{l=s.type,a=s.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Vr]||m[xt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Zt(m,l,a),m[xt]=s,_t(m),l=m;break e;case"link":var w=x0("link","href",f).get(l+(a.href||""));if(w){for(var _=0;_<w.length;_++)if(m=w[_],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){w.splice(_,1);break t}}m=f.createElement(l),Zt(m,l,a),f.head.appendChild(m);break;case"meta":if(w=x0("meta","content",f).get(l+(a.content||""))){for(_=0;_<w.length;_++)if(m=w[_],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){w.splice(_,1);break t}}m=f.createElement(l),Zt(m,l,a),f.head.appendChild(m);break;default:throw Error(i(468,l))}m[xt]=s,_t(m),l=m}s.stateNode=l}else _0(f,s.type,s.stateNode);else s.stateNode=w0(f,l,s.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?_0(f,s.type,s.stateNode):w0(f,l,s.memoizedProps)):l===null&&s.stateNode!==null&&ym(s,s.memoizedProps,a.memoizedProps)}break;case 27:Pn(r,s),Vn(s),l&512&&(Nt||a===null||Ds(a,a.return)),a!==null&&l&4&&ym(s,s.memoizedProps,a.memoizedProps);break;case 5:if(Pn(r,s),Vn(s),l&512&&(Nt||a===null||Ds(a,a.return)),s.flags&32){f=s.stateNode;try{Xn(f,"")}catch(K){rt(s,s.return,K)}}l&4&&s.stateNode!=null&&(f=s.memoizedProps,ym(s,f,a!==null?a.memoizedProps:f)),l&1024&&(wm=!0);break;case 6:if(Pn(r,s),Vn(s),l&4){if(s.stateNode===null)throw Error(i(162));l=s.memoizedProps,a=s.stateNode;try{a.nodeValue=l}catch(K){rt(s,s.return,K)}}break;case 3:if(bd=null,f=ys,ys=yd(r.containerInfo),Pn(r,s),ys=f,Vn(s),l&4&&a!==null&&a.memoizedState.isDehydrated)try{mc(r.containerInfo)}catch(K){rt(s,s.return,K)}wm&&(wm=!1,Cb(s));break;case 4:l=ys,ys=yd(s.stateNode.containerInfo),Pn(r,s),Vn(s),ys=l;break;case 12:Pn(r,s),Vn(s);break;case 13:Pn(r,s),Vn(s),s.child.flags&8192&&s.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Am=Sn()),l&4&&(l=s.updateQueue,l!==null&&(s.updateQueue=null,xm(s,l)));break;case 22:f=s.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,q=dr,W=Nt;if(dr=q||f,Nt=W||R,Pn(r,s),Nt=W,dr=q,Vn(s),l&8192)e:for(r=s.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||R||dr||Nt||ga(s)),a=null,r=s;;){if(r.tag===5||r.tag===26){if(a===null){R=a=r;try{if(m=R.stateNode,f)w=m.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{_=R.stateNode;var te=R.memoizedProps.style,$=te!=null&&te.hasOwnProperty("display")?te.display:null;_.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(K){rt(R,R.return,K)}}}else if(r.tag===6){if(a===null){R=r;try{R.stateNode.nodeValue=f?"":R.memoizedProps}catch(K){rt(R,R.return,K)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=s.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,xm(s,a))));break;case 19:Pn(r,s),Vn(s),l&4&&(l=s.updateQueue,l!==null&&(s.updateQueue=null,xm(s,l)));break;case 30:break;case 21:break;default:Pn(r,s),Vn(s)}}function Vn(s){var r=s.flags;if(r&2){try{for(var a,l=s.return;l!==null;){if(wb(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var f=a.stateNode,m=vm(s);rd(s,m,f);break;case 5:var w=a.stateNode;a.flags&32&&(Xn(w,""),a.flags&=-33);var _=vm(s);rd(s,_,w);break;case 3:case 4:var R=a.stateNode.containerInfo,q=vm(s);bm(s,q,R);break;default:throw Error(i(161))}}catch(W){rt(s,s.return,W)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function Cb(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;Cb(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function ti(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Eb(s,r.alternate,r),r=r.sibling}function ga(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:ei(4,r,r.return),ga(r);break;case 1:Ds(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&vb(r,r.return,a),ga(r);break;case 27:ac(r.stateNode);case 26:case 5:Ds(r,r.return),ga(r);break;case 22:r.memoizedState===null&&ga(r);break;case 30:ga(r);break;default:ga(r)}s=s.sibling}}function ni(s,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=s,m=r,w=m.flags;switch(m.tag){case 0:case 11:case 15:ni(f,m,a),Xl(4,m);break;case 1:if(ni(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){rt(l,l.return,q)}if(l=m,f=l.updateQueue,f!==null){var _=l.stateNode;try{var R=f.shared.hiddenCallbacks;if(R!==null)for(f.shared.hiddenCallbacks=null,f=0;f<R.length;f++)sv(R[f],_)}catch(q){rt(l,l.return,q)}}a&&w&64&&yb(m),Wl(m,m.return);break;case 27:xb(m);case 26:case 5:ni(f,m,a),a&&l===null&&w&4&&bb(m),Wl(m,m.return);break;case 12:ni(f,m,a);break;case 13:ni(f,m,a),a&&w&4&&Sb(f,m);break;case 22:m.memoizedState===null&&ni(f,m,a),Wl(m,m.return);break;case 30:break;default:ni(f,m,a)}r=r.sibling}}function _m(s,r){var a=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==a&&(s!=null&&s.refCount++,a!=null&&Pl(a))}function Em(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Pl(s))}function Os(s,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Rb(s,r,a,l),r=r.sibling}function Rb(s,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Os(s,r,a,l),f&2048&&Xl(9,r);break;case 1:Os(s,r,a,l);break;case 3:Os(s,r,a,l),f&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Pl(s)));break;case 12:if(f&2048){Os(s,r,a,l),s=r.stateNode;try{var m=r.memoizedProps,w=m.id,_=m.onPostCommit;typeof _=="function"&&_(w,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(R){rt(r,r.return,R)}}else Os(s,r,a,l);break;case 13:Os(s,r,a,l);break;case 23:break;case 22:m=r.stateNode,w=r.alternate,r.memoizedState!==null?m._visibility&2?Os(s,r,a,l):Zl(s,r):m._visibility&2?Os(s,r,a,l):(m._visibility|=2,vo(s,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&_m(w,r);break;case 24:Os(s,r,a,l),f&2048&&Em(r.alternate,r);break;default:Os(s,r,a,l)}}function vo(s,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=s,w=r,_=a,R=l,q=w.flags;switch(w.tag){case 0:case 11:case 15:vo(m,w,_,R,f),Xl(8,w);break;case 23:break;case 22:var W=w.stateNode;w.memoizedState!==null?W._visibility&2?vo(m,w,_,R,f):Zl(m,w):(W._visibility|=2,vo(m,w,_,R,f)),f&&q&2048&&_m(w.alternate,w);break;case 24:vo(m,w,_,R,f),f&&q&2048&&Em(w.alternate,w);break;default:vo(m,w,_,R,f)}r=r.sibling}}function Zl(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=s,l=r,f=l.flags;switch(l.tag){case 22:Zl(a,l),f&2048&&_m(l.alternate,l);break;case 24:Zl(a,l),f&2048&&Em(l.alternate,l);break;default:Zl(a,l)}r=r.sibling}}var Jl=8192;function bo(s){if(s.subtreeFlags&Jl)for(s=s.child;s!==null;)jb(s),s=s.sibling}function jb(s){switch(s.tag){case 26:bo(s),s.flags&Jl&&s.memoizedState!==null&&$T(ys,s.memoizedState,s.memoizedProps);break;case 5:bo(s);break;case 3:case 4:var r=ys;ys=yd(s.stateNode.containerInfo),bo(s),ys=r;break;case 22:s.memoizedState===null&&(r=s.alternate,r!==null&&r.memoizedState!==null?(r=Jl,Jl=16777216,bo(s),Jl=r):bo(s));break;default:bo(s)}}function Ib(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function ec(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];$t=l,Db(l,s)}Ib(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)kb(s),s=s.sibling}function kb(s){switch(s.tag){case 0:case 11:case 15:ec(s),s.flags&2048&&ei(9,s,s.return);break;case 3:ec(s);break;case 12:ec(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,id(s)):ec(s);break;default:ec(s)}}function id(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];$t=l,Db(l,s)}Ib(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:ei(8,r,r.return),id(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,id(r));break;default:id(r)}s=s.sibling}}function Db(s,r){for(;$t!==null;){var a=$t;switch(a.tag){case 0:case 11:case 15:ei(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Pl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,$t=l;else e:for(a=s;$t!==null;){l=$t;var f=l.sibling,m=l.return;if(Tb(l),l===a){$t=null;break e}if(f!==null){f.return=m,$t=f;break e}$t=m}}}var oT={getCacheForType:function(s){var r=an(Lt),a=r.data.get(s);return a===void 0&&(a=s(),r.data.set(s,a)),a}},lT=typeof WeakMap=="function"?WeakMap:Map,Ze=0,ot=null,Le=null,qe=0,Je=0,Ln=null,si=!1,wo=!1,Tm=!1,fr=0,vt=0,ri=0,ya=0,Nm=0,ss=0,xo=0,tc=null,Rn=null,Sm=!1,Am=0,ad=1/0,od=null,ii=null,Wt=0,ai=null,_o=null,Eo=0,Cm=0,Rm=null,Ob=null,nc=0,jm=null;function Un(){if((Ze&2)!==0&&qe!==0)return qe&-qe;if(F.T!==null){var s=co;return s!==0?s:Vm()}return Qs()}function Mb(){ss===0&&(ss=(qe&536870912)===0||Ye?hl():536870912);var s=ns.current;return s!==null&&(s.flags|=32),ss}function Bn(s,r,a){(s===ot&&(Je===2||Je===9)||s.cancelPendingCommit!==null)&&(To(s,0),oi(s,qe,ss,!1)),wt(s,a),((Ze&2)===0||s!==ot)&&(s===ot&&((Ze&2)===0&&(ya|=a),vt===4&&oi(s,qe,ss,!1)),Ms(s))}function Pb(s,r,a){if((Ze&6)!==0)throw Error(i(327));var l=!a&&(r&124)===0&&(r&s.expiredLanes)===0||Dr(s,r),f=l?dT(s,r):Dm(s,r,!0),m=l;do{if(f===0){wo&&!l&&oi(s,r,0,!1);break}else{if(a=s.current.alternate,m&&!cT(a)){f=Dm(s,r,!1),m=!1;continue}if(f===2){if(m=r,s.errorRecoveryDisabledLanes&m)var w=0;else w=s.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){r=w;e:{var _=s;f=tc;var R=_.current.memoizedState.isDehydrated;if(R&&(To(_,w).flags|=256),w=Dm(_,w,!1),w!==2){if(Tm&&!R){_.errorRecoveryDisabledLanes|=m,ya|=m,f=4;break e}m=Rn,Rn=f,m!==null&&(Rn===null?Rn=m:Rn.push.apply(Rn,m))}f=w}if(m=!1,f!==2)continue}}if(f===1){To(s,0),oi(s,r,0,!0);break}e:{switch(l=s,m=f,m){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:oi(l,r,ss,!si);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(f=Am+300-Sn(),10<f)){if(oi(l,r,ss,!si),Yn(l,0,!0)!==0)break e;l.timeoutHandle=d0(Vb.bind(null,l,a,Rn,od,Sm,r,ss,ya,xo,si,m,2,-0,0),f);break e}Vb(l,a,Rn,od,Sm,r,ss,ya,xo,si,m,0,-0,0)}}break}while(!0);Ms(s)}function Vb(s,r,a,l,f,m,w,_,R,q,W,te,$,K){if(s.timeoutHandle=-1,te=r.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(cc={stylesheets:null,count:0,unsuspend:FT},jb(r),te=GT(),te!==null)){s.cancelPendingCommit=te(Fb.bind(null,s,r,m,a,l,f,w,_,R,W,1,$,K)),oi(s,m,w,!q);return}Fb(s,r,m,a,l,f,w,_,R)}function cT(s){for(var r=s;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!On(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function oi(s,r,a,l){r&=~Nm,r&=~ya,s.suspendedLanes|=r,s.pingedLanes&=~r,l&&(s.warmLanes|=r),l=s.expirationTimes;for(var f=r;0<f;){var m=31-mn(f),w=1<<m;l[m]=-1,f&=~w}a!==0&&Mr(s,a,r)}function ld(){return(Ze&6)===0?(sc(0),!1):!0}function Im(){if(Le!==null){if(Je===0)var s=Le.return;else s=Le,ir=da=null,Yf(s),go=null,Kl=0,s=Le;for(;s!==null;)gb(s.alternate,s),s=s.return;Le=null}}function To(s,r){var a=s.timeoutHandle;a!==-1&&(s.timeoutHandle=-1,AT(a)),a=s.cancelPendingCommit,a!==null&&(s.cancelPendingCommit=null,a()),Im(),ot=s,Le=a=nr(s.current,null),qe=r,Je=0,Ln=null,si=!1,wo=Dr(s,r),Tm=!1,xo=ss=Nm=ya=ri=vt=0,Rn=tc=null,Sm=!1,(r&8)!==0&&(r|=r&32);var l=s.entangledLanes;if(l!==0)for(s=s.entanglements,l&=r;0<l;){var f=31-mn(l),m=1<<f;r|=s[f],l&=~m}return fr=r,ju(),a}function Lb(s,r){Me=null,F.H=Qu,r===Ll||r===Uu?(r=tv(),Je=3):r===Zy?(r=tv(),Je=4):Je=r===nb?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ln=r,Le===null&&(vt=1,ed(s,Zn(r,s.current)))}function Ub(){var s=F.H;return F.H=Qu,s===null?Qu:s}function Bb(){var s=F.A;return F.A=oT,s}function km(){vt=4,si||(qe&4194048)!==qe&&ns.current!==null||(wo=!0),(ri&134217727)===0&&(ya&134217727)===0||ot===null||oi(ot,qe,ss,!1)}function Dm(s,r,a){var l=Ze;Ze|=2;var f=Ub(),m=Bb();(ot!==s||qe!==r)&&(od=null,To(s,r)),r=!1;var w=vt;e:do try{if(Je!==0&&Le!==null){var _=Le,R=Ln;switch(Je){case 8:Im(),w=6;break e;case 3:case 2:case 9:case 6:ns.current===null&&(r=!0);var q=Je;if(Je=0,Ln=null,No(s,_,R,q),a&&wo){w=0;break e}break;default:q=Je,Je=0,Ln=null,No(s,_,R,q)}}uT(),w=vt;break}catch(W){Lb(s,W)}while(!0);return r&&s.shellSuspendCounter++,ir=da=null,Ze=l,F.H=f,F.A=m,Le===null&&(ot=null,qe=0,ju()),w}function uT(){for(;Le!==null;)zb(Le)}function dT(s,r){var a=Ze;Ze|=2;var l=Ub(),f=Bb();ot!==s||qe!==r?(od=null,ad=Sn()+500,To(s,r)):wo=Dr(s,r);e:do try{if(Je!==0&&Le!==null){r=Le;var m=Ln;t:switch(Je){case 1:Je=0,Ln=null,No(s,r,m,1);break;case 2:case 9:if(Jy(m)){Je=0,Ln=null,Hb(r);break}r=function(){Je!==2&&Je!==9||ot!==s||(Je=7),Ms(s)},m.then(r,r);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:Jy(m)?(Je=0,Ln=null,Hb(r)):(Je=0,Ln=null,No(s,r,m,7));break;case 5:var w=null;switch(Le.tag){case 26:w=Le.memoizedState;case 5:case 27:var _=Le;if(!w||E0(w)){Je=0,Ln=null;var R=_.sibling;if(R!==null)Le=R;else{var q=_.return;q!==null?(Le=q,cd(q)):Le=null}break t}}Je=0,Ln=null,No(s,r,m,5);break;case 6:Je=0,Ln=null,No(s,r,m,6);break;case 8:Im(),vt=6;break e;default:throw Error(i(462))}}hT();break}catch(W){Lb(s,W)}while(!0);return ir=da=null,F.H=l,F.A=f,Ze=a,Le!==null?0:(ot=null,qe=0,ju(),vt)}function hT(){for(;Le!==null&&!Gn();)zb(Le)}function zb(s){var r=mb(s.alternate,s,fr);s.memoizedProps=s.pendingProps,r===null?cd(s):Le=r}function Hb(s){var r=s,a=r.alternate;switch(r.tag){case 15:case 0:r=lb(a,r,r.pendingProps,r.type,void 0,qe);break;case 11:r=lb(a,r,r.pendingProps,r.type.render,r.ref,qe);break;case 5:Yf(r);default:gb(a,r),r=Le=qy(r,fr),r=mb(a,r,fr)}s.memoizedProps=s.pendingProps,r===null?cd(s):Le=r}function No(s,r,a,l){ir=da=null,Yf(r),go=null,Kl=0;var f=r.return;try{if(tT(s,f,r,a,qe)){vt=1,ed(s,Zn(a,s.current)),Le=null;return}}catch(m){if(f!==null)throw Le=f,m;vt=1,ed(s,Zn(a,s.current)),Le=null;return}r.flags&32768?(Ye||l===1?s=!0:wo||(qe&536870912)!==0?s=!1:(si=s=!0,(l===2||l===9||l===3||l===6)&&(l=ns.current,l!==null&&l.tag===13&&(l.flags|=16384))),qb(r,s)):cd(r)}function cd(s){var r=s;do{if((r.flags&32768)!==0){qb(r,si);return}s=r.return;var a=sT(r.alternate,r,fr);if(a!==null){Le=a;return}if(r=r.sibling,r!==null){Le=r;return}Le=r=s}while(r!==null);vt===0&&(vt=5)}function qb(s,r){do{var a=rT(s.alternate,s);if(a!==null){a.flags&=32767,Le=a;return}if(a=s.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(s=s.sibling,s!==null)){Le=s;return}Le=s=a}while(s!==null);vt=6,Le=null}function Fb(s,r,a,l,f,m,w,_,R){s.cancelPendingCommit=null;do ud();while(Wt!==0);if((Ze&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(m=r.lanes|r.childLanes,m|=Ef,fu(s,a,m,w,_,R),s===ot&&(Le=ot=null,qe=0),_o=r,ai=s,Eo=a,Cm=m,Rm=f,Ob=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,gT(Ys,function(){return Qb(),null})):(s.callbackNode=null,s.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,f=ae.p,ae.p=2,w=Ze,Ze|=4;try{iT(s,r,a)}finally{Ze=w,ae.p=f,F.T=l}}Wt=1,$b(),Gb(),Kb()}}function $b(){if(Wt===1){Wt=0;var s=ai,r=_o,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=ae.p;ae.p=2;var f=Ze;Ze|=4;try{Ab(r,s);var m=$m,w=Dy(s.containerInfo),_=m.focusedElem,R=m.selectionRange;if(w!==_&&_&&_.ownerDocument&&ky(_.ownerDocument.documentElement,_)){if(R!==null&&vf(_)){var q=R.start,W=R.end;if(W===void 0&&(W=q),"selectionStart"in _)_.selectionStart=q,_.selectionEnd=Math.min(W,_.value.length);else{var te=_.ownerDocument||document,$=te&&te.defaultView||window;if($.getSelection){var K=$.getSelection(),Ce=_.textContent.length,Ee=Math.min(R.start,Ce),st=R.end===void 0?Ee:Math.min(R.end,Ce);!K.extend&&Ee>st&&(w=st,st=Ee,Ee=w);var L=Iy(_,Ee),M=Iy(_,st);if(L&&M&&(K.rangeCount!==1||K.anchorNode!==L.node||K.anchorOffset!==L.offset||K.focusNode!==M.node||K.focusOffset!==M.offset)){var z=te.createRange();z.setStart(L.node,L.offset),K.removeAllRanges(),Ee>st?(K.addRange(z),K.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),K.addRange(z))}}}}for(te=[],K=_;K=K.parentNode;)K.nodeType===1&&te.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<te.length;_++){var Z=te[_];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}_d=!!Fm,$m=Fm=null}finally{Ze=f,ae.p=l,F.T=a}}s.current=r,Wt=2}}function Gb(){if(Wt===2){Wt=0;var s=ai,r=_o,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=ae.p;ae.p=2;var f=Ze;Ze|=4;try{Eb(s,r.alternate,r)}finally{Ze=f,ae.p=l,F.T=a}}Wt=3}}function Kb(){if(Wt===4||Wt===3){Wt=0,Pi();var s=ai,r=_o,a=Eo,l=Ob;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Wt=5:(Wt=0,_o=ai=null,Yb(s,s.pendingLanes));var f=s.pendingLanes;if(f===0&&(ii=null),ml(a),r=r.stateNode,sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Ir,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=F.T,f=ae.p,ae.p=2,F.T=null;try{for(var m=s.onRecoverableError,w=0;w<l.length;w++){var _=l[w];m(_.value,{componentStack:_.stack})}}finally{F.T=r,ae.p=f}}(Eo&3)!==0&&ud(),Ms(s),f=s.pendingLanes,(a&4194090)!==0&&(f&42)!==0?s===jm?nc++:(nc=0,jm=s):nc=0,sc(0)}}function Yb(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,Pl(r)))}function ud(s){return $b(),Gb(),Kb(),Qb()}function Qb(){if(Wt!==5)return!1;var s=ai,r=Cm;Cm=0;var a=ml(Eo),l=F.T,f=ae.p;try{ae.p=32>a?32:a,F.T=null,a=Rm,Rm=null;var m=ai,w=Eo;if(Wt=0,_o=ai=null,Eo=0,(Ze&6)!==0)throw Error(i(331));var _=Ze;if(Ze|=4,kb(m.current),Rb(m,m.current,w,a),Ze=_,sc(0,!1),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Ir,m)}catch{}return!0}finally{ae.p=f,F.T=l,Yb(s,r)}}function Xb(s,r,a){r=Zn(a,r),r=lm(s.stateNode,r,2),s=Xr(s,r,2),s!==null&&(wt(s,2),Ms(s))}function rt(s,r,a){if(s.tag===3)Xb(s,s,a);else for(;r!==null;){if(r.tag===3){Xb(r,s,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ii===null||!ii.has(l))){s=Zn(a,s),a=eb(2),l=Xr(r,a,2),l!==null&&(tb(a,l,r,s),wt(l,2),Ms(l));break}}r=r.return}}function Om(s,r,a){var l=s.pingCache;if(l===null){l=s.pingCache=new lT;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Tm=!0,f.add(a),s=fT.bind(null,s,r,a),r.then(s,s))}function fT(s,r,a){var l=s.pingCache;l!==null&&l.delete(r),s.pingedLanes|=s.suspendedLanes&a,s.warmLanes&=~a,ot===s&&(qe&a)===a&&(vt===4||vt===3&&(qe&62914560)===qe&&300>Sn()-Am?(Ze&2)===0&&To(s,0):Nm|=a,xo===qe&&(xo=0)),Ms(s)}function Wb(s,r){r===0&&(r=Or()),s=io(s,r),s!==null&&(wt(s,r),Ms(s))}function mT(s){var r=s.memoizedState,a=0;r!==null&&(a=r.retryLane),Wb(s,a)}function pT(s,r){var a=0;switch(s.tag){case 13:var l=s.stateNode,f=s.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=s.stateNode;break;case 22:l=s.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(r),Wb(s,a)}function gT(s,r){return jt(s,r)}var dd=null,So=null,Mm=!1,hd=!1,Pm=!1,va=0;function Ms(s){s!==So&&s.next===null&&(So===null?dd=So=s:So=So.next=s),hd=!0,Mm||(Mm=!0,vT())}function sc(s,r){if(!Pm&&hd){Pm=!0;do for(var a=!1,l=dd;l!==null;){if(s!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var w=l.suspendedLanes,_=l.pingedLanes;m=(1<<31-mn(42|s)+1)-1,m&=f&~(w&~_),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,t0(l,m))}else m=qe,m=Yn(l,l===ot?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Dr(l,m)||(a=!0,t0(l,m));l=l.next}while(a);Pm=!1}}function yT(){Zb()}function Zb(){hd=Mm=!1;var s=0;va!==0&&(ST()&&(s=va),va=0);for(var r=Sn(),a=null,l=dd;l!==null;){var f=l.next,m=Jb(l,r);m===0?(l.next=null,a===null?dd=f:a.next=f,f===null&&(So=a)):(a=l,(s!==0||(m&3)!==0)&&(hd=!0)),l=f}sc(s)}function Jb(s,r){for(var a=s.suspendedLanes,l=s.pingedLanes,f=s.expirationTimes,m=s.pendingLanes&-62914561;0<m;){var w=31-mn(m),_=1<<w,R=f[w];R===-1?((_&a)===0||(_&l)!==0)&&(f[w]=Ha(_,r)):R<=r&&(s.expiredLanes|=_),m&=~_}if(r=ot,a=qe,a=Yn(s,s===r?a:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),l=s.callbackNode,a===0||s===r&&(Je===2||Je===9)||s.cancelPendingCommit!==null)return l!==null&&l!==null&&fn(l),s.callbackNode=null,s.callbackPriority=0;if((a&3)===0||Dr(s,a)){if(r=a&-a,r===s.callbackPriority)return r;switch(l!==null&&fn(l),ml(a)){case 2:case 8:a=Ht;break;case 32:a=Ys;break;case 268435456:a=dl;break;default:a=Ys}return l=e0.bind(null,s),a=jt(a,l),s.callbackPriority=r,s.callbackNode=a,r}return l!==null&&l!==null&&fn(l),s.callbackPriority=2,s.callbackNode=null,2}function e0(s,r){if(Wt!==0&&Wt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var a=s.callbackNode;if(ud()&&s.callbackNode!==a)return null;var l=qe;return l=Yn(s,s===ot?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),l===0?null:(Pb(s,l,r),Jb(s,Sn()),s.callbackNode!=null&&s.callbackNode===a?e0.bind(null,s):null)}function t0(s,r){if(ud())return null;Pb(s,r,!0)}function vT(){CT(function(){(Ze&6)!==0?jt(Pt,yT):Zb()})}function Vm(){return va===0&&(va=hl()),va}function n0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:hs(""+s)}function s0(s,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,s.id&&a.setAttribute("form",s.id),r.parentNode.insertBefore(a,r),s=new FormData(s),a.parentNode.removeChild(a),s}function bT(s,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var m=n0((f[Qt]||null).action),w=l.submitter;w&&(r=(r=w[Qt]||null)?n0(r.formAction):w.getAttribute("formAction"),r!==null&&(m=r,w=null));var _=new Wi("action","action",null,l,f);s.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(va!==0){var R=w?s0(f,w):new FormData(f);sm(a,{pending:!0,data:R,method:f.method,action:m},null,R)}}else typeof m=="function"&&(_.preventDefault(),R=w?s0(f,w):new FormData(f),sm(a,{pending:!0,data:R,method:f.method,action:m},m,R))},currentTarget:f}]})}}for(var Lm=0;Lm<_f.length;Lm++){var Um=_f[Lm],wT=Um.toLowerCase(),xT=Um[0].toUpperCase()+Um.slice(1);gs(wT,"on"+xT)}gs(Py,"onAnimationEnd"),gs(Vy,"onAnimationIteration"),gs(Ly,"onAnimationStart"),gs("dblclick","onDoubleClick"),gs("focusin","onFocus"),gs("focusout","onBlur"),gs(L1,"onTransitionRun"),gs(U1,"onTransitionStart"),gs(B1,"onTransitionCancel"),gs(Uy,"onTransitionEnd"),As("onMouseEnter",["mouseout","mouseover"]),As("onMouseLeave",["mouseout","mouseover"]),As("onPointerEnter",["pointerout","pointerover"]),As("onPointerLeave",["pointerout","pointerover"]),Ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ss("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_T=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rc));function r0(s,r){r=(r&4)!==0;for(var a=0;a<s.length;a++){var l=s[a],f=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var w=l.length-1;0<=w;w--){var _=l[w],R=_.instance,q=_.currentTarget;if(_=_.listener,R!==m&&f.isPropagationStopped())break e;m=_,f.currentTarget=q;try{m(f)}catch(W){Ju(W)}f.currentTarget=null,m=R}else for(w=0;w<l.length;w++){if(_=l[w],R=_.instance,q=_.currentTarget,_=_.listener,R!==m&&f.isPropagationStopped())break e;m=_,f.currentTarget=q;try{m(f)}catch(W){Ju(W)}f.currentTarget=null,m=R}}}}function Ue(s,r){var a=r[Li];a===void 0&&(a=r[Li]=new Set);var l=s+"__bubble";a.has(l)||(i0(r,s,2,!1),a.add(l))}function Bm(s,r,a){var l=0;r&&(l|=4),i0(a,s,l,r)}var fd="_reactListening"+Math.random().toString(36).slice(2);function zm(s){if(!s[fd]){s[fd]=!0,mu.forEach(function(a){a!=="selectionchange"&&(_T.has(a)||Bm(a,!1,s),Bm(a,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[fd]||(r[fd]=!0,Bm("selectionchange",!1,r))}}function i0(s,r,a,l){switch(R0(r)){case 2:var f=QT;break;case 8:f=XT;break;default:f=tp}a=f.bind(null,r,a,s),f=void 0,!er||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?s.addEventListener(r,a,{capture:!0,passive:f}):s.addEventListener(r,a,!0):f!==void 0?s.addEventListener(r,a,{passive:f}):s.addEventListener(r,a,!1)}function Hm(s,r,a,l,f){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var _=l.stateNode.containerInfo;if(_===f)break;if(w===4)for(w=l.return;w!==null;){var R=w.tag;if((R===3||R===4)&&w.stateNode.containerInfo===f)return;w=w.return}for(;_!==null;){if(w=Ts(_),w===null)return;if(R=w.tag,R===5||R===6||R===26||R===27){l=m=w;continue e}_=_.parentNode}}l=l.return}Yi(function(){var q=m,W=xl(a),te=[];e:{var $=By.get(s);if($!==void 0){var K=Wi,Ce=s;switch(s){case"keypress":if(Qi(a)===0)break e;case"keydown":case"keyup":K=to;break;case"focusin":Ce="focus",K=Za;break;case"focusout":Ce="blur",K=Za;break;case"beforeblur":case"afterblur":K=Za;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=na;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Gr;break;case Py:case Vy:case Ly:K=El;break;case Uy:K=v;break;case"scroll":case"scrollend":K=Ji;break;case"wheel":K=T;break;case"copy":case"cut":case"paste":K=Eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Sl;break;case"toggle":case"beforetoggle":K=Y}var Ee=(r&4)!==0,st=!Ee&&(s==="scroll"||s==="scrollend"),L=Ee?$!==null?$+"Capture":null:$;Ee=[];for(var M=q,z;M!==null;){var Z=M;if(z=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||z===null||L===null||(Z=Fr(M,L),Z!=null&&Ee.push(ic(M,Z,z))),st)break;M=M.return}0<Ee.length&&($=new K($,Ce,null,a,W),te.push({event:$,listeners:Ee}))}}if((r&7)===0){e:{if($=s==="mouseover"||s==="pointerover",K=s==="mouseout"||s==="pointerout",$&&a!==wl&&(Ce=a.relatedTarget||a.fromElement)&&(Ts(Ce)||Ce[Xs]))break e;if((K||$)&&($=W.window===W?W:($=W.ownerDocument)?$.defaultView||$.parentWindow:window,K?(Ce=a.relatedTarget||a.toElement,K=q,Ce=Ce?Ts(Ce):null,Ce!==null&&(st=u(Ce),Ee=Ce.tag,Ce!==st||Ee!==5&&Ee!==27&&Ee!==6)&&(Ce=null)):(K=null,Ce=q),K!==Ce)){if(Ee=na,Z="onMouseLeave",L="onMouseEnter",M="mouse",(s==="pointerout"||s==="pointerover")&&(Ee=Sl,Z="onPointerLeave",L="onPointerEnter",M="pointer"),st=K==null?$:Lr(K),z=Ce==null?$:Lr(Ce),$=new Ee(Z,M+"leave",K,a,W),$.target=st,$.relatedTarget=z,Z=null,Ts(W)===q&&(Ee=new Ee(L,M+"enter",Ce,a,W),Ee.target=z,Ee.relatedTarget=st,Z=Ee),st=Z,K&&Ce)t:{for(Ee=K,L=Ce,M=0,z=Ee;z;z=Ao(z))M++;for(z=0,Z=L;Z;Z=Ao(Z))z++;for(;0<M-z;)Ee=Ao(Ee),M--;for(;0<z-M;)L=Ao(L),z--;for(;M--;){if(Ee===L||L!==null&&Ee===L.alternate)break t;Ee=Ao(Ee),L=Ao(L)}Ee=null}else Ee=null;K!==null&&a0(te,$,K,Ee,!1),Ce!==null&&st!==null&&a0(te,st,Ce,Ee,!0)}}e:{if($=q?Lr(q):window,K=$.nodeName&&$.nodeName.toLowerCase(),K==="select"||K==="input"&&$.type==="file")var me=Ny;else if(Ey($))if(Sy)me=M1;else{me=D1;var Ve=k1}else K=$.nodeName,!K||K.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?q&&Qa(q.elementType)&&(me=Ny):me=O1;if(me&&(me=me(s,q))){Ty(te,me,a,W);break e}Ve&&Ve(s,$,q),s==="focusout"&&q&&$.type==="number"&&q.memoizedProps.value!=null&&yl($,"number",$.value)}switch(Ve=q?Lr(q):window,s){case"focusin":(Ey(Ve)||Ve.contentEditable==="true")&&(no=Ve,bf=q,Il=null);break;case"focusout":Il=bf=no=null;break;case"mousedown":wf=!0;break;case"contextmenu":case"mouseup":case"dragend":wf=!1,Oy(te,a,W);break;case"selectionchange":if(V1)break;case"keydown":case"keyup":Oy(te,a,W)}var ye;if(je)e:{switch(s){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else ps?fs(s,a)&&(Te="onCompositionEnd"):s==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(Et&&a.locale!=="ko"&&(ps||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&ps&&(ye=wu()):(Wn=W,at="value"in Wn?Wn.value:Wn.textContent,ps=!0)),Ve=md(q,Te),0<Ve.length&&(Te=new Nl(Te,s,null,a,W),te.push({event:Te,listeners:Ve}),ye?Te.data=ye:(ye=ms(a),ye!==null&&(Te.data=ye)))),(ye=We?Al(s,a):R1(s,a))&&(Te=md(q,"onBeforeInput"),0<Te.length&&(Ve=new Nl("onBeforeInput","beforeinput",null,a,W),te.push({event:Ve,listeners:Te}),Ve.data=ye)),bT(te,s,q,a,W)}r0(te,r)})}function ic(s,r,a){return{instance:s,listener:r,currentTarget:a}}function md(s,r){for(var a=r+"Capture",l=[];s!==null;){var f=s,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Fr(s,a),f!=null&&l.unshift(ic(s,f,m)),f=Fr(s,r),f!=null&&l.push(ic(s,f,m))),s.tag===3)return l;s=s.return}return[]}function Ao(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function a0(s,r,a,l,f){for(var m=r._reactName,w=[];a!==null&&a!==l;){var _=a,R=_.alternate,q=_.stateNode;if(_=_.tag,R!==null&&R===l)break;_!==5&&_!==26&&_!==27||q===null||(R=q,f?(q=Fr(a,m),q!=null&&w.unshift(ic(a,q,R))):f||(q=Fr(a,m),q!=null&&w.push(ic(a,q,R)))),a=a.return}w.length!==0&&s.push({event:r,listeners:w})}var ET=/\r\n?/g,TT=/\u0000|\uFFFD/g;function o0(s){return(typeof s=="string"?s:""+s).replace(ET,`
`).replace(TT,"")}function l0(s,r){return r=o0(r),o0(s)===r}function pd(){}function nt(s,r,a,l,f,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Xn(s,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Xn(s,""+l);break;case"className":qi(s,"class",l);break;case"tabIndex":qi(s,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":qi(s,a,l);break;case"style":bl(s,l,m);break;case"data":if(r!=="object"){qi(s,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){s.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){s.removeAttribute(a);break}l=hs(""+l),s.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){s.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&nt(s,r,"name",f.name,f,null),nt(s,r,"formEncType",f.formEncType,f,null),nt(s,r,"formMethod",f.formMethod,f,null),nt(s,r,"formTarget",f.formTarget,f,null)):(nt(s,r,"encType",f.encType,f,null),nt(s,r,"method",f.method,f,null),nt(s,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){s.removeAttribute(a);break}l=hs(""+l),s.setAttribute(a,l);break;case"onClick":l!=null&&(s.onclick=pd);break;case"onScroll":l!=null&&Ue("scroll",s);break;case"onScrollEnd":l!=null&&Ue("scrollend",s);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(i(60));s.innerHTML=a}}break;case"multiple":s.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":s.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){s.removeAttribute("xlink:href");break}a=hs(""+l),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?s.setAttribute(a,""+l):s.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?s.setAttribute(a,""):s.removeAttribute(a);break;case"capture":case"download":l===!0?s.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?s.setAttribute(a,l):s.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?s.setAttribute(a,l):s.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?s.removeAttribute(a):s.setAttribute(a,l);break;case"popover":Ue("beforetoggle",s),Ue("toggle",s),Hi(s,"popover",l);break;case"xlinkActuate":Qn(s,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Qn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Qn(s,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Qn(s,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Qn(s,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Qn(s,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Qn(s,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Qn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Qn(s,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Hi(s,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=yu.get(a)||a,Hi(s,a,l))}}function qm(s,r,a,l,f,m){switch(a){case"style":bl(s,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(i(60));s.innerHTML=a}}break;case"children":typeof l=="string"?Xn(s,l):(typeof l=="number"||typeof l=="bigint")&&Xn(s,""+l);break;case"onScroll":l!=null&&Ue("scroll",s);break;case"onScrollEnd":l!=null&&Ue("scrollend",s);break;case"onClick":l!=null&&(s.onclick=pd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bi.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=s[Qt]||null,m=m!=null?m[a]:null,typeof m=="function"&&s.removeEventListener(r,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in s?s[a]=null:s.hasAttribute(a)&&s.removeAttribute(a)),s.addEventListener(r,l,f);break e}a in s?s[a]=l:l===!0?s.setAttribute(a,""):Hi(s,a,l)}}}function Zt(s,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",s),Ue("load",s);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var w=a[m];if(w!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:nt(s,r,m,w,a,null)}}f&&nt(s,r,"srcSet",a.srcSet,a,null),l&&nt(s,r,"src",a.src,a,null);return;case"input":Ue("invalid",s);var _=m=w=f=null,R=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":w=W;break;case"checked":R=W;break;case"defaultChecked":q=W;break;case"value":m=W;break;case"defaultValue":_=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,r));break;default:nt(s,r,l,W,a,null)}}gl(s,m,_,R,q,w,f,!1),zr(s);return;case"select":Ue("invalid",s),l=w=m=null;for(f in a)if(a.hasOwnProperty(f)&&(_=a[f],_!=null))switch(f){case"value":m=_;break;case"defaultValue":w=_;break;case"multiple":l=_;default:nt(s,r,f,_,a,null)}r=m,a=w,s.multiple=!!l,r!=null?Hr(s,!!l,r,!1):a!=null&&Hr(s,!!l,a,!0);return;case"textarea":Ue("invalid",s),m=f=l=null;for(w in a)if(a.hasOwnProperty(w)&&(_=a[w],_!=null))switch(w){case"value":l=_;break;case"defaultValue":f=_;break;case"children":m=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:nt(s,r,w,_,a,null)}gu(s,l,f,m),zr(s);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":s.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:nt(s,r,R,l,a,null)}return;case"dialog":Ue("beforetoggle",s),Ue("toggle",s),Ue("cancel",s),Ue("close",s);break;case"iframe":case"object":Ue("load",s);break;case"video":case"audio":for(l=0;l<rc.length;l++)Ue(rc[l],s);break;case"image":Ue("error",s),Ue("load",s);break;case"details":Ue("toggle",s);break;case"embed":case"source":case"link":Ue("error",s),Ue("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:nt(s,r,q,l,a,null)}return;default:if(Qa(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&qm(s,r,W,l,a,void 0));return}}for(_ in a)a.hasOwnProperty(_)&&(l=a[_],l!=null&&nt(s,r,_,l,a,null))}function NT(s,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,w=null,_=null,R=null,q=null,W=null;for(K in a){var te=a[K];if(a.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":R=te;default:l.hasOwnProperty(K)||nt(s,r,K,null,l,te)}}for(var $ in l){var K=l[$];if(te=a[$],l.hasOwnProperty($)&&(K!=null||te!=null))switch($){case"type":m=K;break;case"name":f=K;break;case"checked":q=K;break;case"defaultChecked":W=K;break;case"value":w=K;break;case"defaultValue":_=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,r));break;default:K!==te&&nt(s,r,$,K,l,te)}}pl(s,w,_,R,q,W,m,f);return;case"select":K=w=_=$=null;for(m in a)if(R=a[m],a.hasOwnProperty(m)&&R!=null)switch(m){case"value":break;case"multiple":K=R;default:l.hasOwnProperty(m)||nt(s,r,m,null,l,R)}for(f in l)if(m=l[f],R=a[f],l.hasOwnProperty(f)&&(m!=null||R!=null))switch(f){case"value":$=m;break;case"defaultValue":_=m;break;case"multiple":w=m;default:m!==R&&nt(s,r,f,m,l,R)}r=_,a=w,l=K,$!=null?Hr(s,!!a,$,!1):!!l!=!!a&&(r!=null?Hr(s,!!a,r,!0):Hr(s,!!a,a?[]:"",!1));return;case"textarea":K=$=null;for(_ in a)if(f=a[_],a.hasOwnProperty(_)&&f!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:nt(s,r,_,null,l,f)}for(w in l)if(f=l[w],m=a[w],l.hasOwnProperty(w)&&(f!=null||m!=null))switch(w){case"value":$=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==m&&nt(s,r,w,f,l,m)}pu(s,$,K);return;case"option":for(var Ce in a)if($=a[Ce],a.hasOwnProperty(Ce)&&$!=null&&!l.hasOwnProperty(Ce))switch(Ce){case"selected":s.selected=!1;break;default:nt(s,r,Ce,null,l,$)}for(R in l)if($=l[R],K=a[R],l.hasOwnProperty(R)&&$!==K&&($!=null||K!=null))switch(R){case"selected":s.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:nt(s,r,R,$,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)$=a[Ee],a.hasOwnProperty(Ee)&&$!=null&&!l.hasOwnProperty(Ee)&&nt(s,r,Ee,null,l,$);for(q in l)if($=l[q],K=a[q],l.hasOwnProperty(q)&&$!==K&&($!=null||K!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,r));break;default:nt(s,r,q,$,l,K)}return;default:if(Qa(r)){for(var st in a)$=a[st],a.hasOwnProperty(st)&&$!==void 0&&!l.hasOwnProperty(st)&&qm(s,r,st,void 0,l,$);for(W in l)$=l[W],K=a[W],!l.hasOwnProperty(W)||$===K||$===void 0&&K===void 0||qm(s,r,W,$,l,K);return}}for(var L in a)$=a[L],a.hasOwnProperty(L)&&$!=null&&!l.hasOwnProperty(L)&&nt(s,r,L,null,l,$);for(te in l)$=l[te],K=a[te],!l.hasOwnProperty(te)||$===K||$==null&&K==null||nt(s,r,te,$,l,K)}var Fm=null,$m=null;function gd(s){return s.nodeType===9?s:s.ownerDocument}function c0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function u0(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Gm(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Km=null;function ST(){var s=window.event;return s&&s.type==="popstate"?s===Km?!1:(Km=s,!0):(Km=null,!1)}var d0=typeof setTimeout=="function"?setTimeout:void 0,AT=typeof clearTimeout=="function"?clearTimeout:void 0,h0=typeof Promise=="function"?Promise:void 0,CT=typeof queueMicrotask=="function"?queueMicrotask:typeof h0<"u"?function(s){return h0.resolve(null).then(s).catch(RT)}:d0;function RT(s){setTimeout(function(){throw s})}function li(s){return s==="head"}function f0(s,r){var a=r,l=0,f=0;do{var m=a.nextSibling;if(s.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var w=s.ownerDocument;if(a&1&&ac(w.documentElement),a&2&&ac(w.body),a&4)for(a=w.head,ac(a),w=a.firstChild;w;){var _=w.nextSibling,R=w.nodeName;w[Vr]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&w.rel.toLowerCase()==="stylesheet"||a.removeChild(w),w=_}}if(f===0){s.removeChild(m),mc(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);mc(r)}function Ym(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ym(a),Fa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}s.removeChild(a)}}function jT(s,r,a,l){for(;s.nodeType===1;){var f=a;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(l){if(!s[Vr])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(m=s.getAttribute("rel"),m==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(m!==f.rel||s.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||s.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||s.getAttribute("title")!==(f.title==null?null:f.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(m=s.getAttribute("src"),(m!==(f.src==null?null:f.src)||s.getAttribute("type")!==(f.type==null?null:f.type)||s.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&s.getAttribute("name")===m)return s}else return s;if(s=vs(s.nextSibling),s===null)break}return null}function IT(s,r,a){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=vs(s.nextSibling),s===null))return null;return s}function Qm(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function kT(s,r){var a=s.ownerDocument;if(s.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),s._reactRetry=l}}function vs(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return s}var Xm=null;function m0(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var a=s.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return s;r--}else a==="/$"&&r++}s=s.previousSibling}return null}function p0(s,r,a){switch(r=gd(a),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function ac(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);Fa(s)}var rs=new Map,g0=new Set;function yd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var mr=ae.d;ae.d={f:DT,r:OT,D:MT,C:PT,L:VT,m:LT,X:BT,S:UT,M:zT};function DT(){var s=mr.f(),r=ld();return s||r}function OT(s){var r=Ns(s);r!==null&&r.tag===5&&r.type==="form"?Pv(r):mr.r(s)}var Co=typeof document>"u"?null:document;function y0(s,r,a){var l=Co;if(l&&typeof r=="string"&&r){var f=qt(r);f='link[rel="'+s+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),g0.has(f)||(g0.add(f),s={rel:s,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Zt(r,"link",s),_t(r),l.head.appendChild(r)))}}function MT(s){mr.D(s),y0("dns-prefetch",s,null)}function PT(s,r){mr.C(s,r),y0("preconnect",s,r)}function VT(s,r,a){mr.L(s,r,a);var l=Co;if(l&&s&&r){var f='link[rel="preload"][as="'+qt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+qt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+qt(a.imageSizes)+'"]')):f+='[href="'+qt(s)+'"]';var m=f;switch(r){case"style":m=Ro(s);break;case"script":m=jo(s)}rs.has(m)||(s=x({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:s,as:r},a),rs.set(m,s),l.querySelector(f)!==null||r==="style"&&l.querySelector(oc(m))||r==="script"&&l.querySelector(lc(m))||(r=l.createElement("link"),Zt(r,"link",s),_t(r),l.head.appendChild(r)))}}function LT(s,r){mr.m(s,r);var a=Co;if(a&&s){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+qt(l)+'"][href="'+qt(s)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=jo(s)}if(!rs.has(m)&&(s=x({rel:"modulepreload",href:s},r),rs.set(m,s),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(lc(m)))return}l=a.createElement("link"),Zt(l,"link",s),_t(l),a.head.appendChild(l)}}}function UT(s,r,a){mr.S(s,r,a);var l=Co;if(l&&s){var f=Ur(l).hoistableStyles,m=Ro(s);r=r||"default";var w=f.get(m);if(!w){var _={loading:0,preload:null};if(w=l.querySelector(oc(m)))_.loading=5;else{s=x({rel:"stylesheet",href:s,"data-precedence":r},a),(a=rs.get(m))&&Wm(s,a);var R=w=l.createElement("link");_t(R),Zt(R,"link",s),R._p=new Promise(function(q,W){R.onload=q,R.onerror=W}),R.addEventListener("load",function(){_.loading|=1}),R.addEventListener("error",function(){_.loading|=2}),_.loading|=4,vd(w,r,l)}w={type:"stylesheet",instance:w,count:1,state:_},f.set(m,w)}}}function BT(s,r){mr.X(s,r);var a=Co;if(a&&s){var l=Ur(a).hoistableScripts,f=jo(s),m=l.get(f);m||(m=a.querySelector(lc(f)),m||(s=x({src:s,async:!0},r),(r=rs.get(f))&&Zm(s,r),m=a.createElement("script"),_t(m),Zt(m,"link",s),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function zT(s,r){mr.M(s,r);var a=Co;if(a&&s){var l=Ur(a).hoistableScripts,f=jo(s),m=l.get(f);m||(m=a.querySelector(lc(f)),m||(s=x({src:s,async:!0,type:"module"},r),(r=rs.get(f))&&Zm(s,r),m=a.createElement("script"),_t(m),Zt(m,"link",s),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function v0(s,r,a,l){var f=(f=J.current)?yd(f):null;if(!f)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ro(a.href),a=Ur(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){s=Ro(a.href);var m=Ur(f).hoistableStyles,w=m.get(s);if(w||(f=f.ownerDocument||f,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(s,w),(m=f.querySelector(oc(s)))&&!m._p&&(w.instance=m,w.state.loading=5),rs.has(s)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},rs.set(s,a),m||HT(f,s,a,w.state))),r&&l===null)throw Error(i(528,""));return w}if(r&&l!==null)throw Error(i(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=jo(a),a=Ur(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Ro(s){return'href="'+qt(s)+'"'}function oc(s){return'link[rel="stylesheet"]['+s+"]"}function b0(s){return x({},s,{"data-precedence":s.precedence,precedence:null})}function HT(s,r,a,l){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=s.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Zt(r,"link",a),_t(r),s.head.appendChild(r))}function jo(s){return'[src="'+qt(s)+'"]'}function lc(s){return"script[async]"+s}function w0(s,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=s.querySelector('style[data-href~="'+qt(a.href)+'"]');if(l)return r.instance=l,_t(l),l;var f=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(s.ownerDocument||s).createElement("style"),_t(l),Zt(l,"style",f),vd(l,a.precedence,s),r.instance=l;case"stylesheet":f=Ro(a.href);var m=s.querySelector(oc(f));if(m)return r.state.loading|=4,r.instance=m,_t(m),m;l=b0(a),(f=rs.get(f))&&Wm(l,f),m=(s.ownerDocument||s).createElement("link"),_t(m);var w=m;return w._p=new Promise(function(_,R){w.onload=_,w.onerror=R}),Zt(m,"link",l),r.state.loading|=4,vd(m,a.precedence,s),r.instance=m;case"script":return m=jo(a.src),(f=s.querySelector(lc(m)))?(r.instance=f,_t(f),f):(l=a,(f=rs.get(m))&&(l=x({},a),Zm(l,f)),s=s.ownerDocument||s,f=s.createElement("script"),_t(f),Zt(f,"link",l),s.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,vd(l,a.precedence,s));return r.instance}function vd(s,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,w=0;w<l.length;w++){var _=l[w];if(_.dataset.precedence===r)m=_;else if(m!==f)break}m?m.parentNode.insertBefore(s,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(s,r.firstChild))}function Wm(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Zm(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var bd=null;function x0(s,r,a){if(bd===null){var l=new Map,f=bd=new Map;f.set(a,l)}else f=bd,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(s))return l;for(l.set(s,null),a=a.getElementsByTagName(s),f=0;f<a.length;f++){var m=a[f];if(!(m[Vr]||m[xt]||s==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var w=m.getAttribute(r)||"";w=s+w;var _=l.get(w);_?_.push(m):l.set(w,[m])}}return l}function _0(s,r,a){s=s.ownerDocument||s,s.head.insertBefore(a,r==="title"?s.querySelector("head > title"):null)}function qT(s,r,a){if(a===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function E0(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var cc=null;function FT(){}function $T(s,r,a){if(cc===null)throw Error(i(475));var l=cc;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Ro(a.href),m=s.querySelector(oc(f));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(l.count++,l=wd.bind(l),s.then(l,l)),r.state.loading|=4,r.instance=m,_t(m);return}m=s.ownerDocument||s,a=b0(a),(f=rs.get(f))&&Wm(a,f),m=m.createElement("link"),_t(m);var w=m;w._p=new Promise(function(_,R){w.onload=_,w.onerror=R}),Zt(m,"link",a),r.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=wd.bind(l),s.addEventListener("load",r),s.addEventListener("error",r))}}function GT(){if(cc===null)throw Error(i(475));var s=cc;return s.stylesheets&&s.count===0&&Jm(s,s.stylesheets),0<s.count?function(r){var a=setTimeout(function(){if(s.stylesheets&&Jm(s,s.stylesheets),s.unsuspend){var l=s.unsuspend;s.unsuspend=null,l()}},6e4);return s.unsuspend=r,function(){s.unsuspend=null,clearTimeout(a)}}:null}function wd(){if(this.count--,this.count===0){if(this.stylesheets)Jm(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var xd=null;function Jm(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,xd=new Map,r.forEach(KT,s),xd=null,wd.call(s))}function KT(s,r){if(!(r.state.loading&4)){var a=xd.get(s);if(a)var l=a.get(null);else{a=new Map,xd.set(s,a);for(var f=s.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var w=f[m];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(a.set(w.dataset.precedence,w),l=w)}l&&a.set(null,l)}f=r.instance,w=f.getAttribute("data-precedence"),m=a.get(w)||l,m===l&&a.set(null,f),a.set(w,f),this.count++,l=wd.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(f,s.firstChild)),r.state.loading|=4}}var uc={$$typeof:ie,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function YT(s,r,a,l,f,m,w,_){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qa(0),this.hiddenUpdates=qa(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function T0(s,r,a,l,f,m,w,_,R,q,W,te){return s=new YT(s,r,a,w,_,R,q,te),r=1,m===!0&&(r|=24),m=Mn(3,null,null,r),s.current=m,m.stateNode=s,r=Of(),r.refCount++,s.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},Lf(m),s}function N0(s){return s?(s=ao,s):ao}function S0(s,r,a,l,f,m){f=N0(f),l.context===null?l.context=f:l.pendingContext=f,l=Qr(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Xr(s,l,r),a!==null&&(Bn(a,s,r),Bl(a,s,r))}function A0(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var a=s.retryLane;s.retryLane=a!==0&&a<r?a:r}}function ep(s,r){A0(s,r),(s=s.alternate)&&A0(s,r)}function C0(s){if(s.tag===13){var r=io(s,67108864);r!==null&&Bn(r,s,67108864),ep(s,67108864)}}var _d=!0;function QT(s,r,a,l){var f=F.T;F.T=null;var m=ae.p;try{ae.p=2,tp(s,r,a,l)}finally{ae.p=m,F.T=f}}function XT(s,r,a,l){var f=F.T;F.T=null;var m=ae.p;try{ae.p=8,tp(s,r,a,l)}finally{ae.p=m,F.T=f}}function tp(s,r,a,l){if(_d){var f=np(l);if(f===null)Hm(s,r,l,Ed,a),j0(s,l);else if(ZT(f,s,r,a,l))l.stopPropagation();else if(j0(s,l),r&4&&-1<WT.indexOf(s)){for(;f!==null;){var m=Ns(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var w=cs(m.pendingLanes);if(w!==0){var _=m;for(_.pendingLanes|=2,_.entangledLanes|=2;w;){var R=1<<31-mn(w);_.entanglements[1]|=R,w&=~R}Ms(m),(Ze&6)===0&&(ad=Sn()+500,sc(0))}}break;case 13:_=io(m,2),_!==null&&Bn(_,m,2),ld(),ep(m,2)}if(m=np(l),m===null&&Hm(s,r,l,Ed,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else Hm(s,r,l,null,a)}}function np(s){return s=xl(s),sp(s)}var Ed=null;function sp(s){if(Ed=null,s=Ts(s),s!==null){var r=u(s);if(r===null)s=null;else{var a=r.tag;if(a===13){if(s=h(r),s!==null)return s;s=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return Ed=s,null}function R0(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(uu()){case Pt:return 2;case Ht:return 8;case Ys:case lf:return 32;case dl:return 268435456;default:return 32}default:return 32}}var rp=!1,ci=null,ui=null,di=null,dc=new Map,hc=new Map,hi=[],WT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j0(s,r){switch(s){case"focusin":case"focusout":ci=null;break;case"dragenter":case"dragleave":ui=null;break;case"mouseover":case"mouseout":di=null;break;case"pointerover":case"pointerout":dc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":hc.delete(r.pointerId)}}function fc(s,r,a,l,f,m){return s===null||s.nativeEvent!==m?(s={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},r!==null&&(r=Ns(r),r!==null&&C0(r)),s):(s.eventSystemFlags|=l,r=s.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),s)}function ZT(s,r,a,l,f){switch(r){case"focusin":return ci=fc(ci,s,r,a,l,f),!0;case"dragenter":return ui=fc(ui,s,r,a,l,f),!0;case"mouseover":return di=fc(di,s,r,a,l,f),!0;case"pointerover":var m=f.pointerId;return dc.set(m,fc(dc.get(m)||null,s,r,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,hc.set(m,fc(hc.get(m)||null,s,r,a,l,f)),!0}return!1}function I0(s){var r=Ts(s.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){s.blockedOn=r,df(s.priority,function(){if(a.tag===13){var l=Un();l=fl(l);var f=io(a,l);f!==null&&Bn(f,a,l),ep(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){s.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Td(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var a=np(s.nativeEvent);if(a===null){a=s.nativeEvent;var l=new a.constructor(a.type,a);wl=l,a.target.dispatchEvent(l),wl=null}else return r=Ns(a),r!==null&&C0(r),s.blockedOn=a,!1;r.shift()}return!0}function k0(s,r,a){Td(s)&&a.delete(r)}function JT(){rp=!1,ci!==null&&Td(ci)&&(ci=null),ui!==null&&Td(ui)&&(ui=null),di!==null&&Td(di)&&(di=null),dc.forEach(k0),hc.forEach(k0)}function Nd(s,r){s.blockedOn===r&&(s.blockedOn=null,rp||(rp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,JT)))}var Sd=null;function D0(s){Sd!==s&&(Sd=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Sd===s&&(Sd=null);for(var r=0;r<s.length;r+=3){var a=s[r],l=s[r+1],f=s[r+2];if(typeof l!="function"){if(sp(l||a)===null)continue;break}var m=Ns(a);m!==null&&(s.splice(r,3),r-=3,sm(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function mc(s){function r(R){return Nd(R,s)}ci!==null&&Nd(ci,s),ui!==null&&Nd(ui,s),di!==null&&Nd(di,s),dc.forEach(r),hc.forEach(r);for(var a=0;a<hi.length;a++){var l=hi[a];l.blockedOn===s&&(l.blockedOn=null)}for(;0<hi.length&&(a=hi[0],a.blockedOn===null);)I0(a),a.blockedOn===null&&hi.shift();if(a=(s.ownerDocument||s).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],w=f[Qt]||null;if(typeof m=="function")w||D0(a);else if(w){var _=null;if(m&&m.hasAttribute("formAction")){if(f=m,w=m[Qt]||null)_=w.formAction;else if(sp(f)!==null)continue}else _=w.action;typeof _=="function"?a[l+1]=_:(a.splice(l,3),l-=3),D0(a)}}}function ip(s){this._internalRoot=s}Ad.prototype.render=ip.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var a=r.current,l=Un();S0(a,l,s,r,null,null)},Ad.prototype.unmount=ip.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;S0(s.current,2,null,s,null,null),ld(),r[Xs]=null}};function Ad(s){this._internalRoot=s}Ad.prototype.unstable_scheduleHydration=function(s){if(s){var r=Qs();s={blockedOn:null,target:s,priority:r};for(var a=0;a<hi.length&&r!==0&&r<hi[a].priority;a++);hi.splice(a,0,s),a===0&&I0(s)}};var O0=e.version;if(O0!=="19.1.1")throw Error(i(527,O0,"19.1.1"));ae.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=g(r),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var eN={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cd.isDisabled&&Cd.supportsFiber)try{Ir=Cd.inject(eN),sn=Cd}catch{}}return gc.createRoot=function(s,r){if(!o(s))throw Error(i(299));var a=!1,l="",f=Xv,m=Wv,w=Zv,_=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(_=r.unstable_transitionCallbacks)),r=T0(s,1,!1,null,null,a,l,f,m,w,_,null),s[Xs]=r.current,zm(s),new ip(r)},gc.hydrateRoot=function(s,r,a){if(!o(s))throw Error(i(299));var l=!1,f="",m=Xv,w=Wv,_=Zv,R=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),r=T0(s,1,!0,r,a??null,l,f,m,w,_,R,q),r.context=N0(null),a=r.current,l=Un(),l=fl(l),f=Qr(l),f.callback=null,Xr(a,f,l),a=l,r.current.lanes=a,wt(r,a),Ms(r),s[Xs]=r.current,zm(s),new Ad(r)},gc.version="19.1.1",gc}var F0;function uN(){if(F0)return lp.exports;F0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),lp.exports=cN(),lp.exports}var dN=uN();function hN(){const[n,e]=I.useState(0),[t,i]=I.useState(1),[o,u]=I.useState(""),h=()=>{e(E=>E+t)},p=()=>{e(E=>E-t)},g=()=>{e(0)},y=E=>{const N=parseInt(E.target.value)||1;i(N)},x=E=>{u(E.target.value)};return c.jsx("div",{className:"container mt-4",children:c.jsx("div",{className:"row justify-content-center",children:c.jsxs("div",{className:"col-lg-8",children:[c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("h1",{className:"display-4 text-primary",children:" useState Hook"}),c.jsx("p",{className:"lead text-muted",children:"Manejo de estado local en componentes funcionales"})]}),c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-primary text-white",children:c.jsx("h5",{className:"mb-0",children:" Contador con Pasos Variables"})}),c.jsxs("div",{className:"card-body text-center",children:[c.jsx("h2",{className:"display-3 text-primary mb-4",children:n}),c.jsxs("div",{className:"row mb-3",children:[c.jsxs("div",{className:"col-md-6",children:[c.jsx("label",{className:"form-label",children:"Tamao del paso:"}),c.jsx("input",{type:"number",className:"form-control",value:t,onChange:y,min:"1",max:"10"})]}),c.jsx("div",{className:"col-md-6 d-flex align-items-end",children:c.jsx("div",{className:"text-muted",children:c.jsxs("small",{children:["Incremento actual: +",t]})})})]}),c.jsxs("div",{className:"btn-group mb-3",role:"group",children:[c.jsxs("button",{onClick:p,className:"btn btn-warning",disabled:n<=0,children:[" Disminuir (",t,")"]}),c.jsx("button",{onClick:g,className:"btn btn-secondary",children:" Reset"}),c.jsxs("button",{onClick:h,className:"btn btn-success",children:[" Aumentar (",t,")"]})]}),c.jsx("div",{className:"progress mb-3",children:c.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${Math.min(n/100*100,100)}%`},children:n>0?`${Math.min(n,100)}%`:""})})]})]}),c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-success text-white",children:c.jsx("h5",{className:"mb-0",children:" Input Controlado"})}),c.jsxs("div",{className:"card-body",children:[c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"Escribe tu nombre:"}),c.jsx("input",{type:"text",className:"form-control",value:o,onChange:x,placeholder:"Tu nombre aqu..."})]}),o&&c.jsxs("div",{className:"alert alert-success",children:[c.jsxs("h5",{children:["Hola, ",o,"! "]}),c.jsxs("p",{children:["Has escrito ",o.length," caracteres."]}),o.length>10&&c.jsx("small",{className:"text-muted",children:"Wow, tienes un nombre largo!"})]})]})]}),c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-info text-white",children:c.jsx("h5",{className:"mb-0",children:" Cmo funciona useState?"})}),c.jsxs("div",{className:"card-body",children:[c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-md-6",children:[c.jsx("h6",{className:"text-primary",children:"Sintaxis:"}),c.jsx("pre",{className:"bg-light p-2 rounded",children:c.jsx("code",{children:"const [state, setState] = useState(initialValue);"})})]}),c.jsxs("div",{className:"col-md-6",children:[c.jsx("h6",{className:"text-primary",children:"Caractersticas:"}),c.jsxs("ul",{className:"list-unstyled",children:[c.jsx("li",{children:" Estado local del componente"}),c.jsx("li",{children:" Preserva valor entre renders"}),c.jsx("li",{children:" Trigger de re-renderizado"}),c.jsx("li",{children:" Puede ser cualquier tipo de dato"})]})]})]}),c.jsxs("div",{className:"mt-3",children:[c.jsx("h6",{className:"text-primary",children:"Ejemplos en este componente:"}),c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-md-4",children:c.jsx("div",{className:"card bg-light",children:c.jsx("div",{className:"card-body p-2",children:c.jsxs("small",{children:[c.jsx("strong",{children:"Contador:"}),c.jsx("br",{}),c.jsx("code",{children:"useState(0)"}),c.jsx("br",{}),c.jsx("span",{className:"text-muted",children:"Nmero inicial: 0"})]})})})}),c.jsx("div",{className:"col-md-4",children:c.jsx("div",{className:"card bg-light",children:c.jsx("div",{className:"card-body p-2",children:c.jsxs("small",{children:[c.jsx("strong",{children:"Paso:"}),c.jsx("br",{}),c.jsx("code",{children:"useState(1)"}),c.jsx("br",{}),c.jsx("span",{className:"text-muted",children:"Nmero inicial: 1"})]})})})}),c.jsx("div",{className:"col-md-4",children:c.jsx("div",{className:"card bg-light",children:c.jsx("div",{className:"card-body p-2",children:c.jsxs("small",{children:[c.jsx("strong",{children:"Nombre:"}),c.jsx("br",{}),c.jsx("code",{children:"useState('')"}),c.jsx("br",{}),c.jsx("span",{className:"text-muted",children:"String vaco inicial"})]})})})})]})]})]})]}),c.jsx("div",{className:"text-center",children:c.jsx("a",{href:"/",className:"btn btn-secondary btn-lg",children:" Volver al Home"})})]})})})}/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $0="popstate";function fN(n={}){function e(i,o){let{pathname:u,search:h,hash:p}=i.location;return jp("",{pathname:u,search:h,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:kc(o)}return pN(e,t,null,n)}function pt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function qs(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mN(){return Math.random().toString(36).substring(2,10)}function G0(n,e){return{usr:n.state,key:n.key,idx:e}}function jp(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Zo(e):e,state:t,key:e&&e.key||i||mN()}}function kc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Zo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function pN(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:u=!1}=i,h=o.history,p="POP",g=null,y=x();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function x(){return(h.state||{idx:null}).idx}function E(){p="POP";let B=x(),ee=B==null?null:B-y;y=B,g&&g({action:p,location:G.location,delta:ee})}function N(B,ee){p="PUSH";let Q=jp(G.location,B,ee);y=x()+1;let ie=G0(Q,y),ve=G.createHref(Q);try{h.pushState(ie,"",ve)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(ve)}u&&g&&g({action:p,location:G.location,delta:1})}function O(B,ee){p="REPLACE";let Q=jp(G.location,B,ee);y=x();let ie=G0(Q,y),ve=G.createHref(Q);h.replaceState(ie,"",ve),u&&g&&g({action:p,location:G.location,delta:0})}function V(B){return gN(B)}let G={get action(){return p},get location(){return n(o,h)},listen(B){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener($0,E),g=B,()=>{o.removeEventListener($0,E),g=null}},createHref(B){return e(o,B)},createURL:V,encodeLocation(B){let ee=V(B);return{pathname:ee.pathname,search:ee.search,hash:ee.hash}},push:N,replace:O,go(B){return h.go(B)}};return G}function gN(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),pt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:kc(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function Lx(n,e,t="/"){return yN(n,e,t,!1)}function yN(n,e,t,i){let o=typeof e=="string"?Zo(e):e,u=Tr(o.pathname||"/",t);if(u==null)return null;let h=Ux(n);vN(h);let p=null;for(let g=0;p==null&&g<h.length;++g){let y=RN(u);p=AN(h[g],y,i)}return p}function Ux(n,e=[],t=[],i="",o=!1){let u=(h,p,g=o,y)=>{let x={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(i)&&g)return;pt(x.relativePath.startsWith(i),`Absolute route path "${x.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(i.length)}let E=br([i,x.relativePath]),N=t.concat(x);h.children&&h.children.length>0&&(pt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),Ux(h.children,e,N,E,g)),!(h.path==null&&!h.index)&&e.push({path:E,score:NN(E,h.index),routesMeta:N})};return n.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))u(h,p);else for(let g of Bx(h.path))u(h,p,!0,g)}),e}function Bx(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(i.length===0)return o?[u,""]:[u];let h=Bx(i.join("/")),p=[];return p.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&p.push(...h),p.map(g=>n.startsWith("/")&&g===""?"/":g)}function vN(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:SN(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var bN=/^:[\w-]+$/,wN=3,xN=2,_N=1,EN=10,TN=-2,K0=n=>n==="*";function NN(n,e){let t=n.split("/"),i=t.length;return t.some(K0)&&(i+=TN),e&&(i+=xN),t.filter(o=>!K0(o)).reduce((o,u)=>o+(bN.test(u)?wN:u===""?_N:EN),i)}function SN(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function AN(n,e,t=!1){let{routesMeta:i}=n,o={},u="/",h=[];for(let p=0;p<i.length;++p){let g=i[p],y=p===i.length-1,x=u==="/"?e:e.slice(u.length)||"/",E=Wd({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},x),N=g.route;if(!E&&y&&t&&!i[i.length-1].route.index&&(E=Wd({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},x)),!E)return null;Object.assign(o,E.params),h.push({params:o,pathname:br([u,E.pathname]),pathnameBase:DN(br([u,E.pathnameBase])),route:N}),E.pathnameBase!=="/"&&(u=br([u,E.pathnameBase]))}return h}function Wd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=CN(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:i.reduce((y,{paramName:x,isOptional:E},N)=>{if(x==="*"){let V=p[N]||"";h=u.slice(0,u.length-V.length).replace(/(.)\/+$/,"$1")}const O=p[N];return E&&!O?y[x]=void 0:y[x]=(O||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:n}}function CN(n,e=!1,t=!0){qs(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,g)=>(i.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function RN(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qs(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Tr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function jN(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?Zo(n):n;return{pathname:t?t.startsWith("/")?t:IN(t,e):e,search:ON(i),hash:MN(o)}}function IN(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function hp(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kN(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function zx(n){let e=kN(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Hx(n,e,t,i=!1){let o;typeof n=="string"?o=Zo(n):(o={...n},pt(!o.pathname||!o.pathname.includes("?"),hp("?","pathname","search",o)),pt(!o.pathname||!o.pathname.includes("#"),hp("#","pathname","hash",o)),pt(!o.search||!o.search.includes("#"),hp("#","search","hash",o)));let u=n===""||o.pathname==="",h=u?"/":o.pathname,p;if(h==null)p=t;else{let E=e.length-1;if(!i&&h.startsWith("..")){let N=h.split("/");for(;N[0]==="..";)N.shift(),E-=1;o.pathname=N.join("/")}p=E>=0?e[E]:"/"}let g=jN(o,p),y=h&&h!=="/"&&h.endsWith("/"),x=(u||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(y||x)&&(g.pathname+="/"),g}var br=n=>n.join("/").replace(/\/\/+/g,"/"),DN=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ON=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,MN=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function PN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var qx=["POST","PUT","PATCH","DELETE"];new Set(qx);var VN=["GET",...qx];new Set(VN);var Jo=I.createContext(null);Jo.displayName="DataRouter";var Ch=I.createContext(null);Ch.displayName="DataRouterState";I.createContext(!1);var Fx=I.createContext({isTransitioning:!1});Fx.displayName="ViewTransition";var LN=I.createContext(new Map);LN.displayName="Fetchers";var UN=I.createContext(null);UN.displayName="Await";var Ks=I.createContext(null);Ks.displayName="Navigation";var qc=I.createContext(null);qc.displayName="Location";var Rr=I.createContext({outlet:null,matches:[],isDataRoute:!1});Rr.displayName="Route";var cg=I.createContext(null);cg.displayName="RouteError";function BN(n,{relative:e}={}){pt(Fc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=I.useContext(Ks),{hash:o,pathname:u,search:h}=Gc(n,{relative:e}),p=u;return t!=="/"&&(p=u==="/"?t:br([t,u])),i.createHref({pathname:p,search:h,hash:o})}function Fc(){return I.useContext(qc)!=null}function Pa(){return pt(Fc(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(qc).location}var $x="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Gx(n){I.useContext(Ks).static||I.useLayoutEffect(n)}function $c(){let{isDataRoute:n}=I.useContext(Rr);return n?JN():zN()}function zN(){pt(Fc(),"useNavigate() may be used only in the context of a <Router> component.");let n=I.useContext(Jo),{basename:e,navigator:t}=I.useContext(Ks),{matches:i}=I.useContext(Rr),{pathname:o}=Pa(),u=JSON.stringify(zx(i)),h=I.useRef(!1);return Gx(()=>{h.current=!0}),I.useCallback((g,y={})=>{if(qs(h.current,$x),!h.current)return;if(typeof g=="number"){t.go(g);return}let x=Hx(g,JSON.parse(u),o,y.relative==="path");n==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:br([e,x.pathname])),(y.replace?t.replace:t.push)(x,y.state,y)},[e,t,u,o,n])}I.createContext(null);function Gc(n,{relative:e}={}){let{matches:t}=I.useContext(Rr),{pathname:i}=Pa(),o=JSON.stringify(zx(t));return I.useMemo(()=>Hx(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function HN(n,e){return Kx(n,e)}function Kx(n,e,t,i,o){pt(Fc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=I.useContext(Ks),{matches:h}=I.useContext(Rr),p=h[h.length-1],g=p?p.params:{},y=p?p.pathname:"/",x=p?p.pathnameBase:"/",E=p&&p.route;{let Q=E&&E.path||"";Yx(y,!E||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let N=Pa(),O;if(e){let Q=typeof e=="string"?Zo(e):e;pt(x==="/"||Q.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),O=Q}else O=N;let V=O.pathname||"/",G=V;if(x!=="/"){let Q=x.replace(/^\//,"").split("/");G="/"+V.replace(/^\//,"").split("/").slice(Q.length).join("/")}let B=Lx(n,{pathname:G});qs(E||B!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),qs(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ee=KN(B&&B.map(Q=>Object.assign({},Q,{params:Object.assign({},g,Q.params),pathname:br([x,u.encodeLocation?u.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?x:br([x,u.encodeLocation?u.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),h,t,i,o);return e&&ee?I.createElement(qc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},ee):ee}function qN(){let n=ZN(),e=PN(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:u},"ErrorBoundary")," or"," ",I.createElement("code",{style:u},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),t?I.createElement("pre",{style:o},t):null,h)}var FN=I.createElement(qN,null),$N=class extends I.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?I.createElement(Rr.Provider,{value:this.props.routeContext},I.createElement(cg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function GN({routeContext:n,match:e,children:t}){let i=I.useContext(Jo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(Rr.Provider,{value:n},t)}function KN(n,e=[],t=null,i=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let u=n,h=t?.errors;if(h!=null){let y=u.findIndex(x=>x.route.id&&h?.[x.route.id]!==void 0);pt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let p=!1,g=-1;if(t)for(let y=0;y<u.length;y++){let x=u[y];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(g=y),x.route.id){let{loaderData:E,errors:N}=t,O=x.route.loader&&!E.hasOwnProperty(x.route.id)&&(!N||N[x.route.id]===void 0);if(x.route.lazy||O){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((y,x,E)=>{let N,O=!1,V=null,G=null;t&&(N=h&&x.route.id?h[x.route.id]:void 0,V=x.route.errorElement||FN,p&&(g<0&&E===0?(Yx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,G=null):g===E&&(O=!0,G=x.route.hydrateFallbackElement||null)));let B=e.concat(u.slice(0,E+1)),ee=()=>{let Q;return N?Q=V:O?Q=G:x.route.Component?Q=I.createElement(x.route.Component,null):x.route.element?Q=x.route.element:Q=y,I.createElement(GN,{match:x,routeContext:{outlet:y,matches:B,isDataRoute:t!=null},children:Q})};return t&&(x.route.ErrorBoundary||x.route.errorElement||E===0)?I.createElement($N,{location:t.location,revalidation:t.revalidation,component:V,error:N,children:ee(),routeContext:{outlet:null,matches:B,isDataRoute:!0},unstable_onError:i}):ee()},null)}function ug(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YN(n){let e=I.useContext(Jo);return pt(e,ug(n)),e}function QN(n){let e=I.useContext(Ch);return pt(e,ug(n)),e}function XN(n){let e=I.useContext(Rr);return pt(e,ug(n)),e}function dg(n){let e=XN(n),t=e.matches[e.matches.length-1];return pt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function WN(){return dg("useRouteId")}function ZN(){let n=I.useContext(cg),e=QN("useRouteError"),t=dg("useRouteError");return n!==void 0?n:e.errors?.[t]}function JN(){let{router:n}=YN("useNavigate"),e=dg("useNavigate"),t=I.useRef(!1);return Gx(()=>{t.current=!0}),I.useCallback(async(o,u={})=>{qs(t.current,$x),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...u}))},[n,e])}var Y0={};function Yx(n,e,t){!e&&!Y0[n]&&(Y0[n]=!0,qs(!1,t))}I.memo(eS);function eS({routes:n,future:e,state:t,unstable_onError:i}){return Kx(n,void 0,t,i,e)}function bn(n){pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tS({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:u=!1}){pt(!Fc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),p=I.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=Zo(t));let{pathname:g="/",search:y="",hash:x="",state:E=null,key:N="default"}=t,O=I.useMemo(()=>{let V=Tr(g,h);return V==null?null:{location:{pathname:V,search:y,hash:x,state:E,key:N},navigationType:i}},[h,g,y,x,E,N,i]);return qs(O!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${x}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:I.createElement(Ks.Provider,{value:p},I.createElement(qc.Provider,{children:e,value:O}))}function nS({children:n,location:e}){return HN(Ip(n),e)}function Ip(n,e=[]){let t=[];return I.Children.forEach(n,(i,o)=>{if(!I.isValidElement(i))return;let u=[...e,o];if(i.type===I.Fragment){t.push.apply(t,Ip(i.props.children,u));return}pt(i.type===bn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=Ip(i.props.children,u)),t.push(h)}),t}var Ld="get",Ud="application/x-www-form-urlencoded";function Rh(n){return n!=null&&typeof n.tagName=="string"}function sS(n){return Rh(n)&&n.tagName.toLowerCase()==="button"}function rS(n){return Rh(n)&&n.tagName.toLowerCase()==="form"}function iS(n){return Rh(n)&&n.tagName.toLowerCase()==="input"}function aS(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function oS(n,e){return n.button===0&&(!e||e==="_self")&&!aS(n)}var Rd=null;function lS(){if(Rd===null)try{new FormData(document.createElement("form"),0),Rd=!1}catch{Rd=!0}return Rd}var cS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fp(n){return n!=null&&!cS.has(n)?(qs(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ud}"`),null):n}function uS(n,e){let t,i,o,u,h;if(rS(n)){let p=n.getAttribute("action");i=p?Tr(p,e):null,t=n.getAttribute("method")||Ld,o=fp(n.getAttribute("enctype"))||Ud,u=new FormData(n)}else if(sS(n)||iS(n)&&(n.type==="submit"||n.type==="image")){let p=n.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||p.getAttribute("action");if(i=g?Tr(g,e):null,t=n.getAttribute("formmethod")||p.getAttribute("method")||Ld,o=fp(n.getAttribute("formenctype"))||fp(p.getAttribute("enctype"))||Ud,u=new FormData(p,n),!lS()){let{name:y,type:x,value:E}=n;if(x==="image"){let N=y?`${y}.`:"";u.append(`${N}x`,"0"),u.append(`${N}y`,"0")}else y&&u.append(y,E)}}else{if(Rh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ld,i=null,o=Ud,h=n}return u&&o==="text/plain"&&(h=u,u=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function hg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function dS(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Tr(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function hS(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fS(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function mS(n,e,t){let i=await Promise.all(n.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await hS(u,t);return h.links?h.links():[]}return[]}));return vS(i.flat(1).filter(fS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Q0(n,e,t,i,o,u){let h=(g,y)=>t[y]?g.route.id!==t[y].route.id:!0,p=(g,y)=>t[y].pathname!==g.pathname||t[y].route.path?.endsWith("*")&&t[y].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,y)=>h(g,y)||p(g,y)):u==="data"?e.filter((g,y)=>{let x=i.routes[g.route.id];if(!x||!x.hasLoader)return!1;if(h(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let E=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function pS(n,e,{includeHydrateFallback:t}={}){return gS(n.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function gS(n){return[...new Set(n)]}function yS(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function vS(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let u=JSON.stringify(yS(o));return t.has(u)||(t.add(u),i.push({key:u,link:o})),i},[])}function Qx(){let n=I.useContext(Jo);return hg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function bS(){let n=I.useContext(Ch);return hg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var fg=I.createContext(void 0);fg.displayName="FrameworkContext";function Xx(){let n=I.useContext(fg);return hg(n,"You must render this element inside a <HydratedRouter> element"),n}function wS(n,e){let t=I.useContext(fg),[i,o]=I.useState(!1),[u,h]=I.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:x,onTouchStart:E}=e,N=I.useRef(null);I.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let G=ee=>{ee.forEach(Q=>{h(Q.isIntersecting)})},B=new IntersectionObserver(G,{threshold:.5});return N.current&&B.observe(N.current),()=>{B.disconnect()}}},[n]),I.useEffect(()=>{if(i){let G=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(G)}}},[i]);let O=()=>{o(!0)},V=()=>{o(!1),h(!1)};return t?n!=="intent"?[u,N,{}]:[u,N,{onFocus:yc(p,O),onBlur:yc(g,V),onMouseEnter:yc(y,O),onMouseLeave:yc(x,V),onTouchStart:yc(E,O)}]:[!1,N,{}]}function yc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function xS({page:n,...e}){let{router:t}=Qx(),i=I.useMemo(()=>Lx(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?I.createElement(ES,{page:n,matches:i,...e}):null}function _S(n){let{manifest:e,routeModules:t}=Xx(),[i,o]=I.useState([]);return I.useEffect(()=>{let u=!1;return mS(n,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[n,e,t]),i}function ES({page:n,matches:e,...t}){let i=Pa(),{manifest:o,routeModules:u}=Xx(),{basename:h}=Qx(),{loaderData:p,matches:g}=bS(),y=I.useMemo(()=>Q0(n,e,g,o,i,"data"),[n,e,g,o,i]),x=I.useMemo(()=>Q0(n,e,g,o,i,"assets"),[n,e,g,o,i]),E=I.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let V=new Set,G=!1;if(e.forEach(ee=>{let Q=o.routes[ee.route.id];!Q||!Q.hasLoader||(!y.some(ie=>ie.route.id===ee.route.id)&&ee.route.id in p&&u[ee.route.id]?.shouldRevalidate||Q.hasClientLoader?G=!0:V.add(ee.route.id))}),V.size===0)return[];let B=dS(n,h,"data");return G&&V.size>0&&B.searchParams.set("_routes",e.filter(ee=>V.has(ee.route.id)).map(ee=>ee.route.id).join(",")),[B.pathname+B.search]},[h,p,i,o,y,e,n,u]),N=I.useMemo(()=>pS(x,o),[x,o]),O=_S(x);return I.createElement(I.Fragment,null,E.map(V=>I.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...t})),N.map(V=>I.createElement("link",{key:V,rel:"modulepreload",href:V,...t})),O.map(({key:V,link:G})=>I.createElement("link",{key:V,nonce:t.nonce,...G})))}function TS(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Wx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Wx&&(window.__reactRouterVersion="7.8.2")}catch{}function NS({basename:n,children:e,window:t}){let i=I.useRef();i.current==null&&(i.current=fN({window:t,v5Compat:!0}));let o=i.current,[u,h]=I.useState({action:o.action,location:o.location}),p=I.useCallback(g=>{I.startTransition(()=>h(g))},[h]);return I.useLayoutEffect(()=>o.listen(p),[o,p]),I.createElement(tS,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:o})}var Zx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zd=I.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:u,replace:h,state:p,target:g,to:y,preventScrollReset:x,viewTransition:E,...N},O){let{basename:V}=I.useContext(Ks),G=typeof y=="string"&&Zx.test(y),B,ee=!1;if(typeof y=="string"&&G&&(B=y,Wx))try{let C=new URL(window.location.href),P=y.startsWith("//")?new URL(C.protocol+y):new URL(y),D=Tr(P.pathname,V);P.origin===C.origin&&D!=null?y=D+P.search+P.hash:ee=!0}catch{qs(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=BN(y,{relative:o}),[ie,ve,ce]=wS(i,N),be=RS(y,{replace:h,state:p,target:g,preventScrollReset:x,relative:o,viewTransition:E});function A(C){e&&e(C),C.defaultPrevented||be(C)}let S=I.createElement("a",{...N,...ce,href:B||Q,onClick:ee||u?e:A,ref:TS(O,ve),target:g,"data-discover":!G&&t==="render"?"true":void 0});return ie&&!G?I.createElement(I.Fragment,null,S,I.createElement(xS,{page:Q})):S});Zd.displayName="Link";var SS=I.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:u,to:h,viewTransition:p,children:g,...y},x){let E=Gc(h,{relative:y.relative}),N=Pa(),O=I.useContext(Ch),{navigator:V,basename:G}=I.useContext(Ks),B=O!=null&&OS(E)&&p===!0,ee=V.encodeLocation?V.encodeLocation(E).pathname:E.pathname,Q=N.pathname,ie=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;t||(Q=Q.toLowerCase(),ie=ie?ie.toLowerCase():null,ee=ee.toLowerCase()),ie&&G&&(ie=Tr(ie,G)||ie);const ve=ee!=="/"&&ee.endsWith("/")?ee.length-1:ee.length;let ce=Q===ee||!o&&Q.startsWith(ee)&&Q.charAt(ve)==="/",be=ie!=null&&(ie===ee||!o&&ie.startsWith(ee)&&ie.charAt(ee.length)==="/"),A={isActive:ce,isPending:be,isTransitioning:B},S=ce?e:void 0,C;typeof i=="function"?C=i(A):C=[i,ce?"active":null,be?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(A):u;return I.createElement(Zd,{...y,"aria-current":S,className:C,ref:x,style:P,to:h,viewTransition:p},typeof g=="function"?g(A):g)});SS.displayName="NavLink";var AS=I.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:u,method:h=Ld,action:p,onSubmit:g,relative:y,preventScrollReset:x,viewTransition:E,...N},O)=>{let V=kS(),G=DS(p,{relative:y}),B=h.toLowerCase()==="get"?"get":"post",ee=typeof p=="string"&&Zx.test(p),Q=ie=>{if(g&&g(ie),ie.defaultPrevented)return;ie.preventDefault();let ve=ie.nativeEvent.submitter,ce=ve?.getAttribute("formmethod")||h;V(ve||ie.currentTarget,{fetcherKey:e,method:ce,navigate:t,replace:o,state:u,relative:y,preventScrollReset:x,viewTransition:E})};return I.createElement("form",{ref:O,method:B,action:G,onSubmit:i?g:Q,...N,"data-discover":!ee&&n==="render"?"true":void 0})});AS.displayName="Form";function CS(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jx(n){let e=I.useContext(Jo);return pt(e,CS(n)),e}function RS(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:u,viewTransition:h}={}){let p=$c(),g=Pa(),y=Gc(n,{relative:u});return I.useCallback(x=>{if(oS(x,e)){x.preventDefault();let E=t!==void 0?t:kc(g)===kc(y);p(n,{replace:E,state:i,preventScrollReset:o,relative:u,viewTransition:h})}},[g,p,y,t,i,e,n,o,u,h])}var jS=0,IS=()=>`__${String(++jS)}__`;function kS(){let{router:n}=Jx("useSubmit"),{basename:e}=I.useContext(Ks),t=WN();return I.useCallback(async(i,o={})=>{let{action:u,method:h,encType:p,formData:g,body:y}=uS(i,e);if(o.navigate===!1){let x=o.fetcherKey||IS();await n.fetch(x,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||p,flushSync:o.flushSync})}else await n.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function DS(n,{relative:e}={}){let{basename:t}=I.useContext(Ks),i=I.useContext(Rr);pt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),u={...Gc(n||".",{relative:e})},h=Pa();if(n==null){u.search=h.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(x=>x==="")){p.delete("index"),g.filter(E=>E).forEach(E=>p.append("index",E));let x=p.toString();u.search=x?`?${x}`:""}}return(!n||n===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:br([t,u.pathname])),kc(u)}function OS(n,{relative:e}={}){let t=I.useContext(Fx);pt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Jx("useViewTransitionState"),o=Gc(n,{relative:e});if(!t.isTransitioning)return!1;let u=Tr(t.currentLocation.pathname,i)||t.currentLocation.pathname,h=Tr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Wd(o.pathname,h)!=null||Wd(o.pathname,u)!=null}function MS(){const[n,e]=I.useState(window.location.pathname),[t,i]=I.useState(""),[o,u]=I.useState([]),h=E=>{console.log(`Navegando a: ${E}`),e(E),u(N=>[...N,{path:E,timestamp:new Date().toLocaleTimeString()}]),window.history.pushState({},"",E)},p=()=>{window.history.back(),u(E=>[...E,{path:"BACK",timestamp:new Date().toLocaleTimeString()}])},g=()=>{window.history.forward(),u(E=>[...E,{path:"FORWARD",timestamp:new Date().toLocaleTimeString()}])},y=()=>{t.trim()&&(h(t),i(""))},x=[{path:"/home",name:" Home",description:"Pgina principal"},{path:"/profile",name:" Perfil",description:"Perfil de usuario"},{path:"/settings",name:" Configuracin",description:"Ajustes de la aplicacin"},{path:"/about",name:" Acerca de",description:"Informacin del sitio"},{path:"/contact",name:" Contacto",description:"Formulario de contacto"}];return c.jsx("div",{className:"container mt-4",children:c.jsx("div",{className:"row justify-content-center",children:c.jsxs("div",{className:"col-lg-10",children:[c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("h1",{className:"display-4 text-primary",children:" useNavigate Hook"}),c.jsx("p",{className:"lead text-muted",children:"Navegacin programtica con React Router"}),c.jsxs("div",{className:"badge bg-info fs-6",children:["Ruta actual: ",c.jsx("code",{children:n})]})]}),c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-lg-8",children:[c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-primary text-white",children:c.jsx("h5",{className:"mb-0",children:" Rutas Predefinidas"})}),c.jsx("div",{className:"card-body",children:c.jsx("div",{className:"row",children:x.map((E,N)=>c.jsx("div",{className:"col-md-6 mb-3",children:c.jsx("div",{className:"card h-100 border-light",children:c.jsxs("div",{className:"card-body d-flex flex-column",children:[c.jsx("h6",{className:"card-title",children:E.name}),c.jsx("p",{className:"card-text text-muted small flex-grow-1",children:E.description}),c.jsx("button",{onClick:()=>h(E.path),className:`btn btn-sm ${n===E.path?"btn-success":"btn-outline-primary"}`,children:n===E.path?" Actual":" Ir"})]})})},N))})})]}),c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-success text-white",children:c.jsx("h5",{className:"mb-0",children:" Navegacin Personalizada"})}),c.jsxs("div",{className:"card-body",children:[c.jsxs("div",{className:"input-group mb-3",children:[c.jsx("span",{className:"input-group-text",children:""}),c.jsx("input",{type:"text",className:"form-control",placeholder:"Escribe una ruta (ej: /mi-pagina)",value:t,onChange:E=>i(E.target.value),onKeyPress:E=>E.key==="Enter"&&y()}),c.jsx("button",{className:"btn btn-success",onClick:y,disabled:!t.trim(),children:"Navegar"})]}),c.jsx("small",{className:"text-muted",children:'Tip: Las rutas deben empezar con "/" (ej: /productos, /usuario/123)'})]})]}),c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-warning text-dark",children:c.jsx("h5",{className:"mb-0",children:" Controles de Historial"})}),c.jsx("div",{className:"card-body",children:c.jsxs("div",{className:"btn-group w-100",role:"group",children:[c.jsx("button",{className:"btn btn-outline-secondary",onClick:p,children:" Atrs"}),c.jsx("button",{className:"btn btn-outline-secondary",onClick:g,children:" Adelante"}),c.jsx("button",{className:"btn btn-outline-danger",onClick:()=>u([]),children:" Limpiar Historial"})]})})]})]}),c.jsxs("div",{className:"col-lg-4",children:[c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-info text-white",children:c.jsx("h6",{className:"mb-0",children:" Historial de Navegacin"})}),c.jsx("div",{className:"card-body",children:o.length===0?c.jsx("p",{className:"text-muted small mb-0",children:"No hay navegacin registrada"}):c.jsx("div",{className:"overflow-auto",style:{maxHeight:"200px"},children:o.slice(-10).reverse().map((E,N)=>c.jsxs("div",{className:"border-bottom pb-2 mb-2 small",children:[c.jsx("div",{className:"fw-bold",children:E.path}),c.jsx("div",{className:"text-muted",children:E.timestamp})]},N))})})]}),c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"card-header bg-secondary text-white",children:c.jsx("h6",{className:"mb-0",children:" useNavigate Info"})}),c.jsxs("div",{className:"card-body",children:[c.jsxs("div",{className:"mb-3",children:[c.jsx("strong",{className:"text-primary",children:"Sintaxis:"}),c.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:c.jsx("code",{children:"const navigate = useNavigate();"})})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("strong",{className:"text-primary",children:"Uso bsico:"}),c.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:c.jsx("code",{children:`navigate('/ruta');
navigate(-1); // atrs
navigate(1);  // adelante`})})]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-primary",children:"Caractersticas:"}),c.jsxs("ul",{className:"list-unstyled mt-2 small",children:[c.jsx("li",{children:" Navegacin programtica"}),c.jsx("li",{children:" Reemplazo de history.push"}),c.jsx("li",{children:" Compatible con historial"}),c.jsx("li",{children:" Funciona con estado"})]})]})]})]})]})]}),c.jsx("div",{className:"text-center mt-4",children:c.jsx("a",{href:"/",className:"btn btn-secondary btn-lg",children:" Volver al Home"})})]})})})}function PS(){const[n,e]=I.useState(0),[t,i]=I.useState(window.innerWidth),[o,u]=I.useState(0),[h,p]=I.useState(!1),[g,y]=I.useState({x:0,y:0});I.useEffect(()=>{document.title=`Contador: ${n}`,console.log("El componente se renderiz. Count:",n)}),I.useEffect(()=>(console.log("Componente montado"),()=>{console.log("Componente se va a desmontar")}),[]),I.useEffect(()=>{console.log(`El contador cambi a: ${n}`),n>=10&&alert("Has llegado a 10!")},[n]),I.useEffect(()=>{const V=()=>{i(window.innerWidth)},G=B=>{y({x:B.clientX,y:B.clientY})};return window.addEventListener("resize",V),window.addEventListener("mousemove",G),()=>{window.removeEventListener("resize",V),window.removeEventListener("mousemove",G)}},[]),I.useEffect(()=>{let V;return h&&(V=setInterval(()=>{u(G=>G+1)},1e3)),()=>{V&&clearInterval(V)}},[h]);const x=()=>p(!0),E=()=>p(!1),N=()=>{p(!1),u(0)},O=V=>{const G=Math.floor(V/60),B=V%60;return`${G.toString().padStart(2,"0")}:${B.toString().padStart(2,"0")}`};return c.jsx("div",{className:"container mt-4",children:c.jsx("div",{className:"row justify-content-center",children:c.jsxs("div",{className:"col-lg-10",children:[c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("h1",{className:"display-4 text-primary",children:" useEffect Hook"}),c.jsx("p",{className:"lead text-muted",children:"Efectos secundarios en componentes funcionales"})]}),c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-lg-8",children:[c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-primary text-white",children:c.jsx("h5",{className:"mb-0",children:" Effect en Cada Render"})}),c.jsxs("div",{className:"card-body text-center",children:[c.jsx("h2",{className:"display-4 text-primary mb-3",children:n}),c.jsx("p",{className:"text-muted mb-3",children:"Observa cmo el ttulo de la pgina cambia con cada click"}),c.jsxs("div",{className:"btn-group",children:[c.jsx("button",{className:"btn btn-outline-danger",onClick:()=>e(n-1),children:" Decrementar"}),c.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>e(0),children:" Reset"}),c.jsx("button",{className:"btn btn-outline-success",onClick:()=>e(n+1),children:" Incrementar"})]})]})]}),c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-success text-white",children:c.jsx("h5",{className:"mb-0",children:" Timer con Effect"})}),c.jsxs("div",{className:"card-body text-center",children:[c.jsx("h3",{className:"display-5 text-success mb-3 font-monospace",children:O(o)}),c.jsxs("div",{className:"btn-group",children:[c.jsx("button",{className:"btn btn-success",onClick:x,disabled:h,children:" Start"}),c.jsx("button",{className:"btn btn-warning",onClick:E,disabled:!h,children:" Pause"}),c.jsx("button",{className:"btn btn-secondary",onClick:N,children:" Reset"})]}),c.jsx("div",{className:"mt-3",children:c.jsx("span",{className:`badge ${h?"bg-success":"bg-secondary"}`,children:h?" Corriendo":" Detenido"})})]})]}),c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-info text-white",children:c.jsx("h5",{className:"mb-0",children:" Event Listeners"})}),c.jsx("div",{className:"card-body",children:c.jsxs("div",{className:"row text-center",children:[c.jsxs("div",{className:"col-md-6",children:[c.jsx("h6",{className:"text-primary",children:"Tamao de Ventana"}),c.jsxs("p",{className:"fs-4 text-info",children:[t,"px"]}),c.jsx("small",{className:"text-muted",children:"Redimensiona la ventana"})]}),c.jsxs("div",{className:"col-md-6",children:[c.jsx("h6",{className:"text-primary",children:"Posicin del Mouse"}),c.jsxs("p",{className:"fs-4 text-info",children:["X: ",g.x,", Y: ",g.y]}),c.jsx("small",{className:"text-muted",children:"Mueve el cursor"})]})]})})]})]}),c.jsxs("div",{className:"col-lg-4",children:[c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-warning text-dark",children:c.jsx("h6",{className:"mb-0",children:" Tipos de useEffect"})}),c.jsxs("div",{className:"card-body",children:[c.jsxs("div",{className:"mb-3",children:[c.jsx("strong",{className:"text-primary",children:"Sin dependencias:"}),c.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:c.jsx("code",{children:`useEffect(() => {
  // Se ejecuta en cada render
});`})})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("strong",{className:"text-primary",children:"Array vaco:"}),c.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:c.jsx("code",{children:`useEffect(() => {
  // Solo una vez (mount)
}, []);`})})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("strong",{className:"text-primary",children:"Con dependencias:"}),c.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:c.jsx("code",{children:`useEffect(() => {
  // Cuando cambia 'count'
}, [count]);`})})]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-primary",children:"Con cleanup:"}),c.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:c.jsx("code",{children:`useEffect(() => {
  // Setup
  return () => {
    // Cleanup
  };
}, []);`})})]})]})]}),c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-secondary text-white",children:c.jsx("h6",{className:"mb-0",children:" Casos de Uso Comunes"})}),c.jsx("div",{className:"card-body",children:c.jsxs("ul",{className:"list-unstyled small",children:[c.jsxs("li",{className:"mb-2",children:[c.jsx("strong",{children:" API Calls:"}),c.jsx("br",{}),"Fetch data cuando se monta"]}),c.jsxs("li",{className:"mb-2",children:[c.jsx("strong",{children:" DOM Updates:"}),c.jsx("br",{}),"Cambiar ttulo, focus, etc."]}),c.jsxs("li",{className:"mb-2",children:[c.jsx("strong",{children:" Timers:"}),c.jsx("br",{}),"setInterval, setTimeout"]}),c.jsxs("li",{className:"mb-2",children:[c.jsx("strong",{children:" Event Listeners:"}),c.jsx("br",{}),"Scroll, resize, mouse, etc."]}),c.jsxs("li",{children:[c.jsx("strong",{children:" Cleanup:"}),c.jsx("br",{}),"Limpiar subscripciones"]})]})})]}),c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"card-header bg-dark text-white",children:c.jsx("h6",{className:"mb-0",children:" Estado Actual"})}),c.jsx("div",{className:"card-body",children:c.jsx("table",{className:"table table-sm",children:c.jsxs("tbody",{children:[c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("strong",{children:"Contador:"})}),c.jsx("td",{children:n})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("strong",{children:"Timer:"})}),c.jsx("td",{children:O(o)})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("strong",{children:"Ventana:"})}),c.jsxs("td",{children:[t,"px"]})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("strong",{children:"Mouse X:"})}),c.jsx("td",{children:g.x})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("strong",{children:"Mouse Y:"})}),c.jsx("td",{children:g.y})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("strong",{children:"Timer activo:"})}),c.jsx("td",{children:c.jsx("span",{className:`badge ${h?"bg-success":"bg-secondary"}`,children:h?"S":"No"})})]})]})})})]})]})]}),c.jsxs("div",{className:"card mt-4",children:[c.jsx("div",{className:"card-header bg-danger text-white",children:c.jsx("h5",{className:"mb-0",children:" Consideraciones Importantes"})}),c.jsx("div",{className:"card-body",children:c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-md-6",children:[c.jsx("h6",{className:"text-danger",children:" Errores Comunes:"}),c.jsxs("ul",{className:"small",children:[c.jsx("li",{children:"Olvidar el array de dependencias"}),c.jsx("li",{children:"No hacer cleanup de timers"}),c.jsx("li",{children:"No remover event listeners"}),c.jsx("li",{children:"Infinite loops por dependencias"}),c.jsx("li",{children:"Memory leaks por no limpiar"})]})]}),c.jsxs("div",{className:"col-md-6",children:[c.jsx("h6",{className:"text-success",children:" Buenas Prcticas:"}),c.jsxs("ul",{className:"small",children:[c.jsx("li",{children:"Siempre incluir dependencias"}),c.jsx("li",{children:"Usar cleanup cuando sea necesario"}),c.jsx("li",{children:"Separar effects por responsabilidad"}),c.jsx("li",{children:"Usar custom hooks para lgica compleja"}),c.jsx("li",{children:"Testear el comportamiento"})]})]})]})})]}),c.jsx("div",{className:"text-center mt-4",children:c.jsx("a",{href:"/",className:"btn btn-secondary btn-lg",children:" Volver al Home"})})]})})})}const jh=I.createContext(),mg=I.createContext(),Ih=I.createContext();function VS({children:n}){const[e,t]=I.useState("light"),i=()=>{t(u=>u==="light"?"dark":"light")},o={light:{backgroundColor:"#ffffff",color:"#000000",borderColor:"#dee2e6"},dark:{backgroundColor:"#343a40",color:"#ffffff",borderColor:"#495057"}};return c.jsx(jh.Provider,{value:{theme:e,toggleTheme:i,styles:o[e]},children:n})}function LS({children:n}){const[e,t]=I.useState({name:"Juan Prez",email:"juan@example.com",role:"admin",preferences:{language:"es",notifications:!0}}),i=u=>{t(h=>({...h,...u}))},o=u=>{t(h=>({...h,preferences:{...h.preferences,...u}}))};return c.jsx(mg.Provider,{value:{user:e,updateUser:i,updatePreferences:o},children:n})}function US({children:n}){const[e,t]=I.useState(0),i=()=>t(h=>h+1),o=()=>t(h=>h-1),u=()=>t(0);return c.jsx(Ih.Provider,{value:{count:e,increment:i,decrement:o,reset:u},children:n})}function BS(){const{theme:n,toggleTheme:e,styles:t}=I.useContext(jh);return c.jsx("div",{className:"card mb-3",style:{backgroundColor:t.backgroundColor,color:t.color,borderColor:t.borderColor},children:c.jsxs("div",{className:"card-body",children:[c.jsx("h6",{className:"card-title",children:" Control de Tema"}),c.jsxs("p",{className:"card-text",children:["Tema actual: ",c.jsx("strong",{children:n})]}),c.jsxs("button",{className:`btn ${n==="light"?"btn-dark":"btn-light"}`,onClick:e,children:["Cambiar a ",n==="light"?"Oscuro":"Claro"]})]})})}function zS(){const{user:n,updateUser:e,updatePreferences:t}=I.useContext(mg),i=h=>{e({name:h.target.value})},o=h=>{e({email:h.target.value})},u=()=>{t({notifications:!n.preferences.notifications})};return c.jsxs("div",{className:"card mb-3",children:[c.jsx("div",{className:"card-header bg-info text-white",children:c.jsx("h6",{className:"mb-0",children:" Perfil de Usuario"})}),c.jsx("div",{className:"card-body",children:c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-md-6",children:[c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"Nombre:"}),c.jsx("input",{type:"text",className:"form-control",value:n.name,onChange:i})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"Email:"}),c.jsx("input",{type:"email",className:"form-control",value:n.email,onChange:o})]})]}),c.jsxs("div",{className:"col-md-6",children:[c.jsxs("div",{className:"mb-3",children:[c.jsx("strong",{children:"Rol:"}),c.jsx("span",{className:"badge bg-primary ms-2",children:n.role})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("strong",{children:"Idioma:"}),c.jsx("span",{className:"badge bg-secondary ms-2",children:n.preferences.language})]}),c.jsxs("div",{className:"form-check",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",checked:n.preferences.notifications,onChange:u}),c.jsx("label",{className:"form-check-label",children:"Recibir notificaciones"})]})]})]})})]})}function HS(){const{count:n}=I.useContext(Ih);return c.jsxs("div",{className:"text-center mb-3",children:[c.jsx("h2",{className:"display-4 text-primary",children:n}),c.jsx("p",{className:"text-muted",children:"Contador global"})]})}function qS(){const{increment:n,decrement:e,reset:t}=I.useContext(Ih);return c.jsx("div",{className:"text-center mb-3",children:c.jsxs("div",{className:"btn-group",children:[c.jsx("button",{className:"btn btn-outline-danger",onClick:e,children:" Decrementar"}),c.jsx("button",{className:"btn btn-outline-secondary",onClick:t,children:" Reset"}),c.jsx("button",{className:"btn btn-outline-success",onClick:n,children:" Incrementar"})]})})}function FS(){const{theme:n,styles:e}=I.useContext(jh),{user:t}=I.useContext(mg),{count:i}=I.useContext(Ih);return c.jsx("div",{className:"card",style:{backgroundColor:e.backgroundColor,color:e.color,borderColor:e.borderColor},children:c.jsxs("div",{className:"card-body",children:[c.jsx("h6",{className:"card-title",children:" Componente Anidado Profundo"}),c.jsx("p",{className:"card-text small",children:"Este componente est muy anidado pero puede acceder fcilmente a todos los contextos:"}),c.jsxs("ul",{className:"list-unstyled small",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Tema:"})," ",n]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Usuario:"})," ",t.name," (",t.role,")"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Contador:"})," ",i]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Notificaciones:"})," ",t.preferences.notifications?"Activas":"Inactivas"]})]})]})})}function $S(){return c.jsx(VS,{children:c.jsx(LS,{children:c.jsx(US,{children:c.jsx(GS,{})})})})}function GS(){const{styles:n}=I.useContext(jh);return c.jsx("div",{className:"container mt-4",style:{backgroundColor:n.backgroundColor,color:n.color,minHeight:"100vh"},children:c.jsx("div",{className:"row justify-content-center",children:c.jsxs("div",{className:"col-lg-10",children:[c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("h1",{className:"display-4 text-primary",children:" useContext Hook"}),c.jsx("p",{className:"lead text-muted",children:"Comparte datos entre componentes sin prop drilling"})]}),c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-lg-8",children:[c.jsx(BS,{}),c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-success text-white",children:c.jsx("h5",{className:"mb-0",children:" Contador Global"})}),c.jsxs("div",{className:"card-body",children:[c.jsx(HS,{}),c.jsx(qS,{})]})]}),c.jsx(zS,{}),c.jsx(FS,{})]}),c.jsxs("div",{className:"col-lg-4",children:[c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-primary text-white",children:c.jsx("h6",{className:"mb-0",children:" Sintaxis useContext"})}),c.jsxs("div",{className:"card-body",children:[c.jsxs("div",{className:"mb-3",children:[c.jsx("strong",{children:"1. Crear contexto:"}),c.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:c.jsx("code",{children:"const MyContext = createContext();"})})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("strong",{children:"2. Proveer valor:"}),c.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:c.jsx("code",{children:`<MyContext.Provider value={data}>
  {children}
</MyContext.Provider>`})})]}),c.jsxs("div",{children:[c.jsx("strong",{children:"3. Consumir:"}),c.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:c.jsx("code",{children:"const data = useContext(MyContext);"})})]})]})]}),c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-success text-white",children:c.jsx("h6",{className:"mb-0",children:" Ventajas"})}),c.jsx("div",{className:"card-body",children:c.jsxs("ul",{className:"list-unstyled small",children:[c.jsxs("li",{className:"mb-2",children:[c.jsx("strong",{children:" Sin Prop Drilling:"}),c.jsx("br",{}),"No pasar props por mltiples niveles"]}),c.jsxs("li",{className:"mb-2",children:[c.jsx("strong",{children:" Estado Global:"}),c.jsx("br",{}),"Compartir datos entre componentes"]}),c.jsxs("li",{className:"mb-2",children:[c.jsx("strong",{children:" Cdigo Limpio:"}),c.jsx("br",{}),"Menos props innecesarias"]}),c.jsxs("li",{children:[c.jsx("strong",{children:" Performance:"}),c.jsx("br",{}),"Solo re-renderiza cuando cambia"]})]})})]}),c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-warning text-dark",children:c.jsx("h6",{className:"mb-0",children:" Casos de Uso"})}),c.jsx("div",{className:"card-body",children:c.jsxs("ul",{className:"list-unstyled small",children:[c.jsxs("li",{className:"mb-2",children:[c.jsx("strong",{children:" Temas:"})," Dark/Light mode"]}),c.jsxs("li",{className:"mb-2",children:[c.jsx("strong",{children:" Autenticacin:"})," Usuario actual"]}),c.jsxs("li",{className:"mb-2",children:[c.jsx("strong",{children:" Idioma:"})," i18n/Localizacin"]}),c.jsxs("li",{className:"mb-2",children:[c.jsx("strong",{children:" Carrito:"})," E-commerce state"]}),c.jsxs("li",{children:[c.jsx("strong",{children:" Configuracin:"})," App settings"]})]})})]}),c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"card-header bg-danger text-white",children:c.jsx("h6",{className:"mb-0",children:" Consideraciones"})}),c.jsx("div",{className:"card-body",children:c.jsxs("ul",{className:"list-unstyled small",children:[c.jsxs("li",{className:"mb-2",children:[c.jsx("strong",{children:" No abuses:"}),c.jsx("br",{}),"Solo para datos realmente globales"]}),c.jsxs("li",{className:"mb-2",children:[c.jsx("strong",{children:" Re-renders:"}),c.jsx("br",{}),"Todo hijo re-renderiza si cambia"]}),c.jsxs("li",{children:[c.jsx("strong",{children:" Testing:"}),c.jsx("br",{}),"Necesitas wrapers para testing"]})]})})]})]})]}),c.jsx("div",{className:"text-center mt-4",children:c.jsx("a",{href:"/",className:"btn btn-secondary btn-lg",children:" Volver al Home"})})]})})})}const KS=(n,e)=>{switch(e.type){case"INCREMENT":return{count:n.count+(e.payload||1)};case"DECREMENT":return{count:n.count-(e.payload||1)};case"RESET":return{count:0};case"SET":return{count:e.payload};default:throw new Error(`Unknown action: ${e.type}`)}},YS=(n,e)=>{switch(e.type){case"ADD_TODO":return[...n,{id:Date.now(),text:e.payload,completed:!1,createdAt:new Date().toISOString()}];case"TOGGLE_TODO":return n.map(t=>t.id===e.payload?{...t,completed:!t.completed}:t);case"DELETE_TODO":return n.filter(t=>t.id!==e.payload);case"CLEAR_COMPLETED":return n.filter(t=>!t.completed);case"CLEAR_ALL":return[];default:return n}},QS=(n,e)=>{switch(e.type){case"SET_FIELD":return{...n,[e.field]:e.payload};case"SET_ERROR":return{...n,errors:{...n.errors,[e.field]:e.payload}};case"CLEAR_ERRORS":return{...n,errors:{}};case"RESET_FORM":return{name:"",email:"",age:"",errors:{}};default:return n}};function XS(){const[n,e]=I.useReducer(KS,{count:0}),[t,i]=I.useReducer(YS,[]),[o,u]=I.useState(""),[h,p]=I.useReducer(QS,{name:"",email:"",age:"",errors:{}}),g=(A=1)=>{e({type:"INCREMENT",payload:A})},y=(A=1)=>{e({type:"DECREMENT",payload:A})},x=()=>{e({type:"RESET"})},E=A=>{e({type:"SET",payload:A})},N=()=>{o.trim()&&(i({type:"ADD_TODO",payload:o.trim()}),u(""))},O=A=>{i({type:"TOGGLE_TODO",payload:A})},V=A=>{i({type:"DELETE_TODO",payload:A})},G=()=>{i({type:"CLEAR_COMPLETED"})},B=()=>{i({type:"CLEAR_ALL"})},ee=(A,S)=>{p({type:"SET_FIELD",field:A,payload:S}),h.errors[A]&&p({type:"SET_ERROR",field:A,payload:""})},Q=()=>{let A=!0;return h.name.trim()||(p({type:"SET_ERROR",field:"name",payload:"El nombre es requerido"}),A=!1),h.email.trim()?/\S+@\S+\.\S+/.test(h.email)||(p({type:"SET_ERROR",field:"email",payload:"Email invlido"}),A=!1):(p({type:"SET_ERROR",field:"email",payload:"El email es requerido"}),A=!1),h.age.trim()?(isNaN(h.age)||h.age<1||h.age>120)&&(p({type:"SET_ERROR",field:"age",payload:"Edad debe ser entre 1 y 120"}),A=!1):(p({type:"SET_ERROR",field:"age",payload:"La edad es requerida"}),A=!1),A},ie=A=>{A.preventDefault(),p({type:"CLEAR_ERRORS"}),Q()&&(alert(`Formulario enviado:
${JSON.stringify(h,null,2)}`),p({type:"RESET_FORM"}))},ve=()=>{p({type:"RESET_FORM"})},ce=t.filter(A=>A.completed).length,be=t.length-ce;return c.jsx("div",{className:"container mt-4",children:c.jsx("div",{className:"row justify-content-center",children:c.jsxs("div",{className:"col-lg-10",children:[c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("h1",{className:"display-4 text-primary",children:" useReducer Hook"}),c.jsx("p",{className:"lead text-muted",children:"Manejo de estado complejo con actions y reducers"})]}),c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-lg-8",children:[c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-primary text-white",children:c.jsx("h5",{className:"mb-0",children:" Contador Avanzado"})}),c.jsxs("div",{className:"card-body text-center",children:[c.jsx("h2",{className:"display-3 text-primary mb-4",children:n.count}),c.jsxs("div",{className:"row mb-3",children:[c.jsx("div",{className:"col-md-4",children:c.jsx("button",{className:"btn btn-outline-success w-100",onClick:()=>g(1),children:"+1"})}),c.jsx("div",{className:"col-md-4",children:c.jsx("button",{className:"btn btn-outline-success w-100",onClick:()=>g(5),children:"+5"})}),c.jsx("div",{className:"col-md-4",children:c.jsx("button",{className:"btn btn-outline-success w-100",onClick:()=>g(10),children:"+10"})})]}),c.jsxs("div",{className:"row mb-3",children:[c.jsx("div",{className:"col-md-4",children:c.jsx("button",{className:"btn btn-outline-warning w-100",onClick:()=>y(1),children:"-1"})}),c.jsx("div",{className:"col-md-4",children:c.jsx("button",{className:"btn btn-outline-warning w-100",onClick:()=>y(5),children:"-5"})}),c.jsx("div",{className:"col-md-4",children:c.jsx("button",{className:"btn btn-outline-warning w-100",onClick:()=>y(10),children:"-10"})})]}),c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-md-6",children:c.jsx("button",{className:"btn btn-secondary w-100",onClick:x,children:" Reset"})}),c.jsx("div",{className:"col-md-6",children:c.jsx("button",{className:"btn btn-info w-100",onClick:()=>E(100),children:"Set 100"})})]})]})]}),c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-success text-white",children:c.jsx("h5",{className:"mb-0",children:" Lista de Tareas"})}),c.jsxs("div",{className:"card-body",children:[c.jsxs("div",{className:"input-group mb-3",children:[c.jsx("input",{type:"text",className:"form-control",placeholder:"Nueva tarea...",value:o,onChange:A=>u(A.target.value),onKeyPress:A=>A.key==="Enter"&&N()}),c.jsx("button",{className:"btn btn-success",onClick:N,disabled:!o.trim(),children:"Agregar"})]}),t.length===0?c.jsx("p",{className:"text-muted text-center",children:"No hay tareas"}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-3",children:[c.jsxs("span",{className:"badge bg-info me-2",children:["Total: ",t.length]}),c.jsxs("span",{className:"badge bg-warning me-2",children:["Pendientes: ",be]}),c.jsxs("span",{className:"badge bg-success",children:["Completadas: ",ce]})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("button",{className:"btn btn-outline-warning btn-sm me-2",onClick:G,disabled:ce===0,children:"Limpiar Completadas"}),c.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:B,disabled:t.length===0,children:"Limpiar Todo"})]}),c.jsx("div",{className:"list-group",children:t.map(A=>c.jsxs("div",{className:`list-group-item d-flex justify-content-between align-items-center ${A.completed?"list-group-item-success":""}`,children:[c.jsxs("div",{className:"d-flex align-items-center",children:[c.jsx("input",{className:"form-check-input me-2",type:"checkbox",checked:A.completed,onChange:()=>O(A.id)}),c.jsx("span",{className:A.completed?"text-decoration-line-through text-muted":"",children:A.text})]}),c.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>V(A.id),children:""})]},A.id))})]})]})]}),c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-warning text-dark",children:c.jsx("h5",{className:"mb-0",children:" Formulario con Validacin"})}),c.jsx("div",{className:"card-body",children:c.jsxs("form",{onSubmit:ie,children:[c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-md-6",children:c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"Nombre:"}),c.jsx("input",{type:"text",className:`form-control ${h.errors.name?"is-invalid":""}`,value:h.name,onChange:A=>ee("name",A.target.value)}),h.errors.name&&c.jsx("div",{className:"invalid-feedback",children:h.errors.name})]})}),c.jsx("div",{className:"col-md-6",children:c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"Email:"}),c.jsx("input",{type:"email",className:`form-control ${h.errors.email?"is-invalid":""}`,value:h.email,onChange:A=>ee("email",A.target.value)}),h.errors.email&&c.jsx("div",{className:"invalid-feedback",children:h.errors.email})]})})]}),c.jsx("div",{className:"row",children:c.jsx("div",{className:"col-md-6",children:c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"Edad:"}),c.jsx("input",{type:"number",className:`form-control ${h.errors.age?"is-invalid":""}`,value:h.age,onChange:A=>ee("age",A.target.value)}),h.errors.age&&c.jsx("div",{className:"invalid-feedback",children:h.errors.age})]})})}),c.jsxs("div",{className:"d-flex gap-2",children:[c.jsx("button",{type:"submit",className:"btn btn-primary",children:"Enviar"}),c.jsx("button",{type:"button",className:"btn btn-secondary",onClick:ve,children:"Reset"})]})]})})]})]}),c.jsxs("div",{className:"col-lg-4",children:[c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-info text-white",children:c.jsx("h6",{className:"mb-0",children:" useState vs useReducer"})}),c.jsxs("div",{className:"card-body",children:[c.jsxs("div",{className:"mb-3",children:[c.jsx("strong",{className:"text-success",children:" Usa useReducer cuando:"}),c.jsxs("ul",{className:"list-unstyled small mt-2",children:[c.jsx("li",{children:" Estado complejo (objetos/arrays)"}),c.jsx("li",{children:" Mltiples sub-valores"}),c.jsx("li",{children:" Lgica de estado compleja"}),c.jsx("li",{children:" Prximo estado depende del anterior"}),c.jsx("li",{children:" Muchas acciones diferentes"})]})]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-primary",children:" Usa useState cuando:"}),c.jsxs("ul",{className:"list-unstyled small mt-2",children:[c.jsx("li",{children:" Estado simple (primitivos)"}),c.jsx("li",{children:" Pocas actualizaciones"}),c.jsx("li",{children:" Lgica simple"}),c.jsx("li",{children:" Estado independiente"})]})]})]})]}),c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-primary text-white",children:c.jsx("h6",{className:"mb-0",children:" Anatoma del useReducer"})}),c.jsxs("div",{className:"card-body",children:[c.jsxs("div",{className:"mb-3",children:[c.jsx("strong",{children:"1. Reducer Function:"}),c.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:c.jsx("code",{children:`const reducer = (state, action) => {
  switch(action.type) {
    case 'INCREMENT':
      return { count: state.count + 1 };
    default:
      return state;
  }
}`})})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("strong",{children:"2. Hook Usage:"}),c.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:c.jsx("code",{children:`const [state, dispatch] = 
  useReducer(reducer, initialState);`})})]}),c.jsxs("div",{children:[c.jsx("strong",{children:"3. Dispatch Action:"}),c.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:c.jsx("code",{children:`dispatch({ 
  type: 'INCREMENT',
  payload: 5 
});`})})]})]})]}),c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-secondary text-white",children:c.jsx("h6",{className:"mb-0",children:" Estado Actual"})}),c.jsxs("div",{className:"card-body",children:[c.jsxs("div",{className:"mb-2",children:[c.jsx("strong",{children:"Contador:"})," ",n.count]}),c.jsxs("div",{className:"mb-2",children:[c.jsx("strong",{children:"Total Tareas:"})," ",t.length]}),c.jsxs("div",{className:"mb-2",children:[c.jsx("strong",{children:"Pendientes:"})," ",be]}),c.jsxs("div",{className:"mb-2",children:[c.jsx("strong",{children:"Completadas:"})," ",ce]}),c.jsxs("div",{className:"mb-2",children:[c.jsx("strong",{children:"Form vlido:"}),c.jsx("span",{className:`badge ms-2 ${Object.keys(h.errors).length===0&&h.name&&h.email&&h.age?"bg-success":"bg-danger"}`,children:Object.keys(h.errors).length===0&&h.name&&h.email&&h.age?"S":"No"})]})]})]}),c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"card-header bg-dark text-white",children:c.jsx("h6",{className:"mb-0",children:" Patrones Comunes"})}),c.jsxs("div",{className:"card-body",children:[c.jsxs("div",{className:"mb-3",children:[c.jsx("strong",{children:"Action Creators:"}),c.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:c.jsx("code",{children:`const increment = (amount) => ({
  type: 'INCREMENT',
  payload: amount
});`})})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("strong",{children:"Lazy Initialization:"}),c.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:c.jsx("code",{children:`const [state, dispatch] = useReducer(
  reducer, 
  null, 
  initFunction
);`})})]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Error Handling:"}),c.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:c.jsx("code",{children:`default:
  throw new Error(
    'Unknown action: ' + action.type
  );`})})]})]})]})]})]}),c.jsx("div",{className:"text-center mt-4",children:c.jsx("a",{href:"/",className:"btn btn-secondary btn-lg",children:" Volver al Home"})})]})})})}const X0=I.memo(({onIncrement:n,title:e,color:t})=>{const i=I.useRef(0);return i.current+=1,console.log(`${e} se renderiz ${i.current} veces`),c.jsxs("div",{className:`border border-${t==="success"?"green":"red"}-300 rounded-lg`,children:[c.jsx("div",{className:`${t==="success"?"bg-green-500":"bg-red-500"} text-white px-4 py-2 rounded-t-lg`,children:c.jsx("h6",{className:"text-sm font-semibold",children:e})}),c.jsxs("div",{className:"p-4",children:[c.jsxs("p",{className:"text-gray-700 mb-3",children:["Renders: ",c.jsx("strong",{children:i.current})]}),c.jsx("button",{className:`px-4 py-2 rounded ${t==="success"?"border border-green-500 text-green-600 hover:bg-green-50":"border border-red-500 text-red-600 hover:bg-red-50"} transition-colors`,onClick:n,children:"Incrementar"})]})]})}),WS=I.memo(({items:n,onItemClick:e})=>{const t=I.useRef(0);return t.current+=1,c.jsxs("div",{className:"border border-blue-300 rounded-lg",children:[c.jsx("div",{className:"bg-blue-500 text-white px-4 py-2 rounded-t-lg",children:c.jsxs("h6",{className:"text-sm font-semibold",children:[" Lista de Items (Renders: ",t.current,")"]})}),c.jsx("div",{className:"p-4",children:n.length===0?c.jsx("p",{className:"text-gray-500",children:"No hay items"}):c.jsx("div",{className:"space-y-2",children:n.map(i=>c.jsxs("button",{className:"w-full flex justify-between items-center p-3 border border-gray-200 rounded hover:bg-blue-50 transition-colors",onClick:()=>e(i),children:[c.jsx("span",{children:i.name}),c.jsx("span",{className:"bg-blue-500 text-white px-2 py-1 rounded text-sm",children:i.price})]},i.id))})})]})}),ZS=I.memo(({onSearch:n,searchTerm:e})=>{const t=I.useRef(0);return t.current+=1,c.jsxs("div",{className:"border border-green-300 rounded-lg",children:[c.jsx("div",{className:"bg-green-500 text-white px-4 py-2 rounded-t-lg",children:c.jsxs("h6",{className:"text-sm font-semibold",children:[" Buscador (Renders: ",t.current,")"]})}),c.jsx("div",{className:"p-4",children:c.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Buscar items...",value:e,onChange:i=>n(i.target.value)})})]})});function JS(){const[n,e]=I.useState(0),[t,i]=I.useState(0),[o,u]=I.useState(""),[h,p]=I.useState(null),[g]=I.useState([{id:1,name:"Laptop",price:"$999"},{id:2,name:"Mouse",price:"$25"},{id:3,name:"Keyboard",price:"$75"},{id:4,name:"Monitor",price:"$299"},{id:5,name:"Webcam",price:"$89"}]),y=()=>{e(Q=>Q+1)},x=I.useCallback(()=>{e(Q=>Q+1)},[]),E=I.useCallback(Q=>{e(ie=>ie+Q)},[]),N=I.useCallback(Q=>{u(Q)},[]),O=I.useCallback(Q=>{p(Q),console.log("Item seleccionado:",Q)},[]),V=I.useCallback(()=>g.filter(Q=>Q.name.toLowerCase().includes(o.toLowerCase())),[g,o]),G=()=>{console.log("Accin ejecutada")},B=I.useCallback(()=>n===0?"Contador en cero":n<5?"Contador bajo":n<10?"Contador medio":"Contador alto",[n]),ee=I.useCallback((Q,ie)=>{switch(Q){case"reset":e(0),u(""),p(null);break;case"double":e(ve=>ve*2);break;case"increment":e(ve=>ve+(ie||1));break;default:console.log("Accin desconocida:",Q)}},[]);return c.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-4xl font-bold text-blue-600 mb-2",children:" useCallback Hook"}),c.jsx("p",{className:"text-lg text-gray-600",children:"Memoizacin de funciones para optimizar performance"})]}),c.jsxs("div",{className:"grid lg:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[c.jsx("div",{className:"bg-blue-500 text-white px-6 py-4 rounded-t-lg",children:c.jsx("h5",{className:"text-lg font-semibold",children:" Contadores Principales"})}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsxs("h3",{className:"text-3xl font-bold text-blue-600",children:["Count: ",n]}),c.jsx("p",{className:"text-gray-600",children:B()})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("h3",{className:"text-3xl font-bold text-gray-600",children:["Other: ",t]}),c.jsx("p",{className:"text-gray-600",children:"Valor independiente"})]})]}),c.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[c.jsx("button",{className:"px-4 py-2 border border-blue-500 text-blue-600 rounded hover:bg-blue-50 transition-colors",onClick:()=>e(n+1),children:"Count +1"}),c.jsx("button",{className:"px-4 py-2 border border-gray-500 text-gray-600 rounded hover:bg-gray-50 transition-colors",onClick:()=>i(t+1),children:"Other +1"}),c.jsx("button",{className:"px-4 py-2 border border-yellow-500 text-yellow-600 rounded hover:bg-yellow-50 transition-colors",onClick:()=>ee("double"),children:"Doblar Count"}),c.jsx("button",{className:"px-4 py-2 border border-red-500 text-red-600 rounded hover:bg-red-50 transition-colors",onClick:()=>ee("reset"),children:"Reset All"})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[c.jsx("div",{className:"bg-yellow-500 text-black px-6 py-4 rounded-t-lg",children:c.jsx("h5",{className:"text-lg font-semibold",children:" Comparacin de Re-renders"})}),c.jsxs("div",{className:"p-6",children:[c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:c.jsxs("p",{className:"text-blue-800",children:[c.jsx("strong",{children:" Observa los contadores de renders:"}),c.jsx("br",{}),'- El componente "Con useCallback" se re-renderiza menos',c.jsx("br",{}),'- El componente "Sin useCallback" se re-renderiza ms frecuentemente',c.jsx("br",{}),"- Abre la consola para ver los logs"]})}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsx(X0,{onIncrement:x,title:" Con useCallback",color:"success"}),c.jsx(X0,{onIncrement:y,title:" Sin useCallback",color:"danger"})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[c.jsx("div",{className:"bg-blue-500 text-white px-6 py-4 rounded-t-lg",children:c.jsx("h5",{className:"text-lg font-semibold",children:" Bsqueda Optimizada"})}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsx(ZS,{onSearch:N,searchTerm:o}),c.jsx(WS,{items:V(),onItemClick:O})]}),h&&c.jsxs("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:[c.jsx("h6",{className:"font-semibold text-green-800",children:"Item Seleccionado:"}),c.jsxs("p",{className:"text-green-700",children:[c.jsx("strong",{children:h.name})," - ",h.price]})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[c.jsx("div",{className:"bg-gray-600 text-white px-6 py-4 rounded-t-lg",children:c.jsx("h5",{className:"text-lg font-semibold",children:" Acciones Complejas"})}),c.jsxs("div",{className:"p-6",children:[c.jsx("p",{className:"text-gray-600 mb-4",children:"Estas funciones usan useCallback para evitar recreacin innecesaria:"}),c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("button",{className:"px-4 py-2 border border-blue-500 text-blue-600 rounded hover:bg-blue-50 transition-colors",onClick:()=>E(5),children:"Incrementar por 5"}),c.jsx("button",{className:"px-4 py-2 border border-green-500 text-green-600 rounded hover:bg-green-50 transition-colors",onClick:()=>ee("increment",3),children:"Accin Compleja: +3"}),c.jsx("button",{className:"px-4 py-2 border border-yellow-500 text-yellow-600 rounded hover:bg-yellow-50 transition-colors",onClick:G,children:"Accin No Memoizada (ver console)"})]})]})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[c.jsx("div",{className:"bg-blue-500 text-white px-4 py-3 rounded-t-lg",children:c.jsx("h6",{className:"text-sm font-semibold",children:" Sintaxis useCallback"})}),c.jsxs("div",{className:"p-4 text-xs",children:[c.jsxs("div",{className:"mb-3",children:[c.jsx("strong",{children:"Bsico:"}),c.jsx("pre",{className:"bg-gray-100 p-2 mt-1 rounded text-xs overflow-x-auto",children:`const memoizedFn = useCallback(
  () => {
    // funcin
  },
  [dependencies]
);`})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("strong",{children:"Con parmetros:"}),c.jsx("pre",{className:"bg-gray-100 p-2 mt-1 rounded text-xs overflow-x-auto",children:`const handleClick = useCallback(
  (id) => {
    setSelected(id);
  },
  [setSelected]
);`})]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Sin dependencias:"}),c.jsx("pre",{className:"bg-gray-100 p-2 mt-1 rounded text-xs overflow-x-auto",children:`const increment = useCallback(
  () => setCount(c => c + 1),
  []
);`})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[c.jsx("div",{className:"bg-green-500 text-white px-4 py-3 rounded-t-lg",children:c.jsx("h6",{className:"text-sm font-semibold",children:" Cundo Usar useCallback"})}),c.jsx("div",{className:"p-4 text-xs",children:c.jsxs("ul",{className:"space-y-2",children:[c.jsxs("li",{children:[c.jsx("strong",{children:" Componentes memoizados:"}),c.jsx("br",{}),"Cuando pasas funciones a React.memo()"]}),c.jsxs("li",{children:[c.jsx("strong",{children:" Listas grandes:"}),c.jsx("br",{}),"Event handlers en listas con muchos items"]}),c.jsxs("li",{children:[c.jsx("strong",{children:" Dependencias de hooks:"}),c.jsx("br",{}),"En useEffect, useMemo dependencies"]}),c.jsxs("li",{children:[c.jsx("strong",{children:" Funciones costosas:"}),c.jsx("br",{}),"Funciones que crean objetos complejos"]})]})})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[c.jsx("div",{className:"bg-red-500 text-white px-4 py-3 rounded-t-lg",children:c.jsx("h6",{className:"text-sm font-semibold",children:" Cundo NO Usar"})}),c.jsx("div",{className:"p-4 text-xs",children:c.jsxs("ul",{className:"space-y-2",children:[c.jsxs("li",{children:[c.jsx("strong",{children:" Funciones simples:"}),c.jsx("br",{}),"Funciones muy simples (ms costo que beneficio)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:" Dependencias cambiantes:"}),c.jsx("br",{}),"Si las dependencias cambian en cada render"]}),c.jsxs("li",{children:[c.jsx("strong",{children:' Solo para "optimizacin":'}),c.jsx("br",{}),"Sin medicin real de performance"]}),c.jsxs("li",{children:[c.jsx("strong",{children:" Casos prematuros:"}),c.jsx("br",{}),"Optimizacin prematura sin necesidad real"]})]})})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[c.jsx("div",{className:"bg-blue-500 text-white px-4 py-3 rounded-t-lg",children:c.jsx("h6",{className:"text-sm font-semibold",children:" Estado Actual"})}),c.jsx("div",{className:"p-4 text-xs",children:c.jsx("table",{className:"w-full",children:c.jsxs("tbody",{className:"space-y-1",children:[c.jsxs("tr",{className:"border-b",children:[c.jsx("td",{className:"py-1",children:c.jsx("strong",{children:"Count:"})}),c.jsx("td",{className:"py-1",children:n})]}),c.jsxs("tr",{className:"border-b",children:[c.jsx("td",{className:"py-1",children:c.jsx("strong",{children:"Other Value:"})}),c.jsx("td",{className:"py-1",children:t})]}),c.jsxs("tr",{className:"border-b",children:[c.jsx("td",{className:"py-1",children:c.jsx("strong",{children:"Search Term:"})}),c.jsx("td",{className:"py-1",children:o||"Vaco"})]}),c.jsxs("tr",{className:"border-b",children:[c.jsx("td",{className:"py-1",children:c.jsx("strong",{children:"Filtered Items:"})}),c.jsx("td",{className:"py-1",children:V().length})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"py-1",children:c.jsx("strong",{children:"Selected:"})}),c.jsx("td",{className:"py-1",children:h?h.name:"Ninguno"})]})]})})})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[c.jsx("div",{className:"bg-yellow-500 text-black px-4 py-3 rounded-t-lg",children:c.jsx("h6",{className:"text-sm font-semibold",children:" Tips y Trucos"})}),c.jsx("div",{className:"p-4 text-xs",children:c.jsxs("ul",{className:"space-y-2",children:[c.jsxs("li",{children:[c.jsx("strong",{children:" Profiling:"})," Usa React DevTools Profiler"]}),c.jsxs("li",{children:[c.jsx("strong",{children:" Mide primero:"})," Identifica cuellos de botella reales"]}),c.jsxs("li",{children:[c.jsx("strong",{children:" Combina con memo:"})," useCallback + React.memo"]}),c.jsxs("li",{children:[c.jsx("strong",{children:" Dependencias correctas:"})," Include all dependencies"]}),c.jsxs("li",{children:[c.jsx("strong",{children:" ESLint:"})," Usa exhaustive-deps rule"]})]})})]})]})]}),c.jsx("div",{className:"text-center mt-4",children:c.jsx("a",{href:"/",className:"btn btn-secondary btn-lg",children:" Volver al Home"})})]})})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tA=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),W0=n=>{const e=tA(n);return e.charAt(0).toUpperCase()+e.slice(1)},e_=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),nA=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=I.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:u,iconNode:h,...p},g)=>I.createElement("svg",{ref:g,...sA,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:e_("lucide",o),...!u&&!nA(p)&&{"aria-hidden":"true"},...p},[...h.map(([y,x])=>I.createElement(y,x)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=(n,e)=>{const t=I.forwardRef(({className:i,...o},u)=>I.createElement(rA,{ref:u,iconNode:e,className:e_(`lucide-${eA(W0(n))}`,`lucide-${n}`,i),...o}));return t.displayName=W0(n),t};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],pg=bt("arrow-left",iA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],t_=bt("book-open",aA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],xa=bt("circle-check-big",oA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],cA=bt("crown",lA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Aa=bt("eye-off",uA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ca=bt("eye",dA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],kh=bt("globe",hA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],Z0=bt("languages",fA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],wr=bt("lock",mA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ho=bt("mail",pA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],yA=bt("plus",gA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],bA=bt("search",vA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],n_=bt("shield",wA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],s_=bt("square-pen",xA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],r_=bt("star",_A);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],i_=bt("trash-2",EA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],NA=bt("user-check",TA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],AA=bt("user-plus",SA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],RA=bt("user-x",CA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],_a=bt("user",jA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Bd=bt("users",IA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],DA=bt("x",kA),OA=()=>{};var J0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},MA=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[t++];e[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[t++],h=n[t++],p=n[t++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|p&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const u=n[t++],h=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},o_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const u=n[o],h=o+1<n.length,p=h?n[o+1]:0,g=o+2<n.length,y=g?n[o+2]:0,x=u>>2,E=(u&3)<<4|p>>4;let N=(p&15)<<2|y>>6,O=y&63;g||(O=64,h||(N=64)),i.push(t[x],t[E],t[N],t[O])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(a_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):MA(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const u=t[n.charAt(o++)],p=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,u==null||p==null||y==null||E==null)throw new PA;const N=u<<2|p>>4;if(i.push(N),y!==64){const O=p<<4&240|y>>2;if(i.push(O),E!==64){const V=y<<6&192|E;i.push(V)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class PA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VA=function(n){const e=a_(n);return o_.encodeByteArray(e,!0)},Jd=function(n){return VA(n).replace(/\./g,"")},l_=function(n){try{return o_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=()=>LA().__FIREBASE_DEFAULTS__,BA=()=>{if(typeof process>"u"||typeof J0>"u")return;const n=J0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},zA=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&l_(n[1]);return e&&JSON.parse(e)},Dh=()=>{try{return OA()||UA()||BA()||zA()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},c_=n=>Dh()?.emulatorHosts?.[n],HA=n=>{const e=c_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},u_=()=>Dh()?.config,d_=n=>Dh()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function h_(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Jd(JSON.stringify(t)),Jd(JSON.stringify(h)),""].join(".")}const Tc={};function $A(){const n={prod:[],emulator:[]};for(const e of Object.keys(Tc))Tc[e]?n.emulator.push(e):n.prod.push(e);return n}function GA(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let ew=!1;function f_(n,e){if(typeof window>"u"||typeof document>"u"||!el(window.location.host)||Tc[n]===e||Tc[n]||ew)return;Tc[n]=e;function t(N){return`__firebase__banner__${N}`}const i="__firebase__banner",u=$A().prod.length>0;function h(){const N=document.getElementById(i);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function g(N,O){N.setAttribute("width","24"),N.setAttribute("id",O),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function y(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{ew=!0,h()},N}function x(N,O){N.setAttribute("id",O),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function E(){const N=GA(i),O=t("text"),V=document.getElementById(O)||document.createElement("span"),G=t("learnmore"),B=document.getElementById(G)||document.createElement("a"),ee=t("preprendIcon"),Q=document.getElementById(ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const ie=N.element;p(ie),x(B,G);const ve=y();g(Q,ee),ie.append(Q,V,B,ve),document.body.appendChild(ie)}u?(V.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function YA(){const n=Dh()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XA(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function WA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZA(){const n=dn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function JA(){return!YA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eC(){try{return typeof indexedDB=="object"}catch{return!1}}function tC(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC="FirebaseError";class jr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=nC,Object.setPrototypeOf(this,jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kc.prototype.create)}}class Kc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?sC(u,i):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new jr(o,p,i)}}function sC(n,e){return n.replace(rC,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const rC=/\{\$([^}]+)}/g;function iC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ra(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const u=n[o],h=e[o];if(tw(u)&&tw(h)){if(!Ra(u,h))return!1}else if(u!==h)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function tw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function vc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,u]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function bc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function aC(n,e){const t=new oC(n,e);return t.subscribe.bind(t)}class oC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");lC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=mp),o.error===void 0&&(o.error=mp),o.complete===void 0&&(o.complete=mp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function mp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(n){return n&&n._delegate?n._delegate:n}class ja{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new qA;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dC(e))try{this.getOrInitializeService({instanceIdentifier:wa})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});i.resolve(u)}catch{}}}}clearInstance(e=wa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wa){return this.instances.has(e)}getOptions(e=wa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[u,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);i===p&&h.resolve(o)}return o}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:uC(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=wa){return this.component?this.component.multipleInstances?e:wa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uC(n){return n===wa?void 0:n}function dC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new cC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Be||(Be={}));const fC={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},mC=Be.INFO,pC={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},gC=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=pC[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gg{constructor(e){this.name=e,this._logLevel=mC,this._logHandler=gC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const yC=(n,e)=>e.some(t=>n instanceof t);let nw,sw;function vC(){return nw||(nw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bC(){return sw||(sw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const m_=new WeakMap,kp=new WeakMap,p_=new WeakMap,pp=new WeakMap,yg=new WeakMap;function wC(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",h)},u=()=>{t(wi(n.result)),o()},h=()=>{i(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&m_.set(t,n)}).catch(()=>{}),yg.set(e,n),e}function xC(n){if(kp.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",h),n.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",h),n.addEventListener("abort",h)});kp.set(n,e)}let Dp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return kp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||p_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return wi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function _C(n){Dp=n(Dp)}function EC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(gp(this),e,...t);return p_.set(i,e.sort?e.sort():[e]),wi(i)}:bC().includes(n)?function(...e){return n.apply(gp(this),e),wi(m_.get(this))}:function(...e){return wi(n.apply(gp(this),e))}}function TC(n){return typeof n=="function"?EC(n):(n instanceof IDBTransaction&&xC(n),yC(n,vC())?new Proxy(n,Dp):n)}function wi(n){if(n instanceof IDBRequest)return wC(n);if(pp.has(n))return pp.get(n);const e=TC(n);return e!==n&&(pp.set(n,e),yg.set(e,n)),e}const gp=n=>yg.get(n);function NC(n,e,{blocked:t,upgrade:i,blocking:o,terminated:u}={}){const h=indexedDB.open(n,e),p=wi(h);return i&&h.addEventListener("upgradeneeded",g=>{i(wi(h.result),g.oldVersion,g.newVersion,wi(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const SC=["get","getKey","getAll","getAllKeys","count"],AC=["put","add","delete","clear"],yp=new Map;function rw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(yp.get(e))return yp.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=AC.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||SC.includes(t)))return;const u=async function(h,...p){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return i&&(y=y.index(p.shift())),(await Promise.all([y[t](...p),o&&g.done]))[0]};return yp.set(e,u),u}_C(n=>({...n,get:(e,t,i)=>rw(e,t)||n.get(e,t,i),has:(e,t)=>!!rw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(RC(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function RC(n){return n.getComponent()?.type==="VERSION"}const Op="@firebase/app",iw="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=new gg("@firebase/app"),jC="@firebase/app-compat",IC="@firebase/analytics-compat",kC="@firebase/analytics",DC="@firebase/app-check-compat",OC="@firebase/app-check",MC="@firebase/auth",PC="@firebase/auth-compat",VC="@firebase/database",LC="@firebase/data-connect",UC="@firebase/database-compat",BC="@firebase/functions",zC="@firebase/functions-compat",HC="@firebase/installations",qC="@firebase/installations-compat",FC="@firebase/messaging",$C="@firebase/messaging-compat",GC="@firebase/performance",KC="@firebase/performance-compat",YC="@firebase/remote-config",QC="@firebase/remote-config-compat",XC="@firebase/storage",WC="@firebase/storage-compat",ZC="@firebase/firestore",JC="@firebase/ai",eR="@firebase/firestore-compat",tR="firebase",nR="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="[DEFAULT]",sR={[Op]:"fire-core",[jC]:"fire-core-compat",[kC]:"fire-analytics",[IC]:"fire-analytics-compat",[OC]:"fire-app-check",[DC]:"fire-app-check-compat",[MC]:"fire-auth",[PC]:"fire-auth-compat",[VC]:"fire-rtdb",[LC]:"fire-data-connect",[UC]:"fire-rtdb-compat",[BC]:"fire-fn",[zC]:"fire-fn-compat",[HC]:"fire-iid",[qC]:"fire-iid-compat",[FC]:"fire-fcm",[$C]:"fire-fcm-compat",[GC]:"fire-perf",[KC]:"fire-perf-compat",[YC]:"fire-rc",[QC]:"fire-rc-compat",[XC]:"fire-gcs",[WC]:"fire-gcs-compat",[ZC]:"fire-fst",[eR]:"fire-fst-compat",[JC]:"fire-vertex","fire-js":"fire-js",[tR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new Map,rR=new Map,Pp=new Map;function aw(n,e){try{n.container.addComponent(e)}catch(t){Nr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function qo(n){const e=n.name;if(Pp.has(e))return Nr.debug(`There were multiple attempts to register component ${e}.`),!1;Pp.set(e,n);for(const t of eh.values())aw(t,n);for(const t of rR.values())aw(t,n);return!0}function vg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function zn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xi=new Kc("app","Firebase",iR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ja("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=nR;function g_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:Mp,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw xi.create("bad-app-name",{appName:String(o)});if(t||(t=u_()),!t)throw xi.create("no-options");const u=eh.get(o);if(u){if(Ra(t,u.options)&&Ra(i,u.config))return u;throw xi.create("duplicate-app",{appName:o})}const h=new hC(o);for(const g of Pp.values())h.addComponent(g);const p=new aR(t,i,h);return eh.set(o,p),p}function y_(n=Mp){const e=eh.get(n);if(!e&&n===Mp&&u_())return g_();if(!e)throw xi.create("no-app",{appName:n});return e}function _i(n,e,t){let i=sR[n]??n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nr.warn(h.join(" "));return}qo(new ja(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="firebase-heartbeat-database",lR=1,Dc="firebase-heartbeat-store";let vp=null;function v_(){return vp||(vp=NC(oR,lR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Dc)}catch(t){console.warn(t)}}}}).catch(n=>{throw xi.create("idb-open",{originalErrorMessage:n.message})})),vp}async function cR(n){try{const t=(await v_()).transaction(Dc),i=await t.objectStore(Dc).get(b_(n));return await t.done,i}catch(e){if(e instanceof jr)Nr.warn(e.message);else{const t=xi.create("idb-get",{originalErrorMessage:e?.message});Nr.warn(t.message)}}}async function ow(n,e){try{const i=(await v_()).transaction(Dc,"readwrite");await i.objectStore(Dc).put(e,b_(n)),await i.done}catch(t){if(t instanceof jr)Nr.warn(t.message);else{const i=xi.create("idb-set",{originalErrorMessage:t?.message});Nr.warn(i.message)}}}function b_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=1024,dR=30;class hR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new mR(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=lw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>dR){const o=pR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Nr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=lw(),{heartbeatsToSend:t,unsentEntries:i}=fR(this._heartbeatsCache.heartbeats),o=Jd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Nr.warn(e),""}}}function lw(){return new Date().toISOString().substring(0,10)}function fR(n,e=uR){const t=[];let i=n.slice();for(const o of n){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),cw(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),cw(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class mR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eC()?tC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await cR(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return ow(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return ow(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function cw(n){return Jd(JSON.stringify({version:2,heartbeats:n})).length}function pR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(n){qo(new ja("platform-logger",e=>new CC(e),"PRIVATE")),qo(new ja("heartbeat",e=>new hR(e),"PRIVATE")),_i(Op,iw,n),_i(Op,iw,"esm2020"),_i("fire-js","")}gR("");function w_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yR=w_,x_=new Kc("auth","Firebase",w_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=new gg("@firebase/auth");function vR(n,...e){th.logLevel<=Be.WARN&&th.warn(`Auth (${tl}): ${n}`,...e)}function zd(n,...e){th.logLevel<=Be.ERROR&&th.error(`Auth (${tl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(n,...e){throw wg(n,...e)}function ws(n,...e){return wg(n,...e)}function bg(n,e,t){const i={...yR(),[e]:t};return new Kc("auth","Firebase",i).create(e,{appName:n.name})}function xr(n){return bg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bR(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&os(n,"argument-error"),bg(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wg(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return x_.create(n,...e)}function Se(n,e,...t){if(!n)throw wg(e,...t)}function yr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw zd(e),new Error(e)}function Sr(n,e){n||yr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(){return typeof self<"u"&&self.location?.href||""}function wR(){return uw()==="http:"||uw()==="https:"}function uw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wR()||XA()||"connection"in navigator)?navigator.onLine:!0}function _R(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Sr(t>e,"Short delay should be less than long delay!"),this.isMobile=KA()||WA()}get(){return xR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(n,e){Sr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],NR=new Qc(3e4,6e4);function Ii(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ki(n,e,t,i,o={}){return E_(n,o,async()=>{let u={},h={};i&&(e==="GET"?h=i:u={body:JSON.stringify(i)});const p=Yc({key:n.config.apiKey,...h}).slice(1),g=await n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);const y={method:e,headers:g,...u};return QA()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&el(n.emulatorConfig.host)&&(y.credentials="include"),__.fetch()(await T_(n,n.config.apiHost,t,p),y)})}async function E_(n,e,t){n._canInitEmulator=!1;const i={...ER,...e};try{const o=new AR(n),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw jd(n,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const p=u.ok?h.errorMessage:h.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw jd(n,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw jd(n,"email-already-in-use",h);if(g==="USER_DISABLED")throw jd(n,"user-disabled",h);const x=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw bg(n,x,y);os(n,x)}}catch(o){if(o instanceof jr)throw o;os(n,"network-request-failed",{message:String(o)})}}async function Xc(n,e,t,i,o={}){const u=await ki(n,e,t,i,o);return"mfaPendingCredential"in u&&os(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function T_(n,e,t,i){const o=`${e}${t}?${i}`,u=n,h=u.config.emulator?xg(n.config,o):`${n.config.apiScheme}://${o}`;return TR.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function SR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class AR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ws(this.auth,"network-request-failed")),NR.get())})}}function jd(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=ws(n,e,i);return o.customData._tokenResponse=t,o}function dw(n){return n!==void 0&&n.enterprise!==void 0}class CR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return SR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function RR(n,e){return ki(n,"GET","/v2/recaptchaConfig",Ii(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jR(n,e){return ki(n,"POST","/v1/accounts:delete",e)}async function nh(n,e){return ki(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IR(n,e=!1){const t=xn(n),i=await t.getIdToken(e),o=_g(i);Se(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:i,authTime:Nc(bp(o.auth_time)),issuedAtTime:Nc(bp(o.iat)),expirationTime:Nc(bp(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function bp(n){return Number(n)*1e3}function _g(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return zd("JWT malformed, contained fewer than 3 sections"),null;try{const o=l_(t);return o?JSON.parse(o):(zd("Failed to decode base64 JWT payload"),null)}catch(o){return zd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function hw(n){const e=_g(n);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oc(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof jr&&kR(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function kR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nc(this.lastLoginAt),this.creationTime=Nc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sh(n){const e=n.auth,t=await n.getIdToken(),i=await Oc(n,nh(e,{idToken:t}));Se(i?.users.length,e,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const u=o.providerUserInfo?.length?N_(o.providerUserInfo):[],h=MR(n.providerData,u),p=n.isAnonymous,g=!(n.email&&o.passwordHash)&&!h?.length,y=p?g:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Lp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,x)}async function OR(n){const e=xn(n);await sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MR(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function N_(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PR(n,e){const t=await E_(n,{},async()=>{const i=Yc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=n.config,h=await T_(n,o,"/v1/token",`key=${u}`),p=await n._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:i};return n.emulatorConfig&&el(n.emulatorConfig.host)&&(g.credentials="include"),__.fetch()(h,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function VR(n,e){return ki(n,"POST","/v2/accounts:revokeToken",Ii(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=hw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:u}=await PR(e,t);this.updateTokensAndExpiration(i,o,Number(u))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:u}=t,h=new Mo;return i&&(Se(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(Se(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Se(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mo,this.toJSON())}_performRefresh(){return yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(n,e){Se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class bs{constructor({uid:e,auth:t,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new DR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Lp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Oc(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return IR(this,e)}reload(){return OR(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new bs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await sh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(xr(this.auth));const e=await this.getIdToken();return await Oc(this,jR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,h=t.photoURL??void 0,p=t.tenantId??void 0,g=t._redirectEventId??void 0,y=t.createdAt??void 0,x=t.lastLoginAt??void 0,{uid:E,emailVerified:N,isAnonymous:O,providerData:V,stsTokenManager:G}=t;Se(E&&G,e,"internal-error");const B=Mo.fromJSON(this.name,G);Se(typeof E=="string",e,"internal-error"),mi(i,e.name),mi(o,e.name),Se(typeof N=="boolean",e,"internal-error"),Se(typeof O=="boolean",e,"internal-error"),mi(u,e.name),mi(h,e.name),mi(p,e.name),mi(g,e.name),mi(y,e.name),mi(x,e.name);const ee=new bs({uid:E,auth:e,email:o,emailVerified:N,displayName:i,isAnonymous:O,photoURL:h,phoneNumber:u,tenantId:p,stsTokenManager:B,createdAt:y,lastLoginAt:x});return V&&Array.isArray(V)&&(ee.providerData=V.map(Q=>({...Q}))),g&&(ee._redirectEventId=g),ee}static async _fromIdTokenResponse(e,t,i=!1){const o=new Mo;o.updateFromServerResponse(t);const u=new bs({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await sh(u),u}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Se(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?N_(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,p=new Mo;p.updateFromIdToken(i);const g=new bs({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Lp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=new Map;function vr(n){Sr(n instanceof Function,"Expected a class definition");let e=fw.get(n);return e?(Sr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,fw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}S_.type="NONE";const mw=S_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(n,e,t){return`firebase:${n}:${e}:${t}`}class Po{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:u}=this.auth;this.fullUserKey=Hd(this.userKey,o.apiKey,u),this.fullPersistenceKey=Hd("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await nh(this.auth,{idToken:e}).catch(()=>{});return t?bs._fromGetAccountInfoResponse(this.auth,t,e):null}return bs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Po(vr(mw),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||vr(mw);const h=Hd(i,e.config.apiKey,e.name);let p=null;for(const y of t)try{const x=await y._get(h);if(x){let E;if(typeof x=="string"){const N=await nh(e,{idToken:x}).catch(()=>{});if(!N)break;E=await bs._fromGetAccountInfoResponse(e,N,x)}else E=bs._fromJSON(e,x);y!==u&&(p=E),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Po(u,e,i):(u=g[0],p&&await u._set(h,p.toJSON()),await Promise.all(t.map(async y=>{if(y!==u)try{await y._remove(h)}catch{}})),new Po(u,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(j_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(A_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(k_(e))return"Blackberry";if(D_(e))return"Webos";if(C_(e))return"Safari";if((e.includes("chrome/")||R_(e))&&!e.includes("edge/"))return"Chrome";if(I_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function A_(n=dn()){return/firefox\//i.test(n)}function C_(n=dn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function R_(n=dn()){return/crios\//i.test(n)}function j_(n=dn()){return/iemobile/i.test(n)}function I_(n=dn()){return/android/i.test(n)}function k_(n=dn()){return/blackberry/i.test(n)}function D_(n=dn()){return/webos/i.test(n)}function Eg(n=dn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function LR(n=dn()){return Eg(n)&&!!window.navigator?.standalone}function UR(){return ZA()&&document.documentMode===10}function O_(n=dn()){return Eg(n)||I_(n)||D_(n)||k_(n)||/windows phone/i.test(n)||j_(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(n,e=[]){let t;switch(n){case"Browser":t=pw(dn());break;case"Worker":t=`${pw(dn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${tl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=u=>new Promise((h,p)=>{try{const g=e(u);h(g)}catch(g){p(g)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zR(n,e={}){return ki(n,"GET","/v2/passwordPolicy",Ii(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=6;class qR{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??HR,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gw(this),this.idTokenSubscription=new gw(this),this.beforeStateQueue=new BR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=vr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Po.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await nh(this,{idToken:e}),i=await bs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(zn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=i?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===h)&&p?.user&&(i=p.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await sh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_R()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zn(this.app))return Promise.reject(xr(this));const t=e?xn(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(xr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zn(this.app)?Promise.reject(xr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zR(this),t=new qR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Kc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await VR(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&vr(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await Po.create(this,[vr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(p,this,"internal-error"),p.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,i,o);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=M_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&vR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Di(n){return xn(n)}class gw{constructor(e){this.auth=e,this.observer=null,this.addObserver=aC(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $R(n){Oh=n}function P_(n){return Oh.loadJS(n)}function GR(){return Oh.recaptchaEnterpriseScript}function KR(){return Oh.gapiScript}function YR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class QR{constructor(){this.enterprise=new XR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class XR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const WR="recaptcha-enterprise",V_="NO_RECAPTCHA";class ZR{constructor(e){this.type=WR,this.auth=Di(e)}async verify(e="verify",t=!1){async function i(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,p)=>{RR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new CR(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,h(y.siteKey)}}).catch(g=>{p(g)})})}function o(u,h,p){const g=window.grecaptcha;dw(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{h(y)}).catch(()=>{h(V_)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new QR().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{i(this.auth).then(p=>{if(!t&&dw(window.grecaptcha))o(p,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=GR();g.length!==0&&(g+=p),P_(g).then(()=>{o(p,u,h)}).catch(y=>{h(y)})}}).catch(p=>{h(p)})})}}async function yw(n,e,t,i=!1,o=!1){const u=new ZR(n);let h;if(o)h=V_;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const p={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return i?Object.assign(p,{captchaResp:h}):Object.assign(p,{captchaResponse:h}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Up(n,e,t,i,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await yw(n,e,t,t==="getOobCode");return i(n,u)}else return i(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await yw(n,e,t,t==="getOobCode");return i(n,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(n,e){const t=vg(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Ra(u,e??{}))return o;os(o,"already-initialized")}return t.initialize({options:e})}function ej(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(vr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function tj(n,e,t){const i=Di(n);Se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,u=L_(e),{host:h,port:p}=nj(e),g=p===null?"":`:${p}`,y={url:`${u}//${h}${g}/`},x=Object.freeze({host:h,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Se(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Se(Ra(y,i.config.emulator)&&Ra(x,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=x,i.settings.appVerificationDisabledForTesting=!0,el(h)?(h_(`${u}//${h}${g}`),f_("Auth",!0)):sj()}function L_(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function nj(n){const e=L_(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const u=o[1];return{host:u,port:vw(i.substr(u.length+1))}}else{const[u,h]=i.split(":");return{host:u,port:vw(h)}}}function vw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function sj(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return yr("not implemented")}_getIdTokenResponse(e){return yr("not implemented")}_linkToIdToken(e,t){return yr("not implemented")}_getReauthenticationResolver(e){return yr("not implemented")}}async function rj(n,e){return ki(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ij(n,e){return Xc(n,"POST","/v1/accounts:signInWithPassword",Ii(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aj(n,e){return Xc(n,"POST","/v1/accounts:signInWithEmailLink",Ii(n,e))}async function oj(n,e){return Xc(n,"POST","/v1/accounts:signInWithEmailLink",Ii(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends Tg{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Mc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Mc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Up(e,t,"signInWithPassword",ij);case"emailLink":return aj(e,{email:this._email,oobCode:this._password});default:os(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Up(e,i,"signUpPassword",rj);case"emailLink":return oj(e,{idToken:t,email:this._email,oobCode:this._password});default:os(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(n,e){return Xc(n,"POST","/v1/accounts:signInWithIdp",Ii(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj="http://localhost";class Ia extends Tg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):os("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...u}=t;if(!i||!o)return null;const h=new Ia(i,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Vo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Vo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Vo(e,t)}buildRequest(){const e={requestUri:lj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Yc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function uj(n){const e=vc(bc(n)).link,t=e?vc(bc(e)).deep_link_id:null,i=vc(bc(n)).deep_link_id;return(i?vc(bc(i)).link:null)||i||t||e||n}class Ng{constructor(e){const t=vc(bc(e)),i=t.apiKey??null,o=t.oobCode??null,u=cj(t.mode??null);Se(i&&o&&u,"argument-error"),this.apiKey=i,this.operation=u,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=uj(e);try{return new Ng(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(){this.providerId=nl.PROVIDER_ID}static credential(e,t){return Mc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Ng.parseLink(t);return Se(i,"argument-error"),Mc._fromEmailAndCode(e,i.code,i.tenantId)}}nl.PROVIDER_ID="password";nl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";nl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends Sg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends Wc{constructor(){super("facebook.com")}static credential(e){return Ia._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pr.credential(e.oauthAccessToken)}catch{return null}}}pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends Wc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ia._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return gr.credential(t,i)}catch{return null}}}gr.GOOGLE_SIGN_IN_METHOD="google.com";gr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends Wc{constructor(){super("github.com")}static credential(e){return Ia._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pi.credential(e.oauthAccessToken)}catch{return null}}}pi.GITHUB_SIGN_IN_METHOD="github.com";pi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends Wc{constructor(){super("twitter.com")}static credential(e,t){return Ia._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return gi.credential(t,i)}catch{return null}}}gi.TWITTER_SIGN_IN_METHOD="twitter.com";gi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dj(n,e){return Xc(n,"POST","/v1/accounts:signUp",Ii(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const u=await bs._fromIdTokenResponse(e,i,o),h=bw(i);return new ka({user:u,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=bw(i);return new ka({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function bw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh extends jr{constructor(e,t,i,o){super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,rh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new rh(e,t,i,o)}}function U_(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?rh._fromErrorAndOperation(n,u,e,i):u})}async function hj(n,e,t=!1){const i=await Oc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ka._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fj(n,e,t=!1){const{auth:i}=n;if(zn(i.app))return Promise.reject(xr(i));const o="reauthenticate";try{const u=await Oc(n,U_(i,o,e,n),t);Se(u.idToken,i,"internal-error");const h=_g(u.idToken);Se(h,i,"internal-error");const{sub:p}=h;return Se(n.uid===p,i,"user-mismatch"),ka._forOperation(n,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&os(i,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B_(n,e,t=!1){if(zn(n.app))return Promise.reject(xr(n));const i="signIn",o=await U_(n,i,e),u=await ka._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(u.user),u}async function mj(n,e){return B_(Di(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z_(n){const e=Di(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function H_(n,e,t){if(zn(n.app))return Promise.reject(xr(n));const i=Di(n),h=await Up(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dj).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&z_(n),g}),p=await ka._fromIdTokenResponse(i,"signIn",h);return await i._updateCurrentUser(p.user),p}function pj(n,e,t){return zn(n.app)?Promise.reject(xr(n)):mj(xn(n),nl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&z_(n),i})}function gj(n,e,t,i){return xn(n).onIdTokenChanged(e,t,i)}function yj(n,e,t){return xn(n).beforeAuthStateChanged(e,t)}const ih="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ih,"1"),this.storage.removeItem(ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj=1e3,bj=10;class F_ extends q_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=O_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,p,g)=>{this.notifyListeners(h,g)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},u=this.storage.getItem(i);UR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,bj):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},vj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}F_.type="LOCAL";const wj=F_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_ extends q_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}$_.type="SESSION";const G_=$_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Mh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const p=Array.from(h).map(async y=>y(t.origin,u)),g=await xj(p);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((p,g)=>{const y=Ag("",20);o.port1.start();const x=setTimeout(()=>{g(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(E){const N=E;if(N.data.eventId===y)switch(N.data.status){case"ack":clearTimeout(x),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(N.data.response);break;default:clearTimeout(x),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(){return window}function Ej(n){Ls().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(){return typeof Ls().WorkerGlobalScope<"u"&&typeof Ls().importScripts=="function"}async function Tj(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Nj(){return navigator?.serviceWorker?.controller||null}function Sj(){return K_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="firebaseLocalStorageDb",Aj=1,ah="firebaseLocalStorage",Q_="fbase_key";class Zc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ph(n,e){return n.transaction([ah],e?"readwrite":"readonly").objectStore(ah)}function Cj(){const n=indexedDB.deleteDatabase(Y_);return new Zc(n).toPromise()}function Bp(){const n=indexedDB.open(Y_,Aj);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(ah,{keyPath:Q_})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(ah)?e(i):(i.close(),await Cj(),e(await Bp()))})})}async function ww(n,e,t){const i=Ph(n,!0).put({[Q_]:e,value:t});return new Zc(i).toPromise()}async function Rj(n,e){const t=Ph(n,!1).get(e),i=await new Zc(t).toPromise();return i===void 0?null:i.value}function xw(n,e){const t=Ph(n,!0).delete(e);return new Zc(t).toPromise()}const jj=800,Ij=3;class X_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>Ij)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return K_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mh._getInstance(Sj()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Tj(),!this.activeServiceWorker)return;this.sender=new _j(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Nj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bp();return await ww(e,ih,"1"),await xw(e,ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>ww(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>Rj(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>xw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Ph(o,!1).getAll();return new Zc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}X_.type="LOCAL";const kj=X_;new Qc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(n,e){return e?vr(e):(Se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg extends Tg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Vo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Dj(n){return B_(n.auth,new Cg(n),n.bypassAuthState)}function Oj(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),fj(t,new Cg(n),n.bypassAuthState)}async function Mj(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),hj(t,new Cg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e,t,i,o,u=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:u,error:h,type:p}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:i,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Dj;case"linkViaPopup":case"linkViaRedirect":return Mj;case"reauthViaPopup":case"reauthViaRedirect":return Oj;default:os(this.auth,"internal-error")}}resolve(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=new Qc(2e3,1e4);async function _w(n,e,t){if(zn(n.app))return Promise.reject(ws(n,"operation-not-supported-in-this-environment"));const i=Di(n);bR(n,e,Sg);const o=W_(i,t);return new Ea(i,"signInViaPopup",e,o).executeNotNull()}class Ea extends Z_{constructor(e,t,i,o,u){super(e,t,o,u),this.provider=i,this.authWindow=null,this.pollId=null,Ea.currentPopupAction&&Ea.currentPopupAction.cancel(),Ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Sr(this.filter.length===1,"Popup operations only handle one event");const e=Ag();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ws(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ws(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ws(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Pj.get())};e()}}Ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj="pendingRedirect",qd=new Map;class Lj extends Z_{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=qd.get(this.auth._key());if(!e){try{const i=await Uj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}qd.set(this.auth._key(),e)}return this.bypassAuthState||qd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Uj(n,e){const t=Hj(e),i=zj(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function Bj(n,e){qd.set(n._key(),e)}function zj(n){return vr(n._redirectPersistence)}function Hj(n){return Hd(Vj,n.config.apiKey,n.name)}async function qj(n,e,t=!1){if(zn(n.app))return Promise.reject(xr(n));const i=Di(n),o=W_(i,e),h=await new Lj(i,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=600*1e3;class $j{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Gj(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!J_(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(ws(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Fj&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ew(e))}saveEventToCache(e){this.cachedEventUids.add(Ew(e)),this.lastProcessedEventTime=Date.now()}}function Ew(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function J_({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Gj(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return J_(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kj(n,e={}){return ki(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qj=/^https?/;async function Xj(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Kj(n);for(const t of e)try{if(Wj(t))return}catch{}os(n,"unauthorized-domain")}function Wj(n){const e=Vp(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!Qj.test(t))return!1;if(Yj.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj=new Qc(3e4,6e4);function Tw(){const n=Ls().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Jj(n){return new Promise((e,t)=>{function i(){Tw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Tw(),t(ws(n,"network-request-failed"))},timeout:Zj.get()})}if(Ls().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ls().gapi?.load)i();else{const o=YR("iframefcb");return Ls()[o]=()=>{gapi.load?i():t(ws(n,"network-request-failed"))},P_(`${KR()}?onload=${o}`).catch(u=>t(u))}}).catch(e=>{throw Fd=null,e})}let Fd=null;function eI(n){return Fd=Fd||Jj(n),Fd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=new Qc(5e3,15e3),nI="__/auth/iframe",sI="emulator/auth/iframe",rI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aI(n){const e=n.config;Se(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?xg(e,sI):`https://${n.config.authDomain}/${nI}`,i={apiKey:e.apiKey,appName:n.name,v:tl},o=iI.get(n.config.apiHost);o&&(i.eid=o);const u=n._getFrameworks();return u.length&&(i.fw=u.join(",")),`${t}?${Yc(i).slice(1)}`}async function oI(n){const e=await eI(n),t=Ls().gapi;return Se(t,n,"internal-error"),e.open({where:document.body,url:aI(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rI,dontclear:!0},i=>new Promise(async(o,u)=>{await i.restyle({setHideOnLeave:!1});const h=ws(n,"network-request-failed"),p=Ls().setTimeout(()=>{u(h)},tI.get());function g(){Ls().clearTimeout(p),o(i)}i.ping(g).then(g,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cI=500,uI=600,dI="_blank",hI="http://localhost";class Nw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fI(n,e,t,i=cI,o=uI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let p="";const g={...lI,width:i.toString(),height:o.toString(),top:u,left:h},y=dn().toLowerCase();t&&(p=R_(y)?dI:t),A_(y)&&(e=e||hI,g.scrollbars="yes");const x=Object.entries(g).reduce((N,[O,V])=>`${N}${O}=${V},`,"");if(LR(y)&&p!=="_self")return mI(e||"",p),new Nw(null);const E=window.open(e||"",p,x);Se(E,n,"popup-blocked");try{E.focus()}catch{}return new Nw(E)}function mI(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="__/auth/handler",gI="emulator/auth/handler",yI=encodeURIComponent("fac");async function Sw(n,e,t,i,o,u){Se(n.config.authDomain,n,"auth-domain-config-required"),Se(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:tl,eventId:o};if(e instanceof Sg){e.setDefaultLanguage(n.languageCode),h.providerId=e.providerId||"",iC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,E]of Object.entries({}))h[x]=E}if(e instanceof Wc){const x=e.getScopes().filter(E=>E!=="");x.length>0&&(h.scopes=x.join(","))}n.tenantId&&(h.tid=n.tenantId);const p=h;for(const x of Object.keys(p))p[x]===void 0&&delete p[x];const g=await n._getAppCheckToken(),y=g?`#${yI}=${encodeURIComponent(g)}`:"";return`${vI(n)}?${Yc(p).slice(1)}${y}`}function vI({config:n}){return n.emulator?xg(n,gI):`https://${n.authDomain}/${pI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="webStorageSupport";class bI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=G_,this._completeRedirectFn=qj,this._overrideRedirectResult=Bj}async _openPopup(e,t,i,o){Sr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Sw(e,t,i,Vp(),o);return fI(e,u,Ag())}async _openRedirect(e,t,i,o){await this._originValidation(e);const u=await Sw(e,t,i,Vp(),o);return Ej(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(Sr(u,"If manager is not set, promise should be"),u)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await oI(e),i=new $j(e);return t.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(wp,{type:wp},o=>{const u=o?.[0]?.[wp];u!==void 0&&t(!!u),os(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Xj(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return O_()||C_()||Eg()}}const wI=bI;var Aw="@firebase/auth",Cw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EI(n){qo(new ja("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=i.options;Se(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:h,authDomain:p,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:M_(n)},y=new FR(i,o,u,g);return ej(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),qo(new ja("auth-internal",e=>{const t=Di(e.getProvider("auth").getImmediate());return(i=>new xI(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),_i(Aw,Cw,_I(n)),_i(Aw,Cw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=300,NI=d_("authIdTokenMaxAge")||TI;let Rw=null;const SI=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>NI)return;const o=t?.token;Rw!==o&&(Rw=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function AI(n=y_()){const e=vg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=JR(n,{popupRedirectResolver:wI,persistence:[kj,wj,G_]}),i=d_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(i,location.origin);if(location.origin===u.origin){const h=SI(u.toString());yj(t,h,()=>h(t.currentUser)),gj(t,p=>h(p))}}const o=c_("auth");return o&&tj(t,`http://${o}`),t}function CI(){return document.getElementsByTagName("head")?.[0]??document}$R({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const u=ws("internal-error");u.customData=o,t(u)},i.type="text/javascript",i.charset="UTF-8",CI().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EI("Browser");var RI="firebase",jI="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i(RI,jI,"app");var jw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ei,e2;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,S){function C(){}C.prototype=S.prototype,A.F=S.prototype,A.prototype=new C,A.prototype.constructor=A,A.D=function(P,D,U){for(var j=Array(arguments.length-2),it=2;it<arguments.length;it++)j[it-2]=arguments[it];return S.prototype[D].apply(P,j)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(A,S,C){C||(C=0);const P=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)P[D]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(D=0;D<16;++D)P[D]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=A.g[0],C=A.g[1],D=A.g[2];let U=A.g[3],j;j=S+(U^C&(D^U))+P[0]+3614090360&4294967295,S=C+(j<<7&4294967295|j>>>25),j=U+(D^S&(C^D))+P[1]+3905402710&4294967295,U=S+(j<<12&4294967295|j>>>20),j=D+(C^U&(S^C))+P[2]+606105819&4294967295,D=U+(j<<17&4294967295|j>>>15),j=C+(S^D&(U^S))+P[3]+3250441966&4294967295,C=D+(j<<22&4294967295|j>>>10),j=S+(U^C&(D^U))+P[4]+4118548399&4294967295,S=C+(j<<7&4294967295|j>>>25),j=U+(D^S&(C^D))+P[5]+1200080426&4294967295,U=S+(j<<12&4294967295|j>>>20),j=D+(C^U&(S^C))+P[6]+2821735955&4294967295,D=U+(j<<17&4294967295|j>>>15),j=C+(S^D&(U^S))+P[7]+4249261313&4294967295,C=D+(j<<22&4294967295|j>>>10),j=S+(U^C&(D^U))+P[8]+1770035416&4294967295,S=C+(j<<7&4294967295|j>>>25),j=U+(D^S&(C^D))+P[9]+2336552879&4294967295,U=S+(j<<12&4294967295|j>>>20),j=D+(C^U&(S^C))+P[10]+4294925233&4294967295,D=U+(j<<17&4294967295|j>>>15),j=C+(S^D&(U^S))+P[11]+2304563134&4294967295,C=D+(j<<22&4294967295|j>>>10),j=S+(U^C&(D^U))+P[12]+1804603682&4294967295,S=C+(j<<7&4294967295|j>>>25),j=U+(D^S&(C^D))+P[13]+4254626195&4294967295,U=S+(j<<12&4294967295|j>>>20),j=D+(C^U&(S^C))+P[14]+2792965006&4294967295,D=U+(j<<17&4294967295|j>>>15),j=C+(S^D&(U^S))+P[15]+1236535329&4294967295,C=D+(j<<22&4294967295|j>>>10),j=S+(D^U&(C^D))+P[1]+4129170786&4294967295,S=C+(j<<5&4294967295|j>>>27),j=U+(C^D&(S^C))+P[6]+3225465664&4294967295,U=S+(j<<9&4294967295|j>>>23),j=D+(S^C&(U^S))+P[11]+643717713&4294967295,D=U+(j<<14&4294967295|j>>>18),j=C+(U^S&(D^U))+P[0]+3921069994&4294967295,C=D+(j<<20&4294967295|j>>>12),j=S+(D^U&(C^D))+P[5]+3593408605&4294967295,S=C+(j<<5&4294967295|j>>>27),j=U+(C^D&(S^C))+P[10]+38016083&4294967295,U=S+(j<<9&4294967295|j>>>23),j=D+(S^C&(U^S))+P[15]+3634488961&4294967295,D=U+(j<<14&4294967295|j>>>18),j=C+(U^S&(D^U))+P[4]+3889429448&4294967295,C=D+(j<<20&4294967295|j>>>12),j=S+(D^U&(C^D))+P[9]+568446438&4294967295,S=C+(j<<5&4294967295|j>>>27),j=U+(C^D&(S^C))+P[14]+3275163606&4294967295,U=S+(j<<9&4294967295|j>>>23),j=D+(S^C&(U^S))+P[3]+4107603335&4294967295,D=U+(j<<14&4294967295|j>>>18),j=C+(U^S&(D^U))+P[8]+1163531501&4294967295,C=D+(j<<20&4294967295|j>>>12),j=S+(D^U&(C^D))+P[13]+2850285829&4294967295,S=C+(j<<5&4294967295|j>>>27),j=U+(C^D&(S^C))+P[2]+4243563512&4294967295,U=S+(j<<9&4294967295|j>>>23),j=D+(S^C&(U^S))+P[7]+1735328473&4294967295,D=U+(j<<14&4294967295|j>>>18),j=C+(U^S&(D^U))+P[12]+2368359562&4294967295,C=D+(j<<20&4294967295|j>>>12),j=S+(C^D^U)+P[5]+4294588738&4294967295,S=C+(j<<4&4294967295|j>>>28),j=U+(S^C^D)+P[8]+2272392833&4294967295,U=S+(j<<11&4294967295|j>>>21),j=D+(U^S^C)+P[11]+1839030562&4294967295,D=U+(j<<16&4294967295|j>>>16),j=C+(D^U^S)+P[14]+4259657740&4294967295,C=D+(j<<23&4294967295|j>>>9),j=S+(C^D^U)+P[1]+2763975236&4294967295,S=C+(j<<4&4294967295|j>>>28),j=U+(S^C^D)+P[4]+1272893353&4294967295,U=S+(j<<11&4294967295|j>>>21),j=D+(U^S^C)+P[7]+4139469664&4294967295,D=U+(j<<16&4294967295|j>>>16),j=C+(D^U^S)+P[10]+3200236656&4294967295,C=D+(j<<23&4294967295|j>>>9),j=S+(C^D^U)+P[13]+681279174&4294967295,S=C+(j<<4&4294967295|j>>>28),j=U+(S^C^D)+P[0]+3936430074&4294967295,U=S+(j<<11&4294967295|j>>>21),j=D+(U^S^C)+P[3]+3572445317&4294967295,D=U+(j<<16&4294967295|j>>>16),j=C+(D^U^S)+P[6]+76029189&4294967295,C=D+(j<<23&4294967295|j>>>9),j=S+(C^D^U)+P[9]+3654602809&4294967295,S=C+(j<<4&4294967295|j>>>28),j=U+(S^C^D)+P[12]+3873151461&4294967295,U=S+(j<<11&4294967295|j>>>21),j=D+(U^S^C)+P[15]+530742520&4294967295,D=U+(j<<16&4294967295|j>>>16),j=C+(D^U^S)+P[2]+3299628645&4294967295,C=D+(j<<23&4294967295|j>>>9),j=S+(D^(C|~U))+P[0]+4096336452&4294967295,S=C+(j<<6&4294967295|j>>>26),j=U+(C^(S|~D))+P[7]+1126891415&4294967295,U=S+(j<<10&4294967295|j>>>22),j=D+(S^(U|~C))+P[14]+2878612391&4294967295,D=U+(j<<15&4294967295|j>>>17),j=C+(U^(D|~S))+P[5]+4237533241&4294967295,C=D+(j<<21&4294967295|j>>>11),j=S+(D^(C|~U))+P[12]+1700485571&4294967295,S=C+(j<<6&4294967295|j>>>26),j=U+(C^(S|~D))+P[3]+2399980690&4294967295,U=S+(j<<10&4294967295|j>>>22),j=D+(S^(U|~C))+P[10]+4293915773&4294967295,D=U+(j<<15&4294967295|j>>>17),j=C+(U^(D|~S))+P[1]+2240044497&4294967295,C=D+(j<<21&4294967295|j>>>11),j=S+(D^(C|~U))+P[8]+1873313359&4294967295,S=C+(j<<6&4294967295|j>>>26),j=U+(C^(S|~D))+P[15]+4264355552&4294967295,U=S+(j<<10&4294967295|j>>>22),j=D+(S^(U|~C))+P[6]+2734768916&4294967295,D=U+(j<<15&4294967295|j>>>17),j=C+(U^(D|~S))+P[13]+1309151649&4294967295,C=D+(j<<21&4294967295|j>>>11),j=S+(D^(C|~U))+P[4]+4149444226&4294967295,S=C+(j<<6&4294967295|j>>>26),j=U+(C^(S|~D))+P[11]+3174756917&4294967295,U=S+(j<<10&4294967295|j>>>22),j=D+(S^(U|~C))+P[2]+718787259&4294967295,D=U+(j<<15&4294967295|j>>>17),j=C+(U^(D|~S))+P[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(D+(j<<21&4294967295|j>>>11))&4294967295,A.g[2]=A.g[2]+D&4294967295,A.g[3]=A.g[3]+U&4294967295}i.prototype.v=function(A,S){S===void 0&&(S=A.length);const C=S-this.blockSize,P=this.C;let D=this.h,U=0;for(;U<S;){if(D==0)for(;U<=C;)o(this,A,U),U+=this.blockSize;if(typeof A=="string"){for(;U<S;)if(P[D++]=A.charCodeAt(U++),D==this.blockSize){o(this,P),D=0;break}}else for(;U<S;)if(P[D++]=A[U++],D==this.blockSize){o(this,P),D=0;break}}this.h=D,this.o+=S},i.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;S=this.o*8;for(var C=A.length-8;C<A.length;++C)A[C]=S&255,S/=256;for(this.v(A),A=Array(16),S=0,C=0;C<4;++C)for(let P=0;P<32;P+=8)A[S++]=this.g[C]>>>P&255;return A};function u(A,S){var C=p;return Object.prototype.hasOwnProperty.call(C,A)?C[A]:C[A]=S(A)}function h(A,S){this.h=S;const C=[];let P=!0;for(let D=A.length-1;D>=0;D--){const U=A[D]|0;P&&U==S||(C[D]=U,P=!1)}this.g=C}var p={};function g(A){return-128<=A&&A<128?u(A,function(S){return new h([S|0],S<0?-1:0)}):new h([A|0],A<0?-1:0)}function y(A){if(isNaN(A)||!isFinite(A))return E;if(A<0)return B(y(-A));const S=[];let C=1;for(let P=0;A>=C;P++)S[P]=A/C|0,C*=4294967296;return new h(S,0)}function x(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return B(x(A.substring(1),S));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(S,8));let P=E;for(let U=0;U<A.length;U+=8){var D=Math.min(8,A.length-U);const j=parseInt(A.substring(U,U+D),S);D<8?(D=y(Math.pow(S,D)),P=P.j(D).add(y(j))):(P=P.j(C),P=P.add(y(j)))}return P}var E=g(0),N=g(1),O=g(16777216);n=h.prototype,n.m=function(){if(G(this))return-B(this).m();let A=0,S=1;for(let C=0;C<this.g.length;C++){const P=this.i(C);A+=(P>=0?P:4294967296+P)*S,S*=4294967296}return A},n.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(V(this))return"0";if(G(this))return"-"+B(this).toString(A);const S=y(Math.pow(A,6));var C=this;let P="";for(;;){const D=ve(C,S).g;C=ee(C,D.j(S));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(A);if(C=D,V(C))return U+P;for(;U.length<6;)U="0"+U;P=U+P}},n.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function V(A){if(A.h!=0)return!1;for(let S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function G(A){return A.h==-1}n.l=function(A){return A=ee(this,A),G(A)?-1:V(A)?0:1};function B(A){const S=A.g.length,C=[];for(let P=0;P<S;P++)C[P]=~A.g[P];return new h(C,~A.h).add(N)}n.abs=function(){return G(this)?B(this):this},n.add=function(A){const S=Math.max(this.g.length,A.g.length),C=[];let P=0;for(let D=0;D<=S;D++){let U=P+(this.i(D)&65535)+(A.i(D)&65535),j=(U>>>16)+(this.i(D)>>>16)+(A.i(D)>>>16);P=j>>>16,U&=65535,j&=65535,C[D]=j<<16|U}return new h(C,C[C.length-1]&-2147483648?-1:0)};function ee(A,S){return A.add(B(S))}n.j=function(A){if(V(this)||V(A))return E;if(G(this))return G(A)?B(this).j(B(A)):B(B(this).j(A));if(G(A))return B(this.j(B(A)));if(this.l(O)<0&&A.l(O)<0)return y(this.m()*A.m());const S=this.g.length+A.g.length,C=[];for(var P=0;P<2*S;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(let D=0;D<A.g.length;D++){const U=this.i(P)>>>16,j=this.i(P)&65535,it=A.i(D)>>>16,oe=A.i(D)&65535;C[2*P+2*D]+=j*oe,Q(C,2*P+2*D),C[2*P+2*D+1]+=U*oe,Q(C,2*P+2*D+1),C[2*P+2*D+1]+=j*it,Q(C,2*P+2*D+1),C[2*P+2*D+2]+=U*it,Q(C,2*P+2*D+2)}for(A=0;A<S;A++)C[A]=C[2*A+1]<<16|C[2*A];for(A=S;A<2*S;A++)C[A]=0;return new h(C,0)};function Q(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function ie(A,S){this.g=A,this.h=S}function ve(A,S){if(V(S))throw Error("division by zero");if(V(A))return new ie(E,E);if(G(A))return S=ve(B(A),S),new ie(B(S.g),B(S.h));if(G(S))return S=ve(A,B(S)),new ie(B(S.g),S.h);if(A.g.length>30){if(G(A)||G(S))throw Error("slowDivide_ only works with positive integers.");for(var C=N,P=S;P.l(A)<=0;)C=ce(C),P=ce(P);var D=be(C,1),U=be(P,1);for(P=be(P,2),C=be(C,2);!V(P);){var j=U.add(P);j.l(A)<=0&&(D=D.add(C),U=j),P=be(P,1),C=be(C,1)}return S=ee(A,D.j(S)),new ie(D,S)}for(D=E;A.l(S)>=0;){for(C=Math.max(1,Math.floor(A.m()/S.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),U=y(C),j=U.j(S);G(j)||j.l(A)>0;)C-=P,U=y(C),j=U.j(S);V(U)&&(U=N),D=D.add(U),A=ee(A,j)}return new ie(D,A)}n.B=function(A){return ve(this,A).h},n.and=function(A){const S=Math.max(this.g.length,A.g.length),C=[];for(let P=0;P<S;P++)C[P]=this.i(P)&A.i(P);return new h(C,this.h&A.h)},n.or=function(A){const S=Math.max(this.g.length,A.g.length),C=[];for(let P=0;P<S;P++)C[P]=this.i(P)|A.i(P);return new h(C,this.h|A.h)},n.xor=function(A){const S=Math.max(this.g.length,A.g.length),C=[];for(let P=0;P<S;P++)C[P]=this.i(P)^A.i(P);return new h(C,this.h^A.h)};function ce(A){const S=A.g.length+1,C=[];for(let P=0;P<S;P++)C[P]=A.i(P)<<1|A.i(P-1)>>>31;return new h(C,A.h)}function be(A,S){const C=S>>5;S%=32;const P=A.g.length-C,D=[];for(let U=0;U<P;U++)D[U]=S>0?A.i(U+C)>>>S|A.i(U+C+1)<<32-S:A.i(U+C);return new h(D,A.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,e2=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=x,Ei=h}).apply(typeof jw<"u"?jw:typeof self<"u"?self:typeof window<"u"?window:{});var Id=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var t2,wc,n2,$d,zp,s2,r2,i2;(function(){var n,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Id=="object"&&Id];for(var v=0;v<d.length;++v){var b=d[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=t(this);function o(d,v){if(v)e:{var b=i;d=d.split(".");for(var T=0;T<d.length-1;T++){var H=d[T];if(!(H in b))break e;b=b[H]}d=d[d.length-1],T=b[d],v=v(T),v!=T&&v!=null&&e(b,d,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(d){return d||function(v){var b=[],T;for(T in v)Object.prototype.hasOwnProperty.call(v,T)&&b.push([T,v[T]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function p(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function g(d,v,b){return d.call.apply(d.bind,arguments)}function y(d,v,b){return y=g,y.apply(null,arguments)}function x(d,v){var b=Array.prototype.slice.call(arguments,1);return function(){var T=b.slice();return T.push.apply(T,arguments),d.apply(this,T)}}function E(d,v){function b(){}b.prototype=v.prototype,d.Z=v.prototype,d.prototype=new b,d.prototype.constructor=d,d.Ob=function(T,H,Y){for(var le=Array(arguments.length-2),je=2;je<arguments.length;je++)le[je-2]=arguments[je];return v.prototype[H].apply(T,le)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function O(d){const v=d.length;if(v>0){const b=Array(v);for(let T=0;T<v;T++)b[T]=d[T];return b}return[]}function V(d,v){for(let T=1;T<arguments.length;T++){const H=arguments[T];var b=typeof H;if(b=b!="object"?b:H?Array.isArray(H)?"array":b:"null",b=="array"||b=="object"&&typeof H.length=="number"){b=d.length||0;const Y=H.length||0;d.length=b+Y;for(let le=0;le<Y;le++)d[b+le]=H[le]}else d.push(H)}}class G{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function B(d){h.setTimeout(()=>{throw d},0)}function ee(){var d=A;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class Q{constructor(){this.h=this.g=null}add(v,b){const T=ie.get();T.set(v,b),this.h?this.h.next=T:this.g=T,this.h=T}}var ie=new G(()=>new ve,d=>d.reset());class ve{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,be=!1,A=new Q,S=()=>{const d=Promise.resolve(void 0);ce=()=>{d.then(C)}};function C(){for(var d;d=ee();){try{d.h.call(d.g)}catch(b){B(b)}var v=ie;v.j(d),v.h<100&&(v.h++,d.next=v.g,v.g=d)}be=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const b=()=>{};h.addEventListener("test",b,v),h.removeEventListener("test",b,v)}catch{}return d})();function j(d){return/^[\s\xa0]*$/.test(d)}function it(d,v){D.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,v)}E(it,D),it.prototype.init=function(d,v){const b=this.type=d.type,T=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget,v||(b=="mouseover"?v=d.fromElement:b=="mouseout"&&(v=d.toElement)),this.relatedTarget=v,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&it.Z.h.call(this)},it.prototype.h=function(){it.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var oe="closure_listenable_"+(Math.random()*1e6|0),F=0;function ae(d,v,b,T,H){this.listener=d,this.proxy=null,this.src=v,this.type=b,this.capture=!!T,this.ha=H,this.key=++F,this.da=this.fa=!1}function he(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ke(d,v,b){for(const T in d)v.call(b,d[T],T,d)}function k(d,v){for(const b in d)v.call(void 0,d[b],b,d)}function se(d){const v={};for(const b in d)v[b]=d[b];return v}const de="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(d,v){let b,T;for(let H=1;H<arguments.length;H++){T=arguments[H];for(b in T)d[b]=T[b];for(let Y=0;Y<de.length;Y++)b=de[Y],Object.prototype.hasOwnProperty.call(T,b)&&(d[b]=T[b])}}function ge(d){this.src=d,this.g={},this.h=0}ge.prototype.add=function(d,v,b,T,H){const Y=d.toString();d=this.g[Y],d||(d=this.g[Y]=[],this.h++);const le=J(d,v,T,H);return le>-1?(v=d[le],b||(v.fa=!1)):(v=new ae(v,this.src,Y,!!T,H),v.fa=b,d.push(v)),v};function Pe(d,v){const b=v.type;if(b in d.g){var T=d.g[b],H=Array.prototype.indexOf.call(T,v,void 0),Y;(Y=H>=0)&&Array.prototype.splice.call(T,H,1),Y&&(he(v),d.g[b].length==0&&(delete d.g[b],d.h--))}}function J(d,v,b,T){for(let H=0;H<d.length;++H){const Y=d[H];if(!Y.da&&Y.listener==v&&Y.capture==!!b&&Y.ha==T)return H}return-1}var De="closure_lm_"+(Math.random()*1e6|0),we={};function $e(d,v,b,T,H){if(Array.isArray(v)){for(let Y=0;Y<v.length;Y++)$e(d,v[Y],b,T,H);return null}return b=uu(b),d&&d[oe]?d.J(v,b,p(T)?!!T.capture:!1,H):Rt(d,v,b,!1,T,H)}function Rt(d,v,b,T,H,Y){if(!v)throw Error("Invalid event type");const le=p(H)?!!H.capture:!!H;let je=Pi(d);if(je||(d[De]=je=new ge(d)),b=je.add(v,b,T,le,Y),b.proxy)return b;if(T=Tn(),b.proxy=T,T.src=d,T.listener=b,d.addEventListener)U||(H=le),H===void 0&&(H=!1),d.addEventListener(v.toString(),T,H);else if(d.attachEvent)d.attachEvent(fn(v.toString()),T);else if(d.addListener&&d.removeListener)d.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Tn(){function d(b){return v.call(d.src,d.listener,b)}const v=Gn;return d}function Nn(d,v,b,T,H){if(Array.isArray(v))for(var Y=0;Y<v.length;Y++)Nn(d,v[Y],b,T,H);else T=p(T)?!!T.capture:!!T,b=uu(b),d&&d[oe]?(d=d.i,Y=String(v).toString(),Y in d.g&&(v=d.g[Y],b=J(v,b,T,H),b>-1&&(he(v[b]),Array.prototype.splice.call(v,b,1),v.length==0&&(delete d.g[Y],d.h--)))):d&&(d=Pi(d))&&(v=d.g[v.toString()],d=-1,v&&(d=J(v,b,T,H)),(b=d>-1?v[d]:null)&&jt(b))}function jt(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[oe])Pe(v.i,d);else{var b=d.type,T=d.proxy;v.removeEventListener?v.removeEventListener(b,T,d.capture):v.detachEvent?v.detachEvent(fn(b),T):v.addListener&&v.removeListener&&v.removeListener(T),(b=Pi(v))?(Pe(b,d),b.h==0&&(b.src=null,v[De]=null)):he(d)}}}function fn(d){return d in we?we[d]:we[d]="on"+d}function Gn(d,v){if(d.da)d=!0;else{v=new it(v,this);const b=d.listener,T=d.ha||d.src;d.fa&&jt(d),d=b.call(T,v)}return d}function Pi(d){return d=d[De],d instanceof ge?d:null}var Sn="__closure_events_fn_"+(Math.random()*1e9>>>0);function uu(d){return typeof d=="function"?d:(d[Sn]||(d[Sn]=function(v){return d.handleEvent(v)}),d[Sn])}function Pt(){P.call(this),this.i=new ge(this),this.M=this,this.G=null}E(Pt,P),Pt.prototype[oe]=!0,Pt.prototype.removeEventListener=function(d,v,b,T){Nn(this,d,v,b,T)};function Ht(d,v){var b,T=d.G;if(T)for(b=[];T;T=T.G)b.push(T);if(d=d.M,T=v.type||v,typeof v=="string")v=new D(v,d);else if(v instanceof D)v.target=v.target||d;else{var H=v;v=new D(T,d),ue(v,H)}H=!0;let Y,le;if(b)for(le=b.length-1;le>=0;le--)Y=v.g=b[le],H=Ys(Y,T,!0,v)&&H;if(Y=v.g=d,H=Ys(Y,T,!0,v)&&H,H=Ys(Y,T,!1,v)&&H,b)for(le=0;le<b.length;le++)Y=v.g=b[le],H=Ys(Y,T,!1,v)&&H}Pt.prototype.N=function(){if(Pt.Z.N.call(this),this.i){var d=this.i;for(const v in d.g){const b=d.g[v];for(let T=0;T<b.length;T++)he(b[T]);delete d.g[v],d.h--}}this.G=null},Pt.prototype.J=function(d,v,b,T){return this.i.add(String(d),v,!1,b,T)},Pt.prototype.K=function(d,v,b,T){return this.i.add(String(d),v,!0,b,T)};function Ys(d,v,b,T){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();let H=!0;for(let Y=0;Y<v.length;++Y){const le=v[Y];if(le&&!le.da&&le.capture==b){const je=le.listener,ct=le.ha||le.src;le.fa&&Pe(d.i,le),H=je.call(ct,T)!==!1&&H}}return H&&!T.defaultPrevented}function lf(d,v){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=y(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:h.setTimeout(d,v||0)}function dl(d){d.g=lf(()=>{d.g=null,d.i&&(d.i=!1,dl(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class cf extends P{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:dl(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vi(d){P.call(this),this.h=d,this.g={}}E(Vi,P);var Ir=[];function sn(d){ke(d.g,function(v,b){this.g.hasOwnProperty(b)&&jt(v)},d),d.g={}}Vi.prototype.N=function(){Vi.Z.N.call(this),sn(this)},Vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kn=h.JSON.stringify,mn=h.JSON.parse,uf=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function du(){}function hu(){}var _s={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function kr(){D.call(this,"d")}E(kr,D);function cs(){D.call(this,"c")}E(cs,D);var Yn={},Dr=null;function Ha(){return Dr=Dr||new Pt}Yn.Ia="serverreachability";function hl(d){D.call(this,Yn.Ia,d)}E(hl,D);function Or(d){const v=Ha();Ht(v,new hl(v))}Yn.STAT_EVENT="statevent";function qa(d,v){D.call(this,Yn.STAT_EVENT,d),this.stat=v}E(qa,D);function wt(d){const v=Ha();Ht(v,new qa(v,d))}Yn.Ja="timingevent";function fu(d,v){D.call(this,Yn.Ja,d),this.size=v}E(fu,D);function Mr(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},v)}function Pr(){this.g=!0}Pr.prototype.ua=function(){this.g=!1};function fl(d,v,b,T,H,Y){d.info(function(){if(d.g)if(Y){var le="",je=Y.split("&");for(let We=0;We<je.length;We++){var ct=je[We].split("=");if(ct.length>1){const Et=ct[0];ct=ct[1];const Dn=Et.split("_");le=Dn.length>=2&&Dn[1]=="type"?le+(Et+"="+ct+"&"):le+(Et+"=redacted&")}}}else le=null;else le=Y;return"XMLHTTP REQ ("+T+") [attempt "+H+"]: "+v+`
`+b+`
`+le})}function ml(d,v,b,T,H,Y,le){d.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+H+"]: "+v+`
`+b+`
`+Y+" "+le})}function Qs(d,v,b,T){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Es(d,b)+(T?" "+T:"")})}function df(d,v){d.info(function(){return"TIMEOUT: "+v})}Pr.prototype.info=function(){};function Es(d,v){if(!d.g)return v;if(!v)return null;try{const Y=JSON.parse(v);if(Y){for(d=0;d<Y.length;d++)if(Array.isArray(Y[d])){var b=Y[d];if(!(b.length<2)){var T=b[1];if(Array.isArray(T)&&!(T.length<1)){var H=T[0];if(H!="noop"&&H!="stop"&&H!="close")for(let le=1;le<T.length;le++)T[le]=""}}}}return Kn(Y)}catch{return v}}var xt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Qt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Xs;function Li(){}E(Li,du),Li.prototype.g=function(){return new XMLHttpRequest},Xs=new Li;function Ui(d){return encodeURIComponent(String(d))}function hf(d){var v=1;d=d.split(":");const b=[];for(;v>0&&d.length;)b.push(d.shift()),v--;return d.length&&b.push(d.join(":")),b}function us(d,v,b,T){this.j=d,this.i=v,this.l=b,this.S=T||1,this.V=new Vi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Vr}function Vr(){this.i=null,this.g="",this.h=!1}var Fa={},Ts={};function Ns(d,v,b){d.M=1,d.A=Zs(ft(v)),d.u=b,d.R=!0,Lr(d,null)}function Lr(d,v){d.F=Date.now(),Bi(d),d.B=ft(d.A);var b=d.B,T=d.S;Array.isArray(T)||(T=[String(T)]),yu(b.i,"t",T),d.C=0,b=d.j.L,d.h=new Vr,d.g=eo(d.j,b?v:null,!d.u),d.P>0&&(d.O=new cf(y(d.Y,d,d.g),d.P)),v=d.V,b=d.g,T=d.ba;var H="readystatechange";Array.isArray(H)||(H&&(Ir[0]=H.toString()),H=Ir);for(let Y=0;Y<H.length;Y++){const le=$e(b,H[Y],T||v.handleEvent,!1,v.h||v);if(!le)break;v.g[le.key]=le}v=d.J?se(d.J):{},d.u?(d.v||(d.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,v)):(d.v="GET",d.g.ea(d.B,d.v,null,v)),Or(),fl(d.i,d.v,d.B,d.l,d.S,d.u)}us.prototype.ba=function(d){d=d.target;const v=this.O;v&&rn(d)==3?v.j():this.Y(d)},us.prototype.Y=function(d){try{if(d==this.g)e:{const je=rn(this.g),ct=this.g.ya(),We=this.g.ca();if(!(je<3)&&(je!=3||this.g&&(this.h.h||this.g.la()||Wi(this.g)))){this.K||je!=4||ct==7||(ct==8||We<=0?Or(3):Or(2)),As(this);var v=this.g.ca();this.X=v;var b=Ur(this);if(this.o=v==200,ml(this.i,this.v,this.B,this.l,this.S,je,v),this.o){if(this.U&&!this.L){t:{if(this.g){var T,H=this.g;if((T=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(T)){var Y=T;break t}}Y=null}if(d=Y)Qs(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,$a(this,d);else{this.o=!1,this.m=3,wt(12),Cs(this),zi(this);break e}}if(this.R){d=!0;let Et;for(;!this.K&&this.C<b.length;)if(Et=mu(this,b),Et==Ts){je==4&&(this.m=4,wt(14),d=!1),Qs(this.i,this.l,null,"[Incomplete Response]");break}else if(Et==Fa){this.m=4,wt(15),Qs(this.i,this.l,b,"[Invalid Chunk]"),d=!1;break}else Qs(this.i,this.l,Et,null),$a(this,Et);if(_t(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||b.length!=0||this.h.h||(this.m=1,wt(16),d=!1),this.o=this.o&&d,!d)Qs(this.i,this.l,b,"[Invalid Chunked Response]"),Cs(this),zi(this);else if(b.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Tl(le),le.P=!0,wt(11))}}else Qs(this.i,this.l,b,null),$a(this,b);je==4&&Cs(this),this.o&&!this.K&&(je==4?Nl(this.j,this):(this.o=!1,Bi(this)))}else Zi(this.g),v==400&&b.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),Cs(this),zi(this)}}}catch{}finally{}};function Ur(d){if(!_t(d))return d.g.la();const v=Wi(d.g);if(v==="")return"";let b="";const T=v.length,H=rn(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Cs(d),zi(d),"";d.h.i=new h.TextDecoder}for(let Y=0;Y<T;Y++)d.h.h=!0,b+=d.h.i.decode(v[Y],{stream:!(H&&Y==T-1)});return v.length=0,d.h.g+=b,d.C=0,d.h.g}function _t(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function mu(d,v){var b=d.C,T=v.indexOf(`
`,b);return T==-1?Ts:(b=Number(v.substring(b,T)),isNaN(b)?Fa:(T+=1,T+b>v.length?Ts:(v=v.slice(T,T+b),d.C=T+b,v)))}us.prototype.cancel=function(){this.K=!0,Cs(this)};function Bi(d){d.T=Date.now()+d.H,Ss(d,d.H)}function Ss(d,v){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Mr(y(d.aa,d),v)}function As(d){d.D&&(h.clearTimeout(d.D),d.D=null)}us.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(df(this.i,this.B),this.M!=2&&(Or(),wt(17)),Cs(this),this.m=2,zi(this)):Ss(this,this.T-d)};function zi(d){d.j.I==0||d.K||Nl(d.j,d)}function Cs(d){As(d);var v=d.O;v&&typeof v.dispose=="function"&&v.dispose(),d.O=null,sn(d.V),d.g&&(v=d.g,d.g=null,v.abort(),v.dispose())}function $a(d,v){try{var b=d.j;if(b.I!=0&&(b.g==d||Fi(b.h,d))){if(!d.L&&Fi(b.h,d)&&b.I==3){try{var T=b.Ba.g.parse(v)}catch{T=null}if(Array.isArray(T)&&T.length==3){var H=T;if(H[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<d.F)Ja(b),Rs(b);else break e;El(b),wt(18)}}else b.xa=H[1],0<b.xa-b.K&&H[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Mr(y(b.Va,b),6e3));Qn(b.h)<=1&&b.ta&&(b.ta=void 0)}else tr(b,11)}else if((d.L||b.g==d)&&Ja(b),!j(v))for(H=b.Ba.g.parse(v),v=0;v<H.length;v++){let We=H[v];const Et=We[0];if(!(Et<=b.K))if(b.K=Et,We=We[1],b.I==2)if(We[0]=="c"){b.M=We[1],b.ba=We[2];const Dn=We[3];Dn!=null&&(b.ka=Dn,b.j.info("VER="+b.ka));const js=We[4];js!=null&&(b.za=js,b.j.info("SVER="+b.za));const fs=We[5];fs!=null&&typeof fs=="number"&&fs>0&&(T=1.5*fs,b.O=T,b.j.info("backChannelRequestTimeoutMs_="+T)),T=b;const ms=d.g;if(ms){const ps=ms.g?ms.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ps){var Y=T.h;Y.g||ps.indexOf("spdy")==-1&&ps.indexOf("quic")==-1&&ps.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Ga(Y,Y.h),Y.h=null))}if(T.G){const Al=ms.g?ms.g.getResponseHeader("X-HTTP-Session-Id"):null;Al&&(T.wa=Al,et(T.J,T.G,Al))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-d.F,b.j.info("Handshake RTT: "+b.T+"ms")),T=b;var le=d;if(T.na=Su(T,T.L?T.ba:null,T.W),le.L){Ws(T.h,le);var je=le,ct=T.O;ct&&(je.H=ct),je.D&&(As(je),Bi(je)),T.g=le}else _u(T);b.i.length>0&&na(b)}else We[0]!="stop"&&We[0]!="close"||tr(b,7);else b.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?tr(b,7):ea(b):We[0]!="noop"&&b.l&&b.l.qa(We),b.A=0)}}Or(4)}catch{}}var ff=class{constructor(d,v){this.g=d,this.map=v}};function Hi(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function qi(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Qn(d){return d.h?1:d.g?d.g.size:0}function Fi(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Ga(d,v){d.g?d.g.add(v):d.h=v}function Ws(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}Hi.prototype.cancel=function(){if(this.i=Ka(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Ka(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const b of d.g.values())v=v.concat(b.G);return v}return O(d.i)}var Ya=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mf(d,v){if(d){d=d.split("&");for(let b=0;b<d.length;b++){const T=d[b].indexOf("=");let H,Y=null;T>=0?(H=d[b].substring(0,T),Y=d[b].substring(T+1)):H=d[b],v(H,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function ds(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;d instanceof ds?(this.l=d.l,Br(this,d.j),this.o=d.o,this.g=d.g,$i(this,d.u),this.h=d.h,zr(this,vu(d.i)),this.m=d.m):d&&(v=String(d).match(Ya))?(this.l=!1,Br(this,v[1]||"",!0),this.o=Gi(v[2]||""),this.g=Gi(v[3]||"",!0),$i(this,v[4]),this.h=Gi(v[5]||"",!0),zr(this,v[6]||"",!0),this.m=Gi(v[7]||"")):(this.l=!1,this.i=new Xn(null,this.l))}ds.prototype.toString=function(){const d=[];var v=this.j;v&&d.push(qt(v,gl,!0),":");var b=this.g;return(b||v=="file")&&(d.push("//"),(v=this.o)&&d.push(qt(v,gl,!0),"@"),d.push(Ui(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&d.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&d.push("/"),d.push(qt(b,b.charAt(0)=="/"?Hr:yl,!0))),(b=this.i.toString())&&d.push("?",b),(b=this.m)&&d.push("#",qt(b,gu)),d.join("")},ds.prototype.resolve=function(d){const v=ft(this);let b=!!d.j;b?Br(v,d.j):b=!!d.o,b?v.o=d.o:b=!!d.g,b?v.g=d.g:b=d.u!=null;var T=d.h;if(b)$i(v,d.u);else if(b=!!d.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var H=v.h.lastIndexOf("/");H!=-1&&(T=v.h.slice(0,H+1)+T)}if(H=T,H==".."||H==".")T="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){T=H.lastIndexOf("/",0)==0,H=H.split("/");const Y=[];for(let le=0;le<H.length;){const je=H[le++];je=="."?T&&le==H.length&&Y.push(""):je==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),T&&le==H.length&&Y.push("")):(Y.push(je),T=!0)}T=Y.join("/")}else T=H}return b?v.h=T:b=d.i.toString()!=="",b?zr(v,vu(d.i)):b=!!d.m,b&&(v.m=d.m),v};function ft(d){return new ds(d)}function Br(d,v,b){d.j=b?Gi(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function $i(d,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);d.u=v}else d.u=null}function zr(d,v,b){v instanceof Xn?(d.i=v,wl(d.i,d.l)):(b||(v=qt(v,pu)),d.i=new Xn(v,d.l))}function et(d,v,b){d.i.set(v,b)}function Zs(d){return et(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Gi(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function qt(d,v,b){return typeof d=="string"?(d=encodeURI(d).replace(v,pl),b&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function pl(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var gl=/[#\/\?@]/g,yl=/[#\?:]/g,Hr=/[#\?]/g,pu=/[#\?@]/g,gu=/#/g;function Xn(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Js(d){d.g||(d.g=new Map,d.h=0,d.i&&mf(d.i,function(v,b){d.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}n=Xn.prototype,n.add=function(d,v){Js(this),this.i=null,d=hs(this,d);let b=this.g.get(d);return b||this.g.set(d,b=[]),b.push(v),this.h+=1,this};function vl(d,v){Js(d),v=hs(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function bl(d,v){return Js(d),v=hs(d,v),d.g.has(v)}n.forEach=function(d,v){Js(this),this.g.forEach(function(b,T){b.forEach(function(H){d.call(v,H,T,this)},this)},this)};function Qa(d,v){Js(d);let b=[];if(typeof v=="string")bl(d,v)&&(b=b.concat(d.g.get(hs(d,v))));else for(d=Array.from(d.g.values()),v=0;v<d.length;v++)b=b.concat(d[v]);return b}n.set=function(d,v){return Js(this),this.i=null,d=hs(this,d),bl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=Qa(this,d),d.length>0?String(d[0]):v):v};function yu(d,v,b){vl(d,v),b.length>0&&(d.i=null,d.g.set(hs(d,v),O(b)),d.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(let T=0;T<v.length;T++){var b=v[T];const H=Ui(b);b=Qa(this,b);for(let Y=0;Y<b.length;Y++){let le=H;b[Y]!==""&&(le+="="+Ui(b[Y])),d.push(le)}}return this.i=d.join("&")};function vu(d){const v=new Xn;return v.i=d.i,d.g&&(v.g=new Map(d.g),v.h=d.h),v}function hs(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function wl(d,v){v&&!d.j&&(Js(d),d.i=null,d.g.forEach(function(b,T){const H=T.toLowerCase();T!=H&&(vl(this,T),yu(this,H,b))},d)),d.j=v}function xl(d,v){const b=new Pr;if(h.Image){const T=new Image;T.onload=x(pn,b,"TestLoadImage: loaded",!0,v,T),T.onerror=x(pn,b,"TestLoadImage: error",!1,v,T),T.onabort=x(pn,b,"TestLoadImage: abort",!1,v,T),T.ontimeout=x(pn,b,"TestLoadImage: timeout",!1,v,T),h.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=d}else v(!1)}function qr(d,v){const b=new Pr,T=new AbortController,H=setTimeout(()=>{T.abort(),pn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:T.signal}).then(Y=>{clearTimeout(H),Y.ok?pn(b,"TestPingServer: ok",!0,v):pn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),pn(b,"TestPingServer: error",!1,v)})}function pn(d,v,b,T,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),T(b)}catch{}}function bu(){this.g=new uf}function Ki(d){this.i=d.Sb||null,this.h=d.ab||!1}E(Ki,du),Ki.prototype.g=function(){return new Yi(this.i,this.h)};function Yi(d,v){Pt.call(this),this.H=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Yi,Pt),n=Yi.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=v,this.readyState=1,er(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(v.body=d),(this.H||h).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gn(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,er(this)),this.g&&(this.readyState=3,er(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Fr(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Fr(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?gn(this):er(this),this.readyState==3&&Fr(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,gn(this))},n.Na=function(d){this.g&&(this.response=d,gn(this))},n.ga=function(){this.g&&gn(this)};function gn(d){d.readyState=4,d.l=null,d.j=null,d.B=null,er(d)}n.setRequestHeader=function(d,v){this.A.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,d.push(b[0]+": "+b[1]),b=v.next();return d.join(`\r
`)};function er(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function $r(d){let v="";return ke(d,function(b,T){v+=T,v+=":",v+=b,v+=`\r
`}),v}function Wn(d,v,b){e:{for(T in b){var T=!1;break e}T=!0}T||(b=$r(b),typeof d=="string"?b!=null&&Ui(b):et(d,v,b))}function at(d){Pt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(at,Pt);var Xa=/^https?$/i,wu=["POST","PUT"];n=at.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,v,b,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Xs.g(),this.g.onreadystatechange=N(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(Y){Qi(this,Y);return}if(d=b||"",b=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var H in T)b.set(H,T[H]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const Y of T.keys())b.set(Y,T.get(Y));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(b.keys()).find(Y=>Y.toLowerCase()=="content-type"),H=h.FormData&&d instanceof h.FormData,!(Array.prototype.indexOf.call(wu,v,void 0)>=0)||T||H||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,le]of b)this.g.setRequestHeader(Y,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(Y){Qi(this,Y)}};function Qi(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.o=5,Xi(d),Vt(d)}function Xi(d){d.A||(d.A=!0,Ht(d,"complete"),Ht(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Ht(this,"complete"),Ht(this,"abort"),Vt(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vt(this,!0)),at.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?_l(this):this.Xa())},n.Xa=function(){_l(this)};function _l(d){if(d.h&&typeof u<"u"){if(d.v&&rn(d)==4)setTimeout(d.Ca.bind(d),0);else if(Ht(d,"readystatechange"),rn(d)==4){d.h=!1;try{const Y=d.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var T;if(T=Y===0){let le=String(d.D).match(Ya)[1]||null;!le&&h.self&&h.self.location&&(le=h.self.location.protocol.slice(0,-1)),T=!Xa.test(le?le.toLowerCase():"")}b=T}if(b)Ht(d,"complete"),Ht(d,"success");else{d.o=6;try{var H=rn(d)>2?d.g.statusText:""}catch{H=""}d.l=H+" ["+d.ca()+"]",Xi(d)}}finally{Vt(d)}}}}function Vt(d,v){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const b=d.g;d.g=null,v||Ht(d,"ready");try{b.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function rn(d){return d.g?d.g.readyState:0}n.ca=function(){try{return rn(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),mn(v)}};function Wi(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Zi(d){const v={};d=(d.g&&rn(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<d.length;T++){if(j(d[T]))continue;var b=hf(d[T]);const H=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Y=v[H]||[];v[H]=Y,Y.push(b)}k(v,function(T){return T.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ji(d,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[d]||v}function Wa(d){this.za=0,this.i=[],this.j=new Pr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ji("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ji("baseRetryDelayMs",5e3,d),this.Za=Ji("retryDelaySeedMs",1e4,d),this.Ta=Ji("forwardChannelMaxRetries",2,d),this.va=Ji("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Hi(d&&d.concurrentRequestLimit),this.Ba=new bu,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Wa.prototype,n.ka=8,n.I=1,n.connect=function(d,v,b,T){wt(0),this.W=d,this.H=v||{},b&&T!==void 0&&(this.H.OSID=b,this.H.OAID=T),this.F=this.X,this.J=Su(this,null,this.W),na(this)};function ea(d){if(ta(d),d.I==3){var v=d.V++,b=ft(d.J);if(et(b,"SID",d.M),et(b,"RID",v),et(b,"TYPE","terminate"),sa(d,b),v=new us(d,d.j,v),v.M=2,v.A=Zs(ft(b)),b=!1,h.navigator&&h.navigator.sendBeacon)try{b=h.navigator.sendBeacon(v.A.toString(),"")}catch{}!b&&h.Image&&(new Image().src=v.A,b=!0),b||(v.g=eo(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Bi(v)}Nu(d)}function Rs(d){d.g&&(Tl(d),d.g.cancel(),d.g=null)}function ta(d){Rs(d),d.v&&(h.clearTimeout(d.v),d.v=null),Ja(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&h.clearTimeout(d.m),d.m=null)}function na(d){if(!qi(d.h)&&!d.m){d.m=!0;var v=d.Ea;ce||S(),be||(ce(),be=!0),A.add(v,d),d.D=0}}function pf(d,v){return Qn(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=v.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Mr(y(d.Ea,d,v),Tu(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const H=new us(this,this.j,d);let Y=this.o;if(this.U&&(Y?(Y=se(Y),ue(Y,this.U)):Y=this.U),this.u!==null||this.R||(H.J=Y,Y=null),this.S)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var T=this.i[b];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(v+=T,v>4096){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=Za(this,H,v),b=ft(this.J),et(b,"RID",d),et(b,"CVER",22),this.G&&et(b,"X-HTTP-Session-Id",this.G),sa(this,b),Y&&(this.R?v="headers="+Ui($r(Y))+"&"+v:this.u&&Wn(b,this.u,Y)),Ga(this.h,H),this.Ra&&et(b,"TYPE","init"),this.S?(et(b,"$req",v),et(b,"SID","null"),H.U=!0,Ns(H,b,null)):Ns(H,b,v),this.I=2}}else this.I==3&&(d?xu(this,d):this.i.length==0||qi(this.h)||xu(this))};function xu(d,v){var b;v?b=v.l:b=d.V++;const T=ft(d.J);et(T,"SID",d.M),et(T,"RID",b),et(T,"AID",d.K),sa(d,T),d.u&&d.o&&Wn(T,d.u,d.o),b=new us(d,d.j,b,d.D+1),d.u===null&&(b.J=d.o),v&&(d.i=v.G.concat(d.i)),v=Za(d,b,1e3),b.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Ga(d.h,b),Ns(b,T,v)}function sa(d,v){d.H&&ke(d.H,function(b,T){et(v,T,b)}),d.l&&ke({},function(b,T){et(v,T,b)})}function Za(d,v,b){b=Math.min(d.i.length,b);const T=d.l?y(d.l.Ka,d.l,d):null;e:{var H=d.i;let je=-1;for(;;){const ct=["count="+b];je==-1?b>0?(je=H[0].g,ct.push("ofs="+je)):je=0:ct.push("ofs="+je);let We=!0;for(let Et=0;Et<b;Et++){var Y=H[Et].g;const Dn=H[Et].map;if(Y-=je,Y<0)je=Math.max(0,H[Et].g-100),We=!1;else try{Y="req"+Y+"_"||"";try{var le=Dn instanceof Map?Dn:Object.entries(Dn);for(const[js,fs]of le){let ms=fs;p(fs)&&(ms=Kn(fs)),ct.push(Y+js+"="+encodeURIComponent(ms))}}catch(js){throw ct.push(Y+"type="+encodeURIComponent("_badmap")),js}}catch{T&&T(Dn)}}if(We){le=ct.join("&");break e}}le=void 0}return d=d.i.splice(0,b),v.G=d,le}function _u(d){if(!d.g&&!d.v){d.Y=1;var v=d.Da;ce||S(),be||(ce(),be=!0),A.add(v,d),d.A=0}}function El(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Mr(y(d.Da,d),Tu(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,Eu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Mr(y(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Rs(this),Eu(this))};function Tl(d){d.B!=null&&(h.clearTimeout(d.B),d.B=null)}function Eu(d){d.g=new us(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var v=ft(d.na);et(v,"RID","rpc"),et(v,"SID",d.M),et(v,"AID",d.K),et(v,"CI",d.F?"0":"1"),!d.F&&d.ia&&et(v,"TO",d.ia),et(v,"TYPE","xmlhttp"),sa(d,v),d.u&&d.o&&Wn(v,d.u,d.o),d.O&&(d.g.H=d.O);var b=d.g;d=d.ba,b.M=1,b.A=Zs(ft(v)),b.u=null,b.R=!0,Lr(b,d)}n.Va=function(){this.C!=null&&(this.C=null,Rs(this),El(this),wt(19))};function Ja(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function Nl(d,v){var b=null;if(d.g==v){Ja(d),Tl(d),d.g=null;var T=2}else if(Fi(d.h,v))b=v.G,Ws(d.h,v),T=1;else return;if(d.I!=0){if(v.o)if(T==1){b=v.u?v.u.length:0,v=Date.now()-v.F;var H=d.D;T=Ha(),Ht(T,new fu(T,b)),na(d)}else _u(d);else if(H=v.m,H==3||H==0&&v.X>0||!(T==1&&pf(d,v)||T==2&&El(d)))switch(b&&b.length>0&&(v=d.h,v.i=v.i.concat(b)),H){case 1:tr(d,5);break;case 4:tr(d,10);break;case 3:tr(d,6);break;default:tr(d,2)}}}function Tu(d,v){let b=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(b*=2),b*v}function tr(d,v){if(d.j.info("Error code "+v),v==2){var b=y(d.bb,d),T=d.Ua;const H=!T;T=new ds(T||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Br(T,"https"),Zs(T),H?xl(T.toString(),b):qr(T.toString(),b)}else wt(2);d.I=0,d.l&&d.l.pa(v),Nu(d),ta(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Nu(d){if(d.I=0,d.ja=[],d.l){const v=Ka(d.h);(v.length!=0||d.i.length!=0)&&(V(d.ja,v),V(d.ja,d.i),d.h.i.length=0,O(d.i),d.i.length=0),d.l.oa()}}function Su(d,v,b){var T=b instanceof ds?ft(b):new ds(b);if(T.g!="")v&&(T.g=v+"."+T.g),$i(T,T.u);else{var H=h.location;T=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;const Y=new ds(null);T&&Br(Y,T),v&&(Y.g=v),H&&$i(Y,H),b&&(Y.h=b),T=Y}return b=d.G,v=d.wa,b&&v&&et(T,b,v),et(T,"VER",d.ka),sa(d,T),T}function eo(d,v,b){if(v&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Aa&&!d.ma?new at(new Ki({ab:b})):new at(d.ma),v.Fa(d.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}n=Au.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function to(){}to.prototype.g=function(d,v){return new yn(d,v)};function yn(d,v){Pt.call(this),this.g=new Wa(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(d?d["X-WebChannel-Client-Profile"]=v.sa:d={"X-WebChannel-Client-Profile":v.sa}),this.g.U=d,(d=v&&v.Qb)&&!j(d)&&(this.g.u=d),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!j(v)&&(this.g.G=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Gr(this)}E(yn,Pt),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){ea(this.g)},yn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var b={};b.__data__=d,d=b}else this.v&&(b={},b.__data__=Kn(d),d=b);v.i.push(new ff(v.Ya++,d)),v.I==3&&na(v)},yn.prototype.N=function(){this.g.l=null,delete this.j,ea(this.g),delete this.g,yn.Z.N.call(this)};function Sl(d){kr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const b in v){d=b;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}E(Sl,kr);function Cu(){cs.call(this),this.status=1}E(Cu,cs);function Gr(d){this.g=d}E(Gr,Au),Gr.prototype.ra=function(){Ht(this.g,"a")},Gr.prototype.qa=function(d){Ht(this.g,new Sl(d))},Gr.prototype.pa=function(d){Ht(this.g,new Cu)},Gr.prototype.oa=function(){Ht(this.g,"b")},to.prototype.createWebChannel=to.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,i2=function(){return new to},r2=function(){return Ha()},s2=Yn,zp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xt.NO_ERROR=0,xt.TIMEOUT=8,xt.HTTP_ERROR=6,$d=xt,Qt.COMPLETE="complete",n2=Qt,hu.EventType=_s,_s.OPEN="a",_s.CLOSE="b",_s.ERROR="c",_s.MESSAGE="d",Pt.prototype.listen=Pt.prototype.J,wc=hu,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,t2=at}).apply(typeof Id<"u"?Id:typeof self<"u"?self:typeof window<"u"?window:{});const Iw="@firebase/firestore",kw="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=new gg("@firebase/firestore");function Io(){return Da.logLevel}function fe(n,...e){if(Da.logLevel<=Be.DEBUG){const t=e.map(Rg);Da.debug(`Firestore (${sl}): ${n}`,...t)}}function Ar(n,...e){if(Da.logLevel<=Be.ERROR){const t=e.map(Rg);Da.error(`Firestore (${sl}): ${n}`,...t)}}function Fo(n,...e){if(Da.logLevel<=Be.WARN){const t=e.map(Rg);Da.warn(`Firestore (${sl}): ${n}`,...t)}}function Rg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,a2(n,i,t)}function a2(n,e,t){let i=`FIRESTORE (${sl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Ar(i),new Error(i)}function Xe(n,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,n||a2(e,o,i)}function Ie(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends jr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class II{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(cn.UNAUTHENTICATED)))}shutdown(){}}class kI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class DI{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xe(this.o===void 0,42304);let i=this.i;const o=g=>this.i!==i?(i=this.i,t(g)):Promise.resolve();let u=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new _r,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new _r)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Xe(typeof i.accessToken=="string",31837,{l:i}),new o2(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class OI{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class MI{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new OI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Dw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PI{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Xe(this.o===void 0,3512);const i=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>i(u)))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Dw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Xe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Dw(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=VI(40);for(let u=0;u<o.length;++u)i.length<20&&o[u]<t&&(i+=e.charAt(o[u]%62))}return i}}function ze(n,e){return n<e?-1:n>e?1:0}function Hp(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const o=n.charAt(i),u=e.charAt(i);if(o!==u)return xp(o)===xp(u)?ze(o,u):xp(o)?1:-1}return ze(n.length,e.length)}const LI=55296,UI=57343;function xp(n){const e=n.charCodeAt(0);return e>=LI&&e<=UI}function $o(n,e,t){return n.length===e.length&&n.every(((i,o)=>t(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="__name__";class Ps{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ae(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ae(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Ps.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ps?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const u=Ps.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return ze(e.length,t.length)}static compareSegments(e,t){const i=Ps.isNumericId(e),o=Ps.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?Ps.extractNumericId(e).compare(Ps.extractNumericId(t)):Hp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ei.fromString(e.substring(4,e.length-2))}}class ut extends Ps{construct(e,t,i){return new ut(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new pe(re.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new ut(t)}static emptyPath(){return new ut([])}}const BI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Ps{construct(e,t,i){return new tn(e,t,i)}static isValidIdentifier(e){return BI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ow}static keyField(){return new tn([Ow])}static fromServerFormat(e){const t=[];let i="",o=0;const u=()=>{if(i.length===0)throw new pe(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new pe(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new pe(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(i+=p,o++):(u(),o++)}if(u(),h)throw new pe(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(t)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(ut.fromString(e))}static fromName(e){return new xe(ut.fromString(e).popFirst(5))}static empty(){return new xe(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ut.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new ut(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(n,e,t){if(!t)throw new pe(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function zI(n,e,t,i){if(e===!0&&i===!0)throw new pe(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Mw(n){if(!xe.isDocumentKey(n))throw new pe(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Pw(n){if(xe.isDocumentKey(n))throw new pe(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function c2(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Ig(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae(12329,{type:typeof n})}function xs(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pe(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ig(n);throw new pe(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(n,e){const t={typeString:n};return e&&(t.value=e),t}function Jc(n,e){if(!c2(n))throw new pe(re.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const o=e[i].typeString,u="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const h=n[i];if(o&&typeof h!==o){t=`JSON field '${i}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){t=`Expected '${i}' field to equal '${u.value}'`;break}}if(t)throw new pe(re.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=-62135596800,Lw=1e6;class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Lw);return new dt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Vw)throw new pe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Lw}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Jc(e,dt._jsonSchema))return new dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Vw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dt._jsonSchemaVersion="firestore/timestamp/1.0",dt._jsonSchema={type:Ot("string",dt._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new dt(0,0))}static max(){return new Re(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=-1;function HI(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(i===1e9?new dt(t+1,0):new dt(t,i));return new Ni(o,xe.empty(),e)}function qI(n){return new Ni(n.readTime,n.key,Pc)}class Ni{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ni(Re.min(),xe.empty(),Pc)}static max(){return new Ni(Re.max(),xe.empty(),Pc)}}function FI(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=xe.comparator(n.documentKey,e.documentKey),t!==0?t:ze(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rl(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==$I)throw n;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne(((i,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ne.reject(t)}static resolve(e){return new ne(((t,i)=>{t(e)}))}static reject(e){return new ne(((t,i)=>{i(e)}))}static waitFor(e){return new ne(((t,i)=>{let o=0,u=0,h=!1;e.forEach((p=>{++o,p.next((()=>{++u,h&&u===o&&t()}),(g=>i(g)))})),h=!0,u===o&&t()}))}static or(e){let t=ne.resolve(!1);for(const i of e)t=t.next((o=>o?ne.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,u)=>{i.push(t.call(this,o,u))})),this.waitFor(i)}static mapArray(e,t){return new ne(((i,o)=>{const u=e.length,h=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;t(e[y]).next((x=>{h[y]=x,++p,p===u&&i(h)}),(x=>o(x)))}}))}static doWhile(e,t){return new ne(((i,o)=>{const u=()=>{e()===!0?t().next((()=>{u()}),o):i()};u()}))}}function KI(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function il(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Vh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg=-1;function Lh(n){return n==null}function oh(n){return n===0&&1/n==-1/0}function YI(n){return typeof n=="number"&&Number.isInteger(n)&&!oh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="";function QI(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Uw(e)),e=XI(n.get(t),e);return Uw(e)}function XI(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const u=n.charAt(o);switch(u){case"\0":t+="";break;case u2:t+="";break;default:t+=u}}return t}function Uw(n){return n+u2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Oi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function d2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,t){this.comparator=e,this.root=t||Jt.EMPTY}insert(e,t){return new gt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kd(this.root,e,this.comparator,!1)}getReverseIterator(){return new kd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kd(this.root,e,this.comparator,!0)}}class kd{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?i(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,t,i,o,u){this.key=e,this.value=t,this.color=i??Jt.RED,this.left=o??Jt.EMPTY,this.right=u??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,u){return new Jt(e??this.key,t??this.value,i??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const u=i(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,i),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Jt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,t,i,o,u){return this}insert(e,t,i){return new Jt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new zw(this.data.getIterator())}getIteratorFrom(e){return new zw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new zt(this.comparator);return t.data=e,t}}class zw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Hn([])}unionWith(e){let t=new zt(tn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Hn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return $o(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new h2("Invalid base64 string: "+u):u}})(e);return new nn(t)}static fromUint8Array(e){const t=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new nn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const WI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Si(n){if(Xe(!!n,39018),typeof n=="string"){let e=0;const t=WI.exec(n);if(Xe(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:At(n.seconds),nanos:At(n.nanos)}}function At(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ai(n){return typeof n=="string"?nn.fromBase64String(n):nn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2="server_timestamp",m2="__type__",p2="__previous_value__",g2="__local_write_time__";function Dg(n){return(n?.mapValue?.fields||{})[m2]?.stringValue===f2}function Uh(n){const e=n.mapValue.fields[p2];return Dg(e)?Uh(e):e}function Vc(n){const e=Si(n.mapValue.fields[g2].timestampValue);return new dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,t,i,o,u,h,p,g,y,x){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=x}}const lh="(default)";class Lc{constructor(e,t){this.projectId=e,this.database=t||lh}static empty(){return new Lc("","")}get isDefaultDatabase(){return this.database===lh}isEqual(e){return e instanceof Lc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="__type__",JI="__max__",Dd={mapValue:{}},v2="__vector__",ch="value";function Ci(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Dg(n)?4:t4(n)?9007199254740991:e4(n)?10:11:Ae(28295,{value:n})}function Fs(n,e){if(n===e)return!0;const t=Ci(n);if(t!==Ci(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Vc(n).isEqual(Vc(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Si(o.timestampValue),p=Si(u.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,u){return Ai(o.bytesValue).isEqual(Ai(u.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,u){return At(o.geoPointValue.latitude)===At(u.geoPointValue.latitude)&&At(o.geoPointValue.longitude)===At(u.geoPointValue.longitude)})(n,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return At(o.integerValue)===At(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=At(o.doubleValue),p=At(u.doubleValue);return h===p?oh(h)===oh(p):isNaN(h)&&isNaN(p)}return!1})(n,e);case 9:return $o(n.arrayValue.values||[],e.arrayValue.values||[],Fs);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},p=u.mapValue.fields||{};if(Bw(h)!==Bw(p))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(p[g]===void 0||!Fs(h[g],p[g])))return!1;return!0})(n,e);default:return Ae(52216,{left:n})}}function Uc(n,e){return(n.values||[]).find((t=>Fs(t,e)))!==void 0}function Go(n,e){if(n===e)return 0;const t=Ci(n),i=Ci(e);if(t!==i)return ze(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(n.booleanValue,e.booleanValue);case 2:return(function(u,h){const p=At(u.integerValue||u.doubleValue),g=At(h.integerValue||h.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(n,e);case 3:return Hw(n.timestampValue,e.timestampValue);case 4:return Hw(Vc(n),Vc(e));case 5:return Hp(n.stringValue,e.stringValue);case 6:return(function(u,h){const p=Ai(u),g=Ai(h);return p.compareTo(g)})(n.bytesValue,e.bytesValue);case 7:return(function(u,h){const p=u.split("/"),g=h.split("/");for(let y=0;y<p.length&&y<g.length;y++){const x=ze(p[y],g[y]);if(x!==0)return x}return ze(p.length,g.length)})(n.referenceValue,e.referenceValue);case 8:return(function(u,h){const p=ze(At(u.latitude),At(h.latitude));return p!==0?p:ze(At(u.longitude),At(h.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return qw(n.arrayValue,e.arrayValue);case 10:return(function(u,h){const p=u.fields||{},g=h.fields||{},y=p[ch]?.arrayValue,x=g[ch]?.arrayValue,E=ze(y?.values?.length||0,x?.values?.length||0);return E!==0?E:qw(y,x)})(n.mapValue,e.mapValue);case 11:return(function(u,h){if(u===Dd.mapValue&&h===Dd.mapValue)return 0;if(u===Dd.mapValue)return 1;if(h===Dd.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=h.fields||{},x=Object.keys(y);g.sort(),x.sort();for(let E=0;E<g.length&&E<x.length;++E){const N=Hp(g[E],x[E]);if(N!==0)return N;const O=Go(p[g[E]],y[x[E]]);if(O!==0)return O}return ze(g.length,x.length)})(n.mapValue,e.mapValue);default:throw Ae(23264,{he:t})}}function Hw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ze(n,e);const t=Si(n),i=Si(e),o=ze(t.seconds,i.seconds);return o!==0?o:ze(t.nanos,i.nanos)}function qw(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const u=Go(t[o],i[o]);if(u)return u}return ze(t.length,i.length)}function Ko(n){return qp(n)}function qp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Si(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ai(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return xe.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",o=!0;for(const u of t.values||[])o?o=!1:i+=",",i+=qp(u);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of i)u?u=!1:o+=",",o+=`${h}:${qp(t.fields[h])}`;return o+"}"})(n.mapValue):Ae(61005,{value:n})}function Gd(n){switch(Ci(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uh(n);return e?16+Gd(e):16;case 5:return 2*n.stringValue.length;case 6:return Ai(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,u)=>o+Gd(u)),0)})(n.arrayValue);case 10:case 11:return(function(i){let o=0;return Oi(i.fields,((u,h)=>{o+=u.length+Gd(h)})),o})(n.mapValue);default:throw Ae(13486,{value:n})}}function Fp(n){return!!n&&"integerValue"in n}function Og(n){return!!n&&"arrayValue"in n}function Fw(n){return!!n&&"nullValue"in n}function $w(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Kd(n){return!!n&&"mapValue"in n}function e4(n){return(n?.mapValue?.fields||{})[y2]?.stringValue===v2}function Sc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Oi(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Sc(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Sc(n.arrayValue.values[t]);return e}return{...n}}function t4(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===JI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Kd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sc(t)}setAll(e){let t=tn.emptyPath(),i={},o=[];e.forEach(((h,p)=>{if(!t.isImmediateParentOf(p)){const g=this.getFieldsMap(t);this.applyChanges(g,i,o),i={},o=[],t=p.popLast()}h?i[p.lastSegment()]=Sc(h):o.push(p.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,i,o)}delete(e){const t=this.field(e.popLast());Kd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Kd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Oi(t,((o,u)=>e[o]=u));for(const o of i)delete e[o]}clone(){return new In(Sc(this.value))}}function b2(n){const e=[];return Oi(n.fields,((t,i)=>{const o=new tn([t]);if(Kd(i)){const u=b2(i.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,t,i,o,u,h,p){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=u,this.data=h,this.documentState=p}static newInvalidDocument(e){return new un(e,0,Re.min(),Re.min(),Re.min(),In.empty(),0)}static newFoundDocument(e,t,i,o){return new un(e,1,t,Re.min(),i,o,0)}static newNoDocument(e,t){return new un(e,2,t,Re.min(),Re.min(),In.empty(),0)}static newUnknownDocument(e,t){return new un(e,3,t,Re.min(),Re.min(),In.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,t){this.position=e,this.inclusive=t}}function Gw(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const u=e[o],h=n.position[o];if(u.field.isKeyField()?i=xe.comparator(xe.fromName(h.referenceValue),t.key):i=Go(h,t.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function Kw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Fs(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,t="asc"){this.field=e,this.dir=t}}function n4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{}class Bt extends w2{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new r4(e,t,i):t==="array-contains"?new o4(e,i):t==="in"?new l4(e,i):t==="not-in"?new c4(e,i):t==="array-contains-any"?new u4(e,i):new Bt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new i4(e,i):new a4(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Go(t,this.value)):t!==null&&Ci(this.value)===Ci(t)&&this.matchesComparison(Go(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $s extends w2{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new $s(e,t)}matches(e){return x2(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function x2(n){return n.op==="and"}function _2(n){return s4(n)&&x2(n)}function s4(n){for(const e of n.filters)if(e instanceof $s)return!1;return!0}function $p(n){if(n instanceof Bt)return n.field.canonicalString()+n.op.toString()+Ko(n.value);if(_2(n))return n.filters.map((e=>$p(e))).join(",");{const e=n.filters.map((t=>$p(t))).join(",");return`${n.op}(${e})`}}function E2(n,e){return n instanceof Bt?(function(i,o){return o instanceof Bt&&i.op===o.op&&i.field.isEqual(o.field)&&Fs(i.value,o.value)})(n,e):n instanceof $s?(function(i,o){return o instanceof $s&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((u,h,p)=>u&&E2(h,o.filters[p])),!0):!1})(n,e):void Ae(19439)}function T2(n){return n instanceof Bt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ko(t.value)}`})(n):n instanceof $s?(function(t){return t.op.toString()+" {"+t.getFilters().map(T2).join(" ,")+"}"})(n):"Filter"}class r4 extends Bt{constructor(e,t,i){super(e,t,i),this.key=xe.fromName(i.referenceValue)}matches(e){const t=xe.comparator(e.key,this.key);return this.matchesComparison(t)}}class i4 extends Bt{constructor(e,t){super(e,"in",t),this.keys=N2("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class a4 extends Bt{constructor(e,t){super(e,"not-in",t),this.keys=N2("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function N2(n,e){return(e.arrayValue?.values||[]).map((t=>xe.fromName(t.referenceValue)))}class o4 extends Bt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Og(t)&&Uc(t.arrayValue,this.value)}}class l4 extends Bt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Uc(this.value.arrayValue,t)}}class c4 extends Bt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Uc(this.value.arrayValue,t)}}class u4 extends Bt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Og(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Uc(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e,t=null,i=[],o=[],u=null,h=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=u,this.startAt=h,this.endAt=p,this.Te=null}}function Yw(n,e=null,t=[],i=[],o=null,u=null,h=null){return new d4(n,e,t,i,o,u,h)}function Mg(n){const e=Ie(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>$p(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(u){return u.field.canonicalString()+u.dir})(i))).join(","),Lh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>Ko(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>Ko(i))).join(",")),e.Te=t}return e.Te}function Pg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!n4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!E2(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Kw(n.startAt,e.startAt)&&Kw(n.endAt,e.endAt)}function Gp(n){return xe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,t=null,i=[],o=[],u=null,h="F",p=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=u,this.limitType=h,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function h4(n,e,t,i,o,u,h,p){return new Bh(n,e,t,i,o,u,h,p)}function Vg(n){return new Bh(n)}function Qw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function f4(n){return n.collectionGroup!==null}function Ac(n){const e=Ie(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new zt(tn.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new dh(u,i))})),t.has(tn.keyField().canonicalString())||e.Ie.push(new dh(tn.keyField(),i))}return e.Ie}function Us(n){const e=Ie(n);return e.Ee||(e.Ee=m4(e,Ac(n))),e.Ee}function m4(n,e){if(n.limitType==="F")return Yw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new dh(o.field,u)}));const t=n.endAt?new uh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new uh(n.startAt.position,n.startAt.inclusive):null;return Yw(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Kp(n,e,t){return new Bh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function zh(n,e){return Pg(Us(n),Us(e))&&n.limitType===e.limitType}function S2(n){return`${Mg(Us(n))}|lt:${n.limitType}`}function ko(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>T2(o))).join(", ")}]`),Lh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>Ko(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>Ko(o))).join(",")),`Target(${i})`})(Us(n))}; limitType=${n.limitType})`}function Hh(n,e){return e.isFoundDocument()&&(function(i,o){const u=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):xe.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)})(n,e)&&(function(i,o){for(const u of Ac(i))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(n,e)&&(function(i,o){for(const u of i.filters)if(!u.matches(o))return!1;return!0})(n,e)&&(function(i,o){return!(i.startAt&&!(function(h,p,g){const y=Gw(h,p,g);return h.inclusive?y<=0:y<0})(i.startAt,Ac(i),o)||i.endAt&&!(function(h,p,g){const y=Gw(h,p,g);return h.inclusive?y>=0:y>0})(i.endAt,Ac(i),o))})(n,e)}function p4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function A2(n){return(e,t)=>{let i=!1;for(const o of Ac(n)){const u=g4(o,e,t);if(u!==0)return u;i=i||o.field.isKeyField()}return 0}}function g4(n,e,t){const i=n.field.isKeyField()?xe.comparator(e.key,t.key):(function(u,h,p){const g=h.data.field(u),y=p.data.field(u);return g!==null&&y!==null?Go(g,y):Ae(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ae(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,u]of i)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Oi(this.inner,((t,i)=>{for(const[o,u]of i)e(o,u)}))}isEmpty(){return d2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=new gt(xe.comparator);function Cr(){return y4}const C2=new gt(xe.comparator);function xc(...n){let e=C2;for(const t of n)e=e.insert(t.key,t);return e}function R2(n){let e=C2;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Ta(){return Cc()}function j2(){return Cc()}function Cc(){return new Va((n=>n.toString()),((n,e)=>n.isEqual(e)))}const v4=new gt(xe.comparator),b4=new zt(xe.comparator);function He(...n){let e=b4;for(const t of n)e=e.add(t);return e}const w4=new zt(ze);function x4(){return w4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(e)?"-0":e}}function I2(n){return{integerValue:""+n}}function _4(n,e){return YI(e)?I2(e):Lg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(){this._=void 0}}function E4(n,e,t){return n instanceof Bc?(function(o,u){const h={fields:{[m2]:{stringValue:f2},[g2]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Dg(u)&&(u=Uh(u)),u&&(h.fields[p2]=u),{mapValue:h}})(t,e):n instanceof zc?D2(n,e):n instanceof Hc?O2(n,e):(function(o,u){const h=k2(o,u),p=Xw(h)+Xw(o.Ae);return Fp(h)&&Fp(o.Ae)?I2(p):Lg(o.serializer,p)})(n,e)}function T4(n,e,t){return n instanceof zc?D2(n,e):n instanceof Hc?O2(n,e):t}function k2(n,e){return n instanceof hh?(function(i){return Fp(i)||(function(u){return!!u&&"doubleValue"in u})(i)})(e)?e:{integerValue:0}:null}class Bc extends qh{}class zc extends qh{constructor(e){super(),this.elements=e}}function D2(n,e){const t=M2(e);for(const i of n.elements)t.some((o=>Fs(o,i)))||t.push(i);return{arrayValue:{values:t}}}class Hc extends qh{constructor(e){super(),this.elements=e}}function O2(n,e){let t=M2(e);for(const i of n.elements)t=t.filter((o=>!Fs(o,i)));return{arrayValue:{values:t}}}class hh extends qh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Xw(n){return At(n.integerValue||n.doubleValue)}function M2(n){return Og(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,t){this.field=e,this.transform=t}}function S4(n,e){return n.field.isEqual(e.field)&&(function(i,o){return i instanceof zc&&o instanceof zc||i instanceof Hc&&o instanceof Hc?$o(i.elements,o.elements,Fs):i instanceof hh&&o instanceof hh?Fs(i.Ae,o.Ae):i instanceof Bc&&o instanceof Bc})(n.transform,e.transform)}class A4{constructor(e,t){this.version=e,this.transformResults=t}}class as{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new as}static exists(e){return new as(void 0,e)}static updateTime(e){return new as(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Fh{}function P2(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ug(n.key,as.none()):new eu(n.key,n.data,as.none());{const t=n.data,i=In.empty();let o=new zt(tn.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?i.delete(u):i.set(u,h),o=o.add(u)}return new Mi(n.key,i,new Hn(o.toArray()),as.none())}}function C4(n,e,t){n instanceof eu?(function(o,u,h){const p=o.value.clone(),g=Zw(o.fieldTransforms,u,h.transformResults);p.setAll(g),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(n,e,t):n instanceof Mi?(function(o,u,h){if(!Yd(o.precondition,u))return void u.convertToUnknownDocument(h.version);const p=Zw(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(V2(o)),g.setAll(p),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(n,e,t):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function Rc(n,e,t,i){return n instanceof eu?(function(u,h,p,g){if(!Yd(u.precondition,h))return p;const y=u.value.clone(),x=Jw(u.fieldTransforms,g,h);return y.setAll(x),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(n,e,t,i):n instanceof Mi?(function(u,h,p,g){if(!Yd(u.precondition,h))return p;const y=Jw(u.fieldTransforms,g,h),x=h.data;return x.setAll(V2(u)),x.setAll(y),h.convertToFoundDocument(h.version,x).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(n,e,t,i):(function(u,h,p){return Yd(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p})(n,e,t)}function R4(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),u=k2(i.transform,o||null);u!=null&&(t===null&&(t=In.empty()),t.set(i.field,u))}return t||null}function Ww(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&$o(i,o,((u,h)=>S4(u,h)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class eu extends Fh{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Mi extends Fh{constructor(e,t,i,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function V2(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function Zw(n,e,t){const i=new Map;Xe(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const u=n[o],h=u.transform,p=e.data.field(u.field);i.set(u.field,T4(h,p,t[o]))}return i}function Jw(n,e,t){const i=new Map;for(const o of n){const u=o.transform,h=t.data.field(o.field);i.set(o.field,E4(u,h,e))}return i}class Ug extends Fh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class j4 extends Fh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&C4(u,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Rc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Rc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=j2();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let p=this.applyToLocalView(h,u.mutatedFields);p=t.has(o.key)?null:p;const g=P2(h,p);g!==null&&i.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Re.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),He())}isEqual(e){return this.batchId===e.batchId&&$o(this.mutations,e.mutations,((t,i)=>Ww(t,i)))&&$o(this.baseMutations,e.baseMutations,((t,i)=>Ww(t,i)))}}class Bg{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Xe(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return v4})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,i[h].version);return new Bg(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,Fe;function O4(n){switch(n){case re.OK:return Ae(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ae(15467,{code:n})}}function L2(n){if(n===void 0)return Ar("GRPC error has no .code"),re.UNKNOWN;switch(n){case Dt.OK:return re.OK;case Dt.CANCELLED:return re.CANCELLED;case Dt.UNKNOWN:return re.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return re.INTERNAL;case Dt.UNAVAILABLE:return re.UNAVAILABLE;case Dt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Dt.NOT_FOUND:return re.NOT_FOUND;case Dt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Dt.ABORTED:return re.ABORTED;case Dt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Dt.DATA_LOSS:return re.DATA_LOSS;default:return Ae(39323,{code:n})}}(Fe=Dt||(Dt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4=new Ei([4294967295,4294967295],0);function ex(n){const e=M4().encode(n),t=new e2;return t.update(e),new Uint8Array(t.digest())}function tx(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ei([t,i],0),new Ei([o,u],0)]}class zg{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new _c(`Invalid padding: ${t}`);if(i<0)throw new _c(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new _c(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new _c(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ei.fromNumber(this.ge)}ye(e,t,i){let o=e.add(t.multiply(Ei.fromNumber(i)));return o.compare(P4)===1&&(o=new Ei([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=ex(e),[i,o]=tx(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(i,o,u);if(!this.we(h))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new zg(u,o,t);return i.forEach((p=>h.insert(p))),h}insert(e){if(this.ge===0)return;const t=ex(e),[i,o]=tx(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(i,o,u);this.Se(h)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class _c extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,t,i,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,tu.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new $h(Re.min(),o,new gt(ze),Cr(),He())}}class tu{constructor(e,t,i,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new tu(i,t,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,t,i,o){this.be=e,this.removedTargetIds=t,this.key=i,this.De=o}}class U2{constructor(e,t){this.targetId=e,this.Ce=t}}class B2{constructor(e,t,i=nn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class nx{constructor(){this.ve=0,this.Fe=sx(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),t=He(),i=He();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ae(38017,{changeType:u})}})),new tu(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=sx()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class V4{constructor(e){this.Ge=e,this.ze=new Map,this.je=Cr(),this.Je=Od(),this.He=Od(),this.Ye=new gt(ze)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,i=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(Gp(u))if(i===0){const h=new xe(u.path);this.et(t,h,un.newNoDocument(h,Re.min()))}else Xe(i===1,20013,{expectedCount:i});else{const h=this._t(t);if(h!==i){const p=this.ut(e),g=p?this.ct(p,e,h):1;if(g!==0){this.it(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:u=0}=t;let h,p;try{h=Ai(i).toUint8Array()}catch(g){if(g instanceof h2)return Fo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new zg(h,o,u)}catch(g){return Fo(g instanceof _c?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let o=0;return i.forEach((u=>{const h=this.Ge.ht(),p=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(t,u,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((u,h)=>{const p=this.ot(h);if(p){if(u.current&&Gp(p.target)){const g=new xe(p.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,un.newNoDocument(g,e))}u.Be&&(t.set(h,u.ke()),u.qe())}}));let i=He();this.He.forEach(((u,h)=>{let p=!0;h.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(i=i.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new $h(e,t,this.Ye,this.je,i);return this.je=Cr(),this.Je=Od(),this.He=Od(),this.Ye=new gt(ze),o}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new nx,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new zt(ze),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new zt(ze),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new nx),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Od(){return new gt(xe.comparator)}function sx(){return new gt(xe.comparator)}const L4={asc:"ASCENDING",desc:"DESCENDING"},U4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B4={and:"AND",or:"OR"};class z4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Yp(n,e){return n.useProto3Json||Lh(e)?e:{value:e}}function fh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function z2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function H4(n,e){return fh(n,e.toTimestamp())}function Bs(n){return Xe(!!n,49232),Re.fromTimestamp((function(t){const i=Si(t);return new dt(i.seconds,i.nanos)})(n))}function Hg(n,e){return Qp(n,e).canonicalString()}function Qp(n,e){const t=(function(o){return new ut(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function H2(n){const e=ut.fromString(n);return Xe(K2(e),10190,{key:e.toString()}),e}function Xp(n,e){return Hg(n.databaseId,e.path)}function _p(n,e){const t=H2(e);if(t.get(1)!==n.databaseId.projectId)throw new pe(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pe(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new xe(F2(t))}function q2(n,e){return Hg(n.databaseId,e)}function q4(n){const e=H2(n);return e.length===4?ut.emptyPath():F2(e)}function Wp(n){return new ut(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function F2(n){return Xe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function rx(n,e,t){return{name:Xp(n,e),fields:t.value.mapValue.fields}}function F4(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ae(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,x){return y.useProto3Json?(Xe(x===void 0||typeof x=="string",58123),nn.fromBase64String(x||"")):(Xe(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),nn.fromUint8Array(x||new Uint8Array))})(n,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&(function(y){const x=y.code===void 0?re.UNKNOWN:L2(y.code);return new pe(x,y.message||"")})(h);t=new B2(i,o,u,p||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=_p(n,i.document.name),u=Bs(i.document.updateTime),h=i.document.createTime?Bs(i.document.createTime):Re.min(),p=new In({mapValue:{fields:i.document.fields}}),g=un.newFoundDocument(o,u,h,p),y=i.targetIds||[],x=i.removedTargetIds||[];t=new Qd(y,x,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=_p(n,i.document),u=i.readTime?Bs(i.readTime):Re.min(),h=un.newNoDocument(o,u),p=i.removedTargetIds||[];t=new Qd([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=_p(n,i.document),u=i.removedTargetIds||[];t=new Qd([],u,o,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:u}=i,h=new D4(o,u),p=i.targetId;t=new U2(p,h)}}return t}function $4(n,e){let t;if(e instanceof eu)t={update:rx(n,e.key,e.value)};else if(e instanceof Ug)t={delete:Xp(n,e.key)};else if(e instanceof Mi)t={update:rx(n,e.key,e.data),updateMask:ek(e.fieldMask)};else{if(!(e instanceof j4))return Ae(16599,{Vt:e.type});t={verify:Xp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(u,h){const p=h.transform;if(p instanceof Bc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof zc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Hc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof hh)return{fieldPath:h.field.canonicalString(),increment:p.Ae};throw Ae(20930,{transform:h.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:H4(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae(27497)})(n,e.precondition)),t}function G4(n,e){return n&&n.length>0?(Xe(e!==void 0,14353),n.map((t=>(function(o,u){let h=o.updateTime?Bs(o.updateTime):Bs(u);return h.isEqual(Re.min())&&(h=Bs(u)),new A4(h,o.transformResults||[])})(t,e)))):[]}function K4(n,e){return{documents:[q2(n,e.path)]}}function Y4(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=q2(n,o);const u=(function(y){if(y.length!==0)return G2($s.create(y,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const h=(function(y){if(y.length!==0)return y.map((x=>(function(N){return{field:Do(N.field),direction:W4(N.dir)}})(x)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const p=Yp(n,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:t,parent:o}}function Q4(n){let e=q4(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Xe(i===1,65062);const x=t.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let u=[];t.where&&(u=(function(E){const N=$2(E);return N instanceof $s&&_2(N)?N.getFilters():[N]})(t.where));let h=[];t.orderBy&&(h=(function(E){return E.map((N=>(function(V){return new dh(Oo(V.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(N)))})(t.orderBy));let p=null;t.limit&&(p=(function(E){let N;return N=typeof E=="object"?E.value:E,Lh(N)?null:N})(t.limit));let g=null;t.startAt&&(g=(function(E){const N=!!E.before,O=E.values||[];return new uh(O,N)})(t.startAt));let y=null;return t.endAt&&(y=(function(E){const N=!E.before,O=E.values||[];return new uh(O,N)})(t.endAt)),h4(e,o,h,u,p,"F",g,y)}function X4(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function $2(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Oo(t.unaryFilter.field);return Bt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Oo(t.unaryFilter.field);return Bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Oo(t.unaryFilter.field);return Bt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Oo(t.unaryFilter.field);return Bt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Bt.create(Oo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return $s.create(t.compositeFilter.filters.map((i=>$2(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(t.compositeFilter.op))})(n):Ae(30097,{filter:n})}function W4(n){return L4[n]}function Z4(n){return U4[n]}function J4(n){return B4[n]}function Do(n){return{fieldPath:n.canonicalString()}}function Oo(n){return tn.fromServerFormat(n.fieldPath)}function G2(n){return n instanceof Bt?(function(t){if(t.op==="=="){if($w(t.value))return{unaryFilter:{field:Do(t.field),op:"IS_NAN"}};if(Fw(t.value))return{unaryFilter:{field:Do(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($w(t.value))return{unaryFilter:{field:Do(t.field),op:"IS_NOT_NAN"}};if(Fw(t.value))return{unaryFilter:{field:Do(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Do(t.field),op:Z4(t.op),value:t.value}}})(n):n instanceof $s?(function(t){const i=t.getFilters().map((o=>G2(o)));return i.length===1?i[0]:{compositeFilter:{op:J4(t.op),filters:i}}})(n):Ae(54877,{filter:n})}function ek(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function K2(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,t,i,o,u=Re.min(),h=Re.min(),p=nn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new yi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new yi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e){this.yt=e}}function nk(n){const e=Q4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Kp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(){this.Cn=new rk}addToCollectionParentIndex(e,t){return this.Cn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Ni.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Ni.min())}updateCollectionGroup(e,t,i){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class rk{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new zt(ut.comparator),u=!o.has(i);return this.index[t]=o.add(i),u}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new zt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Y2=41943040;class jn{static withCacheSize(e){return new jn(e,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(Y2,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Yo(0)}static cr(){return new Yo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="LruGarbageCollector",ik=1048576;function ox([n,e],[t,i]){const o=ze(n,t);return o===0?ze(e,i):o}class ak{constructor(e){this.Ir=e,this.buffer=new zt(ox),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();ox(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ok{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(ax,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){il(t)?fe(ax,"Ignoring IndexedDB error during garbage collection: ",t):await rl(t)}await this.Vr(3e5)}))}}class lk{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(Vh.ce);const i=new ak(t);return this.mr.forEachTarget(e,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(ix)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ix):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,o,u,h,p,g,y;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,h=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(i=E,p=Date.now(),this.removeTargets(e,i,t)))).next((E=>(u=E,g=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(y=Date.now(),Io()<=Be.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-x}ms
	Determined least recently used ${o} in `+(p-h)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${E} documents in `+(y-g)+`ms
Total Duration: ${y-x}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E}))))}}function ck(n,e){return new lk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(){this.changes=new Va((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ne.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&Rc(i.mutation,o,Hn.empty(),dt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,He()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=He()){const o=Ta();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((u=>{let h=xc();return u.forEach(((p,g)=>{h=h.insert(p,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const i=Ta();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,He())))}populateOverlays(e,t,i){const o=[];return i.forEach((u=>{t.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,p)=>{t.set(h,p)}))}))}computeViews(e,t,i,o){let u=Cr();const h=Cc(),p=(function(){return Cc()})();return t.forEach(((g,y)=>{const x=i.get(y.key);o.has(y.key)&&(x===void 0||x.mutation instanceof Mi)?u=u.insert(y.key,y):x!==void 0?(h.set(y.key,x.mutation.getFieldMask()),Rc(x.mutation,y,x.mutation.getFieldMask(),dt.now())):h.set(y.key,Hn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,x)=>h.set(y,x))),t.forEach(((y,x)=>p.set(y,new dk(x,h.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,t){const i=Cc();let o=new gt(((h,p)=>h-p)),u=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const p of h)p.keys().forEach((g=>{const y=t.get(g);if(y===null)return;let x=i.get(g)||Hn.empty();x=p.applyToLocalView(y,x),i.set(g,x);const E=(o.get(p.batchId)||He()).add(g);o=o.insert(p.batchId,E)}))})).next((()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,x=g.value,E=j2();x.forEach((N=>{if(!u.has(N)){const O=P2(t.get(N),i.get(N));O!==null&&E.set(N,O),u=u.add(N)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,E))}return ne.waitFor(h)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return(function(h){return xe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):f4(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-u.size):ne.resolve(Ta());let p=Pc,g=u;return h.next((y=>ne.forEach(y,((x,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),u.get(x)?ne.resolve():this.remoteDocumentCache.getEntry(e,x).next((N=>{g=g.insert(x,N)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,He()))).next((x=>({batchId:p,changes:R2(x)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new xe(t)).next((i=>{let o=xc();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const u=t.collectionGroup;let h=xc();return this.indexManager.getCollectionParents(e,u).next((p=>ne.forEach(p,(g=>{const y=(function(E,N){return new Bh(N,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next((x=>{x.forEach(((E,N)=>{h=h.insert(E,N)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,u,o)))).next((h=>{u.forEach(((g,y)=>{const x=y.getKey();h.get(x)===null&&(h=h.insert(x,un.newInvalidDocument(x)))}));let p=xc();return h.forEach(((g,y)=>{const x=u.get(g);x!==void 0&&Rc(x.mutation,y,Hn.empty(),dt.now()),Hh(t,y)&&(p=p.insert(g,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ne.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Bs(o.createTime)}})(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:nk(o.bundledQuery),readTime:Bs(o.readTime)}})(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(){this.overlays=new gt(xe.comparator),this.qr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ta();return ne.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&i.set(o,u)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,u)=>{this.St(e,t,u)})),ne.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(i)),ne.resolve()}getOverlaysForCollection(e,t,i){const o=Ta(),u=t.length+1,h=new xe(t.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>i&&o.set(g.getKey(),g)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let u=new gt(((y,x)=>y-x));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let x=u.get(y.largestBatchId);x===null&&(x=Ta(),u=u.insert(y.largestBatchId,x)),x.set(y.getKey(),y)}}const p=Ta(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,x)=>p.set(y,x))),!(p.size()>=o)););return ne.resolve(p)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new k4(t,i));let u=this.qr.get(t);u===void 0&&(u=He(),this.qr.set(t,u)),this.qr.set(t,u.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(){this.Qr=new zt(Kt.$r),this.Ur=new zt(Kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Kt(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new Kt(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new xe(new ut([])),i=new Kt(t,e),o=new Kt(t,e+1),u=[];return this.Ur.forEachInRange([i,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new xe(new ut([])),i=new Kt(t,e),o=new Kt(t,e+1);let u=He();return this.Ur.forEachInRange([i,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const t=new Kt(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Kt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return xe.comparator(e.key,t.key)||ze(e.Yr,t.Yr)}static Kr(e,t){return ze(e.Yr,t.Yr)||xe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new zt(Kt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new I4(u,t,i,o);this.mutationQueue.push(h);for(const p of o)this.Zr=this.Zr.add(new Kt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,t){return ne.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.ei(i),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?kg:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Kt(t,0),o=new Kt(t,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([i,o],(h=>{const p=this.Xr(h.Yr);u.push(p)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new zt(ze);return t.forEach((o=>{const u=new Kt(o,0),h=new Kt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(p=>{i=i.add(p.Yr)}))})),ne.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let u=i;xe.isDocumentKey(u)||(u=u.child(""));const h=new Kt(new xe(u),0);let p=new zt(ze);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Yr)),!0)}),h),ne.resolve(this.ti(p))}ti(e){const t=[];return e.forEach((i=>{const o=this.Xr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Xe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ne.forEach(t.mutations,(o=>{const u=new Kt(o.key,t.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new Kt(t,0),o=this.Zr.firstAfterOrEqual(i);return ne.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.ri=e,this.docs=(function(){return new gt(xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),u=o?o.size:0,h=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ne.resolve(i?i.document.mutableCopy():un.newInvalidDocument(t))}getEntries(e,t){let i=Cr();return t.forEach((o=>{const u=this.docs.get(o);i=i.insert(o,u?u.document.mutableCopy():un.newInvalidDocument(o))})),ne.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let u=Cr();const h=t.path,p=new xe(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:x}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||FI(qI(x),i)<=0||(o.has(x.key)||Hh(t,x))&&(u=u.insert(x.key,x.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,t,i,o){Ae(9500)}ii(e,t){return ne.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new vk(this)}getSize(e){return ne.resolve(this.size)}}class vk extends uk{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)})),ne.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e){this.persistence=e,this.si=new Va((t=>Mg(t)),Pg),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new qg,this.targetCount=0,this.ai=Yo.ur()}forEachTarget(e,t){return this.si.forEach(((i,o)=>t(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),ne.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Yo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Pr(t),ne.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,i){let o=0;const u=[];return this.si.forEach(((h,p)=>{p.sequenceNumber<=t&&i.get(p.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return ne.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),ne.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return ne.resolve(i)}containsKey(e,t){return ne.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,t){this.ui={},this.overlays={},this.ci=new Vh(0),this.li=!1,this.li=!0,this.hi=new pk,this.referenceDelegate=e(this),this.Pi=new bk(this),this.indexManager=new sk,this.remoteDocumentCache=(function(o){return new yk(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new tk(t),this.Ii=new fk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new gk(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){fe("MemoryPersistence","Starting transaction:",e);const o=new wk(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,t){return ne.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class wk extends GI{constructor(e){super(),this.currentSequenceNumber=e}}class Fg{constructor(e){this.persistence=e,this.Ri=new qg,this.Vi=null}static mi(e){return new Fg(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),ne.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(i=>{const o=xe.fromPath(i);return this.gi(e,o).next((u=>{u||t.removeEntry(o,Re.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ne.or([()=>ne.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class mh{constructor(e,t){this.persistence=e,this.pi=new Va((i=>QI(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=ck(this,t)}static mi(e,t){return new mh(e,t)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((o=>i+o))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return ne.forEach(this.pi,((i,o)=>this.br(e,i,o).next((u=>u?ne.resolve():t(o)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,t).next((p=>{p||(i++,u.removeEntry(h,Re.min()))})))).next((()=>u.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ne.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Gd(e.data.value)),t}br(e,t,i){return ne.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return ne.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=o}static As(e,t){let i=He(),o=He();for(const u of t.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new $g(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return JA()?8:KI(dn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,o){const u={result:null};return this.ys(e,t).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,t,o,i).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new xk;return this.Ss(e,t,h).next((p=>{if(u.result=p,this.Vs)return this.bs(e,t,h,p.size)}))})).next((()=>u.result))}bs(e,t,i,o){return i.documentReadCount<this.fs?(Io()<=Be.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",ko(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(Io()<=Be.DEBUG&&fe("QueryEngine","Query:",ko(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(Io()<=Be.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",ko(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Us(t))):ne.resolve())}ys(e,t){if(Qw(t))return ne.resolve(null);let i=Us(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Kp(t,null,"F"),i=Us(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((u=>{const h=He(...u);return this.ps.getDocuments(e,h).next((p=>this.indexManager.getMinOffset(e,i).next((g=>{const y=this.Ds(t,p);return this.Cs(t,y,h,g.readTime)?this.ys(e,Kp(t,null,"F")):this.vs(e,y,t,g)}))))})))))}ws(e,t,i,o){return Qw(t)||o.isEqual(Re.min())?ne.resolve(null):this.ps.getDocuments(e,i).next((u=>{const h=this.Ds(t,u);return this.Cs(t,h,i,o)?ne.resolve(null):(Io()<=Be.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ko(t)),this.vs(e,h,t,HI(o,Pc)).next((p=>p)))}))}Ds(e,t){let i=new zt(A2(e));return t.forEach(((o,u)=>{Hh(e,u)&&(i=i.add(u))})),i}Cs(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,t,i){return Io()<=Be.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",ko(t)),this.ps.getDocumentsMatchingQuery(e,t,Ni.min(),i)}vs(e,t,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next((u=>(t.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg="LocalStore",Ek=3e8;class Tk{constructor(e,t,i,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new gt(ze),this.xs=new Va((u=>Mg(u)),Pg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function Nk(n,e,t,i){return new Tk(n,e,t,i)}async function X2(n,e){const t=Ie(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((u=>(o=u,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((u=>{const h=[],p=[];let g=He();for(const y of o){h.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}for(const y of u){p.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}return t.localDocuments.getDocuments(i,g).next((y=>({Ls:y,removedBatchIds:h,addedBatchIds:p})))}))}))}function Sk(n,e){const t=Ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),u=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,x){const E=y.batch,N=E.keys();let O=ne.resolve();return N.forEach((V=>{O=O.next((()=>x.getEntry(g,V))).next((G=>{const B=y.docVersions.get(V);Xe(B!==null,48541),G.version.compareTo(B)<0&&(E.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),x.addEntry(G)))}))})),O.next((()=>p.mutationQueue.removeMutationBatch(g,E)))})(t,i,e,u).next((()=>u.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(p){let g=He();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function W2(n){const e=Ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function Ak(n,e){const t=Ie(n),i=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const p=[];e.targetChanges.forEach(((x,E)=>{const N=o.get(E);if(!N)return;p.push(t.Pi.removeMatchingKeys(u,x.removedDocuments,E).next((()=>t.Pi.addMatchingKeys(u,x.addedDocuments,E))));let O=N.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(E)!==null?O=O.withResumeToken(nn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):x.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(x.resumeToken,i)),o=o.insert(E,O),(function(G,B,ee){return G.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=Ek?!0:ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0})(N,O,x)&&p.push(t.Pi.updateTargetData(u,O))}));let g=Cr(),y=He();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(u,x))})),p.push(Ck(u,h,e.documentUpdates).next((x=>{g=x.ks,y=x.qs}))),!i.isEqual(Re.min())){const x=t.Pi.getLastRemoteSnapshotVersion(u).next((E=>t.Pi.setTargetsMetadata(u,u.currentSequenceNumber,i)));p.push(x)}return ne.waitFor(p).next((()=>h.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(t.Ms=o,u)))}function Ck(n,e,t){let i=He(),o=He();return t.forEach((u=>i=i.add(u))),e.getEntries(n,i).next((u=>{let h=Cr();return t.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Re.min())?(e.removeEntry(p,g.readTime),h=h.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(p,g)):fe(Gg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:h,qs:o}}))}function Rk(n,e){const t=Ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=kg),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function jk(n,e){const t=Ie(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.Pi.getTargetData(i,e).next((u=>u?(o=u,ne.resolve(o)):t.Pi.allocateTargetId(i).next((h=>(o=new yi(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function Zp(n,e,t){const i=Ie(n),o=i.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",u,(h=>i.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!il(h))throw h;fe(Gg,`Failed to update sequence numbers for target ${e}: ${h}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function lx(n,e,t){const i=Ie(n);let o=Re.min(),u=He();return i.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,y,x){const E=Ie(g),N=E.xs.get(x);return N!==void 0?ne.resolve(E.Ms.get(N)):E.Pi.getTargetData(y,x)})(i,h,Us(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(h,p.targetId).next((g=>{u=g}))})).next((()=>i.Fs.getDocumentsMatchingQuery(h,e,t?o:Re.min(),t?u:He()))).next((p=>(Ik(i,p4(e),p),{documents:p,Qs:u})))))}function Ik(n,e,t){let i=n.Os.get(e)||Re.min();t.forEach(((o,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)})),n.Os.set(e,i)}class cx{constructor(){this.activeTargetIds=x4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kk{constructor(){this.Mo=new cx,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new cx,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux="ConnectivityMonitor";class dx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(ux,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(ux,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Md=null;function Jp(){return Md===null?Md=(function(){return 268435456+Math.round(2147483648*Math.random())})():Md++,"0x"+Md.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="RestConnection",Ok={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Mk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===lh?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,t,i,o,u){const h=Jp(),p=this.zo(e,t.toUriEncodedString());fe(Ep,`Sending RPC '${e}' ${h}:`,p,i);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(p),x=el(y);return this.Jo(e,p,g,i,x).then((E=>(fe(Ep,`Received RPC '${e}' ${h}: `,E),E)),(E=>{throw Fo(Ep,`RPC '${e}' ${h} failed with error: `,E,"url: ",p,"request:",i),E}))}Ho(e,t,i,o,u,h){return this.Go(e,t,i,o,u)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+sl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,u)=>e[u]=o)),i&&i.headers.forEach(((o,u)=>e[u]=o))}zo(e,t){const i=Ok[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class Vk extends Mk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,o,u){const h=Jp();return new Promise(((p,g)=>{const y=new t2;y.setWithCredentials(!0),y.listenOnce(n2.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case $d.NO_ERROR:const E=y.getResponseJson();fe(ln,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(E)),p(E);break;case $d.TIMEOUT:fe(ln,`RPC '${e}' ${h} timed out`),g(new pe(re.DEADLINE_EXCEEDED,"Request time out"));break;case $d.HTTP_ERROR:const N=y.getStatus();if(fe(ln,`RPC '${e}' ${h} failed with status:`,N,"response text:",y.getResponseText()),N>0){let O=y.getResponseJson();Array.isArray(O)&&(O=O[0]);const V=O?.error;if(V&&V.status&&V.message){const G=(function(ee){const Q=ee.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(Q)>=0?Q:re.UNKNOWN})(V.status);g(new pe(G,V.message))}else g(new pe(re.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new pe(re.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{fe(ln,`RPC '${e}' ${h} completed.`)}}));const x=JSON.stringify(o);fe(ln,`RPC '${e}' ${h} sending request:`,o),y.send(t,"POST",x,i,15)}))}T_(e,t,i){const o=Jp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=i2(),p=r2(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,t,i),g.encodeInitMessageHeaders=!0;const x=u.join("");fe(ln,`Creating RPC '${e}' stream ${o}: ${x}`,g);const E=h.createWebChannel(x,g);this.I_(E);let N=!1,O=!1;const V=new Pk({Yo:B=>{O?fe(ln,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(N||(fe(ln,`Opening RPC '${e}' stream ${o} transport.`),E.open(),N=!0),fe(ln,`RPC '${e}' stream ${o} sending:`,B),E.send(B))},Zo:()=>E.close()}),G=(B,ee,Q)=>{B.listen(ee,(ie=>{try{Q(ie)}catch(ve){setTimeout((()=>{throw ve}),0)}}))};return G(E,wc.EventType.OPEN,(()=>{O||(fe(ln,`RPC '${e}' stream ${o} transport opened.`),V.o_())})),G(E,wc.EventType.CLOSE,(()=>{O||(O=!0,fe(ln,`RPC '${e}' stream ${o} transport closed`),V.a_(),this.E_(E))})),G(E,wc.EventType.ERROR,(B=>{O||(O=!0,Fo(ln,`RPC '${e}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),V.a_(new pe(re.UNAVAILABLE,"The operation could not be completed")))})),G(E,wc.EventType.MESSAGE,(B=>{if(!O){const ee=B.data[0];Xe(!!ee,16349);const Q=ee,ie=Q?.error||Q[0]?.error;if(ie){fe(ln,`RPC '${e}' stream ${o} received error:`,ie);const ve=ie.status;let ce=(function(S){const C=Dt[S];if(C!==void 0)return L2(C)})(ve),be=ie.message;ce===void 0&&(ce=re.INTERNAL,be="Unknown error status: "+ve+" with message "+ie.message),O=!0,V.a_(new pe(ce,be)),E.close()}else fe(ln,`RPC '${e}' stream ${o} received:`,ee),V.u_(ee)}})),G(p,s2.STAT_EVENT,(B=>{B.stat===zp.PROXY?fe(ln,`RPC '${e}' stream ${o} detected buffering proxy`):B.stat===zp.NOPROXY&&fe(ln,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{V.__()}),0),V}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Tp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(n){return new z4(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,t,i=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-i);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx="PersistentStream";class J2{constructor(e,t,i,o,u,h,p,g){this.Mi=e,this.S_=i,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Z2(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(Ar(t.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===t&&this.G_(i,o)}),(i=>{e((()=>{const o=new pe(re.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(hx,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(fe(hx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Lk extends J2{constructor(e,t,i,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,h),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=F4(this.serializer,e),i=(function(u){if(!("targetChange"in u))return Re.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Re.min():h.readTime?Bs(h.readTime):Re.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=Wp(this.serializer),t.addTarget=(function(u,h){let p;const g=h.target;if(p=Gp(g)?{documents:K4(u,g)}:{query:Y4(u,g).ft},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=z2(u,h.resumeToken);const y=Yp(u,h.expectedCount);y!==null&&(p.expectedCount=y)}else if(h.snapshotVersion.compareTo(Re.min())>0){p.readTime=fh(u,h.snapshotVersion.toTimestamp());const y=Yp(u,h.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const i=X4(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=Wp(this.serializer),t.removeTarget=e,this.q_(t)}}class Uk extends J2{constructor(e,t,i,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=G4(e.writeResults,e.commitTime),i=Bs(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Wp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>$4(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{}class zk extends Bk{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pe(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,Qp(t,i),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(re.UNKNOWN,u.toString())}))}Ho(e,t,i,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.Ho(e,Qp(t,i),o,h,p,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new pe(re.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Hk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ar(t),this.aa=!1):fe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="RemoteStore";class qk{constructor(e,t,i,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{i.enqueueAndForget((async()=>{La(this)&&(fe(Oa,"Restarting streams for network reachability change."),await(async function(g){const y=Ie(g);y.Ea.add(4),await nu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Kh(y)})(this))}))})),this.Ra=new Hk(i,o)}}async function Kh(n){if(La(n))for(const e of n.da)await e(!0)}async function nu(n){for(const e of n.da)await e(!1)}function eE(n,e){const t=Ie(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Xg(t)?Qg(t):al(t).O_()&&Yg(t,e))}function Kg(n,e){const t=Ie(n),i=al(t);t.Ia.delete(e),i.O_()&&tE(t,e),t.Ia.size===0&&(i.O_()?i.L_():La(t)&&t.Ra.set("Unknown"))}function Yg(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}al(n).Y_(e)}function tE(n,e){n.Va.Ue(e),al(n).Z_(e)}function Qg(n){n.Va=new V4({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),al(n).start(),n.Ra.ua()}function Xg(n){return La(n)&&!al(n).x_()&&n.Ia.size>0}function La(n){return Ie(n).Ea.size===0}function nE(n){n.Va=void 0}async function Fk(n){n.Ra.set("Online")}async function $k(n){n.Ia.forEach(((e,t)=>{Yg(n,e)}))}async function Gk(n,e){nE(n),Xg(n)?(n.Ra.ha(e),Qg(n)):n.Ra.set("Unknown")}async function Kk(n,e,t){if(n.Ra.set("Online"),e instanceof B2&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,h),o.Ia.delete(p),o.Va.removeTarget(p))})(n,e)}catch(i){fe(Oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await ph(n,i)}else if(e instanceof Qd?n.Va.Ze(e):e instanceof U2?n.Va.st(e):n.Va.tt(e),!t.isEqual(Re.min()))try{const i=await W2(n.localStore);t.compareTo(i)>=0&&await(function(u,h){const p=u.Va.Tt(h);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const x=u.Ia.get(y);x&&u.Ia.set(y,x.withResumeToken(g.resumeToken,h))}})),p.targetMismatches.forEach(((g,y)=>{const x=u.Ia.get(g);if(!x)return;u.Ia.set(g,x.withResumeToken(nn.EMPTY_BYTE_STRING,x.snapshotVersion)),tE(u,g);const E=new yi(x.target,g,y,x.sequenceNumber);Yg(u,E)})),u.remoteSyncer.applyRemoteEvent(p)})(n,t)}catch(i){fe(Oa,"Failed to raise snapshot:",i),await ph(n,i)}}async function ph(n,e,t){if(!il(e))throw e;n.Ea.add(1),await nu(n),n.Ra.set("Offline"),t||(t=()=>W2(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{fe(Oa,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Kh(n)}))}function sE(n,e){return e().catch((t=>ph(n,t,e)))}async function Yh(n){const e=Ie(n),t=Ri(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:kg;for(;Yk(e);)try{const o=await Rk(e.localStore,i);if(o===null){e.Ta.length===0&&t.L_();break}i=o.batchId,Qk(e,o)}catch(o){await ph(e,o)}rE(e)&&iE(e)}function Yk(n){return La(n)&&n.Ta.length<10}function Qk(n,e){n.Ta.push(e);const t=Ri(n);t.O_()&&t.X_&&t.ea(e.mutations)}function rE(n){return La(n)&&!Ri(n).x_()&&n.Ta.length>0}function iE(n){Ri(n).start()}async function Xk(n){Ri(n).ra()}async function Wk(n){const e=Ri(n);for(const t of n.Ta)e.ea(t.mutations)}async function Zk(n,e,t){const i=n.Ta.shift(),o=Bg.from(i,e,t);await sE(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Yh(n)}async function Jk(n,e){e&&Ri(n).X_&&await(async function(i,o){if((function(h){return O4(h)&&h!==re.ABORTED})(o.code)){const u=i.Ta.shift();Ri(i).B_(),await sE(i,(()=>i.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Yh(i)}})(n,e),rE(n)&&iE(n)}async function fx(n,e){const t=Ie(n);t.asyncQueue.verifyOperationInProgress(),fe(Oa,"RemoteStore received new credentials");const i=La(t);t.Ea.add(3),await nu(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Kh(t)}async function eD(n,e){const t=Ie(n);e?(t.Ea.delete(2),await Kh(t)):e||(t.Ea.add(2),await nu(t),t.Ra.set("Unknown"))}function al(n){return n.ma||(n.ma=(function(t,i,o){const u=Ie(t);return u.sa(),new Lk(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:Fk.bind(null,n),t_:$k.bind(null,n),r_:Gk.bind(null,n),H_:Kk.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Xg(n)?Qg(n):n.Ra.set("Unknown")):(await n.ma.stop(),nE(n))}))),n.ma}function Ri(n){return n.fa||(n.fa=(function(t,i,o){const u=Ie(t);return u.sa(),new Uk(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:Xk.bind(null,n),r_:Jk.bind(null,n),ta:Wk.bind(null,n),na:Zk.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Yh(n)):(await n.fa.stop(),n.Ta.length>0&&(fe(Oa,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,t,i,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,u){const h=Date.now()+i,p=new Wg(e,t,h,o,u);return p.start(i),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zg(n,e){if(Ar("AsyncQueue",`${e}: ${n}`),il(n))return new pe(re.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{static emptySet(e){return new Lo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||xe.comparator(t.key,i.key):(t,i)=>xe.comparator(t.key,i.key),this.keyedMap=xc(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Lo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Lo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(){this.ga=new gt(xe.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Qo{constructor(e,t,i,o,u,h,p,g,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,u){const h=[];return t.forEach((p=>{h.push({type:0,doc:p})})),new Qo(e,t,Lo.emptySet(t),h,i,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class nD{constructor(){this.queries=px(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=Ie(t),u=o.queries;o.queries=px(),u.forEach(((h,p)=>{for(const g of p.Sa)g.onError(i)}))})(this,new pe(re.ABORTED,"Firestore shutting down"))}}function px(){return new Va((n=>S2(n)),zh)}async function aE(n,e){const t=Ie(n);let i=3;const o=e.query;let u=t.queries.get(o);u?!u.ba()&&e.Da()&&(i=2):(u=new tD,i=e.Da()?0:1);try{switch(i){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const p=Zg(h,`Initialization of query '${ko(e.query)}' failed`);return void e.onError(p)}t.queries.set(o,u),u.Sa.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&Jg(t)}async function oE(n,e){const t=Ie(n),i=e.query;let o=3;const u=t.queries.get(i);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function sD(n,e){const t=Ie(n);let i=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const p of h.Sa)p.Fa(o)&&(i=!0);h.wa=o}}i&&Jg(t)}function rD(n,e,t){const i=Ie(n),o=i.queries.get(e);if(o)for(const u of o.Sa)u.onError(t);i.queries.delete(e)}function Jg(n){n.Ca.forEach((e=>{e.next()}))}var eg,gx;(gx=eg||(eg={})).Ma="default",gx.Cache="cache";class lE{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Qo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==eg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e){this.key=e}}class uE{constructor(e){this.key=e}}class iD{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=A2(e),this.tu=new Lo(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new mx,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((x,E)=>{const N=o.get(x),O=Hh(this.query,E)?E:null,V=!!N&&this.mutatedKeys.has(N.key),G=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let B=!1;N&&O?N.data.isEqual(O.data)?V!==G&&(i.track({type:3,doc:O}),B=!0):this.su(N,O)||(i.track({type:2,doc:O}),B=!0,(g&&this.eu(O,g)>0||y&&this.eu(O,y)<0)&&(p=!0)):!N&&O?(i.track({type:0,doc:O}),B=!0):N&&!O&&(i.track({type:1,doc:N}),B=!0,(g||y)&&(p=!0)),B&&(O?(h=h.add(O),u=G?u.add(x):u.delete(x)):(h=h.delete(x),u=u.delete(x)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const x=this.query.limitType==="F"?h.last():h.first();h=h.delete(x.key),u=u.delete(x.key),i.track({type:1,doc:x})}return{tu:h,iu:i,Cs:p,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((x,E)=>(function(O,V){const G=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:B})}};return G(O)-G(V)})(x.type,E.type)||this.eu(x.doc,E.doc))),this.ou(i),o=o??!1;const p=t&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,h.length!==0||y?{snapshot:new Qo(this.query,e.tu,u,h,e.mutatedKeys,g===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new mx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new uE(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new cE(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=He();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Qo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ey="SyncEngine";class aD{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class oD{constructor(e){this.key=e,this.hu=!1}}class lD{constructor(e,t,i,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Va((p=>S2(p)),zh),this.Iu=new Map,this.Eu=new Set,this.du=new gt(xe.comparator),this.Au=new Map,this.Ru=new qg,this.Vu={},this.mu=new Map,this.fu=Yo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cD(n,e,t=!0){const i=gE(n);let o;const u=i.Tu.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await dE(i,e,t,!0),o}async function uD(n,e){const t=gE(n);await dE(t,e,!0,!1)}async function dE(n,e,t,i){const o=await jk(n.localStore,Us(e)),u=o.targetId,h=n.sharedClientState.addLocalQueryTarget(u,t);let p;return i&&(p=await dD(n,e,u,h==="current",o.resumeToken)),n.isPrimaryClient&&t&&eE(n.remoteStore,o),p}async function dD(n,e,t,i,o){n.pu=(E,N,O)=>(async function(G,B,ee,Q){let ie=B.view.ru(ee);ie.Cs&&(ie=await lx(G.localStore,B.query,!1).then((({documents:A})=>B.view.ru(A,ie))));const ve=Q&&Q.targetChanges.get(B.targetId),ce=Q&&Q.targetMismatches.get(B.targetId)!=null,be=B.view.applyChanges(ie,G.isPrimaryClient,ve,ce);return vx(G,B.targetId,be.au),be.snapshot})(n,E,N,O);const u=await lx(n.localStore,e,!0),h=new iD(e,u.Qs),p=h.ru(u.documents),g=tu.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=h.applyChanges(p,n.isPrimaryClient,g);vx(n,t,y.au);const x=new aD(e,t,h);return n.Tu.set(e,x),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),y.snapshot}async function hD(n,e,t){const i=Ie(n),o=i.Tu.get(e),u=i.Iu.get(o.targetId);if(u.length>1)return i.Iu.set(o.targetId,u.filter((h=>!zh(h,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Zp(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Kg(i.remoteStore,o.targetId),tg(i,o.targetId)})).catch(rl)):(tg(i,o.targetId),await Zp(i.localStore,o.targetId,!0))}async function fD(n,e){const t=Ie(n),i=t.Tu.get(e),o=t.Iu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Kg(t.remoteStore,i.targetId))}async function mD(n,e,t){const i=xD(n);try{const o=await(function(h,p){const g=Ie(h),y=dt.now(),x=p.reduce(((O,V)=>O.add(V.key)),He());let E,N;return g.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let V=Cr(),G=He();return g.Ns.getEntries(O,x).next((B=>{V=B,V.forEach(((ee,Q)=>{Q.isValidDocument()||(G=G.add(ee))}))})).next((()=>g.localDocuments.getOverlayedDocuments(O,V))).next((B=>{E=B;const ee=[];for(const Q of p){const ie=R4(Q,E.get(Q.key).overlayedDocument);ie!=null&&ee.push(new Mi(Q.key,ie,b2(ie.value.mapValue),as.exists(!0)))}return g.mutationQueue.addMutationBatch(O,y,ee,p)})).next((B=>{N=B;const ee=B.applyToLocalDocumentSet(E,G);return g.documentOverlayCache.saveOverlays(O,B.batchId,ee)}))})).then((()=>({batchId:N.batchId,changes:R2(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(h,p,g){let y=h.Vu[h.currentUser.toKey()];y||(y=new gt(ze)),y=y.insert(p,g),h.Vu[h.currentUser.toKey()]=y})(i,o.batchId,t),await su(i,o.changes),await Yh(i.remoteStore)}catch(o){const u=Zg(o,"Failed to persist write");t.reject(u)}}async function hE(n,e){const t=Ie(n);try{const i=await Ak(t.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=t.Au.get(u);h&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Xe(h.hu,14607):o.removedDocuments.size>0&&(Xe(h.hu,42227),h.hu=!1))})),await su(t,i,e)}catch(i){await rl(i)}}function yx(n,e,t){const i=Ie(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Tu.forEach(((u,h)=>{const p=h.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(h,p){const g=Ie(h);g.onlineState=p;let y=!1;g.queries.forEach(((x,E)=>{for(const N of E.Sa)N.va(p)&&(y=!0)})),y&&Jg(g)})(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function pD(n,e,t){const i=Ie(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Au.get(e),u=o&&o.key;if(u){let h=new gt(xe.comparator);h=h.insert(u,un.newNoDocument(u,Re.min()));const p=He().add(u),g=new $h(Re.min(),new Map,new gt(ze),h,p);await hE(i,g),i.du=i.du.remove(u),i.Au.delete(e),ty(i)}else await Zp(i.localStore,e,!1).then((()=>tg(i,e,t))).catch(rl)}async function gD(n,e){const t=Ie(n),i=e.batch.batchId;try{const o=await Sk(t.localStore,e);mE(t,i,null),fE(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await su(t,o)}catch(o){await rl(o)}}async function yD(n,e,t){const i=Ie(n);try{const o=await(function(h,p){const g=Ie(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let x;return g.mutationQueue.lookupMutationBatch(y,p).next((E=>(Xe(E!==null,37113),x=E.keys(),g.mutationQueue.removeMutationBatch(y,E)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,x,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,x))).next((()=>g.localDocuments.getDocuments(y,x)))}))})(i.localStore,e);mE(i,e,t),fE(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await su(i,o)}catch(o){await rl(o)}}function fE(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function mE(n,e,t){const i=Ie(n);let o=i.Vu[i.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function tg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((i=>{n.Ru.containsKey(i)||pE(n,i)}))}function pE(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Kg(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),ty(n))}function vx(n,e,t){for(const i of t)i instanceof cE?(n.Ru.addReference(i.key,e),vD(n,i)):i instanceof uE?(fe(ey,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||pE(n,i.key)):Ae(19791,{wu:i})}function vD(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(fe(ey,"New document in limbo: "+t),n.Eu.add(i),ty(n))}function ty(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new xe(ut.fromString(e)),i=n.fu.next();n.Au.set(i,new oD(t)),n.du=n.du.insert(t,i),eE(n.remoteStore,new yi(Us(Vg(t.path)),i,"TargetPurposeLimboResolution",Vh.ce))}}async function su(n,e,t){const i=Ie(n),o=[],u=[],h=[];i.Tu.isEmpty()||(i.Tu.forEach(((p,g)=>{h.push(i.pu(g,e,t).then((y=>{if((y||t)&&i.isPrimaryClient){const x=y?!y.fromCache:t?.targetChanges.get(g.targetId)?.current;i.sharedClientState.updateQueryState(g.targetId,x?"current":"not-current")}if(y){o.push(y);const x=$g.As(g.targetId,y);u.push(x)}})))})),await Promise.all(h),i.Pu.H_(o),await(async function(g,y){const x=Ie(g);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ne.forEach(y,(N=>ne.forEach(N.Es,(O=>x.persistence.referenceDelegate.addReference(E,N.targetId,O))).next((()=>ne.forEach(N.ds,(O=>x.persistence.referenceDelegate.removeReference(E,N.targetId,O)))))))))}catch(E){if(!il(E))throw E;fe(Gg,"Failed to update sequence numbers: "+E)}for(const E of y){const N=E.targetId;if(!E.fromCache){const O=x.Ms.get(N),V=O.snapshotVersion,G=O.withLastLimboFreeSnapshotVersion(V);x.Ms=x.Ms.insert(N,G)}}})(i.localStore,u))}async function bD(n,e){const t=Ie(n);if(!t.currentUser.isEqual(e)){fe(ey,"User change. New user:",e.toKey());const i=await X2(t.localStore,e);t.currentUser=e,(function(u,h){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new pe(re.CANCELLED,h))}))})),u.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await su(t,i.Ls)}}function wD(n,e){const t=Ie(n),i=t.Au.get(e);if(i&&i.hu)return He().add(i.key);{let o=He();const u=t.Iu.get(e);if(!u)return o;for(const h of u){const p=t.Tu.get(h);o=o.unionWith(p.view.nu)}return o}}function gE(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=hE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pD.bind(null,e),e.Pu.H_=sD.bind(null,e.eventManager),e.Pu.yu=rD.bind(null,e.eventManager),e}function xD(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yD.bind(null,e),e}class gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Nk(this.persistence,new _k,e.initialUser,this.serializer)}Cu(e){return new Q2(Fg.mi,this.serializer)}Du(e){return new kk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gh.provider={build:()=>new gh};class _D extends gh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Xe(this.persistence.referenceDelegate instanceof mh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new ok(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?jn.withCacheSize(this.cacheSizeBytes):jn.DEFAULT;return new Q2((i=>mh.mi(i,t)),this.serializer)}}class ng{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>yx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=bD.bind(null,this.syncEngine),await eD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new nD})()}createDatastore(e){const t=Gh(e.databaseInfo.databaseId),i=(function(u){return new Vk(u)})(e.databaseInfo);return(function(u,h,p,g){return new zk(u,h,p,g)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,u,h,p){return new qk(i,o,u,h,p)})(this.localStore,this.datastore,e.asyncQueue,(t=>yx(this.syncEngine,t,0)),(function(){return dx.v()?new dx:new Dk})())}createSyncEngine(e,t){return(function(o,u,h,p,g,y,x){const E=new lD(o,u,h,p,g,y);return x&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=Ie(t);fe(Oa,"RemoteStore shutting down."),i.Ea.add(5),await nu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ng.provider={build:()=>new ng};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ar("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji="FirestoreClient";class ED{constructor(e,t,i,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=jg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,(async h=>{fe(ji,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(i,(h=>(fe(ji,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Zg(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Np(n,e){n.asyncQueue.verifyOperationInProgress(),fe(ji,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async o=>{i.isEqual(o)||(await X2(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function bx(n,e){n.asyncQueue.verifyOperationInProgress();const t=await TD(n);fe(ji,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>fx(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,o)=>fx(e.remoteStore,o))),n._onlineComponents=e}async function TD(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){fe(ji,"Using user provided OfflineComponentProvider");try{await Np(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Fo("Error using user provided cache. Falling back to memory cache: "+t),await Np(n,new gh)}}else fe(ji,"Using default OfflineComponentProvider"),await Np(n,new _D(void 0));return n._offlineComponents}async function vE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(fe(ji,"Using user provided OnlineComponentProvider"),await bx(n,n._uninitializedComponentsProvider._online)):(fe(ji,"Using default OnlineComponentProvider"),await bx(n,new ng))),n._onlineComponents}function ND(n){return vE(n).then((e=>e.syncEngine))}async function bE(n){const e=await vE(n),t=e.eventManager;return t.onListen=cD.bind(null,e.syncEngine),t.onUnlisten=hD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=uD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=fD.bind(null,e.syncEngine),t}function SD(n,e,t={}){const i=new _r;return n.asyncQueue.enqueueAndForget((async()=>(function(u,h,p,g,y){const x=new yE({next:N=>{x.Nu(),h.enqueueAndForget((()=>oE(u,E)));const O=N.docs.has(p);!O&&N.fromCache?y.reject(new pe(re.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&N.fromCache&&g&&g.source==="server"?y.reject(new pe(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(N)},error:N=>y.reject(N)}),E=new lE(Vg(p.path),x,{includeMetadataChanges:!0,qa:!0});return aE(u,E)})(await bE(n),n.asyncQueue,e,t,i))),i.promise}function AD(n,e,t={}){const i=new _r;return n.asyncQueue.enqueueAndForget((async()=>(function(u,h,p,g,y){const x=new yE({next:N=>{x.Nu(),h.enqueueAndForget((()=>oE(u,E))),N.fromCache&&g.source==="server"?y.reject(new pe(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(N)},error:N=>y.reject(N)}),E=new lE(p,x,{includeMetadataChanges:!0,qa:!0});return aE(u,E)})(await bE(n),n.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="firestore.googleapis.com",xx=!0;class _x{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xE,this.ssl=xx}else this.host=e.host,this.ssl=e.ssl??xx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Y2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ik)throw new pe(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wE(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new pe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new pe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new pe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qh{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _x({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _x(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new II;switch(i.type){case"firstParty":return new MI(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new pe(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=wx.get(t);i&&(fe("ComponentProvider","Removing Datastore"),wx.delete(t),i.terminate())})(this),Promise.resolve()}}function CD(n,e,t,i={}){n=xs(n,Qh);const o=el(e),u=n._getSettings(),h={...u,emulatorOptions:n._getEmulatorOptions()},p=`${e}:${t}`;o&&(h_(`https://${p}`),f_("Firestore",!0)),u.host!==xE&&u.host!==p&&Fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:o,emulatorOptions:i};if(!Ra(g,h)&&(n._setSettings(g),i.mockUserToken)){let y,x;if(typeof i.mockUserToken=="string")y=i.mockUserToken,x=cn.MOCK_USER;else{y=FA(i.mockUserToken,n._app?.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new pe(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new cn(E)}n._authCredentials=new kI(new o2(y,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Xh(this.firestore,e,this._query)}}class Mt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ti(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Jc(t,Mt._jsonSchema))return new Mt(e,i||null,new xe(ut.fromString(t.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:Ot("string",Mt._jsonSchemaVersion),referencePath:Ot("string")};class Ti extends Xh{constructor(e,t,i){super(e,t,Vg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new xe(e))}withConverter(e){return new Ti(this.firestore,e,this._path)}}function sg(n,e,...t){if(n=xn(n),l2("collection","path",e),n instanceof Qh){const i=ut.fromString(e,...t);return Pw(i),new Ti(n,null,i)}{if(!(n instanceof Mt||n instanceof Ti))throw new pe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ut.fromString(e,...t));return Pw(i),new Ti(n.firestore,null,i)}}function wn(n,e,...t){if(n=xn(n),arguments.length===1&&(e=jg.newId()),l2("doc","path",e),n instanceof Qh){const i=ut.fromString(e,...t);return Mw(i),new Mt(n,null,new xe(i))}{if(!(n instanceof Mt||n instanceof Ti))throw new pe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ut.fromString(e,...t));return Mw(i),new Mt(n.firestore,n instanceof Ti?n.converter:null,new xe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex="AsyncQueue";class Tx{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Z2(this,"async_queue_retry"),this._c=()=>{const i=Tp();i&&fe(Ex,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=Tp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Tp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new _r;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!il(e))throw e;fe(Ex,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Ar("INTERNAL UNHANDLED ERROR: ",Nx(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Wg.createAndSchedule(this,e,t,i,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ae(47125,{Pc:Nx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Nx(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Ua extends Qh{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new Tx,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Tx(e),this._firestoreClient=void 0,await e}}}function RD(n,e){const t=typeof n=="object"?n:y_(),i=typeof n=="string"?n:lh,o=vg(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const u=HA("firestore");u&&CD(o,...u)}return o}function ny(n){if(n._terminated)throw new pe(re.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||jD(n),n._firestoreClient}function jD(n){const e=n._freezeSettings(),t=(function(o,u,h,p){return new ZI(o,u,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,wE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new ED(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this._byteString=e}static fromBase64String(e){try{return new is(nn.fromBase64String(e))}catch(t){throw new pe(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new is(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:is._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Jc(e,is._jsonSchema))return is.fromBase64String(e.bytes)}}is._jsonSchemaVersion="firestore/bytes/1.0",is._jsonSchema={type:Ot("string",is._jsonSchemaVersion),bytes:Ot("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zs._jsonSchemaVersion}}static fromJSON(e){if(Jc(e,zs._jsonSchema))return new zs(e.latitude,e.longitude)}}zs._jsonSchemaVersion="firestore/geoPoint/1.0",zs._jsonSchema={type:Ot("string",zs._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Hs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Jc(e,Hs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Hs(e.vectorValues);throw new pe(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hs._jsonSchemaVersion="firestore/vectorValue/1.0",Hs._jsonSchema={type:Ot("string",Hs._jsonSchemaVersion),vectorValues:Ot("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=/^__.*__$/;class kD{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Mi(e,this.data,this.fieldMask,t,this.fieldTransforms):new eu(e,this.data,t,this.fieldTransforms)}}class _E{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Mi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function EE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:n})}}class sy{constructor(e,t,i,o,u,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new sy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return yh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(EE(this.Ac)&&ID.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class DD{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Gh(e)}Cc(e,t,i,o=!1){return new sy({Ac:e,methodName:t,Dc:i,path:tn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ry(n){const e=n._freezeSettings(),t=Gh(n._databaseId);return new DD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function TE(n,e,t,i,o,u={}){const h=n.Cc(u.merge||u.mergeFields?2:0,e,t,o);ay("Data must be an object, but it was:",h,i);const p=NE(i,h);let g,y;if(u.merge)g=new Hn(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const x=[];for(const E of u.mergeFields){const N=rg(e,E,t);if(!h.contains(N))throw new pe(re.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);AE(x,N)||x.push(N)}g=new Hn(x),y=h.fieldTransforms.filter((E=>g.covers(E.field)))}else g=null,y=h.fieldTransforms;return new kD(new In(p),g,y)}class Jh extends Zh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jh}}class iy extends Zh{_toFieldTransform(e){return new N4(e.path,new Bc)}isEqual(e){return e instanceof iy}}function OD(n,e,t,i){const o=n.Cc(1,e,t);ay("Data must be an object, but it was:",o,i);const u=[],h=In.empty();Oi(i,((g,y)=>{const x=oy(e,g,t);y=xn(y);const E=o.yc(x);if(y instanceof Jh)u.push(x);else{const N=ef(y,E);N!=null&&(u.push(x),h.set(x,N))}}));const p=new Hn(u);return new _E(h,p,o.fieldTransforms)}function MD(n,e,t,i,o,u){const h=n.Cc(1,e,t),p=[rg(e,i,t)],g=[o];if(u.length%2!=0)throw new pe(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<u.length;N+=2)p.push(rg(e,u[N])),g.push(u[N+1]);const y=[],x=In.empty();for(let N=p.length-1;N>=0;--N)if(!AE(y,p[N])){const O=p[N];let V=g[N];V=xn(V);const G=h.yc(O);if(V instanceof Jh)y.push(O);else{const B=ef(V,G);B!=null&&(y.push(O),x.set(O,B))}}const E=new Hn(y);return new _E(x,E,h.fieldTransforms)}function ef(n,e){if(SE(n=xn(n)))return ay("Unsupported field value:",e,n),NE(n,e);if(n instanceof Zh)return(function(i,o){if(!EE(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,o){const u=[];let h=0;for(const p of i){let g=ef(p,o.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(n,e)}return(function(i,o){if((i=xn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return _4(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=dt.fromDate(i);return{timestampValue:fh(o.serializer,u)}}if(i instanceof dt){const u=new dt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:fh(o.serializer,u)}}if(i instanceof zs)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof is)return{bytesValue:z2(o.serializer,i._byteString)};if(i instanceof Mt){const u=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Hg(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Hs)return(function(h,p){return{mapValue:{fields:{[y2]:{stringValue:v2},[ch]:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Lg(p.serializer,y)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${Ig(i)}`)})(n,e)}function NE(n,e){const t={};return d2(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oi(n,((i,o)=>{const u=ef(o,e.mc(i));u!=null&&(t[i]=u)})),{mapValue:{fields:t}}}function SE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof dt||n instanceof zs||n instanceof is||n instanceof Mt||n instanceof Zh||n instanceof Hs)}function ay(n,e,t){if(!SE(t)||!c2(t)){const i=Ig(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function rg(n,e,t){if((e=xn(e))instanceof Wh)return e._internalPath;if(typeof e=="string")return oy(n,e);throw yh("Field path arguments must be of type string or ",n,!1,void 0,t)}const PD=new RegExp("[~\\*/\\[\\]]");function oy(n,e,t){if(e.search(PD)>=0)throw yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Wh(...e.split("."))._internalPath}catch{throw yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function yh(n,e,t,i,o){const u=i&&!i.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${i}`),h&&(g+=` in document ${o}`),g+=")"),new pe(re.INVALID_ARGUMENT,p+n+g)}function AE(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,t,i,o,u){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(RE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class VD extends CE{data(){return super.data()}}function RE(n,e){return typeof e=="string"?oy(n,e):e instanceof Wh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pe(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class UD{convertValue(e,t="none"){switch(Ci(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ai(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Oi(e,((o,u)=>{i[o]=this.convertValue(u,t)})),i}convertVectorValue(e){const t=e.fields?.[ch].arrayValue?.values?.map((i=>At(i.doubleValue)));return new Hs(t)}convertGeoPoint(e){return new zs(At(e.latitude),At(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Uh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Vc(e));default:return null}}convertTimestamp(e){const t=Si(e);return new dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ut.fromString(e);Xe(K2(i),9688,{name:e});const o=new Lc(i.get(1),i.get(3)),u=new xe(i.popFirst(5));return o.isEqual(t)||Ar(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class Ec{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Na extends CE{constructor(e,t,i,o,u,h){super(e,t,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Xd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(RE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Na._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Na._jsonSchemaVersion="firestore/documentSnapshot/1.0",Na._jsonSchema={type:Ot("string",Na._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class Xd extends Na{data(e={}){return super.data(e)}}class Uo{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ec(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new Xd(this._firestore,this._userDataWriter,i.key,i,new Ec(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((p=>{const g=new Xd(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ec(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new Xd(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ec(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,x=-1;return p.type!==0&&(y=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),x=h.indexOf(p.doc.key)),{type:BD(p.type),doc:g,oldIndex:y,newIndex:x}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Uo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(t.push(u._document),i.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function BD(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(n){n=xs(n,Mt);const e=xs(n.firestore,Ua);return SD(ny(e),n._key).then((t=>HD(e,n,t)))}Uo._jsonSchemaVersion="firestore/querySnapshot/1.0",Uo._jsonSchema={type:Ot("string",Uo._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class IE extends UD{constructor(e){super(),this.firestore=e}convertBytes(e){return new is(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,t)}}function kE(n){n=xs(n,Xh);const e=xs(n.firestore,Ua),t=ny(e),i=new IE(e);return LD(n._query),AD(t,n._query).then((o=>new Uo(e,i,n,o)))}function jc(n,e,t){n=xs(n,Mt);const i=xs(n.firestore,Ua),o=jE(n.converter,e);return tf(i,[TE(ry(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,as.none())])}function vh(n,e,t,...i){n=xs(n,Mt);const o=xs(n.firestore,Ua),u=ry(o);let h;return h=typeof(e=xn(e))=="string"||e instanceof Wh?MD(u,"updateDoc",n._key,e,t,i):OD(u,"updateDoc",n._key,e),tf(o,[h.toMutation(n._key,as.exists(!0))])}function DE(n){return tf(xs(n.firestore,Ua),[new Ug(n._key,as.none())])}function zD(n,e){const t=xs(n.firestore,Ua),i=wn(n),o=jE(n.converter,e);return tf(t,[TE(ry(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,as.exists(!1))]).then((()=>i))}function tf(n,e){return(function(i,o){const u=new _r;return i.asyncQueue.enqueueAndForget((async()=>mD(await ND(i),o,u))),u.promise})(ny(n),e)}function HD(n,e,t){const i=t.docs.get(e._key),o=new IE(n);return new Na(n,o,e._key,i,new Ec(t.hasPendingWrites,t.fromCache),e.converter)}function Pd(){return new iy("serverTimestamp")}(function(e,t=!0){(function(o){sl=o})(tl),qo(new ja("firestore",((i,{instanceIdentifier:o,options:u})=>{const h=i.getProvider("app").getImmediate(),p=new Ua(new DI(i.getProvider("auth-internal")),new PI(h,i.getProvider("app-check-internal")),(function(y,x){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new pe(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lc(y.options.projectId,x)})(h,o),h);return u={useFetchStreams:t,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),_i(Iw,kw,e),_i(Iw,kw,"esm2020")})();const qD={apiKey:"AIzaSyDd5Ud4kw5WsaAAWpxdtgq6LppOuTMd94M",authDomain:"arquitecturaos.firebaseapp.com",projectId:"arquitecturaos",storageBucket:"arquitecturaos.firebasestorage.app",messagingSenderId:"889758830565",appId:"1:889758830565:web:433ee6d9ed8265c40c290c",measurementId:"G-1093HM00K2"},OE=g_(qD),Ic=AI(OE),FD=new gr,en=RD(OE);/*!
* sweetalert2 v11.23.0
* Released under the MIT License.
*/function ME(n,e,t){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function $D(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Sx(n,e){return n.get(ME(n,e))}function GD(n,e,t){$D(n,e),e.set(n,t)}function KD(n,e,t){return n.set(ME(n,e),t),t}const YD=100,_e={},QD=()=>{_e.previousActiveElement instanceof HTMLElement?(_e.previousActiveElement.focus(),_e.previousActiveElement=null):document.body&&document.body.focus()},XD=n=>new Promise(e=>{if(!n)return e();const t=window.scrollX,i=window.scrollY;_e.restoreFocusTimeout=setTimeout(()=>{QD(),e()},YD),window.scrollTo(t,i)}),PE="swal2-",WD=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],X=WD.reduce((n,e)=>(n[e]=PE+e,n),{}),ZD=["success","warning","info","question","error"],bh=ZD.reduce((n,e)=>(n[e]=PE+e,n),{}),VE="SweetAlert2:",ly=n=>n.charAt(0).toUpperCase()+n.slice(1),_n=n=>{console.warn(`${VE} ${typeof n=="object"?n.join(" "):n}`)},Ba=n=>{console.error(`${VE} ${n}`)},Ax=[],JD=n=>{Ax.includes(n)||(Ax.push(n),_n(n))},LE=(n,e=null)=>{JD(`"${n}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},nf=n=>typeof n=="function"?n():n,cy=n=>n&&typeof n.toPromise=="function",ru=n=>cy(n)?n.toPromise():Promise.resolve(n),uy=n=>n&&Promise.resolve(n)===n,En=()=>document.body.querySelector(`.${X.container}`),iu=n=>{const e=En();return e?e.querySelector(n):null},Fn=n=>iu(`.${n}`),Ke=()=>Fn(X.popup),ol=()=>Fn(X.icon),e5=()=>Fn(X["icon-content"]),UE=()=>Fn(X.title),dy=()=>Fn(X["html-container"]),BE=()=>Fn(X.image),hy=()=>Fn(X["progress-steps"]),sf=()=>Fn(X["validation-message"]),Gs=()=>iu(`.${X.actions} .${X.confirm}`),ll=()=>iu(`.${X.actions} .${X.cancel}`),za=()=>iu(`.${X.actions} .${X.deny}`),t5=()=>Fn(X["input-label"]),cl=()=>iu(`.${X.loader}`),au=()=>Fn(X.actions),zE=()=>Fn(X.footer),rf=()=>Fn(X["timer-progress-bar"]),fy=()=>Fn(X.close),n5=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,my=()=>{const n=Ke();if(!n)return[];const e=n.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),t=Array.from(e).sort((u,h)=>{const p=parseInt(u.getAttribute("tabindex")||"0"),g=parseInt(h.getAttribute("tabindex")||"0");return p>g?1:p<g?-1:0}),i=n.querySelectorAll(n5),o=Array.from(i).filter(u=>u.getAttribute("tabindex")!=="-1");return[...new Set(t.concat(o))].filter(u=>kn(u))},py=()=>Er(document.body,X.shown)&&!Er(document.body,X["toast-shown"])&&!Er(document.body,X["no-backdrop"]),af=()=>{const n=Ke();return n?Er(n,X.toast):!1},s5=()=>{const n=Ke();return n?n.hasAttribute("data-loading"):!1},$n=(n,e)=>{if(n.textContent="",e){const i=new DOMParser().parseFromString(e,"text/html"),o=i.querySelector("head");o&&Array.from(o.childNodes).forEach(h=>{n.appendChild(h)});const u=i.querySelector("body");u&&Array.from(u.childNodes).forEach(h=>{h instanceof HTMLVideoElement||h instanceof HTMLAudioElement?n.appendChild(h.cloneNode(!0)):n.appendChild(h)})}},Er=(n,e)=>{if(!e)return!1;const t=e.split(/\s+/);for(let i=0;i<t.length;i++)if(!n.classList.contains(t[i]))return!1;return!0},r5=(n,e)=>{Array.from(n.classList).forEach(t=>{!Object.values(X).includes(t)&&!Object.values(bh).includes(t)&&!Object.values(e.showClass||{}).includes(t)&&n.classList.remove(t)})},qn=(n,e,t)=>{if(r5(n,e),!e.customClass)return;const i=e.customClass[t];if(i){if(typeof i!="string"&&!i.forEach){_n(`Invalid type of customClass.${t}! Expected string or iterable object, got "${typeof i}"`);return}Qe(n,i)}},of=(n,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return n.querySelector(`.${X.popup} > .${X[e]}`);case"checkbox":return n.querySelector(`.${X.popup} > .${X.checkbox} input`);case"radio":return n.querySelector(`.${X.popup} > .${X.radio} input:checked`)||n.querySelector(`.${X.popup} > .${X.radio} input:first-child`);case"range":return n.querySelector(`.${X.popup} > .${X.range} input`);default:return n.querySelector(`.${X.popup} > .${X.input}`)}},HE=n=>{if(n.focus(),n.type!=="file"){const e=n.value;n.value="",n.value=e}},qE=(n,e,t)=>{!n||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(i=>{Array.isArray(n)?n.forEach(o=>{t?o.classList.add(i):o.classList.remove(i)}):t?n.classList.add(i):n.classList.remove(i)}))},Qe=(n,e)=>{qE(n,e,!0)},ls=(n,e)=>{qE(n,e,!1)},vi=(n,e)=>{const t=Array.from(n.children);for(let i=0;i<t.length;i++){const o=t[i];if(o instanceof HTMLElement&&Er(o,e))return o}},Sa=(n,e,t)=>{t===`${parseInt(t)}`&&(t=parseInt(t)),t||parseInt(t)===0?n.style.setProperty(e,typeof t=="number"?`${t}px`:t):n.style.removeProperty(e)},Yt=(n,e="flex")=>{n&&(n.style.display=e)},hn=n=>{n&&(n.style.display="none")},gy=(n,e="block")=>{n&&new MutationObserver(()=>{ou(n,n.innerHTML,e)}).observe(n,{childList:!0,subtree:!0})},Cx=(n,e,t,i)=>{const o=n.querySelector(e);o&&o.style.setProperty(t,i)},ou=(n,e,t="flex")=>{e?Yt(n,t):hn(n)},kn=n=>!!(n&&(n.offsetWidth||n.offsetHeight||n.getClientRects().length)),i5=()=>!kn(Gs())&&!kn(za())&&!kn(ll()),ig=n=>n.scrollHeight>n.clientHeight,a5=(n,e)=>{let t=n;for(;t&&t!==e;){if(ig(t))return!0;t=t.parentElement}return!1},FE=n=>{const e=window.getComputedStyle(n),t=parseFloat(e.getPropertyValue("animation-duration")||"0"),i=parseFloat(e.getPropertyValue("transition-duration")||"0");return t>0||i>0},yy=(n,e=!1)=>{const t=rf();t&&kn(t)&&(e&&(t.style.transition="none",t.style.width="100%"),setTimeout(()=>{t.style.transition=`width ${n/1e3}s linear`,t.style.width="0%"},10))},o5=()=>{const n=rf();if(!n)return;const e=parseInt(window.getComputedStyle(n).width);n.style.removeProperty("transition"),n.style.width="100%";const t=parseInt(window.getComputedStyle(n).width),i=e/t*100;n.style.width=`${i}%`},l5=()=>typeof window>"u"||typeof document>"u",c5=`
 <div aria-labelledby="${X.title}" aria-describedby="${X["html-container"]}" class="${X.popup}" tabindex="-1">
   <button type="button" class="${X.close}"></button>
   <ul class="${X["progress-steps"]}"></ul>
   <div class="${X.icon}"></div>
   <img class="${X.image}" />
   <h2 class="${X.title}" id="${X.title}"></h2>
   <div class="${X["html-container"]}" id="${X["html-container"]}"></div>
   <input class="${X.input}" id="${X.input}" />
   <input type="file" class="${X.file}" />
   <div class="${X.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${X.select}" id="${X.select}"></select>
   <div class="${X.radio}"></div>
   <label class="${X.checkbox}">
     <input type="checkbox" id="${X.checkbox}" />
     <span class="${X.label}"></span>
   </label>
   <textarea class="${X.textarea}" id="${X.textarea}"></textarea>
   <div class="${X["validation-message"]}" id="${X["validation-message"]}"></div>
   <div class="${X.actions}">
     <div class="${X.loader}"></div>
     <button type="button" class="${X.confirm}"></button>
     <button type="button" class="${X.deny}"></button>
     <button type="button" class="${X.cancel}"></button>
   </div>
   <div class="${X.footer}"></div>
   <div class="${X["timer-progress-bar-container"]}">
     <div class="${X["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),u5=()=>{const n=En();return n?(n.remove(),ls([document.documentElement,document.body],[X["no-backdrop"],X["toast-shown"],X["has-column"]]),!0):!1},ba=()=>{_e.currentInstance.resetValidationMessage()},d5=()=>{const n=Ke(),e=vi(n,X.input),t=vi(n,X.file),i=n.querySelector(`.${X.range} input`),o=n.querySelector(`.${X.range} output`),u=vi(n,X.select),h=n.querySelector(`.${X.checkbox} input`),p=vi(n,X.textarea);e.oninput=ba,t.onchange=ba,u.onchange=ba,h.onchange=ba,p.oninput=ba,i.oninput=()=>{ba(),o.value=i.value},i.onchange=()=>{ba(),o.value=i.value}},h5=n=>typeof n=="string"?document.querySelector(n):n,f5=n=>{const e=Ke();e.setAttribute("role",n.toast?"alert":"dialog"),e.setAttribute("aria-live",n.toast?"polite":"assertive"),n.toast||e.setAttribute("aria-modal","true")},m5=n=>{window.getComputedStyle(n).direction==="rtl"&&Qe(En(),X.rtl)},p5=n=>{const e=u5();if(l5()){Ba("SweetAlert2 requires document to initialize");return}const t=document.createElement("div");t.className=X.container,e&&Qe(t,X["no-transition"]),$n(t,c5),t.dataset.swal2Theme=n.theme;const i=h5(n.target);i.appendChild(t),n.topLayer&&(t.setAttribute("popover",""),t.showPopover()),f5(n),m5(i),d5()},vy=(n,e)=>{n instanceof HTMLElement?e.appendChild(n):typeof n=="object"?g5(n,e):n&&$n(e,n)},g5=(n,e)=>{n.jquery?y5(e,n):$n(e,n.toString())},y5=(n,e)=>{if(n.textContent="",0 in e)for(let t=0;t in e;t++)n.appendChild(e[t].cloneNode(!0));else n.appendChild(e.cloneNode(!0))},v5=(n,e)=>{const t=au(),i=cl();!t||!i||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?hn(t):Yt(t),qn(t,e,"actions"),b5(t,i,e),$n(i,e.loaderHtml||""),qn(i,e,"loader"))};function b5(n,e,t){const i=Gs(),o=za(),u=ll();!i||!o||!u||(Cp(i,"confirm",t),Cp(o,"deny",t),Cp(u,"cancel",t),w5(i,o,u,t),t.reverseButtons&&(t.toast?(n.insertBefore(u,i),n.insertBefore(o,i)):(n.insertBefore(u,e),n.insertBefore(o,e),n.insertBefore(i,e))))}function w5(n,e,t,i){if(!i.buttonsStyling){ls([n,e,t],X.styled);return}Qe([n,e,t],X.styled),i.confirmButtonColor&&n.style.setProperty("--swal2-confirm-button-background-color",i.confirmButtonColor),i.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",i.denyButtonColor),i.cancelButtonColor&&t.style.setProperty("--swal2-cancel-button-background-color",i.cancelButtonColor),Ap(n),Ap(e),Ap(t)}function Ap(n){const e=window.getComputedStyle(n);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const t=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");n.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${t}`))}function Cp(n,e,t){const i=ly(e);ou(n,t[`show${i}Button`],"inline-block"),$n(n,t[`${e}ButtonText`]||""),n.setAttribute("aria-label",t[`${e}ButtonAriaLabel`]||""),n.className=X[e],qn(n,t,`${e}Button`)}const x5=(n,e)=>{const t=fy();t&&($n(t,e.closeButtonHtml||""),qn(t,e,"closeButton"),ou(t,e.showCloseButton),t.setAttribute("aria-label",e.closeButtonAriaLabel||""))},_5=(n,e)=>{const t=En();t&&(E5(t,e.backdrop),T5(t,e.position),N5(t,e.grow),qn(t,e,"container"))};function E5(n,e){typeof e=="string"?n.style.background=e:e||Qe([document.documentElement,document.body],X["no-backdrop"])}function T5(n,e){e&&(e in X?Qe(n,X[e]):(_n('The "position" parameter is not valid, defaulting to "center"'),Qe(n,X.center)))}function N5(n,e){e&&Qe(n,X[`grow-${e}`])}var lt={innerParams:new WeakMap,domCache:new WeakMap};const S5=["input","file","range","select","radio","checkbox","textarea"],A5=(n,e)=>{const t=Ke();if(!t)return;const i=lt.innerParams.get(n),o=!i||e.input!==i.input;S5.forEach(u=>{const h=vi(t,X[u]);h&&(j5(u,e.inputAttributes),h.className=X[u],o&&hn(h))}),e.input&&(o&&C5(e),I5(e))},C5=n=>{if(!n.input)return;if(!St[n.input]){Ba(`Unexpected type of input! Expected ${Object.keys(St).join(" | ")}, got "${n.input}"`);return}const e=$E(n.input);if(!e)return;const t=St[n.input](e,n);Yt(e),n.inputAutoFocus&&setTimeout(()=>{HE(t)})},R5=n=>{for(let e=0;e<n.attributes.length;e++){const t=n.attributes[e].name;["id","type","value","style"].includes(t)||n.removeAttribute(t)}},j5=(n,e)=>{const t=Ke();if(!t)return;const i=of(t,n);if(i){R5(i);for(const o in e)i.setAttribute(o,e[o])}},I5=n=>{if(!n.input)return;const e=$E(n.input);e&&qn(e,n,"input")},by=(n,e)=>{!n.placeholder&&e.inputPlaceholder&&(n.placeholder=e.inputPlaceholder)},lu=(n,e,t)=>{if(t.inputLabel){const i=document.createElement("label"),o=X["input-label"];i.setAttribute("for",n.id),i.className=o,typeof t.customClass=="object"&&Qe(i,t.customClass.inputLabel),i.innerText=t.inputLabel,e.insertAdjacentElement("beforebegin",i)}},$E=n=>{const e=Ke();if(e)return vi(e,X[n]||X.input)},wh=(n,e)=>{["string","number"].includes(typeof e)?n.value=`${e}`:uy(e)||_n(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},St={};St.text=St.email=St.password=St.number=St.tel=St.url=St.search=St.date=St["datetime-local"]=St.time=St.week=St.month=(n,e)=>(wh(n,e.inputValue),lu(n,n,e),by(n,e),n.type=e.input,n);St.file=(n,e)=>(lu(n,n,e),by(n,e),n);St.range=(n,e)=>{const t=n.querySelector("input"),i=n.querySelector("output");return wh(t,e.inputValue),t.type=e.input,wh(i,e.inputValue),lu(t,n,e),n};St.select=(n,e)=>{if(n.textContent="",e.inputPlaceholder){const t=document.createElement("option");$n(t,e.inputPlaceholder),t.value="",t.disabled=!0,t.selected=!0,n.appendChild(t)}return lu(n,n,e),n};St.radio=n=>(n.textContent="",n);St.checkbox=(n,e)=>{const t=of(Ke(),"checkbox");t.value="1",t.checked=!!e.inputValue;const i=n.querySelector("span");return $n(i,e.inputPlaceholder||e.inputLabel),t};St.textarea=(n,e)=>{wh(n,e.inputValue),by(n,e),lu(n,n,e);const t=i=>parseInt(window.getComputedStyle(i).marginLeft)+parseInt(window.getComputedStyle(i).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const i=parseInt(window.getComputedStyle(Ke()).width),o=()=>{if(!document.body.contains(n))return;const u=n.offsetWidth+t(n);u>i?Ke().style.width=`${u}px`:Sa(Ke(),"width",e.width)};new MutationObserver(o).observe(n,{attributes:!0,attributeFilter:["style"]})}}),n};const k5=(n,e)=>{const t=dy();t&&(gy(t),qn(t,e,"htmlContainer"),e.html?(vy(e.html,t),Yt(t,"block")):e.text?(t.textContent=e.text,Yt(t,"block")):hn(t),A5(n,e))},D5=(n,e)=>{const t=zE();t&&(gy(t),ou(t,e.footer,"block"),e.footer&&vy(e.footer,t),qn(t,e,"footer"))},O5=(n,e)=>{const t=lt.innerParams.get(n),i=ol();if(!i)return;if(t&&e.icon===t.icon){jx(i,e),Rx(i,e);return}if(!e.icon&&!e.iconHtml){hn(i);return}if(e.icon&&Object.keys(bh).indexOf(e.icon)===-1){Ba(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),hn(i);return}Yt(i),jx(i,e),Rx(i,e),Qe(i,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",GE)},Rx=(n,e)=>{for(const[t,i]of Object.entries(bh))e.icon!==t&&ls(n,i);Qe(n,e.icon&&bh[e.icon]),V5(n,e),GE(),qn(n,e,"icon")},GE=()=>{const n=Ke();if(!n)return;const e=window.getComputedStyle(n).getPropertyValue("background-color"),t=n.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let i=0;i<t.length;i++)t[i].style.backgroundColor=e},M5=n=>`
  ${n.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${n.animation?'<div class="swal2-success-fix"></div>':""}
  ${n.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,P5=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,jx=(n,e)=>{if(!e.icon&&!e.iconHtml)return;let t=n.innerHTML,i="";e.iconHtml?i=Ix(e.iconHtml):e.icon==="success"?(i=M5(e),t=t.replace(/ style=".*?"/g,"")):e.icon==="error"?i=P5:e.icon&&(i=Ix({question:"?",warning:"!",info:"i"}[e.icon])),t.trim()!==i.trim()&&$n(n,i)},V5=(n,e)=>{if(e.iconColor){n.style.color=e.iconColor,n.style.borderColor=e.iconColor;for(const t of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Cx(n,t,"background-color",e.iconColor);Cx(n,".swal2-success-ring","border-color",e.iconColor)}},Ix=n=>`<div class="${X["icon-content"]}">${n}</div>`,L5=(n,e)=>{const t=BE();if(t){if(!e.imageUrl){hn(t);return}Yt(t,""),t.setAttribute("src",e.imageUrl),t.setAttribute("alt",e.imageAlt||""),Sa(t,"width",e.imageWidth),Sa(t,"height",e.imageHeight),t.className=X.image,qn(t,e,"image")}};let wy=!1,KE=0,YE=0,QE=0,XE=0;const U5=n=>{n.addEventListener("mousedown",xh),document.body.addEventListener("mousemove",_h),n.addEventListener("mouseup",Eh),n.addEventListener("touchstart",xh),document.body.addEventListener("touchmove",_h),n.addEventListener("touchend",Eh)},B5=n=>{n.removeEventListener("mousedown",xh),document.body.removeEventListener("mousemove",_h),n.removeEventListener("mouseup",Eh),n.removeEventListener("touchstart",xh),document.body.removeEventListener("touchmove",_h),n.removeEventListener("touchend",Eh)},xh=n=>{const e=Ke();if(n.target===e||ol().contains(n.target)){wy=!0;const t=WE(n);KE=t.clientX,YE=t.clientY,QE=parseInt(e.style.insetInlineStart)||0,XE=parseInt(e.style.insetBlockStart)||0,Qe(e,"swal2-dragging")}},_h=n=>{const e=Ke();if(wy){let{clientX:t,clientY:i}=WE(n);e.style.insetInlineStart=`${QE+(t-KE)}px`,e.style.insetBlockStart=`${XE+(i-YE)}px`}},Eh=()=>{const n=Ke();wy=!1,ls(n,"swal2-dragging")},WE=n=>{let e=0,t=0;return n.type.startsWith("mouse")?(e=n.clientX,t=n.clientY):n.type.startsWith("touch")&&(e=n.touches[0].clientX,t=n.touches[0].clientY),{clientX:e,clientY:t}},z5=(n,e)=>{const t=En(),i=Ke();if(!(!t||!i)){if(e.toast){Sa(t,"width",e.width),i.style.width="100%";const o=cl();o&&i.insertBefore(o,ol())}else Sa(i,"width",e.width);Sa(i,"padding",e.padding),e.color&&(i.style.color=e.color),e.background&&(i.style.background=e.background),hn(sf()),H5(i,e),e.draggable&&!e.toast?(Qe(i,X.draggable),U5(i)):(ls(i,X.draggable),B5(i))}},H5=(n,e)=>{const t=e.showClass||{};n.className=`${X.popup} ${kn(n)?t.popup:""}`,e.toast?(Qe([document.documentElement,document.body],X["toast-shown"]),Qe(n,X.toast)):Qe(n,X.modal),qn(n,e,"popup"),typeof e.customClass=="string"&&Qe(n,e.customClass),e.icon&&Qe(n,X[`icon-${e.icon}`])},q5=(n,e)=>{const t=hy();if(!t)return;const{progressSteps:i,currentProgressStep:o}=e;if(!i||i.length===0||o===void 0){hn(t);return}Yt(t),t.textContent="",o>=i.length&&_n("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),i.forEach((u,h)=>{const p=F5(u);if(t.appendChild(p),h===o&&Qe(p,X["active-progress-step"]),h!==i.length-1){const g=$5(e);t.appendChild(g)}})},F5=n=>{const e=document.createElement("li");return Qe(e,X["progress-step"]),$n(e,n),e},$5=n=>{const e=document.createElement("li");return Qe(e,X["progress-step-line"]),n.progressStepsDistance&&Sa(e,"width",n.progressStepsDistance),e},G5=(n,e)=>{const t=UE();t&&(gy(t),ou(t,e.title||e.titleText,"block"),e.title&&vy(e.title,t),e.titleText&&(t.innerText=e.titleText),qn(t,e,"title"))},ZE=(n,e)=>{z5(n,e),_5(n,e),q5(n,e),O5(n,e),L5(n,e),G5(n,e),x5(n,e),k5(n,e),v5(n,e),D5(n,e);const t=Ke();typeof e.didRender=="function"&&t&&e.didRender(t),_e.eventEmitter.emit("didRender",t)},K5=()=>kn(Ke()),JE=()=>{var n;return(n=Gs())===null||n===void 0?void 0:n.click()},Y5=()=>{var n;return(n=za())===null||n===void 0?void 0:n.click()},Q5=()=>{var n;return(n=ll())===null||n===void 0?void 0:n.click()},ul=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),e1=n=>{n.keydownTarget&&n.keydownHandlerAdded&&(n.keydownTarget.removeEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!1)},X5=(n,e,t)=>{e1(n),e.toast||(n.keydownHandler=i=>Z5(e,i,t),n.keydownTarget=e.keydownListenerCapture?window:Ke(),n.keydownListenerCapture=e.keydownListenerCapture,n.keydownTarget.addEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!0)},ag=(n,e)=>{var t;const i=my();if(i.length){n=n+e,n===-2&&(n=i.length-1),n===i.length?n=0:n===-1&&(n=i.length-1),i[n].focus();return}(t=Ke())===null||t===void 0||t.focus()},t1=["ArrowRight","ArrowDown"],W5=["ArrowLeft","ArrowUp"],Z5=(n,e,t)=>{n&&(e.isComposing||e.keyCode===229||(n.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?J5(e,n):e.key==="Tab"?e3(e):[...t1,...W5].includes(e.key)?t3(e.key):e.key==="Escape"&&n3(e,n,t)))},J5=(n,e)=>{if(!nf(e.allowEnterKey))return;const t=of(Ke(),e.input);if(n.target&&t&&n.target instanceof HTMLElement&&n.target.outerHTML===t.outerHTML){if(["textarea","file"].includes(e.input))return;JE(),n.preventDefault()}},e3=n=>{const e=n.target,t=my();let i=-1;for(let o=0;o<t.length;o++)if(e===t[o]){i=o;break}n.shiftKey?ag(i,-1):ag(i,1),n.stopPropagation(),n.preventDefault()},t3=n=>{const e=au(),t=Gs(),i=za(),o=ll();if(!e||!t||!i||!o)return;const u=[t,i,o];if(document.activeElement instanceof HTMLElement&&!u.includes(document.activeElement))return;const h=t1.includes(n)?"nextElementSibling":"previousElementSibling";let p=document.activeElement;if(p){for(let g=0;g<e.children.length;g++){if(p=p[h],!p)return;if(p instanceof HTMLButtonElement&&kn(p))break}p instanceof HTMLButtonElement&&p.focus()}},n3=(n,e,t)=>{n.preventDefault(),nf(e.allowEscapeKey)&&t(ul.esc)};var Xo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const s3=()=>{const n=En();Array.from(document.body.children).forEach(t=>{t.contains(n)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})},n1=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},s1=typeof window<"u"&&!!window.GestureEvent,r3=()=>{if(s1&&!Er(document.body,X.iosfix)){const n=document.body.scrollTop;document.body.style.top=`${n*-1}px`,Qe(document.body,X.iosfix),i3()}},i3=()=>{const n=En();if(!n)return;let e;n.ontouchstart=t=>{e=a3(t)},n.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}},a3=n=>{const e=n.target,t=En(),i=dy();return!t||!i||o3(n)||l3(n)?!1:e===t||!ig(t)&&e instanceof HTMLElement&&!a5(e,i)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(ig(i)&&i.contains(e))},o3=n=>n.touches&&n.touches.length&&n.touches[0].touchType==="stylus",l3=n=>n.touches&&n.touches.length>1,c3=()=>{if(Er(document.body,X.iosfix)){const n=parseInt(document.body.style.top,10);ls(document.body,X.iosfix),document.body.style.top="",document.body.scrollTop=n*-1}},u3=()=>{const n=document.createElement("div");n.className=X["scrollbar-measure"],document.body.appendChild(n);const e=n.getBoundingClientRect().width-n.clientWidth;return document.body.removeChild(n),e};let Bo=null;const d3=n=>{Bo===null&&(document.body.scrollHeight>window.innerHeight||n==="scroll")&&(Bo=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Bo+u3()}px`)},h3=()=>{Bo!==null&&(document.body.style.paddingRight=`${Bo}px`,Bo=null)};function r1(n,e,t,i){af()?kx(n,i):(XD(t).then(()=>kx(n,i)),e1(_e)),s1?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),py()&&(h3(),c3(),n1()),f3()}function f3(){ls([document.documentElement,document.body],[X.shown,X["height-auto"],X["no-backdrop"],X["toast-shown"]])}function bi(n){n=p3(n);const e=Xo.swalPromiseResolve.get(this),t=m3(this);this.isAwaitingPromise?n.isDismissed||(cu(this),e(n)):t&&e(n)}const m3=n=>{const e=Ke();if(!e)return!1;const t=lt.innerParams.get(n);if(!t||Er(e,t.hideClass.popup))return!1;ls(e,t.showClass.popup),Qe(e,t.hideClass.popup);const i=En();return ls(i,t.showClass.backdrop),Qe(i,t.hideClass.backdrop),g3(n,e,t),!0};function i1(n){const e=Xo.swalPromiseReject.get(this);cu(this),e&&e(n)}const cu=n=>{n.isAwaitingPromise&&(delete n.isAwaitingPromise,lt.innerParams.get(n)||n._destroy())},p3=n=>typeof n>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},n),g3=(n,e,t)=>{var i;const o=En(),u=FE(e);typeof t.willClose=="function"&&t.willClose(e),(i=_e.eventEmitter)===null||i===void 0||i.emit("willClose",e),u?y3(n,e,o,t.returnFocus,t.didClose):r1(n,o,t.returnFocus,t.didClose)},y3=(n,e,t,i,o)=>{_e.swalCloseEventFinishedCallback=r1.bind(null,n,t,i,o);const u=function(h){if(h.target===e){var p;(p=_e.swalCloseEventFinishedCallback)===null||p===void 0||p.call(_e),delete _e.swalCloseEventFinishedCallback,e.removeEventListener("animationend",u),e.removeEventListener("transitionend",u)}};e.addEventListener("animationend",u),e.addEventListener("transitionend",u)},kx=(n,e)=>{setTimeout(()=>{var t;typeof e=="function"&&e.bind(n.params)(),(t=_e.eventEmitter)===null||t===void 0||t.emit("didClose"),n._destroy&&n._destroy()})},Wo=n=>{let e=Ke();if(e||new Ne,e=Ke(),!e)return;const t=cl();af()?hn(ol()):v3(e,n),Yt(t),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},v3=(n,e)=>{const t=au(),i=cl();!t||!i||(!e&&kn(Gs())&&(e=Gs()),Yt(t),e&&(hn(e),i.setAttribute("data-button-to-replace",e.className),t.insertBefore(i,e)),Qe([n,t],X.loading))},b3=(n,e)=>{e.input==="select"||e.input==="radio"?T3(n,e):["text","email","number","tel","textarea"].some(t=>t===e.input)&&(cy(e.inputValue)||uy(e.inputValue))&&(Wo(Gs()),N3(n,e))},w3=(n,e)=>{const t=n.getInput();if(!t)return null;switch(e.input){case"checkbox":return x3(t);case"radio":return _3(t);case"file":return E3(t);default:return e.inputAutoTrim?t.value.trim():t.value}},x3=n=>n.checked?1:0,_3=n=>n.checked?n.value:null,E3=n=>n.files&&n.files.length?n.getAttribute("multiple")!==null?n.files:n.files[0]:null,T3=(n,e)=>{const t=Ke();if(!t)return;const i=o=>{e.input==="select"?S3(t,Th(o),e):e.input==="radio"&&A3(t,Th(o),e)};cy(e.inputOptions)||uy(e.inputOptions)?(Wo(Gs()),ru(e.inputOptions).then(o=>{n.hideLoading(),i(o)})):typeof e.inputOptions=="object"?i(e.inputOptions):Ba(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},N3=(n,e)=>{const t=n.getInput();t&&(hn(t),ru(e.inputValue).then(i=>{t.value=e.input==="number"?`${parseFloat(i)||0}`:`${i}`,Yt(t),t.focus(),n.hideLoading()}).catch(i=>{Ba(`Error in inputValue promise: ${i}`),t.value="",Yt(t),t.focus(),n.hideLoading()}))};function S3(n,e,t){const i=vi(n,X.select);if(!i)return;const o=(u,h,p)=>{const g=document.createElement("option");g.value=p,$n(g,h),g.selected=a1(p,t.inputValue),u.appendChild(g)};e.forEach(u=>{const h=u[0],p=u[1];if(Array.isArray(p)){const g=document.createElement("optgroup");g.label=h,g.disabled=!1,i.appendChild(g),p.forEach(y=>o(g,y[1],y[0]))}else o(i,p,h)}),i.focus()}function A3(n,e,t){const i=vi(n,X.radio);if(!i)return;e.forEach(u=>{const h=u[0],p=u[1],g=document.createElement("input"),y=document.createElement("label");g.type="radio",g.name=X.radio,g.value=h,a1(h,t.inputValue)&&(g.checked=!0);const x=document.createElement("span");$n(x,p),x.className=X.label,y.appendChild(g),y.appendChild(x),i.appendChild(y)});const o=i.querySelectorAll("input");o.length&&o[0].focus()}const Th=n=>{const e=[];return n instanceof Map?n.forEach((t,i)=>{let o=t;typeof o=="object"&&(o=Th(o)),e.push([i,o])}):Object.keys(n).forEach(t=>{let i=n[t];typeof i=="object"&&(i=Th(i)),e.push([t,i])}),e},a1=(n,e)=>!!e&&e.toString()===n.toString(),C3=n=>{const e=lt.innerParams.get(n);n.disableButtons(),e.input?o1(n,"confirm"):_y(n,!0)},R3=n=>{const e=lt.innerParams.get(n);n.disableButtons(),e.returnInputValueOnDeny?o1(n,"deny"):xy(n,!1)},j3=(n,e)=>{n.disableButtons(),e(ul.cancel)},o1=(n,e)=>{const t=lt.innerParams.get(n);if(!t.input){Ba(`The "input" parameter is needed to be set when using returnInputValueOn${ly(e)}`);return}const i=n.getInput(),o=w3(n,t);t.inputValidator?I3(n,o,e):i&&!i.checkValidity()?(n.enableButtons(),n.showValidationMessage(t.validationMessage||i.validationMessage)):e==="deny"?xy(n,o):_y(n,o)},I3=(n,e,t)=>{const i=lt.innerParams.get(n);n.disableInput(),Promise.resolve().then(()=>ru(i.inputValidator(e,i.validationMessage))).then(u=>{n.enableButtons(),n.enableInput(),u?n.showValidationMessage(u):t==="deny"?xy(n,e):_y(n,e)})},xy=(n,e)=>{const t=lt.innerParams.get(n||void 0);t.showLoaderOnDeny&&Wo(za()),t.preDeny?(n.isAwaitingPromise=!0,Promise.resolve().then(()=>ru(t.preDeny(e,t.validationMessage))).then(o=>{o===!1?(n.hideLoading(),cu(n)):n.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>l1(n||void 0,o))):n.close({isDenied:!0,value:e})},Dx=(n,e)=>{n.close({isConfirmed:!0,value:e})},l1=(n,e)=>{n.rejectPromise(e)},_y=(n,e)=>{const t=lt.innerParams.get(n||void 0);t.showLoaderOnConfirm&&Wo(),t.preConfirm?(n.resetValidationMessage(),n.isAwaitingPromise=!0,Promise.resolve().then(()=>ru(t.preConfirm(e,t.validationMessage))).then(o=>{kn(sf())||o===!1?(n.hideLoading(),cu(n)):Dx(n,typeof o>"u"?e:o)}).catch(o=>l1(n||void 0,o))):Dx(n,e)};function Nh(){const n=lt.innerParams.get(this);if(!n)return;const e=lt.domCache.get(this);hn(e.loader),af()?n.icon&&Yt(ol()):k3(e),ls([e.popup,e.actions],X.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const k3=n=>{const e=n.popup.getElementsByClassName(n.loader.getAttribute("data-button-to-replace"));e.length?Yt(e[0],"inline-block"):i5()&&hn(n.actions)};function c1(){const n=lt.innerParams.get(this),e=lt.domCache.get(this);return e?of(e.popup,n.input):null}function u1(n,e,t){const i=lt.domCache.get(n);e.forEach(o=>{i[o].disabled=t})}function d1(n,e){const t=Ke();if(!(!t||!n))if(n.type==="radio"){const i=t.querySelectorAll(`[name="${X.radio}"]`);for(let o=0;o<i.length;o++)i[o].disabled=e}else n.disabled=e}function h1(){u1(this,["confirmButton","denyButton","cancelButton"],!1)}function f1(){u1(this,["confirmButton","denyButton","cancelButton"],!0)}function m1(){d1(this.getInput(),!1)}function p1(){d1(this.getInput(),!0)}function g1(n){const e=lt.domCache.get(this),t=lt.innerParams.get(this);$n(e.validationMessage,n),e.validationMessage.className=X["validation-message"],t.customClass&&t.customClass.validationMessage&&Qe(e.validationMessage,t.customClass.validationMessage),Yt(e.validationMessage);const i=this.getInput();i&&(i.setAttribute("aria-invalid","true"),i.setAttribute("aria-describedby",X["validation-message"]),HE(i),Qe(i,X.inputerror))}function y1(){const n=lt.domCache.get(this);n.validationMessage&&hn(n.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),ls(e,X.inputerror))}const zo={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},D3=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],O3={allowEnterKey:void 0},M3=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],v1=n=>Object.prototype.hasOwnProperty.call(zo,n),b1=n=>D3.indexOf(n)!==-1,w1=n=>O3[n],P3=n=>{v1(n)||_n(`Unknown parameter "${n}"`)},V3=n=>{M3.includes(n)&&_n(`The parameter "${n}" is incompatible with toasts`)},L3=n=>{const e=w1(n);e&&LE(n,e)},x1=n=>{n.backdrop===!1&&n.allowOutsideClick&&_n('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),n.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(n.theme)&&_n(`Invalid theme "${n.theme}"`);for(const e in n)P3(e),n.toast&&V3(e),L3(e)};function _1(n){const e=En(),t=Ke(),i=lt.innerParams.get(this);if(!t||Er(t,i.hideClass.popup)){_n("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const o=U3(n),u=Object.assign({},i,o);x1(u),e.dataset.swal2Theme=u.theme,ZE(this,u),lt.innerParams.set(this,u),Object.defineProperties(this,{params:{value:Object.assign({},this.params,n),writable:!1,enumerable:!0}})}const U3=n=>{const e={};return Object.keys(n).forEach(t=>{b1(t)?e[t]=n[t]:_n(`Invalid parameter to update: ${t}`)}),e};function E1(){const n=lt.domCache.get(this),e=lt.innerParams.get(this);if(!e){T1(this);return}n.popup&&_e.swalCloseEventFinishedCallback&&(_e.swalCloseEventFinishedCallback(),delete _e.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),_e.eventEmitter.emit("didDestroy"),B3(this)}const B3=n=>{T1(n),delete n.params,delete _e.keydownHandler,delete _e.keydownTarget,delete _e.currentInstance},T1=n=>{n.isAwaitingPromise?(Rp(lt,n),n.isAwaitingPromise=!0):(Rp(Xo,n),Rp(lt,n),delete n.isAwaitingPromise,delete n.disableButtons,delete n.enableButtons,delete n.getInput,delete n.disableInput,delete n.enableInput,delete n.hideLoading,delete n.disableLoading,delete n.showValidationMessage,delete n.resetValidationMessage,delete n.close,delete n.closePopup,delete n.closeModal,delete n.closeToast,delete n.rejectPromise,delete n.update,delete n._destroy)},Rp=(n,e)=>{for(const t in n)n[t].delete(e)};var z3=Object.freeze({__proto__:null,_destroy:E1,close:bi,closeModal:bi,closePopup:bi,closeToast:bi,disableButtons:f1,disableInput:p1,disableLoading:Nh,enableButtons:h1,enableInput:m1,getInput:c1,handleAwaitingPromise:cu,hideLoading:Nh,rejectPromise:i1,resetValidationMessage:y1,showValidationMessage:g1,update:_1});const H3=(n,e,t)=>{n.toast?q3(n,e,t):($3(e),G3(e),K3(n,e,t))},q3=(n,e,t)=>{e.popup.onclick=()=>{n&&(F3(n)||n.timer||n.input)||t(ul.close)}},F3=n=>!!(n.showConfirmButton||n.showDenyButton||n.showCancelButton||n.showCloseButton);let Sh=!1;const $3=n=>{n.popup.onmousedown=()=>{n.container.onmouseup=function(e){n.container.onmouseup=()=>{},e.target===n.container&&(Sh=!0)}}},G3=n=>{n.container.onmousedown=e=>{e.target===n.container&&e.preventDefault(),n.popup.onmouseup=function(t){n.popup.onmouseup=()=>{},(t.target===n.popup||t.target instanceof HTMLElement&&n.popup.contains(t.target))&&(Sh=!0)}}},K3=(n,e,t)=>{e.container.onclick=i=>{if(Sh){Sh=!1;return}i.target===e.container&&nf(n.allowOutsideClick)&&t(ul.backdrop)}},Y3=n=>typeof n=="object"&&n.jquery,Ox=n=>n instanceof Element||Y3(n),Q3=n=>{const e={};return typeof n[0]=="object"&&!Ox(n[0])?Object.assign(e,n[0]):["title","html","icon"].forEach((t,i)=>{const o=n[i];typeof o=="string"||Ox(o)?e[t]=o:o!==void 0&&Ba(`Unexpected type of ${t}! Expected "string" or "Element", got ${typeof o}`)}),e};function X3(...n){return new this(...n)}function W3(n){class e extends this{_main(i,o){return super._main(i,Object.assign({},n,o))}}return e}const Z3=()=>_e.timeout&&_e.timeout.getTimerLeft(),N1=()=>{if(_e.timeout)return o5(),_e.timeout.stop()},S1=()=>{if(_e.timeout){const n=_e.timeout.start();return yy(n),n}},J3=()=>{const n=_e.timeout;return n&&(n.running?N1():S1())},e6=n=>{if(_e.timeout){const e=_e.timeout.increase(n);return yy(e,!0),e}},t6=()=>!!(_e.timeout&&_e.timeout.isRunning());let Mx=!1;const og={};function n6(n="data-swal-template"){og[n]=this,Mx||(document.body.addEventListener("click",s6),Mx=!0)}const s6=n=>{for(let e=n.target;e&&e!==document;e=e.parentNode)for(const t in og){const i=e.getAttribute(t);if(i){og[t].fire({template:i});return}}};class r6{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,t){const i=this._getHandlersByEventName(e);i.includes(t)||i.push(t)}once(e,t){const i=(...o)=>{this.removeListener(e,i),t.apply(this,o)};this.on(e,i)}emit(e,...t){this._getHandlersByEventName(e).forEach(i=>{try{i.apply(this,t)}catch(o){console.error(o)}})}removeListener(e,t){const i=this._getHandlersByEventName(e),o=i.indexOf(t);o>-1&&i.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}_e.eventEmitter=new r6;const i6=(n,e)=>{_e.eventEmitter.on(n,e)},a6=(n,e)=>{_e.eventEmitter.once(n,e)},o6=(n,e)=>{if(!n){_e.eventEmitter.reset();return}e?_e.eventEmitter.removeListener(n,e):_e.eventEmitter.removeAllListeners(n)};var l6=Object.freeze({__proto__:null,argsToParams:Q3,bindClickHandler:n6,clickCancel:Q5,clickConfirm:JE,clickDeny:Y5,enableLoading:Wo,fire:X3,getActions:au,getCancelButton:ll,getCloseButton:fy,getConfirmButton:Gs,getContainer:En,getDenyButton:za,getFocusableElements:my,getFooter:zE,getHtmlContainer:dy,getIcon:ol,getIconContent:e5,getImage:BE,getInputLabel:t5,getLoader:cl,getPopup:Ke,getProgressSteps:hy,getTimerLeft:Z3,getTimerProgressBar:rf,getTitle:UE,getValidationMessage:sf,increaseTimer:e6,isDeprecatedParameter:w1,isLoading:s5,isTimerRunning:t6,isUpdatableParameter:b1,isValidParameter:v1,isVisible:K5,mixin:W3,off:o6,on:i6,once:a6,resumeTimer:S1,showLoading:Wo,stopTimer:N1,toggleTimer:J3});class c6{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const A1=["swal-title","swal-html","swal-footer"],u6=n=>{const e=typeof n.template=="string"?document.querySelector(n.template):n.template;if(!e)return{};const t=e.content;return v6(t),Object.assign(d6(t),h6(t),f6(t),m6(t),p6(t),g6(t),y6(t,A1))},d6=n=>{const e={};return Array.from(n.querySelectorAll("swal-param")).forEach(i=>{Ma(i,["name","value"]);const o=i.getAttribute("name"),u=i.getAttribute("value");!o||!u||(typeof zo[o]=="boolean"?e[o]=u!=="false":typeof zo[o]=="object"?e[o]=JSON.parse(u):e[o]=u)}),e},h6=n=>{const e={};return Array.from(n.querySelectorAll("swal-function-param")).forEach(i=>{const o=i.getAttribute("name"),u=i.getAttribute("value");!o||!u||(e[o]=new Function(`return ${u}`)())}),e},f6=n=>{const e={};return Array.from(n.querySelectorAll("swal-button")).forEach(i=>{Ma(i,["type","color","aria-label"]);const o=i.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=i.innerHTML,e[`show${ly(o)}Button`]=!0,i.hasAttribute("color")&&(e[`${o}ButtonColor`]=i.getAttribute("color")),i.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=i.getAttribute("aria-label")))}),e},m6=n=>{const e={},t=n.querySelector("swal-image");return t&&(Ma(t,["src","width","height","alt"]),t.hasAttribute("src")&&(e.imageUrl=t.getAttribute("src")||void 0),t.hasAttribute("width")&&(e.imageWidth=t.getAttribute("width")||void 0),t.hasAttribute("height")&&(e.imageHeight=t.getAttribute("height")||void 0),t.hasAttribute("alt")&&(e.imageAlt=t.getAttribute("alt")||void 0)),e},p6=n=>{const e={},t=n.querySelector("swal-icon");return t&&(Ma(t,["type","color"]),t.hasAttribute("type")&&(e.icon=t.getAttribute("type")),t.hasAttribute("color")&&(e.iconColor=t.getAttribute("color")),e.iconHtml=t.innerHTML),e},g6=n=>{const e={},t=n.querySelector("swal-input");t&&(Ma(t,["type","label","placeholder","value"]),e.input=t.getAttribute("type")||"text",t.hasAttribute("label")&&(e.inputLabel=t.getAttribute("label")),t.hasAttribute("placeholder")&&(e.inputPlaceholder=t.getAttribute("placeholder")),t.hasAttribute("value")&&(e.inputValue=t.getAttribute("value")));const i=Array.from(n.querySelectorAll("swal-input-option"));return i.length&&(e.inputOptions={},i.forEach(o=>{Ma(o,["value"]);const u=o.getAttribute("value");if(!u)return;const h=o.innerHTML;e.inputOptions[u]=h})),e},y6=(n,e)=>{const t={};for(const i in e){const o=e[i],u=n.querySelector(o);u&&(Ma(u,[]),t[o.replace(/^swal-/,"")]=u.innerHTML.trim())}return t},v6=n=>{const e=A1.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(n.children).forEach(t=>{const i=t.tagName.toLowerCase();e.includes(i)||_n(`Unrecognized element <${i}>`)})},Ma=(n,e)=>{Array.from(n.attributes).forEach(t=>{e.indexOf(t.name)===-1&&_n([`Unrecognized attribute "${t.name}" on <${n.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},C1=10,b6=n=>{const e=En(),t=Ke();typeof n.willOpen=="function"&&n.willOpen(t),_e.eventEmitter.emit("willOpen",t);const o=window.getComputedStyle(document.body).overflowY;_6(e,t,n),setTimeout(()=>{w6(e,t)},C1),py()&&(x6(e,n.scrollbarPadding,o),s3()),!af()&&!_e.previousActiveElement&&(_e.previousActiveElement=document.activeElement),typeof n.didOpen=="function"&&setTimeout(()=>n.didOpen(t)),_e.eventEmitter.emit("didOpen",t),ls(e,X["no-transition"])},Ah=n=>{const e=Ke();if(n.target!==e)return;const t=En();e.removeEventListener("animationend",Ah),e.removeEventListener("transitionend",Ah),t.style.overflowY="auto"},w6=(n,e)=>{FE(e)?(n.style.overflowY="hidden",e.addEventListener("animationend",Ah),e.addEventListener("transitionend",Ah)):n.style.overflowY="auto"},x6=(n,e,t)=>{r3(),e&&t!=="hidden"&&d3(t),setTimeout(()=>{n.scrollTop=0})},_6=(n,e,t)=>{Qe(n,t.showClass.backdrop),t.animation?(e.style.setProperty("opacity","0","important"),Yt(e,"grid"),setTimeout(()=>{Qe(e,t.showClass.popup),e.style.removeProperty("opacity")},C1)):Yt(e,"grid"),Qe([document.documentElement,document.body],X.shown),t.heightAuto&&t.backdrop&&!t.toast&&Qe([document.documentElement,document.body],X["height-auto"])};var Px={email:(n,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(n)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(n,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(n)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function E6(n){n.inputValidator||(n.input==="email"&&(n.inputValidator=Px.email),n.input==="url"&&(n.inputValidator=Px.url))}function T6(n){(!n.target||typeof n.target=="string"&&!document.querySelector(n.target)||typeof n.target!="string"&&!n.target.appendChild)&&(_n('Target parameter is not valid, defaulting to "body"'),n.target="body")}function N6(n){E6(n),n.showLoaderOnConfirm&&!n.preConfirm&&_n(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),T6(n),typeof n.title=="string"&&(n.title=n.title.split(`
`).join("<br />")),p5(n)}let Vs;var Vd=new WeakMap;class Ct{constructor(...e){if(GD(this,Vd,void 0),typeof window>"u")return;Vs=this;const t=Object.freeze(this.constructor.argsToParams(e));this.params=t,this.isAwaitingPromise=!1,KD(Vd,this,this._main(Vs.params))}_main(e,t={}){if(x1(Object.assign({},t,e)),_e.currentInstance){const u=Xo.swalPromiseResolve.get(_e.currentInstance),{isAwaitingPromise:h}=_e.currentInstance;_e.currentInstance._destroy(),h||u({isDismissed:!0}),py()&&n1()}_e.currentInstance=Vs;const i=A6(e,t);N6(i),Object.freeze(i),_e.timeout&&(_e.timeout.stop(),delete _e.timeout),clearTimeout(_e.restoreFocusTimeout);const o=C6(Vs);return ZE(Vs,i),lt.innerParams.set(Vs,i),S6(Vs,o,i)}then(e){return Sx(Vd,this).then(e)}finally(e){return Sx(Vd,this).finally(e)}}const S6=(n,e,t)=>new Promise((i,o)=>{const u=h=>{n.close({isDismissed:!0,dismiss:h})};Xo.swalPromiseResolve.set(n,i),Xo.swalPromiseReject.set(n,o),e.confirmButton.onclick=()=>{C3(n)},e.denyButton.onclick=()=>{R3(n)},e.cancelButton.onclick=()=>{j3(n,u)},e.closeButton.onclick=()=>{u(ul.close)},H3(t,e,u),X5(_e,t,u),b3(n,t),b6(t),R6(_e,t,u),j6(e,t),setTimeout(()=>{e.container.scrollTop=0})}),A6=(n,e)=>{const t=u6(n),i=Object.assign({},zo,e,t,n);return i.showClass=Object.assign({},zo.showClass,i.showClass),i.hideClass=Object.assign({},zo.hideClass,i.hideClass),i.animation===!1&&(i.showClass={backdrop:"swal2-noanimation"},i.hideClass={}),i},C6=n=>{const e={popup:Ke(),container:En(),actions:au(),confirmButton:Gs(),denyButton:za(),cancelButton:ll(),loader:cl(),closeButton:fy(),validationMessage:sf(),progressSteps:hy()};return lt.domCache.set(n,e),e},R6=(n,e,t)=>{const i=rf();hn(i),e.timer&&(n.timeout=new c6(()=>{t("timer"),delete n.timeout},e.timer),e.timerProgressBar&&(Yt(i),qn(i,e,"timerProgressBar"),setTimeout(()=>{n.timeout&&n.timeout.running&&yy(e.timer)})))},j6=(n,e)=>{if(!e.toast){if(!nf(e.allowEnterKey)){LE("allowEnterKey"),D6();return}I6(n)||k6(n,e)||ag(-1,1)}},I6=n=>{const e=Array.from(n.popup.querySelectorAll("[autofocus]"));for(const t of e)if(t instanceof HTMLElement&&kn(t))return t.focus(),!0;return!1},k6=(n,e)=>e.focusDeny&&kn(n.denyButton)?(n.denyButton.focus(),!0):e.focusCancel&&kn(n.cancelButton)?(n.cancelButton.focus(),!0):e.focusConfirm&&kn(n.confirmButton)?(n.confirmButton.focus(),!0):!1,D6=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Ct.prototype.disableButtons=f1;Ct.prototype.enableButtons=h1;Ct.prototype.getInput=c1;Ct.prototype.disableInput=p1;Ct.prototype.enableInput=m1;Ct.prototype.hideLoading=Nh;Ct.prototype.disableLoading=Nh;Ct.prototype.showValidationMessage=g1;Ct.prototype.resetValidationMessage=y1;Ct.prototype.close=bi;Ct.prototype.closePopup=bi;Ct.prototype.closeModal=bi;Ct.prototype.closeToast=bi;Ct.prototype.rejectPromise=i1;Ct.prototype.update=_1;Ct.prototype._destroy=E1;Object.assign(Ct,l6);Object.keys(z3).forEach(n=>{Ct[n]=function(...e){return Vs&&Vs[n]?Vs[n](...e):null}});Ct.DismissReason=ul;Ct.version="11.23.0";const Ne=Ct;Ne.default=Ne;typeof document<"u"&&(function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const O6=()=>{const n=$c(),[e,t]=I.useState(!1),[i,o]=I.useState(!1),[u,h]=I.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),[p,g]=I.useState(!1),y=()=>{t(!e)},x=()=>{o(!i)},E=O=>{const{name:V,value:G}=O.target;h(B=>({...B,[V]:G}))},N=async O=>{O.preventDefault();const{firstName:V,lastName:G,email:B,password:ee,confirmPassword:Q}=u;if(!V||!G||!B||!ee||!Q)return Ne.fire("Error","Todos los campos son obligatorios","error");if(ee.length<6)return Ne.fire("Error","La contrasea debe tener al menos 6 caracteres","error");if(ee!==Q)return Ne.fire("Error","Las contraseas no coinciden","error");g(!0);try{const ie=B.toLowerCase(),ce=(await H_(Ic,ie,ee)).user;await jc(wn(en,"usuarios",ce.uid),{uid:ce.uid,firstName:V,lastName:G,email:ie,estado:"activo",rol:"usuario",creado:new Date,metodo:"password"}),Ne.fire("xito!","Cuenta creada exitosamente","success"),h({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),n("/Dashboard")}catch(ie){console.error("Error completo en registro:",ie),console.error("Cdigo del error:",ie.code),console.error("Mensaje del error:",ie.message),ie.code==="auth/email-already-in-use"?Ne.fire("Error","Este correo electrnico ya est registrado","error"):ie.code==="auth/weak-password"?Ne.fire("Error","La contrasea es muy dbil","error"):ie.code==="auth/invalid-email"?Ne.fire("Error","Correo electrnico invlido","error"):ie.code==="auth/operation-not-allowed"?Ne.fire("Error","El registro con email/contrasea no est habilitado","error"):ie.code==="auth/network-request-failed"?Ne.fire("Error","Error de conexin. Verifica tu internet","error"):Ne.fire({title:"Error en registro",text:`Cdigo: ${ie.code}
Mensaje: ${ie.message}`,icon:"error",confirmButtonText:"OK"})}finally{g(!1)}};return c.jsxs("div",{className:"fixed inset-0 bg-gradient-to-br from-purple-600 via-pink-500 to-orange-400 flex overflow-y-auto ",children:[c.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[c.jsx("div",{className:"absolute top-20 left-20 w-20 h-20 bg-white/10 rounded-full blur-xl"}),c.jsx("div",{className:"absolute top-40 right-32 w-32 h-32 bg-white/5 rounded-full blur-2xl"}),c.jsx("div",{className:"absolute bottom-32 left-40 w-24 h-24 bg-white/10 rounded-full blur-xl"}),c.jsx("div",{className:"absolute bottom-20 right-20 w-16 h-16 bg-white/15 rounded-full blur-lg"})]}),c.jsxs("div",{className:"relative mx-auto w-full flex bg-white/95 backdrop-blur-sm shadow-2xl overflow-hidden",children:[c.jsxs("div",{className:"hidden lg:flex lg:w-2/5 bg-gradient-to-br from-purple-600 to-pink-500 p-12 flex-col justify-center items-center relative",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-600/90 to-pink-500/90"}),c.jsxs("div",{className:"relative text-center",children:[c.jsx("div",{className:"w-48 h-48 mx-auto mb-8 relative",children:c.jsx("div",{className:"w-full h-full bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm",children:c.jsx("div",{className:"text-8xl",children:""})})}),c.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Join Learn Flow"}),c.jsx("p",{className:"text-white/90 text-lg mb-8",children:"Start your English learning journey today"}),c.jsxs("div",{className:"space-y-4 text-white/80",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx(xa,{className:"w-5 h-5"}),c.jsx("span",{children:"Free to Start"})]}),c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx(r_,{className:"w-5 h-5"}),c.jsx("span",{children:"AI-Powered Learning"})]})]})]}),c.jsx("div",{className:"absolute top-20 left-10 w-6 h-6 bg-white/20 rounded-full animate-bounce",style:{animationDelay:"0s"}}),c.jsx("div",{className:"absolute top-32 right-16 w-4 h-4 bg-white/30 rounded-full animate-bounce",style:{animationDelay:"0.5s"}}),c.jsx("div",{className:"absolute bottom-32 left-16 w-8 h-8 bg-white/15 rounded-full animate-bounce",style:{animationDelay:"1s"}}),c.jsx("div",{className:"absolute bottom-20 right-10 w-5 h-5 bg-white/25 rounded-full animate-bounce",style:{animationDelay:"1.5s"}})]}),c.jsx("div",{className:"w-full lg:w-3/5 p-8 lg:p-12 flex flex-col justify-center",children:c.jsxs("div",{className:"max-w-md mx-auto w-full",children:[c.jsxs("div",{className:"lg:hidden text-center mb-8",children:[c.jsxs("div",{className:"inline-flex items-center gap-2 text-purple-600 mb-4",children:[c.jsx(kh,{className:"w-8 h-8"}),c.jsx("span",{className:"text-2xl font-bold",children:"Learn Flow"})]}),c.jsx("p",{className:"text-gray-600",children:"Start your English learning journey"})]}),c.jsx("form",{onSubmit:N,className:"register-form",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),c.jsxs("div",{className:"relative",children:[c.jsx(_a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{type:"text",name:"firstName",value:u.firstName,onChange:E,className:"w-full pl-12 pr-4 py-3 border border-gray-300 text-black rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white",placeholder:"First name",required:!0,disabled:p})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),c.jsxs("div",{className:"relative",children:[c.jsx(_a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{type:"text",name:"lastName",value:u.lastName,onChange:E,className:"w-full pl-12 pr-4 py-3 border border-gray-300 text-black rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white",placeholder:"Last name",required:!0,disabled:p})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx(Ho,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{type:"email",name:"email",value:u.email,onChange:E,className:"w-full pl-12 pr-4 py-3 border border-gray-300 text-black rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white",placeholder:"Enter your email",required:!0,disabled:p})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{type:e?"text":"password",name:"password",value:u.password,onChange:E,className:"w-full pl-12 pr-12 py-3 border border-gray-300 text-black rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white",placeholder:"Create password (min. 6 characters)",required:!0,minLength:"6",disabled:p}),c.jsx("button",{type:"button",onClick:y,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",disabled:p,children:e?c.jsx(Aa,{className:"w-5 h-5"}):c.jsx(Ca,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{type:i?"text":"password",name:"confirmPassword",value:u.confirmPassword,onChange:E,className:"w-full pl-12 pr-12 py-3 border text-black border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white",placeholder:"Confirm your password",required:!0,disabled:p}),c.jsx("button",{type:"button",onClick:x,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",disabled:p,children:i?c.jsx(Aa,{className:"w-5 h-5"}):c.jsx(Ca,{className:"w-5 h-5"})})]})]}),c.jsx("button",{type:"submit",disabled:p,className:"w-full bg-gradient-to-r from-purple-600 to-pink-500 text-white py-3 rounded-xl font-semibold text-lg hover:from-purple-700 hover:to-pink-600 transform hover:scale-[1.02] transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:p?c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Creating Account..."]}):"Create Account"})]})}),c.jsxs("div",{className:"mt-8 text-center",children:[c.jsxs("span",{className:"text-gray-600",children:["Already have an account?"," "]}),c.jsx("a",{href:"/Login",className:"text-purple-600 hover:text-purple-700 font-semibold transition-colors",children:"Sign in"})]})]})})]})]})},M6=()=>{const[n,e]=I.useState([]),[t,i]=I.useState(!0),[o,u]=I.useState(!1),[h,p]=I.useState(!1),[g,y]=I.useState(null),[x,E]=I.useState(!1),[N,O]=I.useState({title:"",description:"",status:"pendiente",language:"ingles",level:"principiante"}),V=$c(),G=[{value:"ingles",label:"Ingls",flag:""},{value:"frances",label:"Francs",flag:""},{value:"aleman",label:"Alemn",flag:""},{value:"italiano",label:"Italiano",flag:""},{value:"portugues",label:"Portugus",flag:""},{value:"chino",label:"Chino",flag:""},{value:"japones",label:"Japons",flag:""},{value:"coreano",label:"Coreano",flag:""},{value:"ruso",label:"Ruso",flag:""},{value:"arabe",label:"rabe",flag:""}],B=[{value:"principiante",label:"Principiante (A1-A2)",color:"bg-green-100 text-green-800"},{value:"intermedio",label:"Intermedio (B1-B2)",color:"bg-yellow-100 text-yellow-800"},{value:"avanzado",label:"Avanzado (C1-C2)",color:"bg-red-100 text-red-800"}],ee=async()=>{try{i(!0),console.log("Cargando lecciones desde Firebase...");const oe=await kE(sg(en,"lecciones")),F=[];oe.forEach(ae=>{F.push({id:ae.id,...ae.data()})}),F.sort((ae,he)=>{const ke=ae.createdAt?.toDate()||new Date(0);return(he.createdAt?.toDate()||new Date(0))-ke}),console.log("Lecciones cargadas:",F.length),e(F)}catch(oe){console.error("Error loading lessons:",oe),Ne.fire("Error","No se pudieron cargar las lecciones","error")}finally{i(!1)}};I.useEffect(()=>{ee()},[]);const Q=()=>{p(!1),y(null),O({title:"",description:"",status:"pendiente",language:"ingles",level:"principiante"}),u(!0)},ie=oe=>{p(!0),y(oe),O({title:oe.title,description:oe.description,status:oe.status,language:oe.language,level:oe.level}),u(!0)},ve=()=>{u(!1),p(!1),y(null),O({title:"",description:"",status:"pendiente",language:"ingles",level:"principiante"})},ce=oe=>{const{name:F,value:ae}=oe.target;O(he=>({...he,[F]:ae}))},be=async oe=>{if(oe.preventDefault(),!N.title.trim())return Ne.fire("Error","El ttulo es obligatorio","error");E(!0);try{if(h&&g){const F=wn(en,"lecciones",g.id);await vh(F,{...N,updatedAt:Pd()}),e(n.map(ae=>ae.id===g.id?{...ae,...N,updatedAt:new Date}:ae)),Ne.fire("xito!","Leccin actualizada correctamente","success")}else{const ae={id:(await zD(sg(en,"lecciones"),{...N,createdAt:Pd(),updatedAt:Pd()})).id,...N,createdAt:new Date,updatedAt:new Date};e([ae,...n]),Ne.fire("xito!","Leccin creada correctamente","success")}ve()}catch(F){console.error("Error saving lesson:",F),Ne.fire("Error",`No se pudo guardar la leccin: ${F.message}`,"error")}finally{E(!1)}},A=async(oe,F)=>{if((await Ne.fire({title:"Ests seguro?",text:`Quieres eliminar la leccin "${F}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, eliminar",cancelButtonText:"Cancelar"})).isConfirmed)try{await DE(wn(en,"lecciones",oe)),e(n.filter(he=>he.id!==oe)),Ne.fire("Eliminada","Leccin eliminada exitosamente","success")}catch(he){console.error("Error deleting lesson:",he),Ne.fire("Error","No se pudo eliminar la leccin","error")}},S=async(oe,F)=>{const he={pendiente:"en-progreso","en-progreso":"completada",completada:"pendiente"}[F]||"pendiente";try{const ke=wn(en,"lecciones",oe);await vh(ke,{status:he,updatedAt:Pd()}),e(n.map(k=>k.id===oe?{...k,status:he}:k)),Ne.fire({icon:"success",title:"Estado actualizado",text:`Ahora est: ${P(he)}`,timer:1500,showConfirmButton:!1})}catch(ke){console.error("Error updating status:",ke),Ne.fire("Error","No se pudo actualizar el estado","error")}},C=oe=>{switch(oe){case"completada":return"bg-green-100 text-green-800 border-green-200";case"en-progreso":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-yellow-100 text-yellow-800 border-yellow-200"}},P=oe=>{switch(oe){case"completada":return"Dominada";case"en-progreso":return"Estudiando";default:return"Por Estudiar"}},D=oe=>{const F=B.find(ae=>ae.value===oe);return F?F.color:"bg-gray-100 text-gray-800"},U=oe=>{const F=G.find(ae=>ae.value===oe);return F?F.flag:""},j=oe=>{const F=G.find(ae=>ae.value===oe);return F?F.label:oe},it=()=>{V("/dashboard")};return c.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-indigo-600 via-gray-700 to-blue-400 overflow-y-auto",children:c.jsxs("div",{className:"w-4/5 h-full mx-auto my-[2%] p-5 md:p-6 lg:p-8 ",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:it,className:"bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white p-2 rounded-lg transition-all duration-200",children:c.jsx(pg,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex items-center gap-3 text-white",children:[c.jsx(Z0,{className:"w-8 h-8"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Gestin de Lecciones"}),c.jsx("p",{className:"text-white/80",children:"Administra tu aprendizaje de idiomas"})]})]})]}),c.jsxs("div",{className:"flex items-center ml-4 gap-4",children:[c.jsxs("button",{onClick:Q,className:"bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white px-4 py-2 rounded-lg transition-all duration-200 flex items-center gap-2",children:[c.jsx(yA,{className:"w-5 h-5"}),"Nueva Leccin"]}),c.jsxs("div",{className:"text-white text-right",children:[c.jsx("div",{className:"text-2xl text-center font-bold",children:n.length}),c.jsx("div",{className:"text-white/80 text-sm",children:"Total lecciones"})]})]})]}),c.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl p-6 mb-6 shadow-xl",children:c.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:n.filter(oe=>oe.status==="pendiente").length}),c.jsx("div",{className:"text-sm text-gray-600",children:"Por Estudiar"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-3xl font-bold text-blue-600",children:n.filter(oe=>oe.status==="en-progreso").length}),c.jsx("div",{className:"text-sm text-gray-600",children:"Estudiando"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-3xl font-bold text-green-600",children:n.filter(oe=>oe.status==="completada").length}),c.jsx("div",{className:"text-sm text-gray-600",children:"Dominadas"})]})]})}),c.jsx("div",{className:"mb-6",children:c.jsx("button",{onClick:ee,className:"bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white px-4 py-2 rounded-lg transition-all duration-200",children:"Actualizar Lista"})}),t?c.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl p-12 text-center shadow-xl",children:[c.jsx(Z0,{className:"w-16 h-16 text-gray-400 mx-auto mb-4 animate-pulse"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"Cargando lecciones..."}),c.jsx("p",{className:"text-gray-500",children:"Por favor espera un momento"})]}):n.length===0?c.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl p-12 text-center shadow-xl",children:[c.jsx(kh,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No hay lecciones"}),c.jsx("p",{className:"text-gray-500 mb-4",children:"Crea tu primera leccin de idiomas para empezar"}),c.jsx("button",{onClick:Q,className:"bg-gradient-to-r from-indigo-500 to-purple-500 text-white px-6 py-3 rounded-lg hover:from-indigo-600 hover:to-purple-600 transition-all duration-200",children:"Crear Primera Leccin"})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(oe=>c.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[c.jsx("div",{className:"flex items-start justify-between mb-4",children:c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"text-2xl",children:U(oe.language)}),c.jsx("h3",{className:"text-lg font-bold text-gray-800",children:oe.title})]}),c.jsx("p",{className:"text-sm text-gray-600 mb-3",children:oe.description}),c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold border ${C(oe.status)}`,children:P(oe.status)}),c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${D(oe.level)}`,children:B.find(F=>F.value===oe.level)?.label.split(" ")[0]}),c.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-medium",children:j(oe.language)})]})]})}),c.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t border-gray-200",children:[c.jsxs("button",{onClick:()=>S(oe.id,oe.status),className:"flex-1 px-3 py-2 bg-indigo-100 text-white rounded-lg hover:bg-indigo-200 transition-all text-sm font-medium",children:[c.jsx(xa,{className:"w-4 h-4 inline mr-1"}),"Estado"]}),c.jsx("button",{onClick:()=>ie(oe),className:"px-3 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-all",children:c.jsx(s_,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>A(oe.id,oe.title),className:"px-3 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-all",children:c.jsx(i_,{className:"w-4 h-4"})})]})]},oe.id))}),o&&c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:c.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:h?"Editar Leccin":"Nueva Leccin"}),c.jsx("button",{onClick:ve,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:x,children:c.jsx(DA,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ttulo de la leccin *"}),c.jsx("input",{type:"text",name:"title",value:N.title,onChange:ce,className:"w-full text-black px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Ej: Vocabulario de viajes",required:!0,disabled:x})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripcin"}),c.jsx("textarea",{name:"description",value:N.description,onChange:ce,rows:3,className:"w-full text-black px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Qu vas a estudiar en esta leccin?",disabled:x})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Idioma"}),c.jsx("select",{name:"language",value:N.language,onChange:ce,className:"w-full text-black px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",disabled:x,children:G.map(oe=>c.jsxs("option",{value:oe.value,children:[oe.flag," ",oe.label]},oe.value))})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nivel"}),c.jsx("select",{name:"level",value:N.level,onChange:ce,className:"w-full text-black px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",disabled:x,children:B.map(oe=>c.jsx("option",{value:oe.value,children:oe.label},oe.value))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado"}),c.jsxs("select",{name:"status",value:N.status,onChange:ce,className:"w-full text-black px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",disabled:x,children:[c.jsx("option",{value:"pendiente",children:"Por Estudiar"}),c.jsx("option",{value:"en-progreso",children:"Estudiando"}),c.jsx("option",{value:"completada",children:"Dominada"})]})]})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:ve,className:"flex-1 text-white px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-medium",disabled:x,children:"Cancelar"}),c.jsx("button",{type:"button",onClick:be,disabled:x,className:"flex-1 px-4 py-2 bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded-lg hover:from-indigo-600 hover:to-purple-600 transition-all duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:x?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Guardando..."]}):h?"Actualizar":"Crear"})]})]})]})})})]})})},P6=()=>{const[n,e]=I.useState(null),t=i=>{console.log(`Clicked on ${i} module`)};return c.jsxs("div",{className:"fixed inset-0 bg-gradient-to-br from-purple-600 via-pink-500 to-orange-400 overflow-y-auto p-5",children:[c.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[c.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-white/5 rounded-full blur-3xl"}),c.jsx("div",{className:"absolute bottom-32 right-40 w-40 h-40 bg-white/5 rounded-full blur-3xl"}),c.jsx("div",{className:"absolute top-1/2 left-1/2 w-24 h-24 bg-white/10 rounded-full blur-2xl"})]}),c.jsxs("div",{className:"relative mx-auto w-full max-w-5xl",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsxs("div",{className:"inline-flex items-center gap-3 text-white mb-4",children:[c.jsx(kh,{className:"w-10 h-10"}),c.jsx("span",{className:"text-5xl font-bold",children:"Learn Flow Dashboard"})]}),c.jsx("p",{className:"text-white/90 text-xl",children:"Gestiona tu plataforma de aprendizaje"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[c.jsxs("div",{className:`group relative bg-white/90 backdrop-blur-sm rounded-3xl p-8 cursor-pointer transition-all duration-300 transform ${n==="usuarios"?"scale-105 bg-white/95":"hover:scale-102"} shadow-2xl`,onMouseEnter:()=>e("usuarios"),onMouseLeave:()=>e(null),onClick:()=>t("users"),children:[c.jsx("div",{className:"absolute top-6 right-6 w-3 h-3 bg-blue-400/40 rounded-full"}),c.jsx("div",{className:"absolute top-12 right-12 w-2 h-2 bg-purple-400/30 rounded-full"}),c.jsx("div",{className:"absolute bottom-8 left-8 w-4 h-4 bg-blue-300/20 rounded-full"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:`w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center mb-6 transition-all duration-300 ${n==="usuarios"?"rotate-3 scale-110":""}`,children:c.jsx(Bd,{className:"w-8 h-8 text-white"})}),c.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Usuarios"}),c.jsx("p",{className:"text-gray-600 text-lg mb-8 leading-relaxed",children:"Gestiona todos los usuarios de tu plataforma. Crea, edita y administra perfiles, roles y permisos de manera intuitiva."}),c.jsxs("div",{className:"space-y-3 mb-8",children:[c.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),c.jsx("span",{className:"text-sm",children:"Gestin completa de usuarios"})]}),c.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[c.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),c.jsx("span",{className:"text-sm",children:"Control de roles y permisos"})]})]}),c.jsx("div",{className:`transition-all duration-300 ${n==="usuarios"?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:c.jsx("a",{href:"/users",children:c.jsx("button",{className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-xl font-semibold hover:from-blue-600 hover:to-purple-700 transition-all duration-200 shadow-lg",children:"Gestionar Usuarios"})})})]})]}),c.jsxs("div",{className:`group relative bg-white/90 backdrop-blur-sm rounded-3xl p-8 cursor-pointer transition-all duration-300 transform ${n==="lessons"?"scale-105 bg-white/95":"hover:scale-102"} shadow-2xl`,onMouseEnter:()=>e("lessons"),onMouseLeave:()=>e(null),onClick:()=>t("lessons"),children:[c.jsx("div",{className:"absolute top-6 right-6 w-3 h-3 bg-emerald-400/40 rounded-full"}),c.jsx("div",{className:"absolute top-12 right-12 w-2 h-2 bg-teal-400/30 rounded-full"}),c.jsx("div",{className:"absolute bottom-8 left-8 w-4 h-4 bg-emerald-300/20 rounded-full"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:`w-16 h-16 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center mb-6 transition-all duration-300 ${n==="lessons"?"rotate-3 scale-110":""}`,children:c.jsx(t_,{className:"w-8 h-8 text-white"})}),c.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Lessons"}),c.jsx("p",{className:"text-gray-600 text-lg mb-8 leading-relaxed",children:"Administra el contenido educativo. Crea nuevas lecciones, organiza por categoras y gestiona el material de aprendizaje."}),c.jsxs("div",{className:"space-y-3 mb-8",children:[c.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[c.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),c.jsx("span",{className:"text-sm",children:"Contenido interactivo"})]}),c.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[c.jsx("div",{className:"w-2 h-2 bg-teal-500 rounded-full"}),c.jsx("span",{className:"text-sm",children:"Seguimiento de progreso"})]})]}),c.jsx("div",{className:`transition-all duration-300 ${n==="lessons"?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:c.jsx("a",{href:"/Lessons",children:c.jsx("button",{className:"w-full bg-gradient-to-r from-emerald-500 to-teal-600 text-white py-3 rounded-xl font-semibold hover:from-emerald-600 hover:to-teal-700 transition-all duration-200 shadow-lg",children:"Gestionar Lessons"})})})]})]})]}),c.jsx("div",{className:"text-center mt-4",children:c.jsx("p",{className:"text-white/80",children:"Haz clic en cualquier mdulo para acceder a sus funcionalidades"})})]})]})},V6=()=>{const[n,e]=I.useState([]),[t,i]=I.useState(!0),[o,u]=I.useState(""),[h,p]=I.useState("all"),[g,y]=I.useState("all"),[x,E]=I.useState(!1),[N,O]=I.useState(!1),[V,G]=I.useState(!1),[B,ee]=I.useState(!1),[Q,ie]=I.useState(!1),[ve,ce]=I.useState(!1),[be,A]=I.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",role:"usuario"}),[S,C]=I.useState({id:"",firstName:"",lastName:"",email:"",role:"usuario",estado:"activo"}),P=$c(),D=()=>{P("/dashboard")},U=async J=>{J.preventDefault();const{firstName:De,lastName:we,email:$e,password:Rt,confirmPassword:Tn,role:Nn}=be;if(!De||!we||!$e||!Rt||!Tn)return Ne.fire("Error","Todos los campos son obligatorios","error");if(Rt.length<6)return Ne.fire("Error","La contrasea debe tener al menos 6 caracteres","error");if(Rt!==Tn)return Ne.fire("Error","Las contraseas no coinciden","error");if(!(Nn==="admin"&&!(await Ne.fire({title:"Crear usuario administrador?",text:"Esta accin crear un usuario con privilegios de administrador",icon:"question",showCancelButton:!0,confirmButtonText:"S, crear admin",cancelButtonText:"Cancelar"})).isConfirmed)){G(!0);try{const jt=$e.toLowerCase(),Gn=(await H_(Ic,jt,Rt)).user;await jc(wn(en,"usuarios",Gn.uid),{uid:Gn.uid,firstName:De,lastName:we,email:jt,estado:"activo",rol:Nn,creado:new Date,metodo:"password",creadoPor:"admin-interface"});const Pi={id:Gn.uid,uid:Gn.uid,firstName:De,lastName:we,email:jt,estado:"activo",rol:Nn,creado:new Date,metodo:"password"};e([Pi,...n]),Ne.fire("xito!",`Usuario ${Nn} creado exitosamente`,"success"),A({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",role:"usuario"}),E(!1)}catch(jt){console.error("Error creando usuario:",jt),jt.code==="auth/email-already-in-use"?Ne.fire("Error","Este correo electrnico ya est registrado","error"):jt.code==="auth/weak-password"?Ne.fire("Error","La contrasea es muy dbil","error"):jt.code==="auth/invalid-email"?Ne.fire("Error","Correo electrnico invlido","error"):Ne.fire("Error",`No se pudo crear el usuario: ${jt.message}`,"error")}finally{G(!1)}}},j=J=>{C({id:J.id,firstName:J.firstName||"",lastName:J.lastName||"",email:J.email||"",role:J.rol||"usuario",estado:J.estado||"activo"}),O(!0)},it=async J=>{J.preventDefault();const{id:De,firstName:we,lastName:$e,email:Rt,role:Tn,estado:Nn}=S;if(!we||!$e||!Rt)return Ne.fire("Error","Nombre, apellido y email son obligatorios","error");const jt=n.find(fn=>fn.id===De);if(!(Tn==="admin"&&jt?.rol!=="admin"&&!(await Ne.fire({title:"Cambiar a administrador?",text:"Esta accin dar privilegios de administrador a este usuario",icon:"question",showCancelButton:!0,confirmButtonText:"S, cambiar rol",cancelButtonText:"Cancelar"})).isConfirmed)){ee(!0);try{const fn=wn(en,"usuarios",De);await vh(fn,{firstName:we,lastName:$e,email:Rt.toLowerCase(),rol:Tn,estado:Nn,actualizado:new Date}),e(n.map(Gn=>Gn.id===De?{...Gn,firstName:we,lastName:$e,email:Rt.toLowerCase(),rol:Tn,estado:Nn}:Gn)),Ne.fire({title:"Actualizado!",text:"Usuario actualizado exitosamente",icon:"success",timer:1500,showConfirmButton:!1}),O(!1),C({id:"",firstName:"",lastName:"",email:"",role:"usuario",estado:"activo"})}catch(fn){console.error("Error actualizando usuario:",fn),Ne.fire("Error",`No se pudo actualizar el usuario: ${fn.message}`,"error")}finally{ee(!1)}}},oe=J=>{const{name:De,value:we}=J.target;A($e=>({...$e,[De]:we}))},F=J=>{const{name:De,value:we}=J.target;C($e=>({...$e,[De]:we}))},ae=()=>{E(!1),A({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",role:"usuario"}),ie(!1),ce(!1)},he=()=>{O(!1),C({id:"",firstName:"",lastName:"",email:"",role:"usuario",estado:"activo"})},ke=async()=>{try{i(!0);const J=await kE(sg(en,"usuarios")),De=[];J.forEach(we=>{De.push({id:we.id,...we.data()})}),De.sort((we,$e)=>{const Rt=we.creado?.toDate()||new Date(0);return($e.creado?.toDate()||new Date(0))-Rt}),e(De)}catch(J){console.error("Error loading users:",J),Ne.fire("Error",`No se pudieron cargar los usuarios: ${J.message}`,"error")}finally{i(!1)}};I.useEffect(()=>{const J=setTimeout(()=>{i(!1),Ne.fire("Error","La carga de usuarios tard demasiado. Verifica tu conexin.","warning")},1e4);ke().finally(()=>{clearTimeout(J)})},[]);const k=n.filter(J=>{const De=J.firstName?.toLowerCase().includes(o.toLowerCase())||J.lastName?.toLowerCase().includes(o.toLowerCase())||J.email?.toLowerCase().includes(o.toLowerCase()),we=h==="all"||J.rol===h,$e=g==="all"||J.estado===g;return De&&we&&$e}),se=async(J,De)=>{try{const we=De==="activo"?"inactivo":"activo",$e=wn(en,"usuarios",J);await vh($e,{estado:we}),e(n.map(Rt=>Rt.id===J?{...Rt,estado:we}:Rt)),Ne.fire("Actualizado",`Usuario ${we==="activo"?"activado":"desactivado"} exitosamente`,"success")}catch(we){console.error("Error updating user status:",we),Ne.fire("Error","No se pudo actualizar el estado del usuario","error")}},de=async(J,De)=>{if((await Ne.fire({title:"Ests seguro?",text:`Quieres eliminar al usuario ${De}?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, eliminar",cancelButtonText:"Cancelar"})).isConfirmed)try{await DE(wn(en,"usuarios",J)),e(n.filter($e=>$e.id!==J)),Ne.fire("Eliminado","Usuario eliminado exitosamente","success")}catch($e){console.error("Error deleting user:",$e),Ne.fire("Error","No se pudo eliminar el usuario","error")}},ue=J=>{switch(J){case"admin":return c.jsx(cA,{className:"w-4 h-4"});case"moderador":return c.jsx(n_,{className:"w-4 h-4"});default:return c.jsx(_a,{className:"w-4 h-4"})}},ge=J=>{switch(J){case"admin":return"bg-purple-100 text-purple-800 border-purple-200";case"moderador":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},Pe=(J,De)=>`${J?.charAt(0)||""}${De?.charAt(0)||""}`.toUpperCase();return c.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-green-800 via-emerald-800 to-green-400 overflow-y-auto p-6",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:D,className:"bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white p-2 rounded-lg transition-all duration-200",children:c.jsx(pg,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex items-center gap-3 text-white",children:[c.jsx(Bd,{className:"w-8 h-8"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Gestin de Usuarios"}),c.jsx("p",{className:"text-white/80",children:"Administra todos los usuarios de la plataforma"})]})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("button",{onClick:()=>E(!0),className:"bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white px-4 py-2 rounded-lg transition-all duration-200 flex items-center gap-2",children:[c.jsx(AA,{className:"w-5 h-5"}),"Crear Usuario"]}),c.jsxs("div",{className:"text-white text-right",children:[c.jsx("div",{className:"text-2xl font-bold",children:n.length}),c.jsx("div",{className:"text-white/80 text-sm",children:"Total usuarios"})]})]})]}),c.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl p-6 mb-6 shadow-xl",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(bA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{type:"text",placeholder:"Buscar usuarios...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-black",value:o,onChange:J=>u(J.target.value)})]}),c.jsxs("select",{className:"px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-black",value:h,onChange:J=>p(J.target.value),children:[c.jsx("option",{value:"all",children:"Todos los roles"}),c.jsx("option",{value:"usuario",children:"Usuario"}),c.jsx("option",{value:"admin",children:"Admin"}),c.jsx("option",{value:"moderador",children:"Moderador"})]}),c.jsxs("select",{className:"px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-black",value:g,onChange:J=>y(J.target.value),children:[c.jsx("option",{value:"all",children:"Todos los estados"}),c.jsx("option",{value:"activo",children:"Activo"}),c.jsx("option",{value:"inactivo",children:"Inactivo"})]}),c.jsx("button",{onClick:ke,className:"bg-gradient-to-r from-green-700 to-green-800 text-white px-4 py-2 rounded-lg transition-all duration-200",children:"Actualizar"})]})}),t?c.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl p-12 text-center shadow-xl",children:[c.jsx(Bd,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"Cargando usuarios..."}),c.jsx("p",{className:"text-gray-500",children:"Por favor espera un momento"})]}):k.length===0?c.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl p-12 text-center shadow-xl",children:[c.jsx(Bd,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No se encontraron usuarios"}),c.jsx("p",{className:"text-gray-500",children:"Intenta cambiar los filtros de bsqueda"})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(J=>c.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl p-6 shadow-xl hover:shadow-2xl transition-all duration-300",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-700 to-green-800 rounded-full flex items-center justify-center text-white font-semibold",children:Pe(J.firstName,J.lastName)}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("h3",{className:"font-semibold text-gray-800",children:[J.firstName," ",J.lastName]}),c.jsx("p",{className:"text-sm text-gray-600",children:J.email})]})]}),c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold border ${J.estado==="activo"?"bg-green-100 text-green-800 border-green-200":"bg-red-100 text-red-800 border-red-200"}`,children:J.estado==="activo"?"Activo":"Inactivo"}),c.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-semibold border flex items-center gap-1 ${ge(J.rol)}`,children:[ue(J.rol),J.rol?.charAt(0).toUpperCase()+J.rol?.slice(1)]})]}),c.jsxs("div",{className:"space-y-2 mb-4 text-sm text-gray-600",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Creado:"})," "," ",J.creado?.toDate()?.toLocaleDateString()||"N/A"]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Mtodo:"})," ",J.metodo||"N/A"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>se(J.id,J.estado),className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${J.estado==="activo"?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:J.estado==="activo"?c.jsxs(c.Fragment,{children:[c.jsx(RA,{className:"w-4 h-4 inline mr-1"}),"Desactivar"]}):c.jsxs(c.Fragment,{children:[c.jsx(NA,{className:"w-4 h-4 inline mr-1"}),"Activar"]})}),c.jsx("button",{onClick:()=>j(J),className:"px-3 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-all duration-200",title:"Editar usuario",children:c.jsx(s_,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>de(J.id,J.email),className:"px-3 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-all duration-200",title:"Eliminar usuario",children:c.jsx(i_,{className:"w-4 h-4"})})]})]},J.id))}),x&&c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:c.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Crear Nuevo Usuario"}),c.jsx("button",{onClick:ae,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:V,children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("form",{onSubmit:U,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rol"}),c.jsxs("select",{name:"role",value:be.role,onChange:oe,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-800",required:!0,disabled:V,children:[c.jsx("option",{value:"usuario",children:"Usuario"}),c.jsx("option",{value:"moderador",children:"Moderador"}),c.jsx("option",{value:"admin",children:"Administrador"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre"}),c.jsxs("div",{className:"relative",children:[c.jsx(_a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),c.jsx("input",{type:"text",name:"firstName",value:be.firstName,onChange:oe,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-800",placeholder:"Nombre",required:!0,disabled:V})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Apellido"}),c.jsxs("div",{className:"relative",children:[c.jsx(_a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),c.jsx("input",{type:"text",name:"lastName",value:be.lastName,onChange:oe,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-800",placeholder:"Apellido",required:!0,disabled:V})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx(Ho,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),c.jsx("input",{type:"email",name:"email",value:be.email,onChange:oe,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-800",placeholder:"correo@ejemplo.com",required:!0,disabled:V})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),c.jsxs("div",{className:"relative",children:[c.jsx(wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),c.jsx("input",{type:Q?"text":"password",name:"password",value:be.password,onChange:oe,className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-800",placeholder:"Mnimo 6 caracteres",required:!0,minLength:"6",disabled:V}),c.jsx("button",{type:"button",onClick:()=>ie(!Q),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:V,children:Q?c.jsx(Aa,{className:"w-4 h-4"}):c.jsx(Ca,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar Contrasea"}),c.jsxs("div",{className:"relative",children:[c.jsx(wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),c.jsx("input",{type:ve?"text":"password",name:"confirmPassword",value:be.confirmPassword,onChange:oe,className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-800",placeholder:"Confirmar contrasea",required:!0,disabled:V}),c.jsx("button",{type:"button",onClick:()=>ce(!ve),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:V,children:ve?c.jsx(Aa,{className:"w-4 h-4"}):c.jsx(Ca,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:ae,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",disabled:V,children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:V,className:"flex-1 px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:V?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creando..."]}):"Crear Usuario"})]})]})]})})}),N&&c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:c.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Editar Usuario"}),c.jsx("button",{onClick:he,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:B,children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("form",{onSubmit:it,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado"}),c.jsxs("select",{name:"estado",value:S.estado,onChange:F,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-800",required:!0,disabled:B,children:[c.jsx("option",{value:"activo",children:"Activo"}),c.jsx("option",{value:"inactivo",children:"Inactivo"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rol"}),c.jsxs("select",{name:"role",value:S.role,onChange:F,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-800",required:!0,disabled:B,children:[c.jsx("option",{value:"usuario",children:"Usuario"}),c.jsx("option",{value:"moderador",children:"Moderador"}),c.jsx("option",{value:"admin",children:"Administrador"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre"}),c.jsxs("div",{className:"relative",children:[c.jsx(_a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),c.jsx("input",{type:"text",name:"firstName",value:S.firstName,onChange:F,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-800",placeholder:"Nombre",required:!0,disabled:B})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Apellido"}),c.jsxs("div",{className:"relative",children:[c.jsx(_a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),c.jsx("input",{type:"text",name:"lastName",value:S.lastName,onChange:F,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-800",placeholder:"Apellido",required:!0,disabled:B})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx(Ho,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),c.jsx("input",{type:"email",name:"email",value:S.email,onChange:F,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-800",placeholder:"correo@ejemplo.com",required:!0,disabled:B})]})]}),c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:c.jsxs("p",{className:"text-sm text-blue-800",children:[c.jsx("strong",{children:"Nota:"}),' Por razones de seguridad, el cambio de contrasea debe ser realizado por el usuario mediante la opcin "Olvid mi contrasea" en el login.']})}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:he,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",disabled:B,children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:B,className:"flex-1 px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:B?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Actualizando..."]}):"Guardar Cambios"})]})]})]})})})]})})},Vx=()=>{const[n,e]=I.useState(!1),[t,i]=I.useState(""),[o,u]=I.useState(""),[h,p]=I.useState(!1),g=$c(),y=()=>{e(!n)},x=async O=>{if(O.preventDefault(),!t||!o)return Ne.fire("Error","Por favor completa todos los campos","error");p(!0);try{const V=t.toLowerCase(),B=(await pj(Ic,V,o)).user;(await Sp(wn(en,"usuarios",B.uid))).exists()||await jc(wn(en,"usuarios",B.uid),{uid:B.uid,email:V,estado:"activo",rol:"usuario",creado:new Date,metodo:"password"}),Ne.fire({title:"Bienvenido!",text:"Has iniciado sesin exitosamente",icon:"success",timer:1500,showConfirmButton:!1}),g("/dashboard")}catch(V){console.error("Error en login:",V);let G="Error al iniciar sesin";switch(V.code){case"auth/user-not-found":G="No existe una cuenta con este correo electrnico";break;case"auth/wrong-password":G="Contrasea incorrecta";break;case"auth/invalid-email":G="Correo electrnico invlido";break;case"auth/user-disabled":G="Esta cuenta ha sido deshabilitada";break;case"auth/too-many-requests":G="Demasiados intentos fallidos. Intenta ms tarde";break;case"auth/network-request-failed":G="Error de conexin. Verifica tu internet";break;case"auth/invalid-credential":G="Credenciales invlidas. Verifica tu email y contrasea";break;default:G=`Error: ${V.message}`}Ne.fire("Error",G,"error")}finally{p(!1)}},E=async()=>{p(!0);try{const V=(await _w(Ic,FD)).user;(await Sp(wn(en,"usuarios",V.uid))).exists()||await jc(wn(en,"usuarios",V.uid),{uid:V.uid,email:V.email,firstName:V.displayName?.split(" ")[0]||"",lastName:V.displayName?.split(" ").slice(1).join(" ")||"",photoURL:V.photoURL||"",estado:"activo",rol:"usuario",creado:new Date,metodo:"google"}),Ne.fire({title:"Bienvenido!",text:"Has iniciado sesin con Google exitosamente",icon:"success",timer:1500,showConfirmButton:!1}),g("/dashboard")}catch(O){console.error("Error en login con Google:",O);let V="Error al iniciar sesin con Google";switch(O.code){case"auth/popup-closed-by-user":V="Iniciado sesin cancelado";break;case"auth/popup-blocked":V="El popup fue bloqueado por el navegador";break;case"auth/cancelled-popup-request":V="Solicitud cancelada";break;case"auth/network-request-failed":V="Error de conexin. Verifica tu internet";break;default:V=`Error: ${O.message}`}O.code!=="auth/popup-closed-by-user"&&O.code!=="auth/cancelled-popup-request"&&Ne.fire("Error",V,"error")}finally{p(!1)}},N=async()=>{p(!0);try{const O=new pr,G=(await _w(Ic,O)).user;(await Sp(wn(en,"usuarios",G.uid))).exists()||await jc(wn(en,"usuarios",G.uid),{uid:G.uid,email:G.email,firstName:G.displayName?.split(" ")[0]||"",lastName:G.displayName?.split(" ").slice(1).join(" ")||"",photoURL:G.photoURL||"",estado:"activo",rol:"usuario",creado:new Date,metodo:"facebook"}),Ne.fire({title:"Bienvenido!",text:"Has iniciado sesin con Facebook exitosamente",icon:"success",timer:1500,showConfirmButton:!1}),g("/dashboard")}catch(O){console.error("Error en login con Facebook:",O);let V="Error al iniciar sesin con Facebook";switch(O.code){case"auth/popup-closed-by-user":V="Iniciado sesin cancelado";break;case"auth/popup-blocked":V="El popup fue bloqueado por el navegador";break;case"auth/account-exists-with-different-credential":V="Ya existe una cuenta con este correo usando otro mtodo";break;default:V=`Error: ${O.message}`}O.code!=="auth/popup-closed-by-user"&&Ne.fire("Error",V,"error")}finally{p(!1)}};return c.jsxs("div",{className:"fixed inset-0 bg-gradient-to-br from-purple-600 via-pink-500 to-orange-400 flex overflow-y-auto",children:[c.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[c.jsx("div",{className:"absolute top-20 left-20 w-20 h-20 bg-white/10 rounded-full blur-xl"}),c.jsx("div",{className:"absolute top-40 right-32 w-32 h-32 bg-white/5 rounded-full blur-2xl"}),c.jsx("div",{className:"absolute bottom-32 left-40 w-24 h-24 bg-white/10 rounded-full blur-xl"}),c.jsx("div",{className:"absolute bottom-20 right-20 w-16 h-16 bg-white/15 rounded-full blur-lg"})]}),c.jsxs("div",{className:"relative mx-auto w-full  flex bg-white/95 backdrop-blur-sm shadow-2xl overflow-hidden",children:[c.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-purple-600 to-pink-500 p-12 flex-col justify-center items-center relative",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-600/90 to-pink-500/90"}),c.jsxs("div",{className:"relative z-10 text-center",children:[c.jsx("div",{className:"w-48 h-48 mx-auto mb-8 relative",children:c.jsx("div",{className:"w-full h-full bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm",children:c.jsx("div",{className:"text-8xl",children:""})})}),c.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Learn Flow"}),c.jsx("p",{className:"text-white/90 text-lg mb-8",children:"Master English with AI-powered learning"}),c.jsxs("div",{className:"space-y-4 text-white/80",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx(t_,{className:"w-5 h-5"}),c.jsx("span",{children:"Interactive Lessons"})]}),c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx(r_,{className:"w-5 h-5"}),c.jsx("span",{children:"Personalized Progress"})]})]})]}),c.jsx("div",{className:"absolute top-20 left-10 w-6 h-6 bg-white/20 rounded-full animate-bounce",style:{animationDelay:"0s"}}),c.jsx("div",{className:"absolute top-32 right-16 w-4 h-4 bg-white/30 rounded-full animate-bounce",style:{animationDelay:"0.5s"}}),c.jsx("div",{className:"absolute bottom-32 left-16 w-8 h-8 bg-white/15 rounded-full animate-bounce",style:{animationDelay:"1s"}}),c.jsx("div",{className:"absolute bottom-20 right-10 w-5 h-5 bg-white/25 rounded-full animate-bounce",style:{animationDelay:"1.5s"}})]}),c.jsx("div",{className:"w-full lg:w-1/2 p-8 lg:p-12 flex flex-col justify-center",children:c.jsxs("div",{className:"max-w-md mx-auto w-full",children:[c.jsxs("div",{className:"lg:hidden text-center mb-8",children:[c.jsxs("div",{className:"inline-flex items-center gap-2 text-purple-600 mb-4",children:[c.jsx(kh,{className:"w-8 h-8"}),c.jsx("span",{className:"text-2xl font-bold",children:"Learn Flow"})]}),c.jsx("p",{className:"text-gray-600",children:"Master English with AI-powered learning"})]}),c.jsxs("form",{onSubmit:x,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx(Ho,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{type:"email",value:t,onChange:O=>i(O.target.value),className:"w-full pl-12 pr-4 py-3 border text-black border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white",placeholder:"Enter your email",required:!0,disabled:h})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{type:n?"text":"password",value:o,onChange:O=>u(O.target.value),className:"w-full pl-12 pr-12 py-3 border text-black border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white",placeholder:"Enter your password",required:!0,disabled:h}),c.jsx("button",{type:"button",onClick:y,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",disabled:h,children:n?c.jsx(Aa,{className:"w-5 h-5"}):c.jsx(Ca,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500",disabled:h}),c.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Remember me"})]}),c.jsx(Zd,{to:"/ForgotPassword",className:"text-sm text-purple-600 hover:text-purple-700 transition-colors",children:"Forgot password?"})]}),c.jsx("button",{type:"submit",disabled:h,className:"w-full bg-gradient-to-r from-purple-600 to-pink-500 text-white py-3 rounded-xl font-semibold text-lg hover:from-purple-700 hover:to-pink-600 transform hover:scale-[1.02] transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:h?c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Signing In..."]}):"Sign In"})]}),c.jsxs("div",{className:"mt-8",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-gray-300"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),c.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-4",children:[c.jsxs("button",{onClick:E,disabled:h,className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[c.jsx("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),c.jsx("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),c.jsx("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),c.jsx("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),c.jsx("span",{className:"ml-2 text-gray-700",children:"Google"})]}),c.jsxs("button",{onClick:N,disabled:h,className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx("svg",{className:"w-5 h-5",fill:"#1877f2",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),c.jsx("span",{className:"ml-2 text-gray-700",children:"Facebook"})]})]})]}),c.jsxs("div",{className:"mt-8 text-center",children:[c.jsxs("span",{className:"text-gray-600",children:["Don't have an account?"," "]}),c.jsx(Zd,{to:"/register",className:"text-purple-600 hover:text-purple-700 font-semibold transition-colors",children:"Register"})]})]})})]})]})},L6=()=>{const[n,e]=I.useState(""),[t,i]=I.useState(!1),[o,u]=I.useState(!1),h=async g=>{if(g.preventDefault(),!n.trim()){alert("Por favor ingresa tu correo electrnico");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)){alert("Por favor ingresa un correo electrnico vlido");return}i(!0);try{await new Promise(x=>setTimeout(x,1500)),u(!0),console.log("Email de recuperacin enviado a:",n)}catch(x){console.error("Error:",x),x.code==="auth/user-not-found"?alert("No existe una cuenta con este correo electrnico"):x.code==="auth/invalid-email"?alert("Correo electrnico invlido"):alert("Error al enviar el correo. Por favor intenta de nuevo.")}finally{i(!1)}},p=()=>{window.history.back()};return o?c.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-blue-600 via-purple-500 to-pink-500 flex items-center justify-center p-6",children:c.jsx("div",{className:"bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx(Ho,{className:"w-10 h-10 text-green-600"})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Correo Enviado!"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Hemos enviado un enlace de recuperacin a:"}),c.jsx("p",{className:"text-lg font-semibold text-gray-800 mb-6",children:n}),c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 text-left",children:[c.jsx("p",{className:"text-sm text-gray-700 mb-2",children:c.jsx("strong",{children:"Instrucciones:"})}),c.jsxs("ol",{className:"text-sm text-gray-600 space-y-1 list-decimal list-inside",children:[c.jsx("li",{children:"Revisa tu bandeja de entrada"}),c.jsx("li",{children:"Haz clic en el enlace del correo"}),c.jsx("li",{children:"Crea tu nueva contrasea"}),c.jsx("li",{children:"Inicia sesin con tu nueva contrasea"})]})]}),c.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"No recibes el correo? Revisa tu carpeta de spam o correo no deseado."}),c.jsx("button",{onClick:p,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 text-white py-3 rounded-xl font-semibold hover:from-blue-600 hover:to-purple-600 transition-all duration-200 shadow-lg",children:"Volver al inicio"})]})})}):c.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-blue-600 via-purple-500 to-pink-500 flex items-center justify-center p-6",children:c.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 w-2/3 ",children:[c.jsxs("button",{onClick:p,className:"flex items-center gap-2 text-white hover:text-gray-800 mb-6 transition-colors",children:[c.jsx(pg,{className:"w-5 h-5"}),c.jsx("span",{children:"Volver"})]}),c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(wr,{className:"w-10 h-10 text-blue-600"})}),c.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Olvidaste tu contrasea?"}),c.jsx("p",{className:"text-gray-600",children:"No te preocupes, te enviaremos un enlace para recuperarla"})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),c.jsxs("div",{className:"relative",children:[c.jsx(Ho,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-black w-5 h-5"}),c.jsx("input",{type:"email",value:n,onChange:g=>e(g.target.value),placeholder:"tucorreo@ejemplo.com",className:"w-full pl-11 text-black pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",disabled:t,autoFocus:!0})]})]}),c.jsx("button",{onClick:h,disabled:t,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 text-white py-3 rounded-xl font-semibold hover:from-blue-600 hover:to-purple-600 transition-all duration-200 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:t?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Enviando..."]}):"Enviar enlace de recuperacin"}),c.jsx("div",{className:"text-center",children:c.jsx("button",{onClick:p,className:"text-blue-600 hover:text-blue-700 font-medium transition-colors",children:"Regresar al inicio de sesin"})})]}),c.jsx("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:c.jsx("p",{className:"text-xs text-gray-600 text-center",children:"Por seguridad, el enlace de recuperacin expirar en 1 hora."})})]})})},U6=()=>{const[n,e]=I.useState(""),[t,i]=I.useState(""),[o,u]=I.useState(!1),[h,p]=I.useState(!1),[g,y]=I.useState(!1),[x,E]=I.useState(!1),[N,O]=I.useState(""),[V,G]=I.useState(!0),[B,ee]=I.useState(!1),[Q,ie]=I.useState({length:!1,uppercase:!1,lowercase:!1,number:!1});I.useEffect(()=>{const S=new URLSearchParams(window.location.search).get("oobCode");S?(O(S),ve()):(G(!1),ee(!1))},[]),I.useEffect(()=>{ie({length:n.length>=8,uppercase:/[A-Z]/.test(n),lowercase:/[a-z]/.test(n),number:/[0-9]/.test(n)})},[n]);const ve=async A=>{try{await new Promise(S=>setTimeout(S,1e3)),ee(!0)}catch(S){console.error("Error validando cdigo:",S),ee(!1)}finally{G(!1)}},ce=async A=>{if(A.preventDefault(),!n.trim()||!t.trim()){alert("Por favor completa todos los campos");return}if(n.length<8){alert("La contrasea debe tener al menos 8 caracteres");return}if(n!==t){alert("Las contraseas no coinciden");return}if(!Object.values(Q).every(C=>C)){alert("La contrasea debe cumplir con todos los requisitos de seguridad");return}y(!0);try{await new Promise(C=>setTimeout(C,1500)),E(!0),console.log("Contrasea actualizada exitosamente")}catch(C){console.error("Error:",C),C.code==="auth/expired-action-code"?alert("El enlace ha expirado. Solicita uno nuevo."):C.code==="auth/invalid-action-code"?alert("El enlace es invlido. Solicita uno nuevo."):C.code==="auth/weak-password"?alert("La contrasea es muy dbil. Usa una contrasea ms segura."):alert("Error al restablecer la contrasea. Intenta de nuevo.")}finally{y(!1)}},be=()=>{window.location.href="/"};return V?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-600 via-purple-500 to-pink-500 flex items-center justify-center p-6",children:c.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-indigo-600 mx-auto mb-4"}),c.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Validando enlace..."}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Por favor espera"})]})}):B?x?c.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-indigo-600 via-purple-500 to-pink-500 flex items-center justify-center p-6",children:c.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx(xa,{className:"w-10 h-10 text-green-600"})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Contrasea Actualizada!"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Tu contrasea ha sido restablecida exitosamente. Ahora puedes iniciar sesin con tu nueva contrasea."}),c.jsx("button",{onClick:be,className:"w-full bg-gradient-to-r from-indigo-500 to-purple-500 text-white py-3 rounded-xl font-semibold hover:from-indigo-600 hover:to-purple-600 transition-all duration-200 shadow-lg",children:"Ir a Iniciar Sesin"})]})}):c.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-indigo-600 via-purple-500 to-pink-500 flex items-center justify-center p-6",children:c.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("div",{className:"w-20 h-20 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(n_,{className:"w-10 h-10 text-indigo-600"})}),c.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Restablecer Contrasea"}),c.jsx("p",{className:"text-gray-600",children:"Crea una contrasea nueva y segura"})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nueva Contrasea"}),c.jsxs("div",{className:"relative",children:[c.jsx(wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{type:o?"text":"password",value:n,onChange:A=>e(A.target.value),placeholder:"Mnimo 8 caracteres",className:"w-full pl-11 text-black pr-11 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",disabled:g}),c.jsx("button",{type:"button",onClick:()=>u(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o?c.jsx(Aa,{className:"w-5 h-5"}):c.jsx(Ca,{className:"w-5 h-5"})})]})]}),n&&c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[c.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Requisitos de seguridad:"}),c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:`flex items-center gap-2 text-sm ${Q.length?"text-green-600":"text-gray-500"}`,children:[c.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center ${Q.length?"bg-green-100":"bg-gray-200"}`,children:Q.length&&c.jsx(xa,{className:"w-3 h-3"})}),"Mnimo 8 caracteres"]}),c.jsxs("div",{className:`flex items-center gap-2 text-sm ${Q.uppercase?"text-green-600":"text-gray-500"}`,children:[c.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center ${Q.uppercase?"bg-green-100":"bg-gray-200"}`,children:Q.uppercase&&c.jsx(xa,{className:"w-3 h-3"})}),"Una letra mayscula"]}),c.jsxs("div",{className:`flex items-center gap-2 text-sm ${Q.lowercase?"text-green-600":"text-gray-500"}`,children:[c.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center ${Q.lowercase?"bg-green-100":"bg-gray-200"}`,children:Q.lowercase&&c.jsx(xa,{className:"w-3 h-3"})}),"Una letra minscula"]}),c.jsxs("div",{className:`flex items-center gap-2 text-sm ${Q.number?"text-green-600":"text-gray-500"}`,children:[c.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center ${Q.number?"bg-green-100":"bg-gray-200"}`,children:Q.number&&c.jsx(xa,{className:"w-3 h-3"})}),"Un nmero"]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar Contrasea"}),c.jsxs("div",{className:"relative",children:[c.jsx(wr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{type:h?"text":"password",value:t,onChange:A=>i(A.target.value),placeholder:"Repite tu contrasea",className:"w-full text-black pl-11 pr-11 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",disabled:g}),c.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:h?c.jsx(Aa,{className:"w-5 h-5"}):c.jsx(Ca,{className:"w-5 h-5"})})]}),t&&n!==t&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Las contraseas no coinciden"})]}),c.jsx("button",{onClick:ce,disabled:g||n!==t||!Object.values(Q).every(A=>A),className:"w-full bg-gradient-to-r from-indigo-500 to-purple-500 text-black py-3 rounded-xl font-semibold hover:from-indigo-600 hover:to-purple-600 transition-all duration-200 shadow-lg  disabled:cursor-not-allowed flex items-center justify-center",children:g?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Actualizando..."]}):"Restablecer Contrasea"}),c.jsx("div",{className:"text-center",children:c.jsx("button",{onClick:be,className:"text-indigo-600 hover:text-indigo-700 font-medium transition-colors",children:"Volver al inicio de sesin"})})]})]})}):c.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-indigo-600 via-purple-500 to-pink-500 flex items-center justify-center p-6",children:c.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx(wr,{className:"w-10 h-10 text-red-600"})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Enlace Invlido o Expirado"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"El enlace de recuperacin no es vlido o ya ha sido utilizado."}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{onClick:()=>window.location.href="/ForgotPassword",className:"w-full bg-gradient-to-r from-indigo-500 to-purple-500 text-white py-3 rounded-xl font-semibold hover:from-indigo-600 hover:to-purple-600 transition-all duration-200 shadow-lg",children:"Solicitar nuevo enlace"}),c.jsx("button",{onClick:be,className:"w-full bg-gray-100 text-gray-700 py-3 rounded-xl font-semibold hover:bg-gray-200 transition-all duration-200",children:"Volver al inicio"})]})]})})};function B6(){return c.jsx(NS,{children:c.jsxs(nS,{children:[c.jsx(bn,{path:"/",element:c.jsx(Vx,{})}),c.jsx(bn,{path:"/useEffect",element:c.jsx(PS,{})}),c.jsx(bn,{path:"/useState",element:c.jsx(hN,{})}),c.jsx(bn,{path:"/useNavigate",element:c.jsx(MS,{})}),c.jsx(bn,{path:"/useContext",element:c.jsx($S,{})}),c.jsx(bn,{path:"/useReducer",element:c.jsx(XS,{})}),c.jsx(bn,{path:"/useCallback",element:c.jsx(JS,{})}),c.jsx(bn,{path:"/Register",element:c.jsx(O6,{})}),c.jsx(bn,{path:"/Lessons",element:c.jsx(M6,{})}),c.jsx(bn,{path:"/Dashboard",element:c.jsx(P6,{})}),c.jsx(bn,{path:"/Users",element:c.jsx(V6,{})}),c.jsx(bn,{path:"/Login",element:c.jsx(Vx,{})}),c.jsx(bn,{path:"/ForgotPassword",element:c.jsx(L6,{})}),c.jsx(bn,{path:"/ResetPassword",element:c.jsx(U6,{})})]})})}dN.createRoot(document.getElementById("root")).render(c.jsx(I.StrictMode,{children:c.jsx(B6,{})}));
