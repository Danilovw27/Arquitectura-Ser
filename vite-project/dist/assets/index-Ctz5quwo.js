(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var Tp={exports:{}},Cc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jb;function LN(){if(Jb)return Cc;Jb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:n,type:i,key:h,ref:o!==void 0?o:null,props:u}}return Cc.Fragment=e,Cc.jsx=t,Cc.jsxs=t,Cc}var ew;function UN(){return ew||(ew=1,Tp.exports=LN()),Tp.exports}var l=UN(),Np={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tw;function BN(){if(tw)return Oe;tw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),_=Symbol.iterator;function S(k){return k===null||typeof k!="object"?null:(k=_&&k[_]||k["@@iterator"],typeof k=="function"?k:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,K={};function L(k,ae,pe){this.props=k,this.context=ae,this.refs=K,this.updater=pe||M}L.prototype.isReactComponent={},L.prototype.setState=function(k,ae){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,ae,"setState")},L.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function Z(){}Z.prototype=L.prototype;function z(k,ae,pe){this.props=k,this.context=ae,this.refs=K,this.updater=pe||M}var F=z.prototype=new Z;F.constructor=z,D(F,L.prototype),F.isPureReactComponent=!0;var oe=Array.isArray,se={H:null,A:null,T:null,S:null,V:null},ue=Object.prototype.hasOwnProperty;function N(k,ae,pe,he,be,Me){return pe=Me.ref,{$$typeof:n,type:k,key:ae,ref:pe!==void 0?pe:null,props:Me}}function A(k,ae){return N(k.type,ae,void 0,void 0,void 0,k.props)}function C(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function O(k){var ae={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(pe){return ae[pe]})}var P=/\/+/g;function B(k,ae){return typeof k=="object"&&k!==null&&k.key!=null?O(""+k.key):ae.toString(36)}function R(){}function at(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(R,R):(k.status="pending",k.then(function(ae){k.status==="pending"&&(k.status="fulfilled",k.value=ae)},function(ae){k.status==="pending"&&(k.status="rejected",k.reason=ae)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function ce(k,ae,pe,he,be){var Me=typeof k;(Me==="undefined"||Me==="boolean")&&(k=null);var ne=!1;if(k===null)ne=!0;else switch(Me){case"bigint":case"string":case"number":ne=!0;break;case"object":switch(k.$$typeof){case n:case e:ne=!0;break;case w:return ne=k._init,ce(ne(k._payload),ae,pe,he,be)}}if(ne)return be=be(k),ne=he===""?"."+B(k,0):he,oe(be)?(pe="",ne!=null&&(pe=ne.replace(P,"$&/")+"/"),ce(be,ae,pe,"",function($e){return $e})):be!=null&&(C(be)&&(be=A(be,pe+(be.key==null||k&&k.key===be.key?"":(""+be.key).replace(P,"$&/")+"/")+ne)),ae.push(be)),1;ne=0;var De=he===""?".":he+":";if(oe(k))for(var _e=0;_e<k.length;_e++)he=k[_e],Me=De+B(he,_e),ne+=ce(he,ae,pe,Me,be);else if(_e=S(k),typeof _e=="function")for(k=_e.call(k),_e=0;!(he=k.next()).done;)he=he.value,Me=De+B(he,_e++),ne+=ce(he,ae,pe,Me,be);else if(Me==="object"){if(typeof k.then=="function")return ce(at(k),ae,pe,he,be);throw ae=String(k),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return ne}function G(k,ae,pe){if(k==null)return k;var he=[],be=0;return ce(k,he,"","",function(Me){return ae.call(pe,Me,be++)}),he}function le(k){if(k._status===-1){var ae=k._result;ae=ae(),ae.then(function(pe){(k._status===0||k._status===-1)&&(k._status=1,k._result=pe)},function(pe){(k._status===0||k._status===-1)&&(k._status=2,k._result=pe)}),k._status===-1&&(k._status=0,k._result=ae)}if(k._status===1)return k._result.default;throw k._result}var ge=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function ke(){}return Oe.Children={map:G,forEach:function(k,ae,pe){G(k,function(){ae.apply(this,arguments)},pe)},count:function(k){var ae=0;return G(k,function(){ae++}),ae},toArray:function(k){return G(k,function(ae){return ae})||[]},only:function(k){if(!C(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Oe.Component=L,Oe.Fragment=t,Oe.Profiler=o,Oe.PureComponent=z,Oe.StrictMode=i,Oe.Suspense=g,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(k){return se.H.useMemoCache(k)}},Oe.cache=function(k){return function(){return k.apply(null,arguments)}},Oe.cloneElement=function(k,ae,pe){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var he=D({},k.props),be=k.key,Me=void 0;if(ae!=null)for(ne in ae.ref!==void 0&&(Me=void 0),ae.key!==void 0&&(be=""+ae.key),ae)!ue.call(ae,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&ae.ref===void 0||(he[ne]=ae[ne]);var ne=arguments.length-2;if(ne===1)he.children=pe;else if(1<ne){for(var De=Array(ne),_e=0;_e<ne;_e++)De[_e]=arguments[_e+2];he.children=De}return N(k.type,be,void 0,void 0,Me,he)},Oe.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Oe.createElement=function(k,ae,pe){var he,be={},Me=null;if(ae!=null)for(he in ae.key!==void 0&&(Me=""+ae.key),ae)ue.call(ae,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(be[he]=ae[he]);var ne=arguments.length-2;if(ne===1)be.children=pe;else if(1<ne){for(var De=Array(ne),_e=0;_e<ne;_e++)De[_e]=arguments[_e+2];be.children=De}if(k&&k.defaultProps)for(he in ne=k.defaultProps,ne)be[he]===void 0&&(be[he]=ne[he]);return N(k,Me,void 0,void 0,null,be)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(k){return{$$typeof:p,render:k}},Oe.isValidElement=C,Oe.lazy=function(k){return{$$typeof:w,_payload:{_status:-1,_result:k},_init:le}},Oe.memo=function(k,ae){return{$$typeof:y,type:k,compare:ae===void 0?null:ae}},Oe.startTransition=function(k){var ae=se.T,pe={};se.T=pe;try{var he=k(),be=se.S;be!==null&&be(pe,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(ke,ge)}catch(Me){ge(Me)}finally{se.T=ae}},Oe.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},Oe.use=function(k){return se.H.use(k)},Oe.useActionState=function(k,ae,pe){return se.H.useActionState(k,ae,pe)},Oe.useCallback=function(k,ae){return se.H.useCallback(k,ae)},Oe.useContext=function(k){return se.H.useContext(k)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(k,ae){return se.H.useDeferredValue(k,ae)},Oe.useEffect=function(k,ae,pe){var he=se.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return he.useEffect(k,ae)},Oe.useId=function(){return se.H.useId()},Oe.useImperativeHandle=function(k,ae,pe){return se.H.useImperativeHandle(k,ae,pe)},Oe.useInsertionEffect=function(k,ae){return se.H.useInsertionEffect(k,ae)},Oe.useLayoutEffect=function(k,ae){return se.H.useLayoutEffect(k,ae)},Oe.useMemo=function(k,ae){return se.H.useMemo(k,ae)},Oe.useOptimistic=function(k,ae){return se.H.useOptimistic(k,ae)},Oe.useReducer=function(k,ae,pe){return se.H.useReducer(k,ae,pe)},Oe.useRef=function(k){return se.H.useRef(k)},Oe.useState=function(k){return se.H.useState(k)},Oe.useSyncExternalStore=function(k,ae,pe){return se.H.useSyncExternalStore(k,ae,pe)},Oe.useTransition=function(){return se.H.useTransition()},Oe.version="19.1.1",Oe}var nw;function Ng(){return nw||(nw=1,Np.exports=BN()),Np.exports}var I=Ng(),Sp={exports:{}},jc={},Ap={exports:{}},Cp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sw;function zN(){return sw||(sw=1,(function(n){function e(G,le){var ge=G.length;G.push(le);e:for(;0<ge;){var ke=ge-1>>>1,k=G[ke];if(0<o(k,le))G[ke]=le,G[ge]=k,ge=ke;else break e}}function t(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var le=G[0],ge=G.pop();if(ge!==le){G[0]=ge;e:for(var ke=0,k=G.length,ae=k>>>1;ke<ae;){var pe=2*(ke+1)-1,he=G[pe],be=pe+1,Me=G[be];if(0>o(he,ge))be<k&&0>o(Me,he)?(G[ke]=Me,G[be]=ge,ke=be):(G[ke]=he,G[pe]=ge,ke=pe);else if(be<k&&0>o(Me,ge))G[ke]=Me,G[be]=ge,ke=be;else break e}}return le}function o(G,le){var ge=G.sortIndex-le.sortIndex;return ge!==0?ge:G.id-le.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var h=Date,p=h.now();n.unstable_now=function(){return h.now()-p}}var g=[],y=[],w=1,_=null,S=3,M=!1,D=!1,K=!1,L=!1,Z=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function oe(G){for(var le=t(y);le!==null;){if(le.callback===null)i(y);else if(le.startTime<=G)i(y),le.sortIndex=le.expirationTime,e(g,le);else break;le=t(y)}}function se(G){if(K=!1,oe(G),!D)if(t(g)!==null)D=!0,ue||(ue=!0,B());else{var le=t(y);le!==null&&ce(se,le.startTime-G)}}var ue=!1,N=-1,A=5,C=-1;function O(){return L?!0:!(n.unstable_now()-C<A)}function P(){if(L=!1,ue){var G=n.unstable_now();C=G;var le=!0;try{e:{D=!1,K&&(K=!1,z(N),N=-1),M=!0;var ge=S;try{t:{for(oe(G),_=t(g);_!==null&&!(_.expirationTime>G&&O());){var ke=_.callback;if(typeof ke=="function"){_.callback=null,S=_.priorityLevel;var k=ke(_.expirationTime<=G);if(G=n.unstable_now(),typeof k=="function"){_.callback=k,oe(G),le=!0;break t}_===t(g)&&i(g),oe(G)}else i(g);_=t(g)}if(_!==null)le=!0;else{var ae=t(y);ae!==null&&ce(se,ae.startTime-G),le=!1}}break e}finally{_=null,S=ge,M=!1}le=void 0}}finally{le?B():ue=!1}}}var B;if(typeof F=="function")B=function(){F(P)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,at=R.port2;R.port1.onmessage=P,B=function(){at.postMessage(null)}}else B=function(){Z(P,0)};function ce(G,le){N=Z(function(){G(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(G){switch(S){case 1:case 2:case 3:var le=3;break;default:le=S}var ge=S;S=le;try{return G()}finally{S=ge}},n.unstable_requestPaint=function(){L=!0},n.unstable_runWithPriority=function(G,le){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ge=S;S=G;try{return le()}finally{S=ge}},n.unstable_scheduleCallback=function(G,le,ge){var ke=n.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?ke+ge:ke):ge=ke,G){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ge+k,G={id:w++,callback:le,priorityLevel:G,startTime:ge,expirationTime:k,sortIndex:-1},ge>ke?(G.sortIndex=ge,e(y,G),t(g)===null&&G===t(y)&&(K?(z(N),N=-1):K=!0,ce(se,ge-ke))):(G.sortIndex=k,e(g,G),D||M||(D=!0,ue||(ue=!0,B()))),G},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(G){var le=S;return function(){var ge=S;S=le;try{return G.apply(this,arguments)}finally{S=ge}}}})(Cp)),Cp}var rw;function qN(){return rw||(rw=1,Ap.exports=zN()),Ap.exports}var jp={exports:{}},un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iw;function HN(){if(iw)return un;iw=1;var n=Ng();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)y+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,w){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:g,containerInfo:y,implementation:w}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,un.createPortal=function(g,y){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,w)},un.flushSync=function(g){var y=h.T,w=i.p;try{if(h.T=null,i.p=2,g)return g()}finally{h.T=y,i.p=w,i.d.f()}},un.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(g,y))},un.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},un.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var w=y.as,_=p(w,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,M=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;w==="style"?i.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:M}):w==="script"&&i.d.X(g,{crossOrigin:_,integrity:S,fetchPriority:M,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},un.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var w=p(y.as,y.crossOrigin);i.d.M(g,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(g)},un.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var w=y.as,_=p(w,y.crossOrigin);i.d.L(g,w,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},un.preloadModule=function(g,y){if(typeof g=="string")if(y){var w=p(y.as,y.crossOrigin);i.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(g)},un.requestFormReset=function(g){i.d.r(g)},un.unstable_batchedUpdates=function(g,y){return g(y)},un.useFormState=function(g,y,w){return h.H.useFormState(g,y,w)},un.useFormStatus=function(){return h.H.useHostTransitionStatus()},un.version="19.1.1",un}var aw;function FN(){if(aw)return jp.exports;aw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),jp.exports=HN(),jp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ow;function $N(){if(ow)return jc;ow=1;var n=qN(),e=Ng(),t=FN();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function u(s){var r=s,a=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(a=r.return),s=r.return;while(s)}return r.tag===3?a:null}function h(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function p(s){if(u(s)!==s)throw Error(i(188))}function g(s){var r=s.alternate;if(!r){if(r=u(s),r===null)throw Error(i(188));return r!==s?null:s}for(var a=s,c=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return p(f),s;if(m===c)return p(f),r;m=m.sibling}throw Error(i(188))}if(a.return!==c.return)a=f,c=m;else{for(var x=!1,E=f.child;E;){if(E===a){x=!0,a=f,c=m;break}if(E===c){x=!0,c=f,a=m;break}E=E.sibling}if(!x){for(E=m.child;E;){if(E===a){x=!0,a=m,c=f;break}if(E===c){x=!0,c=m,a=f;break}E=E.sibling}if(!x)throw Error(i(189))}}if(a.alternate!==c)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?s:r}function y(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=y(s),r!==null)return r;s=s.sibling}return null}var w=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),F=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function B(s){return s===null||typeof s!="object"?null:(s=P&&s[P]||s["@@iterator"],typeof s=="function"?s:null)}var R=Symbol.for("react.client.reference");function at(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===R?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case L:return"Profiler";case K:return"StrictMode";case se:return"Suspense";case ue:return"SuspenseList";case C:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case M:return"Portal";case F:return(s.displayName||"Context")+".Provider";case z:return(s._context.displayName||"Context")+".Consumer";case oe:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case N:return r=s.displayName||null,r!==null?r:at(s.type)||"Memo";case A:r=s._payload,s=s._init;try{return at(s(r))}catch{}}return null}var ce=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},ke=[],k=-1;function ae(s){return{current:s}}function pe(s){0>k||(s.current=ke[k],ke[k]=null,k--)}function he(s,r){k++,ke[k]=s.current,s.current=r}var be=ae(null),Me=ae(null),ne=ae(null),De=ae(null);function _e(s,r){switch(he(ne,r),he(Me,s),he(be,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?Ab(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=Ab(r),s=Cb(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}pe(be),he(be,s)}function $e(){pe(be),pe(Me),pe(ne)}function Rt(s){s.memoizedState!==null&&he(De,s);var r=be.current,a=Cb(r,s.type);r!==a&&(he(Me,s),he(be,a))}function Nn(s){Me.current===s&&(pe(be),pe(Me)),De.current===s&&(pe(De),Ec._currentValue=ge)}var Sn=Object.prototype.hasOwnProperty,It=n.unstable_scheduleCallback,yn=n.unstable_cancelCallback,Qn=n.unstable_shouldYield,Ki=n.unstable_requestPaint,An=n.unstable_now,Tu=n.unstable_getCurrentPriorityLevel,Bt=n.unstable_ImmediatePriority,Gt=n.unstable_UserBlockingPriority,tr=n.unstable_NormalPriority,Sf=n.unstable_LowPriority,Tl=n.unstable_IdlePriority,Af=n.log,Yi=n.unstable_setDisableYieldValue,Br=null,on=null;function Xn(s){if(typeof Af=="function"&&Yi(s),on&&typeof on.setStrictMode=="function")try{on.setStrictMode(Br,s)}catch{}}var vn=Math.clz32?Math.clz32:Su,Cf=Math.log,Nu=Math.LN2;function Su(s){return s>>>=0,s===0?32:31-(Cf(s)/Nu|0)|0}var Is=256,zr=4194304;function fs(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Wn(s,r,a){var c=s.pendingLanes;if(c===0)return 0;var f=0,m=s.suspendedLanes,x=s.pingedLanes;s=s.warmLanes;var E=c&134217727;return E!==0?(c=E&~m,c!==0?f=fs(c):(x&=E,x!==0?f=fs(x):a||(a=E&~s,a!==0&&(f=fs(a))))):(E=c&~m,E!==0?f=fs(E):x!==0?f=fs(x):a||(a=c&~s,a!==0&&(f=fs(a)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,a=r&-r,m>=a||m===32&&(a&4194048)!==0)?r:f}function qr(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Xa(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nl(){var s=Is;return Is<<=1,(Is&4194048)===0&&(Is=256),s}function Hr(){var s=zr;return zr<<=1,(zr&62914560)===0&&(zr=4194304),s}function Wa(s){for(var r=[],a=0;31>a;a++)r.push(s);return r}function xt(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Au(s,r,a,c,f,m){var x=s.pendingLanes;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=a,s.entangledLanes&=a,s.errorRecoveryDisabledLanes&=a,s.shellSuspendCounter=0;var E=s.entanglements,j=s.expirationTimes,$=s.hiddenUpdates;for(a=x&~a;0<a;){var J=31-vn(a),re=1<<J;E[J]=0,j[J]=-1;var Y=$[J];if(Y!==null)for($[J]=null,J=0;J<Y.length;J++){var Q=Y[J];Q!==null&&(Q.lane&=-536870913)}a&=~re}c!==0&&Fr(s,c,0),m!==0&&f===0&&s.tag!==0&&(s.suspendedLanes|=m&~(x&~r))}function Fr(s,r,a){s.pendingLanes|=r,s.suspendedLanes&=~r;var c=31-vn(r);s.entangledLanes|=r,s.entanglements[c]=s.entanglements[c]|1073741824|a&4194090}function $r(s,r){var a=s.entangledLanes|=r;for(s=s.entanglements;a;){var c=31-vn(a),f=1<<c;f&r|s[c]&r&&(s[c]|=r),a&=~f}}function Sl(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Al(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function nr(){var s=le.p;return s!==0?s:(s=window.event,s===void 0?32:Kb(s.type))}function jf(s,r){var a=le.p;try{return le.p=s,r()}finally{le.p=a}}var ks=Math.random().toString(36).slice(2),_t="__reactFiber$"+ks,tn="__reactProps$"+ks,sr="__reactContainer$"+ks,Qi="__reactEvents$"+ks,Xi="__reactListeners$"+ks,Rf="__reactHandles$"+ks,ms="__reactResources$"+ks,Gr="__reactMarker$"+ks;function Za(s){delete s[_t],delete s[tn],delete s[Qi],delete s[Xi],delete s[Rf]}function Ds(s){var r=s[_t];if(r)return r;for(var a=s.parentNode;a;){if(r=a[sr]||a[_t]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(s=kb(s);s!==null;){if(a=s[_t])return a;s=kb(s)}return r}s=a,a=s.parentNode}return null}function Os(s){if(s=s[_t]||s[sr]){var r=s.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return s}return null}function Kr(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Yr(s){var r=s[ms];return r||(r=s[ms]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Et(s){s[Gr]=!0}var Cu=new Set,Wi={};function Ps(s,r){Ms(s,r),Ms(s+"Capture",r)}function Ms(s,r){for(Wi[s]=r,s=0;s<r.length;s++)Cu.add(r[s])}var Zi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vs={},Ja={};function If(s){return Sn.call(Ja,s)?!0:Sn.call(Vs,s)?!1:Zi.test(s)?Ja[s]=!0:(Vs[s]=!0,!1)}function Ji(s,r,a){if(If(r))if(a===null)s.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+a)}}function ea(s,r,a){if(a===null)s.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+a)}}function Zn(s,r,a,c){if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttributeNS(r,a,""+c)}}var ta,eo;function rr(s){if(ta===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ta=r&&r[1]||"",eo=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ta+s+eo}var to=!1;function no(s,r){if(!s||to)return"";to=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(Q){var Y=Q}Reflect.construct(s,[],re)}else{try{re.call()}catch(Q){Y=Q}s.call(re.prototype)}}else{try{throw Error()}catch(Q){Y=Q}(re=s())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(Q){if(Q&&Y&&typeof Q.stack=="string")return[Q.stack,Y.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),x=m[0],E=m[1];if(x&&E){var j=x.split(`
`),$=E.split(`
`);for(f=c=0;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;for(;f<$.length&&!$[f].includes("DetermineComponentFrameRoot");)f++;if(c===j.length||f===$.length)for(c=j.length-1,f=$.length-1;1<=c&&0<=f&&j[c]!==$[f];)f--;for(;1<=c&&0<=f;c--,f--)if(j[c]!==$[f]){if(c!==1||f!==1)do if(c--,f--,0>f||j[c]!==$[f]){var J=`
`+j[c].replace(" at new "," at ");return s.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",s.displayName)),J}while(1<=c&&0<=f);break}}}finally{to=!1,Error.prepareStackTrace=a}return(a=s?s.displayName||s.name:"")?rr(a):""}function kf(s){switch(s.tag){case 26:case 27:case 5:return rr(s.type);case 16:return rr("Lazy");case 13:return rr("Suspense");case 19:return rr("SuspenseList");case 0:case 15:return no(s.type,!1);case 11:return no(s.type.render,!1);case 1:return no(s.type,!0);case 31:return rr("Activity");default:return""}}function ps(s){try{var r="";do r+=kf(s),s=s.return;while(s);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function mt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Qr(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function na(s){var r=Qr(s)?"checked":"value",a=Object.getOwnPropertyDescriptor(s.constructor.prototype,r),c=""+s[r];if(!s.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return f.call(this)},set:function(x){c=""+x,m.call(this,x)}}),Object.defineProperty(s,r,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(x){c=""+x},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function Xr(s){s._valueTracker||(s._valueTracker=na(s))}function tt(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var a=r.getValue(),c="";return s&&(c=Qr(s)?s.checked?"true":"false":s.value),s=c,s!==a?(r.setValue(s),!0):!1}function ir(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var sa=/[\n"\\]/g;function Kt(s){return s.replace(sa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Cl(s,r,a,c,f,m,x,E){s.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?s.type=x:s.removeAttribute("type"),r!=null?x==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+mt(r)):s.value!==""+mt(r)&&(s.value=""+mt(r)):x!=="submit"&&x!=="reset"||s.removeAttribute("value"),r!=null?Rl(s,x,mt(r)):a!=null?Rl(s,x,mt(a)):c!=null&&s.removeAttribute("value"),f==null&&m!=null&&(s.defaultChecked=!!m),f!=null&&(s.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?s.name=""+mt(E):s.removeAttribute("name")}function jl(s,r,a,c,f,m,x,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(s.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;a=a!=null?""+mt(a):"",r=r!=null?""+mt(r):a,E||r===s.value||(s.value=r),s.defaultValue=r}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=E?s.checked:!!c,s.defaultChecked=!!c,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.name=x)}function Rl(s,r,a){r==="number"&&ir(s.ownerDocument)===s||s.defaultValue===""+a||(s.defaultValue=""+a)}function Wr(s,r,a,c){if(s=s.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<s.length;a++)f=r.hasOwnProperty("$"+s[a].value),s[a].selected!==f&&(s[a].selected=f),f&&c&&(s[a].defaultSelected=!0)}else{for(a=""+mt(a),r=null,f=0;f<s.length;f++){if(s[f].value===a){s[f].selected=!0,c&&(s[f].defaultSelected=!0);return}r!==null||s[f].disabled||(r=s[f])}r!==null&&(r.selected=!0)}}function ju(s,r,a){if(r!=null&&(r=""+mt(r),r!==s.value&&(s.value=r),a==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=a!=null?""+mt(a):""}function Ru(s,r,a,c){if(r==null){if(c!=null){if(a!=null)throw Error(i(92));if(ce(c)){if(1<c.length)throw Error(i(93));c=c[0]}a=c}a==null&&(a=""),r=a}a=mt(r),s.defaultValue=a,c=s.textContent,c===a&&c!==""&&c!==null&&(s.value=c)}function Jn(s,r){if(r){var a=s.firstChild;if(a&&a===s.lastChild&&a.nodeType===3){a.nodeValue=r;return}}s.textContent=r}var ar=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Il(s,r,a){var c=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":c?s.setProperty(r,a):typeof a!="number"||a===0||ar.has(r)?r==="float"?s.cssFloat=a:s[r]=(""+a).trim():s[r]=a+"px"}function kl(s,r,a){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var f in r)c=r[f],r.hasOwnProperty(f)&&a[f]!==c&&Il(s,f,c)}else for(var m in r)r.hasOwnProperty(m)&&Il(s,m,r[m])}function so(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Iu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ku=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gs(s){return ku.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Dl=null;function Ol(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Zr=null,bn=null;function Du(s){var r=Os(s);if(r&&(s=r.stateNode)){var a=s[tn]||null;e:switch(s=r.stateNode,r.type){case"input":if(Cl(s,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=s;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Kt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var c=a[r];if(c!==s&&c.form===s.form){var f=c[tn]||null;if(!f)throw Error(i(90));Cl(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)c=a[r],c.form===s.form&&tt(c)}break e;case"textarea":ju(s,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Wr(s,!!a.multiple,r,!1)}}}var ra=!1;function ia(s,r,a){if(ra)return s(r,a);ra=!0;try{var c=s(r);return c}finally{if(ra=!1,(Zr!==null||bn!==null)&&(_d(),Zr&&(r=Zr,s=bn,bn=Zr=null,Du(r),s)))for(r=0;r<s.length;r++)Du(s[r])}}function Jr(s,r){var a=s.stateNode;if(a===null)return null;var c=a[tn]||null;if(c===null)return null;a=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(a&&typeof a!="function")throw Error(i(231,r,typeof a));return a}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),or=!1;if(wn)try{var ei={};Object.defineProperty(ei,"passive",{get:function(){or=!0}}),window.addEventListener("test",ei,ei),window.removeEventListener("test",ei,ei)}catch{or=!1}var es=null,ot=null,ro=null;function Ou(){if(ro)return ro;var s,r=ot,a=r.length,c,f="value"in es?es.value:es.textContent,m=f.length;for(s=0;s<a&&r[s]===f[s];s++);var x=a-s;for(c=1;c<=x&&r[a-c]===f[m-c];c++);return ro=f.slice(s,1<c?1-c:void 0)}function aa(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function oa(){return!0}function Pl(){return!1}function zt(s){function r(a,c,f,m,x){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=x,this.currentTarget=null;for(var E in s)s.hasOwnProperty(E)&&(a=s[E],this[E]=a?a(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?oa:Pl,this.isPropagationStopped=Pl,this}return w(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=oa)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=oa)},persist:function(){},isPersistent:oa}),r}var ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},la=zt(ln),ca=w({},ln,{view:0,detail:0}),ua=zt(ca),io,da,Ls,ha=w({},ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lo,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ls&&(Ls&&s.type==="mousemove"?(io=s.screenX-Ls.screenX,da=s.screenY-Ls.screenY):da=io=0,Ls=s),io)},movementY:function(s){return"movementY"in s?s.movementY:da}}),fa=zt(ha),Df=w({},ha,{dataTransfer:0}),Pu=zt(Df),ma=w({},ca,{relatedTarget:0}),ao=zt(ma),Mu=w({},ln,{animationName:0,elapsedTime:0,pseudoElement:0}),Ml=zt(Mu),Vl=w({},ln,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Vu=zt(Vl),oo=w({},ln,{data:0}),Ll=zt(oo),Lu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bu(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Uu[s])?!!r[s]:!1}function lo(){return Bu}var zu=w({},ca,{key:function(s){if(s.key){var r=Lu[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=aa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?lr[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lo,charCode:function(s){return s.type==="keypress"?aa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?aa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),co=zt(zu),xn=w({},ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ul=zt(xn),qu=w({},ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lo}),ti=zt(qu),d=w({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),v=zt(d),b=w({},ha,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),T=zt(b),H=w({},ln,{newState:0,oldState:0}),X=zt(H),de=[9,13,27,32],Re=wn&&"CompositionEvent"in window,ht=null;wn&&"documentMode"in document&&(ht=document.documentMode);var Ze=wn&&"TextEvent"in window&&!ht,Tt=wn&&(!Re||ht&&8<ht&&11>=ht),Pn=" ",Us=!1;function ys(s,r){switch(s){case"keyup":return de.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vs(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var bs=!1;function Bl(s,r){switch(s){case"compositionend":return vs(r);case"keypress":return r.which!==32?null:(Us=!0,Pn);case"textInput":return s=r.data,s===Pn&&Us?null:s;default:return null}}function dT(s,r){if(bs)return s==="compositionend"||!Re&&ys(s,r)?(s=Ou(),ro=ot=es=null,bs=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Tt&&r.locale!=="ko"?null:r.data;default:return null}}var hT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zy(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!hT[s.type]:r==="textarea"}function qy(s,r,a,c){Zr?bn?bn.push(c):bn=[c]:Zr=c,r=Cd(r,"onChange"),0<r.length&&(a=new la("onChange","change",null,a,c),s.push({event:a,listeners:r}))}var zl=null,ql=null;function fT(s){_b(s,0)}function Hu(s){var r=Kr(s);if(tt(r))return s}function Hy(s,r){if(s==="change")return r}var Fy=!1;if(wn){var Of;if(wn){var Pf="oninput"in document;if(!Pf){var $y=document.createElement("div");$y.setAttribute("oninput","return;"),Pf=typeof $y.oninput=="function"}Of=Pf}else Of=!1;Fy=Of&&(!document.documentMode||9<document.documentMode)}function Gy(){zl&&(zl.detachEvent("onpropertychange",Ky),ql=zl=null)}function Ky(s){if(s.propertyName==="value"&&Hu(ql)){var r=[];qy(r,ql,s,Ol(s)),ia(fT,r)}}function mT(s,r,a){s==="focusin"?(Gy(),zl=r,ql=a,zl.attachEvent("onpropertychange",Ky)):s==="focusout"&&Gy()}function pT(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Hu(ql)}function gT(s,r){if(s==="click")return Hu(r)}function yT(s,r){if(s==="input"||s==="change")return Hu(r)}function vT(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var Mn=typeof Object.is=="function"?Object.is:vT;function Hl(s,r){if(Mn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var a=Object.keys(s),c=Object.keys(r);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!Sn.call(r,f)||!Mn(s[f],r[f]))return!1}return!0}function Yy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Qy(s,r){var a=Yy(s);s=0;for(var c;a;){if(a.nodeType===3){if(c=s+a.textContent.length,s<=r&&c>=r)return{node:a,offset:r-s};s=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Yy(a)}}function Xy(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?Xy(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function Wy(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=ir(s.document);r instanceof s.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)s=r.contentWindow;else break;r=ir(s.document)}return r}function Mf(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var bT=wn&&"documentMode"in document&&11>=document.documentMode,uo=null,Vf=null,Fl=null,Lf=!1;function Zy(s,r,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Lf||uo==null||uo!==ir(c)||(c=uo,"selectionStart"in c&&Mf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Fl&&Hl(Fl,c)||(Fl=c,c=Cd(Vf,"onSelect"),0<c.length&&(r=new la("onSelect","select",null,r,a),s.push({event:r,listeners:c}),r.target=uo)))}function pa(s,r){var a={};return a[s.toLowerCase()]=r.toLowerCase(),a["Webkit"+s]="webkit"+r,a["Moz"+s]="moz"+r,a}var ho={animationend:pa("Animation","AnimationEnd"),animationiteration:pa("Animation","AnimationIteration"),animationstart:pa("Animation","AnimationStart"),transitionrun:pa("Transition","TransitionRun"),transitionstart:pa("Transition","TransitionStart"),transitioncancel:pa("Transition","TransitionCancel"),transitionend:pa("Transition","TransitionEnd")},Uf={},Jy={};wn&&(Jy=document.createElement("div").style,"AnimationEvent"in window||(delete ho.animationend.animation,delete ho.animationiteration.animation,delete ho.animationstart.animation),"TransitionEvent"in window||delete ho.transitionend.transition);function ga(s){if(Uf[s])return Uf[s];if(!ho[s])return s;var r=ho[s],a;for(a in r)if(r.hasOwnProperty(a)&&a in Jy)return Uf[s]=r[a];return s}var ev=ga("animationend"),tv=ga("animationiteration"),nv=ga("animationstart"),wT=ga("transitionrun"),xT=ga("transitionstart"),_T=ga("transitioncancel"),sv=ga("transitionend"),rv=new Map,Bf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bf.push("scrollEnd");function ws(s,r){rv.set(s,r),Ps(r,[s])}var iv=new WeakMap;function ts(s,r){if(typeof s=="object"&&s!==null){var a=iv.get(s);return a!==void 0?a:(r={value:s,source:r,stack:ps(r)},iv.set(s,r),r)}return{value:s,source:r,stack:ps(r)}}var ns=[],fo=0,zf=0;function Fu(){for(var s=fo,r=zf=fo=0;r<s;){var a=ns[r];ns[r++]=null;var c=ns[r];ns[r++]=null;var f=ns[r];ns[r++]=null;var m=ns[r];if(ns[r++]=null,c!==null&&f!==null){var x=c.pending;x===null?f.next=f:(f.next=x.next,x.next=f),c.pending=f}m!==0&&av(a,f,m)}}function $u(s,r,a,c){ns[fo++]=s,ns[fo++]=r,ns[fo++]=a,ns[fo++]=c,zf|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function qf(s,r,a,c){return $u(s,r,a,c),Gu(s)}function mo(s,r){return $u(s,null,null,r),Gu(s)}function av(s,r,a){s.lanes|=a;var c=s.alternate;c!==null&&(c.lanes|=a);for(var f=!1,m=s.return;m!==null;)m.childLanes|=a,c=m.alternate,c!==null&&(c.childLanes|=a),m.tag===22&&(s=m.stateNode,s===null||s._visibility&1||(f=!0)),s=m,m=m.return;return s.tag===3?(m=s.stateNode,f&&r!==null&&(f=31-vn(a),s=m.hiddenUpdates,c=s[f],c===null?s[f]=[r]:c.push(r),r.lane=a|536870912),m):null}function Gu(s){if(50<pc)throw pc=0,Ym=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var po={};function ET(s,r,a,c){this.tag=s,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(s,r,a,c){return new ET(s,r,a,c)}function Hf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function cr(s,r){var a=s.alternate;return a===null?(a=Vn(s.tag,r,s.key,s.mode),a.elementType=s.elementType,a.type=s.type,a.stateNode=s.stateNode,a.alternate=s,s.alternate=a):(a.pendingProps=r,a.type=s.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=s.flags&65011712,a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,r=s.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=s.sibling,a.index=s.index,a.ref=s.ref,a.refCleanup=s.refCleanup,a}function ov(s,r){s.flags&=65011714;var a=s.alternate;return a===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,r=a.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Ku(s,r,a,c,f,m){var x=0;if(c=s,typeof s=="function")Hf(s)&&(x=1);else if(typeof s=="string")x=NN(s,a,be.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case C:return s=Vn(31,a,r,f),s.elementType=C,s.lanes=m,s;case D:return ya(a.children,f,m,r);case K:x=8,f|=24;break;case L:return s=Vn(12,a,r,f|2),s.elementType=L,s.lanes=m,s;case se:return s=Vn(13,a,r,f),s.elementType=se,s.lanes=m,s;case ue:return s=Vn(19,a,r,f),s.elementType=ue,s.lanes=m,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Z:case F:x=10;break e;case z:x=9;break e;case oe:x=11;break e;case N:x=14;break e;case A:x=16,c=null;break e}x=29,a=Error(i(130,s===null?"null":typeof s,"")),c=null}return r=Vn(x,a,r,f),r.elementType=s,r.type=c,r.lanes=m,r}function ya(s,r,a,c){return s=Vn(7,s,c,r),s.lanes=a,s}function Ff(s,r,a){return s=Vn(6,s,null,r),s.lanes=a,s}function $f(s,r,a){return r=Vn(4,s.children!==null?s.children:[],s.key,r),r.lanes=a,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var go=[],yo=0,Yu=null,Qu=0,ss=[],rs=0,va=null,ur=1,dr="";function ba(s,r){go[yo++]=Qu,go[yo++]=Yu,Yu=s,Qu=r}function lv(s,r,a){ss[rs++]=ur,ss[rs++]=dr,ss[rs++]=va,va=s;var c=ur;s=dr;var f=32-vn(c)-1;c&=~(1<<f),a+=1;var m=32-vn(r)+f;if(30<m){var x=f-f%5;m=(c&(1<<x)-1).toString(32),c>>=x,f-=x,ur=1<<32-vn(r)+f|a<<f|c,dr=m+s}else ur=1<<m|a<<f|c,dr=s}function Gf(s){s.return!==null&&(ba(s,1),lv(s,1,0))}function Kf(s){for(;s===Yu;)Yu=go[--yo],go[yo]=null,Qu=go[--yo],go[yo]=null;for(;s===va;)va=ss[--rs],ss[rs]=null,dr=ss[--rs],ss[rs]=null,ur=ss[--rs],ss[rs]=null}var _n=null,vt=null,Ye=!1,wa=null,Bs=!1,Yf=Error(i(519));function xa(s){var r=Error(i(418,""));throw Kl(ts(r,s)),Yf}function cv(s){var r=s.stateNode,a=s.type,c=s.memoizedProps;switch(r[_t]=s,r[tn]=c,a){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(a=0;a<yc.length;a++)Ue(yc[a],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":Ue("invalid",r),jl(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Xr(r);break;case"select":Ue("invalid",r);break;case"textarea":Ue("invalid",r),Ru(r,c.value,c.defaultValue,c.children),Xr(r)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||c.suppressHydrationWarning===!0||Sb(r.textContent,a)?(c.popover!=null&&(Ue("beforetoggle",r),Ue("toggle",r)),c.onScroll!=null&&Ue("scroll",r),c.onScrollEnd!=null&&Ue("scrollend",r),c.onClick!=null&&(r.onclick=jd),r=!0):r=!1,r||xa(s)}function uv(s){for(_n=s.return;_n;)switch(_n.tag){case 5:case 13:Bs=!1;return;case 27:case 3:Bs=!0;return;default:_n=_n.return}}function $l(s){if(s!==_n)return!1;if(!Ye)return uv(s),Ye=!0,!1;var r=s.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=s.type,a=!(a!=="form"&&a!=="button")||up(s.type,s.memoizedProps)),a=!a),a&&vt&&xa(s),uv(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,r=0;s;){if(s.nodeType===8)if(a=s.data,a==="/$"){if(r===0){vt=_s(s.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;s=s.nextSibling}vt=null}}else r===27?(r=vt,yi(s.type)?(s=mp,mp=null,vt=s):vt=r):vt=_n?_s(s.stateNode.nextSibling):null;return!0}function Gl(){vt=_n=null,Ye=!1}function dv(){var s=wa;return s!==null&&(Rn===null?Rn=s:Rn.push.apply(Rn,s),wa=null),s}function Kl(s){wa===null?wa=[s]:wa.push(s)}var Qf=ae(null),_a=null,hr=null;function ni(s,r,a){he(Qf,r._currentValue),r._currentValue=a}function fr(s){s._currentValue=Qf.current,pe(Qf)}function Xf(s,r,a){for(;s!==null;){var c=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),s===a)break;s=s.return}}function Wf(s,r,a,c){var f=s.child;for(f!==null&&(f.return=s);f!==null;){var m=f.dependencies;if(m!==null){var x=f.child;m=m.firstContext;e:for(;m!==null;){var E=m;m=f;for(var j=0;j<r.length;j++)if(E.context===r[j]){m.lanes|=a,E=m.alternate,E!==null&&(E.lanes|=a),Xf(m.return,a,s),c||(x=null);break e}m=E.next}}else if(f.tag===18){if(x=f.return,x===null)throw Error(i(341));x.lanes|=a,m=x.alternate,m!==null&&(m.lanes|=a),Xf(x,a,s),x=null}else x=f.child;if(x!==null)x.return=f;else for(x=f;x!==null;){if(x===s){x=null;break}if(f=x.sibling,f!==null){f.return=x.return,x=f;break}x=x.return}f=x}}function Yl(s,r,a,c){s=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var x=f.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var E=f.type;Mn(f.pendingProps.value,x.value)||(s!==null?s.push(E):s=[E])}}else if(f===De.current){if(x=f.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(s!==null?s.push(Ec):s=[Ec])}f=f.return}s!==null&&Wf(r,s,a,c),r.flags|=262144}function Xu(s){for(s=s.firstContext;s!==null;){if(!Mn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ea(s){_a=s,hr=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function cn(s){return hv(_a,s)}function Wu(s,r){return _a===null&&Ea(s),hv(s,r)}function hv(s,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},hr===null){if(s===null)throw Error(i(308));hr=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else hr=hr.next=r;return a}var TT=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(a,c){s.push(c)}};this.abort=function(){r.aborted=!0,s.forEach(function(a){return a()})}},NT=n.unstable_scheduleCallback,ST=n.unstable_NormalPriority,qt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zf(){return{controller:new TT,data:new Map,refCount:0}}function Ql(s){s.refCount--,s.refCount===0&&NT(ST,function(){s.controller.abort()})}var Xl=null,Jf=0,vo=0,bo=null;function AT(s,r){if(Xl===null){var a=Xl=[];Jf=0,vo=tp(),bo={status:"pending",value:void 0,then:function(c){a.push(c)}}}return Jf++,r.then(fv,fv),r}function fv(){if(--Jf===0&&Xl!==null){bo!==null&&(bo.status="fulfilled");var s=Xl;Xl=null,vo=0,bo=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function CT(s,r){var a=[],c={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return s.then(function(){c.status="fulfilled",c.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(c.status="rejected",c.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),c}var mv=G.S;G.S=function(s,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&AT(s,r),mv!==null&&mv(s,r)};var Ta=ae(null);function em(){var s=Ta.current;return s!==null?s:lt.pooledCache}function Zu(s,r){r===null?he(Ta,Ta.current):he(Ta,r.pool)}function pv(){var s=em();return s===null?null:{parent:qt._currentValue,pool:s}}var Wl=Error(i(460)),gv=Error(i(474)),Ju=Error(i(542)),tm={then:function(){}};function yv(s){return s=s.status,s==="fulfilled"||s==="rejected"}function ed(){}function vv(s,r,a){switch(a=s[a],a===void 0?s.push(r):a!==r&&(r.then(ed,ed),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,wv(s),s;default:if(typeof r.status=="string")r.then(ed,ed);else{if(s=lt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(c){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=c}},function(c){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,wv(s),s}throw Zl=r,Wl}}var Zl=null;function bv(){if(Zl===null)throw Error(i(459));var s=Zl;return Zl=null,s}function wv(s){if(s===Wl||s===Ju)throw Error(i(483))}var si=!1;function nm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sm(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ri(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ii(s,r,a){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(Je&2)!==0){var f=c.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r,r=Gu(s),av(s,null,a),r}return $u(s,c,r,a),Gu(s)}function Jl(s,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var c=r.lanes;c&=s.pendingLanes,a|=c,r.lanes=a,$r(s,a)}}function rm(s,r){var a=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var x={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=x:m=m.next=x,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},s.updateQueue=a;return}s=a.lastBaseUpdate,s===null?a.firstBaseUpdate=r:s.next=r,a.lastBaseUpdate=r}var im=!1;function ec(){if(im){var s=bo;if(s!==null)throw s}}function tc(s,r,a,c){im=!1;var f=s.updateQueue;si=!1;var m=f.firstBaseUpdate,x=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var j=E,$=j.next;j.next=null,x===null?m=$:x.next=$,x=j;var J=s.alternate;J!==null&&(J=J.updateQueue,E=J.lastBaseUpdate,E!==x&&(E===null?J.firstBaseUpdate=$:E.next=$,J.lastBaseUpdate=j))}if(m!==null){var re=f.baseState;x=0,J=$=j=null,E=m;do{var Y=E.lane&-536870913,Q=Y!==E.lane;if(Q?(He&Y)===Y:(c&Y)===Y){Y!==0&&Y===vo&&(im=!0),J!==null&&(J=J.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Ce=s,Te=E;Y=r;var rt=a;switch(Te.tag){case 1:if(Ce=Te.payload,typeof Ce=="function"){re=Ce.call(rt,re,Y);break e}re=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Te.payload,Y=typeof Ce=="function"?Ce.call(rt,re,Y):Ce,Y==null)break e;re=w({},re,Y);break e;case 2:si=!0}}Y=E.callback,Y!==null&&(s.flags|=64,Q&&(s.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[Y]:Q.push(Y))}else Q={lane:Y,tag:E.tag,payload:E.payload,callback:E.callback,next:null},J===null?($=J=Q,j=re):J=J.next=Q,x|=Y;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;Q=E,E=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);J===null&&(j=re),f.baseState=j,f.firstBaseUpdate=$,f.lastBaseUpdate=J,m===null&&(f.shared.lanes=0),fi|=x,s.lanes=x,s.memoizedState=re}}function xv(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function _v(s,r){var a=s.callbacks;if(a!==null)for(s.callbacks=null,s=0;s<a.length;s++)xv(a[s],r)}var wo=ae(null),td=ae(0);function Ev(s,r){s=wr,he(td,s),he(wo,r),wr=s|r.baseLanes}function am(){he(td,wr),he(wo,wo.current)}function om(){wr=td.current,pe(wo),pe(td)}var ai=0,Pe=null,nt=null,kt=null,nd=!1,xo=!1,Na=!1,sd=0,nc=0,_o=null,jT=0;function Nt(){throw Error(i(321))}function lm(s,r){if(r===null)return!1;for(var a=0;a<r.length&&a<s.length;a++)if(!Mn(s[a],r[a]))return!1;return!0}function cm(s,r,a,c,f,m){return ai=m,Pe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,G.H=s===null||s.memoizedState===null?a0:o0,Na=!1,m=a(c,f),Na=!1,xo&&(m=Nv(r,a,c,f)),Tv(s),m}function Tv(s){G.H=cd;var r=nt!==null&&nt.next!==null;if(ai=0,kt=nt=Pe=null,nd=!1,nc=0,_o=null,r)throw Error(i(300));s===null||Yt||(s=s.dependencies,s!==null&&Xu(s)&&(Yt=!0))}function Nv(s,r,a,c){Pe=s;var f=0;do{if(xo&&(_o=null),nc=0,xo=!1,25<=f)throw Error(i(301));if(f+=1,kt=nt=null,s.updateQueue!=null){var m=s.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}G.H=MT,m=r(a,c)}while(xo);return m}function RT(){var s=G.H,r=s.useState()[0];return r=typeof r.then=="function"?sc(r):r,s=s.useState()[0],(nt!==null?nt.memoizedState:null)!==s&&(Pe.flags|=1024),r}function um(){var s=sd!==0;return sd=0,s}function dm(s,r,a){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~a}function hm(s){if(nd){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}nd=!1}ai=0,kt=nt=Pe=null,xo=!1,nc=sd=0,_o=null}function Cn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Pe.memoizedState=kt=s:kt=kt.next=s,kt}function Dt(){if(nt===null){var s=Pe.alternate;s=s!==null?s.memoizedState:null}else s=nt.next;var r=kt===null?Pe.memoizedState:kt.next;if(r!==null)kt=r,nt=s;else{if(s===null)throw Pe.alternate===null?Error(i(467)):Error(i(310));nt=s,s={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},kt===null?Pe.memoizedState=kt=s:kt=kt.next=s}return kt}function fm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sc(s){var r=nc;return nc+=1,_o===null&&(_o=[]),s=vv(_o,s,r),r=Pe,(kt===null?r.memoizedState:kt.next)===null&&(r=r.alternate,G.H=r===null||r.memoizedState===null?a0:o0),s}function rd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return sc(s);if(s.$$typeof===F)return cn(s)}throw Error(i(438,String(s)))}function mm(s){var r=null,a=Pe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var c=Pe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=fm(),Pe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(s),c=0;c<s;c++)a[c]=O;return r.index++,a}function mr(s,r){return typeof r=="function"?r(s):r}function id(s){var r=Dt();return pm(r,nt,s)}function pm(s,r,a){var c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=a;var f=s.baseQueue,m=c.pending;if(m!==null){if(f!==null){var x=f.next;f.next=m.next,m.next=x}r.baseQueue=f=m,c.pending=null}if(m=s.baseState,f===null)s.memoizedState=m;else{r=f.next;var E=x=null,j=null,$=r,J=!1;do{var re=$.lane&-536870913;if(re!==$.lane?(He&re)===re:(ai&re)===re){var Y=$.revertLane;if(Y===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),re===vo&&(J=!0);else if((ai&Y)===Y){$=$.next,Y===vo&&(J=!0);continue}else re={lane:0,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},j===null?(E=j=re,x=m):j=j.next=re,Pe.lanes|=Y,fi|=Y;re=$.action,Na&&a(m,re),m=$.hasEagerState?$.eagerState:a(m,re)}else Y={lane:re,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},j===null?(E=j=Y,x=m):j=j.next=Y,Pe.lanes|=re,fi|=re;$=$.next}while($!==null&&$!==r);if(j===null?x=m:j.next=E,!Mn(m,s.memoizedState)&&(Yt=!0,J&&(a=bo,a!==null)))throw a;s.memoizedState=m,s.baseState=x,s.baseQueue=j,c.lastRenderedState=m}return f===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function gm(s){var r=Dt(),a=r.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=s;var c=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var x=f=f.next;do m=s(m,x.action),x=x.next;while(x!==f);Mn(m,r.memoizedState)||(Yt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,c]}function Sv(s,r,a){var c=Pe,f=Dt(),m=Ye;if(m){if(a===void 0)throw Error(i(407));a=a()}else a=r();var x=!Mn((nt||f).memoizedState,a);x&&(f.memoizedState=a,Yt=!0),f=f.queue;var E=jv.bind(null,c,f,s);if(rc(2048,8,E,[s]),f.getSnapshot!==r||x||kt!==null&&kt.memoizedState.tag&1){if(c.flags|=2048,Eo(9,ad(),Cv.bind(null,c,f,a,r),null),lt===null)throw Error(i(349));m||(ai&124)!==0||Av(c,r,a)}return a}function Av(s,r,a){s.flags|=16384,s={getSnapshot:r,value:a},r=Pe.updateQueue,r===null?(r=fm(),Pe.updateQueue=r,r.stores=[s]):(a=r.stores,a===null?r.stores=[s]:a.push(s))}function Cv(s,r,a,c){r.value=a,r.getSnapshot=c,Rv(r)&&Iv(s)}function jv(s,r,a){return a(function(){Rv(r)&&Iv(s)})}function Rv(s){var r=s.getSnapshot;s=s.value;try{var a=r();return!Mn(s,a)}catch{return!0}}function Iv(s){var r=mo(s,2);r!==null&&qn(r,s,2)}function ym(s){var r=Cn();if(typeof s=="function"){var a=s;if(s=a(),Na){Xn(!0);try{a()}finally{Xn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mr,lastRenderedState:s},r}function kv(s,r,a,c){return s.baseState=a,pm(s,nt,typeof c=="function"?c:mr)}function IT(s,r,a,c,f){if(ld(s))throw Error(i(485));if(s=r.action,s!==null){var m={payload:f,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){m.listeners.push(x)}};G.T!==null?a(!0):m.isTransition=!1,c(m),a=r.pending,a===null?(m.next=r.pending=m,Dv(r,m)):(m.next=a.next,r.pending=a.next=m)}}function Dv(s,r){var a=r.action,c=r.payload,f=s.state;if(r.isTransition){var m=G.T,x={};G.T=x;try{var E=a(f,c),j=G.S;j!==null&&j(x,E),Ov(s,r,E)}catch($){vm(s,r,$)}finally{G.T=m}}else try{m=a(f,c),Ov(s,r,m)}catch($){vm(s,r,$)}}function Ov(s,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){Pv(s,r,c)},function(c){return vm(s,r,c)}):Pv(s,r,a)}function Pv(s,r,a){r.status="fulfilled",r.value=a,Mv(r),s.state=a,r=s.pending,r!==null&&(a=r.next,a===r?s.pending=null:(a=a.next,r.next=a,Dv(s,a)))}function vm(s,r,a){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=a,Mv(r),r=r.next;while(r!==c)}s.action=null}function Mv(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function Vv(s,r){return r}function Lv(s,r){if(Ye){var a=lt.formState;if(a!==null){e:{var c=Pe;if(Ye){if(vt){t:{for(var f=vt,m=Bs;f.nodeType!==8;){if(!m){f=null;break t}if(f=_s(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){vt=_s(f.nextSibling),c=f.data==="F!";break e}}xa(c)}c=!1}c&&(r=a[0])}}return a=Cn(),a.memoizedState=a.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vv,lastRenderedState:r},a.queue=c,a=s0.bind(null,Pe,c),c.dispatch=a,c=ym(!1),m=Em.bind(null,Pe,!1,c.queue),c=Cn(),f={state:r,dispatch:null,action:s,pending:null},c.queue=f,a=IT.bind(null,Pe,f,m,a),f.dispatch=a,c.memoizedState=s,[r,a,!1]}function Uv(s){var r=Dt();return Bv(r,nt,s)}function Bv(s,r,a){if(r=pm(s,r,Vv)[0],s=id(mr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=sc(r)}catch(x){throw x===Wl?Ju:x}else c=r;r=Dt();var f=r.queue,m=f.dispatch;return a!==r.memoizedState&&(Pe.flags|=2048,Eo(9,ad(),kT.bind(null,f,a),null)),[c,m,s]}function kT(s,r){s.action=r}function zv(s){var r=Dt(),a=nt;if(a!==null)return Bv(r,a,s);Dt(),r=r.memoizedState,a=Dt();var c=a.queue.dispatch;return a.memoizedState=s,[r,c,!1]}function Eo(s,r,a,c){return s={tag:s,create:a,deps:c,inst:r,next:null},r=Pe.updateQueue,r===null&&(r=fm(),Pe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=s.next=s:(c=a.next,a.next=s,s.next=c,r.lastEffect=s),s}function ad(){return{destroy:void 0,resource:void 0}}function qv(){return Dt().memoizedState}function od(s,r,a,c){var f=Cn();c=c===void 0?null:c,Pe.flags|=s,f.memoizedState=Eo(1|r,ad(),a,c)}function rc(s,r,a,c){var f=Dt();c=c===void 0?null:c;var m=f.memoizedState.inst;nt!==null&&c!==null&&lm(c,nt.memoizedState.deps)?f.memoizedState=Eo(r,m,a,c):(Pe.flags|=s,f.memoizedState=Eo(1|r,m,a,c))}function Hv(s,r){od(8390656,8,s,r)}function Fv(s,r){rc(2048,8,s,r)}function $v(s,r){return rc(4,2,s,r)}function Gv(s,r){return rc(4,4,s,r)}function Kv(s,r){if(typeof r=="function"){s=s();var a=r(s);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function Yv(s,r,a){a=a!=null?a.concat([s]):null,rc(4,4,Kv.bind(null,r,s),a)}function bm(){}function Qv(s,r){var a=Dt();r=r===void 0?null:r;var c=a.memoizedState;return r!==null&&lm(r,c[1])?c[0]:(a.memoizedState=[s,r],s)}function Xv(s,r){var a=Dt();r=r===void 0?null:r;var c=a.memoizedState;if(r!==null&&lm(r,c[1]))return c[0];if(c=s(),Na){Xn(!0);try{s()}finally{Xn(!1)}}return a.memoizedState=[c,r],c}function wm(s,r,a){return a===void 0||(ai&1073741824)!==0?s.memoizedState=r:(s.memoizedState=a,s=J0(),Pe.lanes|=s,fi|=s,a)}function Wv(s,r,a,c){return Mn(a,r)?a:wo.current!==null?(s=wm(s,a,c),Mn(s,r)||(Yt=!0),s):(ai&42)===0?(Yt=!0,s.memoizedState=a):(s=J0(),Pe.lanes|=s,fi|=s,r)}function Zv(s,r,a,c,f){var m=le.p;le.p=m!==0&&8>m?m:8;var x=G.T,E={};G.T=E,Em(s,!1,r,a);try{var j=f(),$=G.S;if($!==null&&$(E,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var J=CT(j,c);ic(s,r,J,zn(s))}else ic(s,r,c,zn(s))}catch(re){ic(s,r,{then:function(){},status:"rejected",reason:re},zn())}finally{le.p=m,G.T=x}}function DT(){}function xm(s,r,a,c){if(s.tag!==5)throw Error(i(476));var f=Jv(s).queue;Zv(s,f,r,ge,a===null?DT:function(){return e0(s),a(c)})}function Jv(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mr,lastRenderedState:ge},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mr,lastRenderedState:a},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function e0(s){var r=Jv(s).next.queue;ic(s,r,{},zn())}function _m(){return cn(Ec)}function t0(){return Dt().memoizedState}function n0(){return Dt().memoizedState}function OT(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var a=zn();s=ri(a);var c=ii(r,s,a);c!==null&&(qn(c,r,a),Jl(c,r,a)),r={cache:Zf()},s.payload=r;return}r=r.return}}function PT(s,r,a){var c=zn();a={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ld(s)?r0(r,a):(a=qf(s,r,a,c),a!==null&&(qn(a,s,c),i0(a,r,c)))}function s0(s,r,a){var c=zn();ic(s,r,a,c)}function ic(s,r,a,c){var f={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ld(s))r0(r,f);else{var m=s.alternate;if(s.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var x=r.lastRenderedState,E=m(x,a);if(f.hasEagerState=!0,f.eagerState=E,Mn(E,x))return $u(s,r,f,0),lt===null&&Fu(),!1}catch{}finally{}if(a=qf(s,r,f,c),a!==null)return qn(a,s,c),i0(a,r,c),!0}return!1}function Em(s,r,a,c){if(c={lane:2,revertLane:tp(),action:c,hasEagerState:!1,eagerState:null,next:null},ld(s)){if(r)throw Error(i(479))}else r=qf(s,a,c,2),r!==null&&qn(r,s,2)}function ld(s){var r=s.alternate;return s===Pe||r!==null&&r===Pe}function r0(s,r){xo=nd=!0;var a=s.pending;a===null?r.next=r:(r.next=a.next,a.next=r),s.pending=r}function i0(s,r,a){if((a&4194048)!==0){var c=r.lanes;c&=s.pendingLanes,a|=c,r.lanes=a,$r(s,a)}}var cd={readContext:cn,use:rd,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt},a0={readContext:cn,use:rd,useCallback:function(s,r){return Cn().memoizedState=[s,r===void 0?null:r],s},useContext:cn,useEffect:Hv,useImperativeHandle:function(s,r,a){a=a!=null?a.concat([s]):null,od(4194308,4,Kv.bind(null,r,s),a)},useLayoutEffect:function(s,r){return od(4194308,4,s,r)},useInsertionEffect:function(s,r){od(4,2,s,r)},useMemo:function(s,r){var a=Cn();r=r===void 0?null:r;var c=s();if(Na){Xn(!0);try{s()}finally{Xn(!1)}}return a.memoizedState=[c,r],c},useReducer:function(s,r,a){var c=Cn();if(a!==void 0){var f=a(r);if(Na){Xn(!0);try{a(r)}finally{Xn(!1)}}}else f=r;return c.memoizedState=c.baseState=f,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:f},c.queue=s,s=s.dispatch=PT.bind(null,Pe,s),[c.memoizedState,s]},useRef:function(s){var r=Cn();return s={current:s},r.memoizedState=s},useState:function(s){s=ym(s);var r=s.queue,a=s0.bind(null,Pe,r);return r.dispatch=a,[s.memoizedState,a]},useDebugValue:bm,useDeferredValue:function(s,r){var a=Cn();return wm(a,s,r)},useTransition:function(){var s=ym(!1);return s=Zv.bind(null,Pe,s.queue,!0,!1),Cn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,a){var c=Pe,f=Cn();if(Ye){if(a===void 0)throw Error(i(407));a=a()}else{if(a=r(),lt===null)throw Error(i(349));(He&124)!==0||Av(c,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,Hv(jv.bind(null,c,m,s),[s]),c.flags|=2048,Eo(9,ad(),Cv.bind(null,c,m,a,r),null),a},useId:function(){var s=Cn(),r=lt.identifierPrefix;if(Ye){var a=dr,c=ur;a=(c&~(1<<32-vn(c)-1)).toString(32)+a,r=""+r+"R"+a,a=sd++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=jT++,r=""+r+"r"+a.toString(32)+"";return s.memoizedState=r},useHostTransitionStatus:_m,useFormState:Lv,useActionState:Lv,useOptimistic:function(s){var r=Cn();r.memoizedState=r.baseState=s;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Em.bind(null,Pe,!0,a),a.dispatch=r,[s,r]},useMemoCache:mm,useCacheRefresh:function(){return Cn().memoizedState=OT.bind(null,Pe)}},o0={readContext:cn,use:rd,useCallback:Qv,useContext:cn,useEffect:Fv,useImperativeHandle:Yv,useInsertionEffect:$v,useLayoutEffect:Gv,useMemo:Xv,useReducer:id,useRef:qv,useState:function(){return id(mr)},useDebugValue:bm,useDeferredValue:function(s,r){var a=Dt();return Wv(a,nt.memoizedState,s,r)},useTransition:function(){var s=id(mr)[0],r=Dt().memoizedState;return[typeof s=="boolean"?s:sc(s),r]},useSyncExternalStore:Sv,useId:t0,useHostTransitionStatus:_m,useFormState:Uv,useActionState:Uv,useOptimistic:function(s,r){var a=Dt();return kv(a,nt,s,r)},useMemoCache:mm,useCacheRefresh:n0},MT={readContext:cn,use:rd,useCallback:Qv,useContext:cn,useEffect:Fv,useImperativeHandle:Yv,useInsertionEffect:$v,useLayoutEffect:Gv,useMemo:Xv,useReducer:gm,useRef:qv,useState:function(){return gm(mr)},useDebugValue:bm,useDeferredValue:function(s,r){var a=Dt();return nt===null?wm(a,s,r):Wv(a,nt.memoizedState,s,r)},useTransition:function(){var s=gm(mr)[0],r=Dt().memoizedState;return[typeof s=="boolean"?s:sc(s),r]},useSyncExternalStore:Sv,useId:t0,useHostTransitionStatus:_m,useFormState:zv,useActionState:zv,useOptimistic:function(s,r){var a=Dt();return nt!==null?kv(a,nt,s,r):(a.baseState=s,[s,a.queue.dispatch])},useMemoCache:mm,useCacheRefresh:n0},To=null,ac=0;function ud(s){var r=ac;return ac+=1,To===null&&(To=[]),vv(To,s,r)}function oc(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function dd(s,r){throw r.$$typeof===_?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function l0(s){var r=s._init;return r(s._payload)}function c0(s){function r(U,V){if(s){var q=U.deletions;q===null?(U.deletions=[V],U.flags|=16):q.push(V)}}function a(U,V){if(!s)return null;for(;V!==null;)r(U,V),V=V.sibling;return null}function c(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function f(U,V){return U=cr(U,V),U.index=0,U.sibling=null,U}function m(U,V,q){return U.index=q,s?(q=U.alternate,q!==null?(q=q.index,q<V?(U.flags|=67108866,V):q):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function x(U){return s&&U.alternate===null&&(U.flags|=67108866),U}function E(U,V,q,ee){return V===null||V.tag!==6?(V=Ff(q,U.mode,ee),V.return=U,V):(V=f(V,q),V.return=U,V)}function j(U,V,q,ee){var ve=q.type;return ve===D?J(U,V,q.props.children,ee,q.key):V!==null&&(V.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&l0(ve)===V.type)?(V=f(V,q.props),oc(V,q),V.return=U,V):(V=Ku(q.type,q.key,q.props,null,U.mode,ee),oc(V,q),V.return=U,V)}function $(U,V,q,ee){return V===null||V.tag!==4||V.stateNode.containerInfo!==q.containerInfo||V.stateNode.implementation!==q.implementation?(V=$f(q,U.mode,ee),V.return=U,V):(V=f(V,q.children||[]),V.return=U,V)}function J(U,V,q,ee,ve){return V===null||V.tag!==7?(V=ya(q,U.mode,ee,ve),V.return=U,V):(V=f(V,q),V.return=U,V)}function re(U,V,q){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Ff(""+V,U.mode,q),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case S:return q=Ku(V.type,V.key,V.props,null,U.mode,q),oc(q,V),q.return=U,q;case M:return V=$f(V,U.mode,q),V.return=U,V;case A:var ee=V._init;return V=ee(V._payload),re(U,V,q)}if(ce(V)||B(V))return V=ya(V,U.mode,q,null),V.return=U,V;if(typeof V.then=="function")return re(U,ud(V),q);if(V.$$typeof===F)return re(U,Wu(U,V),q);dd(U,V)}return null}function Y(U,V,q,ee){var ve=V!==null?V.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ve!==null?null:E(U,V,""+q,ee);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case S:return q.key===ve?j(U,V,q,ee):null;case M:return q.key===ve?$(U,V,q,ee):null;case A:return ve=q._init,q=ve(q._payload),Y(U,V,q,ee)}if(ce(q)||B(q))return ve!==null?null:J(U,V,q,ee,null);if(typeof q.then=="function")return Y(U,V,ud(q),ee);if(q.$$typeof===F)return Y(U,V,Wu(U,q),ee);dd(U,q)}return null}function Q(U,V,q,ee,ve){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return U=U.get(q)||null,E(V,U,""+ee,ve);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case S:return U=U.get(ee.key===null?q:ee.key)||null,j(V,U,ee,ve);case M:return U=U.get(ee.key===null?q:ee.key)||null,$(V,U,ee,ve);case A:var Ve=ee._init;return ee=Ve(ee._payload),Q(U,V,q,ee,ve)}if(ce(ee)||B(ee))return U=U.get(q)||null,J(V,U,ee,ve,null);if(typeof ee.then=="function")return Q(U,V,q,ud(ee),ve);if(ee.$$typeof===F)return Q(U,V,q,Wu(V,ee),ve);dd(V,ee)}return null}function Ce(U,V,q,ee){for(var ve=null,Ve=null,we=V,Ne=V=0,Xt=null;we!==null&&Ne<q.length;Ne++){we.index>Ne?(Xt=we,we=null):Xt=we.sibling;var Ge=Y(U,we,q[Ne],ee);if(Ge===null){we===null&&(we=Xt);break}s&&we&&Ge.alternate===null&&r(U,we),V=m(Ge,V,Ne),Ve===null?ve=Ge:Ve.sibling=Ge,Ve=Ge,we=Xt}if(Ne===q.length)return a(U,we),Ye&&ba(U,Ne),ve;if(we===null){for(;Ne<q.length;Ne++)we=re(U,q[Ne],ee),we!==null&&(V=m(we,V,Ne),Ve===null?ve=we:Ve.sibling=we,Ve=we);return Ye&&ba(U,Ne),ve}for(we=c(we);Ne<q.length;Ne++)Xt=Q(we,U,Ne,q[Ne],ee),Xt!==null&&(s&&Xt.alternate!==null&&we.delete(Xt.key===null?Ne:Xt.key),V=m(Xt,V,Ne),Ve===null?ve=Xt:Ve.sibling=Xt,Ve=Xt);return s&&we.forEach(function(_i){return r(U,_i)}),Ye&&ba(U,Ne),ve}function Te(U,V,q,ee){if(q==null)throw Error(i(151));for(var ve=null,Ve=null,we=V,Ne=V=0,Xt=null,Ge=q.next();we!==null&&!Ge.done;Ne++,Ge=q.next()){we.index>Ne?(Xt=we,we=null):Xt=we.sibling;var _i=Y(U,we,Ge.value,ee);if(_i===null){we===null&&(we=Xt);break}s&&we&&_i.alternate===null&&r(U,we),V=m(_i,V,Ne),Ve===null?ve=_i:Ve.sibling=_i,Ve=_i,we=Xt}if(Ge.done)return a(U,we),Ye&&ba(U,Ne),ve;if(we===null){for(;!Ge.done;Ne++,Ge=q.next())Ge=re(U,Ge.value,ee),Ge!==null&&(V=m(Ge,V,Ne),Ve===null?ve=Ge:Ve.sibling=Ge,Ve=Ge);return Ye&&ba(U,Ne),ve}for(we=c(we);!Ge.done;Ne++,Ge=q.next())Ge=Q(we,U,Ne,Ge.value,ee),Ge!==null&&(s&&Ge.alternate!==null&&we.delete(Ge.key===null?Ne:Ge.key),V=m(Ge,V,Ne),Ve===null?ve=Ge:Ve.sibling=Ge,Ve=Ge);return s&&we.forEach(function(VN){return r(U,VN)}),Ye&&ba(U,Ne),ve}function rt(U,V,q,ee){if(typeof q=="object"&&q!==null&&q.type===D&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case S:e:{for(var ve=q.key;V!==null;){if(V.key===ve){if(ve=q.type,ve===D){if(V.tag===7){a(U,V.sibling),ee=f(V,q.props.children),ee.return=U,U=ee;break e}}else if(V.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&l0(ve)===V.type){a(U,V.sibling),ee=f(V,q.props),oc(ee,q),ee.return=U,U=ee;break e}a(U,V);break}else r(U,V);V=V.sibling}q.type===D?(ee=ya(q.props.children,U.mode,ee,q.key),ee.return=U,U=ee):(ee=Ku(q.type,q.key,q.props,null,U.mode,ee),oc(ee,q),ee.return=U,U=ee)}return x(U);case M:e:{for(ve=q.key;V!==null;){if(V.key===ve)if(V.tag===4&&V.stateNode.containerInfo===q.containerInfo&&V.stateNode.implementation===q.implementation){a(U,V.sibling),ee=f(V,q.children||[]),ee.return=U,U=ee;break e}else{a(U,V);break}else r(U,V);V=V.sibling}ee=$f(q,U.mode,ee),ee.return=U,U=ee}return x(U);case A:return ve=q._init,q=ve(q._payload),rt(U,V,q,ee)}if(ce(q))return Ce(U,V,q,ee);if(B(q)){if(ve=B(q),typeof ve!="function")throw Error(i(150));return q=ve.call(q),Te(U,V,q,ee)}if(typeof q.then=="function")return rt(U,V,ud(q),ee);if(q.$$typeof===F)return rt(U,V,Wu(U,q),ee);dd(U,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,V!==null&&V.tag===6?(a(U,V.sibling),ee=f(V,q),ee.return=U,U=ee):(a(U,V),ee=Ff(q,U.mode,ee),ee.return=U,U=ee),x(U)):a(U,V)}return function(U,V,q,ee){try{ac=0;var ve=rt(U,V,q,ee);return To=null,ve}catch(we){if(we===Wl||we===Ju)throw we;var Ve=Vn(29,we,null,U.mode);return Ve.lanes=ee,Ve.return=U,Ve}finally{}}}var No=c0(!0),u0=c0(!1),is=ae(null),zs=null;function oi(s){var r=s.alternate;he(Ht,Ht.current&1),he(is,s),zs===null&&(r===null||wo.current!==null||r.memoizedState!==null)&&(zs=s)}function d0(s){if(s.tag===22){if(he(Ht,Ht.current),he(is,s),zs===null){var r=s.alternate;r!==null&&r.memoizedState!==null&&(zs=s)}}else li()}function li(){he(Ht,Ht.current),he(is,is.current)}function pr(s){pe(is),zs===s&&(zs=null),pe(Ht)}var Ht=ae(0);function hd(s){for(var r=s;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||fp(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Tm(s,r,a,c){r=s.memoizedState,a=a(c,r),a=a==null?r:w({},r,a),s.memoizedState=a,s.lanes===0&&(s.updateQueue.baseState=a)}var Nm={enqueueSetState:function(s,r,a){s=s._reactInternals;var c=zn(),f=ri(c);f.payload=r,a!=null&&(f.callback=a),r=ii(s,f,c),r!==null&&(qn(r,s,c),Jl(r,s,c))},enqueueReplaceState:function(s,r,a){s=s._reactInternals;var c=zn(),f=ri(c);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=ii(s,f,c),r!==null&&(qn(r,s,c),Jl(r,s,c))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var a=zn(),c=ri(a);c.tag=2,r!=null&&(c.callback=r),r=ii(s,c,a),r!==null&&(qn(r,s,a),Jl(r,s,a))}};function h0(s,r,a,c,f,m,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,m,x):r.prototype&&r.prototype.isPureReactComponent?!Hl(a,c)||!Hl(f,m):!0}function f0(s,r,a,c){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,c),r.state!==s&&Nm.enqueueReplaceState(r,r.state,null)}function Sa(s,r){var a=r;if("ref"in r){a={};for(var c in r)c!=="ref"&&(a[c]=r[c])}if(s=s.defaultProps){a===r&&(a=w({},a));for(var f in s)a[f]===void 0&&(a[f]=s[f])}return a}var fd=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function m0(s){fd(s)}function p0(s){console.error(s)}function g0(s){fd(s)}function md(s,r){try{var a=s.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function y0(s,r,a){try{var c=s.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Sm(s,r,a){return a=ri(a),a.tag=3,a.payload={element:null},a.callback=function(){md(s,r)},a}function v0(s){return s=ri(s),s.tag=3,s}function b0(s,r,a,c){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=c.value;s.payload=function(){return f(m)},s.callback=function(){y0(r,a,c)}}var x=a.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(s.callback=function(){y0(r,a,c),typeof f!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var E=c.stack;this.componentDidCatch(c.value,{componentStack:E!==null?E:""})})}function VT(s,r,a,c,f){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=a.alternate,r!==null&&Yl(r,a,f,!0),a=is.current,a!==null){switch(a.tag){case 13:return zs===null?Xm():a.alternate===null&&bt===0&&(bt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,c===tm?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([c]):r.add(c),Zm(s,c,f)),!1;case 22:return a.flags|=65536,c===tm?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([c]):a.add(c)),Zm(s,c,f)),!1}throw Error(i(435,a.tag))}return Zm(s,c,f),Xm(),!1}if(Ye)return r=is.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,c!==Yf&&(s=Error(i(422),{cause:c}),Kl(ts(s,a)))):(c!==Yf&&(r=Error(i(423),{cause:c}),Kl(ts(r,a))),s=s.current.alternate,s.flags|=65536,f&=-f,s.lanes|=f,c=ts(c,a),f=Sm(s.stateNode,c,f),rm(s,f),bt!==4&&(bt=2)),!1;var m=Error(i(520),{cause:c});if(m=ts(m,a),mc===null?mc=[m]:mc.push(m),bt!==4&&(bt=2),r===null)return!0;c=ts(c,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,s=f&-f,a.lanes|=s,s=Sm(a.stateNode,c,s),rm(a,s),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(mi===null||!mi.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=v0(f),b0(f,s,a,c),rm(a,f),!1}a=a.return}while(a!==null);return!1}var w0=Error(i(461)),Yt=!1;function nn(s,r,a,c){r.child=s===null?u0(r,null,a,c):No(r,s.child,a,c)}function x0(s,r,a,c,f){a=a.render;var m=r.ref;if("ref"in c){var x={};for(var E in c)E!=="ref"&&(x[E]=c[E])}else x=c;return Ea(r),c=cm(s,r,a,x,m,f),E=um(),s!==null&&!Yt?(dm(s,r,f),gr(s,r,f)):(Ye&&E&&Gf(r),r.flags|=1,nn(s,r,c,f),r.child)}function _0(s,r,a,c,f){if(s===null){var m=a.type;return typeof m=="function"&&!Hf(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,E0(s,r,m,c,f)):(s=Ku(a.type,null,c,r,r.mode,f),s.ref=r.ref,s.return=r,r.child=s)}if(m=s.child,!Om(s,f)){var x=m.memoizedProps;if(a=a.compare,a=a!==null?a:Hl,a(x,c)&&s.ref===r.ref)return gr(s,r,f)}return r.flags|=1,s=cr(m,c),s.ref=r.ref,s.return=r,r.child=s}function E0(s,r,a,c,f){if(s!==null){var m=s.memoizedProps;if(Hl(m,c)&&s.ref===r.ref)if(Yt=!1,r.pendingProps=c=m,Om(s,f))(s.flags&131072)!==0&&(Yt=!0);else return r.lanes=s.lanes,gr(s,r,f)}return Am(s,r,a,c,f)}function T0(s,r,a){var c=r.pendingProps,f=c.children,m=s!==null?s.memoizedState:null;if(c.mode==="hidden"){if((r.flags&128)!==0){if(c=m!==null?m.baseLanes|a:a,s!==null){for(f=r.child=s.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;r.childLanes=m&~c}else r.childLanes=0,r.child=null;return N0(s,r,c,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Zu(r,m!==null?m.cachePool:null),m!==null?Ev(r,m):am(),d0(r);else return r.lanes=r.childLanes=536870912,N0(s,r,m!==null?m.baseLanes|a:a,a)}else m!==null?(Zu(r,m.cachePool),Ev(r,m),li(),r.memoizedState=null):(s!==null&&Zu(r,null),am(),li());return nn(s,r,f,a),r.child}function N0(s,r,a,c){var f=em();return f=f===null?null:{parent:qt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},s!==null&&Zu(r,null),am(),d0(r),s!==null&&Yl(s,r,c,!0),null}function pd(s,r){var a=r.ref;if(a===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(s===null||s.ref!==a)&&(r.flags|=4194816)}}function Am(s,r,a,c,f){return Ea(r),a=cm(s,r,a,c,void 0,f),c=um(),s!==null&&!Yt?(dm(s,r,f),gr(s,r,f)):(Ye&&c&&Gf(r),r.flags|=1,nn(s,r,a,f),r.child)}function S0(s,r,a,c,f,m){return Ea(r),r.updateQueue=null,a=Nv(r,c,a,f),Tv(s),c=um(),s!==null&&!Yt?(dm(s,r,m),gr(s,r,m)):(Ye&&c&&Gf(r),r.flags|=1,nn(s,r,a,m),r.child)}function A0(s,r,a,c,f){if(Ea(r),r.stateNode===null){var m=po,x=a.contextType;typeof x=="object"&&x!==null&&(m=cn(x)),m=new a(c,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Nm,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=c,m.state=r.memoizedState,m.refs={},nm(r),x=a.contextType,m.context=typeof x=="object"&&x!==null?cn(x):po,m.state=r.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(Tm(r,a,x,c),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(x=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),x!==m.state&&Nm.enqueueReplaceState(m,m.state,null),tc(r,c,m,f),ec(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(s===null){m=r.stateNode;var E=r.memoizedProps,j=Sa(a,E);m.props=j;var $=m.context,J=a.contextType;x=po,typeof J=="object"&&J!==null&&(x=cn(J));var re=a.getDerivedStateFromProps;J=typeof re=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=r.pendingProps!==E,J||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||$!==x)&&f0(r,m,c,x),si=!1;var Y=r.memoizedState;m.state=Y,tc(r,c,m,f),ec(),$=r.memoizedState,E||Y!==$||si?(typeof re=="function"&&(Tm(r,a,re,c),$=r.memoizedState),(j=si||h0(r,a,j,c,Y,$,x))?(J||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=$),m.props=c,m.state=$,m.context=x,c=j):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{m=r.stateNode,sm(s,r),x=r.memoizedProps,J=Sa(a,x),m.props=J,re=r.pendingProps,Y=m.context,$=a.contextType,j=po,typeof $=="object"&&$!==null&&(j=cn($)),E=a.getDerivedStateFromProps,($=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x!==re||Y!==j)&&f0(r,m,c,j),si=!1,Y=r.memoizedState,m.state=Y,tc(r,c,m,f),ec();var Q=r.memoizedState;x!==re||Y!==Q||si||s!==null&&s.dependencies!==null&&Xu(s.dependencies)?(typeof E=="function"&&(Tm(r,a,E,c),Q=r.memoizedState),(J=si||h0(r,a,J,c,Y,Q,j)||s!==null&&s.dependencies!==null&&Xu(s.dependencies))?($||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,Q,j),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,Q,j)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||x===s.memoizedProps&&Y===s.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&Y===s.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=Q),m.props=c,m.state=Q,m.context=j,c=J):(typeof m.componentDidUpdate!="function"||x===s.memoizedProps&&Y===s.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&Y===s.memoizedState||(r.flags|=1024),c=!1)}return m=c,pd(s,r),c=(r.flags&128)!==0,m||c?(m=r.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,s!==null&&c?(r.child=No(r,s.child,null,f),r.child=No(r,null,a,f)):nn(s,r,a,f),r.memoizedState=m.state,s=r.child):s=gr(s,r,f),s}function C0(s,r,a,c){return Gl(),r.flags|=256,nn(s,r,a,c),r.child}var Cm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jm(s){return{baseLanes:s,cachePool:pv()}}function Rm(s,r,a){return s=s!==null?s.childLanes&~a:0,r&&(s|=as),s}function j0(s,r,a){var c=r.pendingProps,f=!1,m=(r.flags&128)!==0,x;if((x=m)||(x=s!==null&&s.memoizedState===null?!1:(Ht.current&2)!==0),x&&(f=!0,r.flags&=-129),x=(r.flags&32)!==0,r.flags&=-33,s===null){if(Ye){if(f?oi(r):li(),Ye){var E=vt,j;if(j=E){e:{for(j=E,E=Bs;j.nodeType!==8;){if(!E){E=null;break e}if(j=_s(j.nextSibling),j===null){E=null;break e}}E=j}E!==null?(r.memoizedState={dehydrated:E,treeContext:va!==null?{id:ur,overflow:dr}:null,retryLane:536870912,hydrationErrors:null},j=Vn(18,null,null,0),j.stateNode=E,j.return=r,r.child=j,_n=r,vt=null,j=!0):j=!1}j||xa(r)}if(E=r.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return fp(E)?r.lanes=32:r.lanes=536870912,null;pr(r)}return E=c.children,c=c.fallback,f?(li(),f=r.mode,E=gd({mode:"hidden",children:E},f),c=ya(c,f,a,null),E.return=r,c.return=r,E.sibling=c,r.child=E,f=r.child,f.memoizedState=jm(a),f.childLanes=Rm(s,x,a),r.memoizedState=Cm,c):(oi(r),Im(r,E))}if(j=s.memoizedState,j!==null&&(E=j.dehydrated,E!==null)){if(m)r.flags&256?(oi(r),r.flags&=-257,r=km(s,r,a)):r.memoizedState!==null?(li(),r.child=s.child,r.flags|=128,r=null):(li(),f=c.fallback,E=r.mode,c=gd({mode:"visible",children:c.children},E),f=ya(f,E,a,null),f.flags|=2,c.return=r,f.return=r,c.sibling=f,r.child=c,No(r,s.child,null,a),c=r.child,c.memoizedState=jm(a),c.childLanes=Rm(s,x,a),r.memoizedState=Cm,r=f);else if(oi(r),fp(E)){if(x=E.nextSibling&&E.nextSibling.dataset,x)var $=x.dgst;x=$,c=Error(i(419)),c.stack="",c.digest=x,Kl({value:c,source:null,stack:null}),r=km(s,r,a)}else if(Yt||Yl(s,r,a,!1),x=(a&s.childLanes)!==0,Yt||x){if(x=lt,x!==null&&(c=a&-a,c=(c&42)!==0?1:Sl(c),c=(c&(x.suspendedLanes|a))!==0?0:c,c!==0&&c!==j.retryLane))throw j.retryLane=c,mo(s,c),qn(x,s,c),w0;E.data==="$?"||Xm(),r=km(s,r,a)}else E.data==="$?"?(r.flags|=192,r.child=s.child,r=null):(s=j.treeContext,vt=_s(E.nextSibling),_n=r,Ye=!0,wa=null,Bs=!1,s!==null&&(ss[rs++]=ur,ss[rs++]=dr,ss[rs++]=va,ur=s.id,dr=s.overflow,va=r),r=Im(r,c.children),r.flags|=4096);return r}return f?(li(),f=c.fallback,E=r.mode,j=s.child,$=j.sibling,c=cr(j,{mode:"hidden",children:c.children}),c.subtreeFlags=j.subtreeFlags&65011712,$!==null?f=cr($,f):(f=ya(f,E,a,null),f.flags|=2),f.return=r,c.return=r,c.sibling=f,r.child=c,c=f,f=r.child,E=s.child.memoizedState,E===null?E=jm(a):(j=E.cachePool,j!==null?($=qt._currentValue,j=j.parent!==$?{parent:$,pool:$}:j):j=pv(),E={baseLanes:E.baseLanes|a,cachePool:j}),f.memoizedState=E,f.childLanes=Rm(s,x,a),r.memoizedState=Cm,c):(oi(r),a=s.child,s=a.sibling,a=cr(a,{mode:"visible",children:c.children}),a.return=r,a.sibling=null,s!==null&&(x=r.deletions,x===null?(r.deletions=[s],r.flags|=16):x.push(s)),r.child=a,r.memoizedState=null,a)}function Im(s,r){return r=gd({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function gd(s,r){return s=Vn(22,s,null,r),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function km(s,r,a){return No(r,s.child,null,a),s=Im(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function R0(s,r,a){s.lanes|=r;var c=s.alternate;c!==null&&(c.lanes|=r),Xf(s.return,r,a)}function Dm(s,r,a,c,f){var m=s.memoizedState;m===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=f)}function I0(s,r,a){var c=r.pendingProps,f=c.revealOrder,m=c.tail;if(nn(s,r,c.children,a),c=Ht.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&R0(s,a,r);else if(s.tag===19)R0(s,a,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}switch(he(Ht,c),f){case"forwards":for(a=r.child,f=null;a!==null;)s=a.alternate,s!==null&&hd(s)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Dm(r,!1,f,a,m);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(s=f.alternate,s!==null&&hd(s)===null){r.child=f;break}s=f.sibling,f.sibling=a,a=f,f=s}Dm(r,!0,a,null,m);break;case"together":Dm(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function gr(s,r,a){if(s!==null&&(r.dependencies=s.dependencies),fi|=r.lanes,(a&r.childLanes)===0)if(s!==null){if(Yl(s,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,a=cr(s,s.pendingProps),r.child=a,a.return=r;s.sibling!==null;)s=s.sibling,a=a.sibling=cr(s,s.pendingProps),a.return=r;a.sibling=null}return r.child}function Om(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Xu(s)))}function LT(s,r,a){switch(r.tag){case 3:_e(r,r.stateNode.containerInfo),ni(r,qt,s.memoizedState.cache),Gl();break;case 27:case 5:Rt(r);break;case 4:_e(r,r.stateNode.containerInfo);break;case 10:ni(r,r.type,r.memoizedProps.value);break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(oi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?j0(s,r,a):(oi(r),s=gr(s,r,a),s!==null?s.sibling:null);oi(r);break;case 19:var f=(s.flags&128)!==0;if(c=(a&r.childLanes)!==0,c||(Yl(s,r,a,!1),c=(a&r.childLanes)!==0),f){if(c)return I0(s,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),he(Ht,Ht.current),c)break;return null;case 22:case 23:return r.lanes=0,T0(s,r,a);case 24:ni(r,qt,s.memoizedState.cache)}return gr(s,r,a)}function k0(s,r,a){if(s!==null)if(s.memoizedProps!==r.pendingProps)Yt=!0;else{if(!Om(s,a)&&(r.flags&128)===0)return Yt=!1,LT(s,r,a);Yt=(s.flags&131072)!==0}else Yt=!1,Ye&&(r.flags&1048576)!==0&&lv(r,Qu,r.index);switch(r.lanes=0,r.tag){case 16:e:{s=r.pendingProps;var c=r.elementType,f=c._init;if(c=f(c._payload),r.type=c,typeof c=="function")Hf(c)?(s=Sa(c,s),r.tag=1,r=A0(null,r,c,s,a)):(r.tag=0,r=Am(null,r,c,s,a));else{if(c!=null){if(f=c.$$typeof,f===oe){r.tag=11,r=x0(null,r,c,s,a);break e}else if(f===N){r.tag=14,r=_0(null,r,c,s,a);break e}}throw r=at(c)||c,Error(i(306,r,""))}}return r;case 0:return Am(s,r,r.type,r.pendingProps,a);case 1:return c=r.type,f=Sa(c,r.pendingProps),A0(s,r,c,f,a);case 3:e:{if(_e(r,r.stateNode.containerInfo),s===null)throw Error(i(387));c=r.pendingProps;var m=r.memoizedState;f=m.element,sm(s,r),tc(r,c,null,a);var x=r.memoizedState;if(c=x.cache,ni(r,qt,c),c!==m.cache&&Wf(r,[qt],a,!0),ec(),c=x.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:x.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=C0(s,r,c,a);break e}else if(c!==f){f=ts(Error(i(424)),r),Kl(f),r=C0(s,r,c,a);break e}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(vt=_s(s.firstChild),_n=r,Ye=!0,wa=null,Bs=!0,a=u0(r,null,c,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Gl(),c===f){r=gr(s,r,a);break e}nn(s,r,c,a)}r=r.child}return r;case 26:return pd(s,r),s===null?(a=Mb(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ye||(a=r.type,s=r.pendingProps,c=Rd(ne.current).createElement(a),c[_t]=r,c[tn]=s,rn(c,a,s),Et(c),r.stateNode=c):r.memoizedState=Mb(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return Rt(r),s===null&&Ye&&(c=r.stateNode=Db(r.type,r.pendingProps,ne.current),_n=r,Bs=!0,f=vt,yi(r.type)?(mp=f,vt=_s(c.firstChild)):vt=f),nn(s,r,r.pendingProps.children,a),pd(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Ye&&((f=c=vt)&&(c=hN(c,r.type,r.pendingProps,Bs),c!==null?(r.stateNode=c,_n=r,vt=_s(c.firstChild),Bs=!1,f=!0):f=!1),f||xa(r)),Rt(r),f=r.type,m=r.pendingProps,x=s!==null?s.memoizedProps:null,c=m.children,up(f,m)?c=null:x!==null&&up(f,x)&&(r.flags|=32),r.memoizedState!==null&&(f=cm(s,r,RT,null,null,a),Ec._currentValue=f),pd(s,r),nn(s,r,c,a),r.child;case 6:return s===null&&Ye&&((s=a=vt)&&(a=fN(a,r.pendingProps,Bs),a!==null?(r.stateNode=a,_n=r,vt=null,s=!0):s=!1),s||xa(r)),null;case 13:return j0(s,r,a);case 4:return _e(r,r.stateNode.containerInfo),c=r.pendingProps,s===null?r.child=No(r,null,c,a):nn(s,r,c,a),r.child;case 11:return x0(s,r,r.type,r.pendingProps,a);case 7:return nn(s,r,r.pendingProps,a),r.child;case 8:return nn(s,r,r.pendingProps.children,a),r.child;case 12:return nn(s,r,r.pendingProps.children,a),r.child;case 10:return c=r.pendingProps,ni(r,r.type,c.value),nn(s,r,c.children,a),r.child;case 9:return f=r.type._context,c=r.pendingProps.children,Ea(r),f=cn(f),c=c(f),r.flags|=1,nn(s,r,c,a),r.child;case 14:return _0(s,r,r.type,r.pendingProps,a);case 15:return E0(s,r,r.type,r.pendingProps,a);case 19:return I0(s,r,a);case 31:return c=r.pendingProps,a=r.mode,c={mode:c.mode,children:c.children},s===null?(a=gd(c,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=cr(s.child,c),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return T0(s,r,a);case 24:return Ea(r),c=cn(qt),s===null?(f=em(),f===null&&(f=lt,m=Zf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:c,cache:f},nm(r),ni(r,qt,f)):((s.lanes&a)!==0&&(sm(s,r),tc(r,null,null,a),ec()),f=s.memoizedState,m=r.memoizedState,f.parent!==c?(f={parent:c,cache:c},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),ni(r,qt,c)):(c=m.cache,ni(r,qt,c),c!==f.cache&&Wf(r,[qt],a,!0))),nn(s,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function yr(s){s.flags|=4}function D0(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!zb(r)){if(r=is.current,r!==null&&((He&4194048)===He?zs!==null:(He&62914560)!==He&&(He&536870912)===0||r!==zs))throw Zl=tm,gv;s.flags|=8192}}function yd(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Hr():536870912,s.lanes|=r,jo|=r)}function lc(s,r){if(!Ye)switch(s.tailMode){case"hidden":r=s.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?s.tail=null:a.sibling=null;break;case"collapsed":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function pt(s){var r=s.alternate!==null&&s.alternate.child===s.child,a=0,c=0;if(r)for(var f=s.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=s,f=f.sibling;else for(f=s.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=s,f=f.sibling;return s.subtreeFlags|=c,s.childLanes=a,r}function UT(s,r,a){var c=r.pendingProps;switch(Kf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(r),null;case 1:return pt(r),null;case 3:return a=r.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),fr(qt),$e(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(s===null||s.child===null)&&($l(r)?yr(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,dv())),pt(r),null;case 26:return a=r.memoizedState,s===null?(yr(r),a!==null?(pt(r),D0(r,a)):(pt(r),r.flags&=-16777217)):a?a!==s.memoizedState?(yr(r),pt(r),D0(r,a)):(pt(r),r.flags&=-16777217):(s.memoizedProps!==c&&yr(r),pt(r),r.flags&=-16777217),null;case 27:Nn(r),a=ne.current;var f=r.type;if(s!==null&&r.stateNode!=null)s.memoizedProps!==c&&yr(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return pt(r),null}s=be.current,$l(r)?cv(r):(s=Db(f,c,a),r.stateNode=s,yr(r))}return pt(r),null;case 5:if(Nn(r),a=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==c&&yr(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return pt(r),null}if(s=be.current,$l(r))cv(r);else{switch(f=Rd(ne.current),s){case 1:s=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:s=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":s=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":s=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":s=f.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof c.is=="string"?f.createElement("select",{is:c.is}):f.createElement("select"),c.multiple?s.multiple=!0:c.size&&(s.size=c.size);break;default:s=typeof c.is=="string"?f.createElement(a,{is:c.is}):f.createElement(a)}}s[_t]=r,s[tn]=c;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)s.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=s;e:switch(rn(s,a,c),a){case"button":case"input":case"select":case"textarea":s=!!c.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&yr(r)}}return pt(r),r.flags&=-16777217,null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==c&&yr(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(i(166));if(s=ne.current,$l(r)){if(s=r.stateNode,a=r.memoizedProps,c=null,f=_n,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}s[_t]=r,s=!!(s.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||Sb(s.nodeValue,a)),s||xa(r)}else s=Rd(s).createTextNode(c),s[_t]=r,r.stateNode=s}return pt(r),null;case 13:if(c=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(f=$l(r),c!==null&&c.dehydrated!==null){if(s===null){if(!f)throw Error(i(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[_t]=r}else Gl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;pt(r),f=!1}else f=dv(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(pr(r),r):(pr(r),null)}if(pr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=c!==null,s=s!==null&&s.memoizedState!==null,a){c=r.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool);var m=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==f&&(c.flags|=2048)}return a!==s&&a&&(r.child.flags|=8192),yd(r,r.updateQueue),pt(r),null;case 4:return $e(),s===null&&ip(r.stateNode.containerInfo),pt(r),null;case 10:return fr(r.type),pt(r),null;case 19:if(pe(Ht),f=r.memoizedState,f===null)return pt(r),null;if(c=(r.flags&128)!==0,m=f.rendering,m===null)if(c)lc(f,!1);else{if(bt!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(m=hd(s),m!==null){for(r.flags|=128,lc(f,!1),s=m.updateQueue,r.updateQueue=s,yd(r,s),r.subtreeFlags=0,s=a,a=r.child;a!==null;)ov(a,s),a=a.sibling;return he(Ht,Ht.current&1|2),r.child}s=s.sibling}f.tail!==null&&An()>wd&&(r.flags|=128,c=!0,lc(f,!1),r.lanes=4194304)}else{if(!c)if(s=hd(m),s!==null){if(r.flags|=128,c=!0,s=s.updateQueue,r.updateQueue=s,yd(r,s),lc(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Ye)return pt(r),null}else 2*An()-f.renderingStartTime>wd&&a!==536870912&&(r.flags|=128,c=!0,lc(f,!1),r.lanes=4194304);f.isBackwards?(m.sibling=r.child,r.child=m):(s=f.last,s!==null?s.sibling=m:r.child=m,f.last=m)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=An(),r.sibling=null,s=Ht.current,he(Ht,c?s&1|2:s&1),r):(pt(r),null);case 22:case 23:return pr(r),om(),c=r.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(a&536870912)!==0&&(r.flags&128)===0&&(pt(r),r.subtreeFlags&6&&(r.flags|=8192)):pt(r),a=r.updateQueue,a!==null&&yd(r,a.retryQueue),a=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==a&&(r.flags|=2048),s!==null&&pe(Ta),null;case 24:return a=null,s!==null&&(a=s.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),fr(qt),pt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function BT(s,r){switch(Kf(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return fr(qt),$e(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return Nn(r),null;case 13:if(pr(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Gl()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return pe(Ht),null;case 4:return $e(),null;case 10:return fr(r.type),null;case 22:case 23:return pr(r),om(),s!==null&&pe(Ta),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return fr(qt),null;case 25:return null;default:return null}}function O0(s,r){switch(Kf(r),r.tag){case 3:fr(qt),$e();break;case 26:case 27:case 5:Nn(r);break;case 4:$e();break;case 13:pr(r);break;case 19:pe(Ht);break;case 10:fr(r.type);break;case 22:case 23:pr(r),om(),s!==null&&pe(Ta);break;case 24:fr(qt)}}function cc(s,r){try{var a=r.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var f=c.next;a=f;do{if((a.tag&s)===s){c=void 0;var m=a.create,x=a.inst;c=m(),x.destroy=c}a=a.next}while(a!==f)}}catch(E){it(r,r.return,E)}}function ci(s,r,a){try{var c=r.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var m=f.next;c=m;do{if((c.tag&s)===s){var x=c.inst,E=x.destroy;if(E!==void 0){x.destroy=void 0,f=r;var j=a,$=E;try{$()}catch(J){it(f,j,J)}}}c=c.next}while(c!==m)}}catch(J){it(r,r.return,J)}}function P0(s){var r=s.updateQueue;if(r!==null){var a=s.stateNode;try{_v(r,a)}catch(c){it(s,s.return,c)}}}function M0(s,r,a){a.props=Sa(s.type,s.memoizedProps),a.state=s.memoizedState;try{a.componentWillUnmount()}catch(c){it(s,r,c)}}function uc(s,r){try{var a=s.ref;if(a!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof a=="function"?s.refCleanup=a(c):a.current=c}}catch(f){it(s,r,f)}}function qs(s,r){var a=s.ref,c=s.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(f){it(s,r,f)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){it(s,r,f)}else a.current=null}function V0(s){var r=s.type,a=s.memoizedProps,c=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(f){it(s,s.return,f)}}function Pm(s,r,a){try{var c=s.stateNode;oN(c,s.type,a,r),c[tn]=r}catch(f){it(s,s.return,f)}}function L0(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&yi(s.type)||s.tag===4}function Mm(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||L0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&yi(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Vm(s,r,a){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(s,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(s),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=jd));else if(c!==4&&(c===27&&yi(s.type)&&(a=s.stateNode,r=null),s=s.child,s!==null))for(Vm(s,r,a),s=s.sibling;s!==null;)Vm(s,r,a),s=s.sibling}function vd(s,r,a){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?a.insertBefore(s,r):a.appendChild(s);else if(c!==4&&(c===27&&yi(s.type)&&(a=s.stateNode),s=s.child,s!==null))for(vd(s,r,a),s=s.sibling;s!==null;)vd(s,r,a),s=s.sibling}function U0(s){var r=s.stateNode,a=s.memoizedProps;try{for(var c=s.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);rn(r,c,a),r[_t]=s,r[tn]=a}catch(m){it(s,s.return,m)}}var vr=!1,St=!1,Lm=!1,B0=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function zT(s,r){if(s=s.containerInfo,lp=Md,s=Wy(s),Mf(s)){if("selectionStart"in s)var a={start:s.selectionStart,end:s.selectionEnd};else e:{a=(a=s.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var x=0,E=-1,j=-1,$=0,J=0,re=s,Y=null;t:for(;;){for(var Q;re!==a||f!==0&&re.nodeType!==3||(E=x+f),re!==m||c!==0&&re.nodeType!==3||(j=x+c),re.nodeType===3&&(x+=re.nodeValue.length),(Q=re.firstChild)!==null;)Y=re,re=Q;for(;;){if(re===s)break t;if(Y===a&&++$===f&&(E=x),Y===m&&++J===c&&(j=x),(Q=re.nextSibling)!==null)break;re=Y,Y=re.parentNode}re=Q}a=E===-1||j===-1?null:{start:E,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(cp={focusedElem:s,selectionRange:a},Md=!1,Qt=r;Qt!==null;)if(r=Qt,s=r.child,(r.subtreeFlags&1024)!==0&&s!==null)s.return=r,Qt=s;else for(;Qt!==null;){switch(r=Qt,m=r.alternate,s=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&m!==null){s=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,c=a.stateNode;try{var Ce=Sa(a.type,f,a.elementType===a.type);s=c.getSnapshotBeforeUpdate(Ce,m),c.__reactInternalSnapshotBeforeUpdate=s}catch(Te){it(a,a.return,Te)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,a=s.nodeType,a===9)hp(s);else if(a===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":hp(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Qt=s;break}Qt=r.return}}function z0(s,r,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:ui(s,a),c&4&&cc(5,a);break;case 1:if(ui(s,a),c&4)if(s=a.stateNode,r===null)try{s.componentDidMount()}catch(x){it(a,a.return,x)}else{var f=Sa(a.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(f,r,s.__reactInternalSnapshotBeforeUpdate)}catch(x){it(a,a.return,x)}}c&64&&P0(a),c&512&&uc(a,a.return);break;case 3:if(ui(s,a),c&64&&(s=a.updateQueue,s!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{_v(s,r)}catch(x){it(a,a.return,x)}}break;case 27:r===null&&c&4&&U0(a);case 26:case 5:ui(s,a),r===null&&c&4&&V0(a),c&512&&uc(a,a.return);break;case 12:ui(s,a);break;case 13:ui(s,a),c&4&&F0(s,a),c&64&&(s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(a=XT.bind(null,a),mN(s,a))));break;case 22:if(c=a.memoizedState!==null||vr,!c){r=r!==null&&r.memoizedState!==null||St,f=vr;var m=St;vr=c,(St=r)&&!m?di(s,a,(a.subtreeFlags&8772)!==0):ui(s,a),vr=f,St=m}break;case 30:break;default:ui(s,a)}}function q0(s){var r=s.alternate;r!==null&&(s.alternate=null,q0(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&Za(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ft=null,jn=!1;function br(s,r,a){for(a=a.child;a!==null;)H0(s,r,a),a=a.sibling}function H0(s,r,a){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Br,a)}catch{}switch(a.tag){case 26:St||qs(a,r),br(s,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:St||qs(a,r);var c=ft,f=jn;yi(a.type)&&(ft=a.stateNode,jn=!1),br(s,r,a),bc(a.stateNode),ft=c,jn=f;break;case 5:St||qs(a,r);case 6:if(c=ft,f=jn,ft=null,br(s,r,a),ft=c,jn=f,ft!==null)if(jn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(a.stateNode)}catch(m){it(a,r,m)}else try{ft.removeChild(a.stateNode)}catch(m){it(a,r,m)}break;case 18:ft!==null&&(jn?(s=ft,Ib(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.stateNode),Ac(s)):Ib(ft,a.stateNode));break;case 4:c=ft,f=jn,ft=a.stateNode.containerInfo,jn=!0,br(s,r,a),ft=c,jn=f;break;case 0:case 11:case 14:case 15:St||ci(2,a,r),St||ci(4,a,r),br(s,r,a);break;case 1:St||(qs(a,r),c=a.stateNode,typeof c.componentWillUnmount=="function"&&M0(a,r,c)),br(s,r,a);break;case 21:br(s,r,a);break;case 22:St=(c=St)||a.memoizedState!==null,br(s,r,a),St=c;break;default:br(s,r,a)}}function F0(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Ac(s)}catch(a){it(r,r.return,a)}}function qT(s){switch(s.tag){case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new B0),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new B0),r;default:throw Error(i(435,s.tag))}}function Um(s,r){var a=qT(s);r.forEach(function(c){var f=WT.bind(null,s,c);a.has(c)||(a.add(c),c.then(f,f))})}function Ln(s,r){var a=r.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c],m=s,x=r,E=x;e:for(;E!==null;){switch(E.tag){case 27:if(yi(E.type)){ft=E.stateNode,jn=!1;break e}break;case 5:ft=E.stateNode,jn=!1;break e;case 3:case 4:ft=E.stateNode.containerInfo,jn=!0;break e}E=E.return}if(ft===null)throw Error(i(160));H0(m,x,f),ft=null,jn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)$0(r,s),r=r.sibling}var xs=null;function $0(s,r){var a=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Ln(r,s),Un(s),c&4&&(ci(3,s,s.return),cc(3,s),ci(5,s,s.return));break;case 1:Ln(r,s),Un(s),c&512&&(St||a===null||qs(a,a.return)),c&64&&vr&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(a=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var f=xs;if(Ln(r,s),Un(s),c&512&&(St||a===null||qs(a,a.return)),c&4){var m=a!==null?a.memoizedState:null;if(c=s.memoizedState,a===null)if(c===null)if(s.stateNode===null){e:{c=s.type,a=s.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Gr]||m[_t]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(c),f.head.insertBefore(m,f.querySelector("head > title"))),rn(m,c,a),m[_t]=s,Et(m),c=m;break e;case"link":var x=Ub("link","href",f).get(c+(a.href||""));if(x){for(var E=0;E<x.length;E++)if(m=x[E],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){x.splice(E,1);break t}}m=f.createElement(c),rn(m,c,a),f.head.appendChild(m);break;case"meta":if(x=Ub("meta","content",f).get(c+(a.content||""))){for(E=0;E<x.length;E++)if(m=x[E],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){x.splice(E,1);break t}}m=f.createElement(c),rn(m,c,a),f.head.appendChild(m);break;default:throw Error(i(468,c))}m[_t]=s,Et(m),c=m}s.stateNode=c}else Bb(f,s.type,s.stateNode);else s.stateNode=Lb(f,c,s.memoizedProps);else m!==c?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,c===null?Bb(f,s.type,s.stateNode):Lb(f,c,s.memoizedProps)):c===null&&s.stateNode!==null&&Pm(s,s.memoizedProps,a.memoizedProps)}break;case 27:Ln(r,s),Un(s),c&512&&(St||a===null||qs(a,a.return)),a!==null&&c&4&&Pm(s,s.memoizedProps,a.memoizedProps);break;case 5:if(Ln(r,s),Un(s),c&512&&(St||a===null||qs(a,a.return)),s.flags&32){f=s.stateNode;try{Jn(f,"")}catch(Q){it(s,s.return,Q)}}c&4&&s.stateNode!=null&&(f=s.memoizedProps,Pm(s,f,a!==null?a.memoizedProps:f)),c&1024&&(Lm=!0);break;case 6:if(Ln(r,s),Un(s),c&4){if(s.stateNode===null)throw Error(i(162));c=s.memoizedProps,a=s.stateNode;try{a.nodeValue=c}catch(Q){it(s,s.return,Q)}}break;case 3:if(Dd=null,f=xs,xs=Id(r.containerInfo),Ln(r,s),xs=f,Un(s),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Ac(r.containerInfo)}catch(Q){it(s,s.return,Q)}Lm&&(Lm=!1,G0(s));break;case 4:c=xs,xs=Id(s.stateNode.containerInfo),Ln(r,s),Un(s),xs=c;break;case 12:Ln(r,s),Un(s);break;case 13:Ln(r,s),Un(s),s.child.flags&8192&&s.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&($m=An()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Um(s,c)));break;case 22:f=s.memoizedState!==null;var j=a!==null&&a.memoizedState!==null,$=vr,J=St;if(vr=$||f,St=J||j,Ln(r,s),St=J,vr=$,Un(s),c&8192)e:for(r=s.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||j||vr||St||Aa(s)),a=null,r=s;;){if(r.tag===5||r.tag===26){if(a===null){j=a=r;try{if(m=j.stateNode,f)x=m.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{E=j.stateNode;var re=j.memoizedProps.style,Y=re!=null&&re.hasOwnProperty("display")?re.display:null;E.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(Q){it(j,j.return,Q)}}}else if(r.tag===6){if(a===null){j=r;try{j.stateNode.nodeValue=f?"":j.memoizedProps}catch(Q){it(j,j.return,Q)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=s.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,Um(s,a))));break;case 19:Ln(r,s),Un(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Um(s,c)));break;case 30:break;case 21:break;default:Ln(r,s),Un(s)}}function Un(s){var r=s.flags;if(r&2){try{for(var a,c=s.return;c!==null;){if(L0(c)){a=c;break}c=c.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var f=a.stateNode,m=Mm(s);vd(s,m,f);break;case 5:var x=a.stateNode;a.flags&32&&(Jn(x,""),a.flags&=-33);var E=Mm(s);vd(s,E,x);break;case 3:case 4:var j=a.stateNode.containerInfo,$=Mm(s);Vm(s,$,j);break;default:throw Error(i(161))}}catch(J){it(s,s.return,J)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function G0(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;G0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function ui(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)z0(s,r.alternate,r),r=r.sibling}function Aa(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:ci(4,r,r.return),Aa(r);break;case 1:qs(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&M0(r,r.return,a),Aa(r);break;case 27:bc(r.stateNode);case 26:case 5:qs(r,r.return),Aa(r);break;case 22:r.memoizedState===null&&Aa(r);break;case 30:Aa(r);break;default:Aa(r)}s=s.sibling}}function di(s,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,f=s,m=r,x=m.flags;switch(m.tag){case 0:case 11:case 15:di(f,m,a),cc(4,m);break;case 1:if(di(f,m,a),c=m,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch($){it(c,c.return,$)}if(c=m,f=c.updateQueue,f!==null){var E=c.stateNode;try{var j=f.shared.hiddenCallbacks;if(j!==null)for(f.shared.hiddenCallbacks=null,f=0;f<j.length;f++)xv(j[f],E)}catch($){it(c,c.return,$)}}a&&x&64&&P0(m),uc(m,m.return);break;case 27:U0(m);case 26:case 5:di(f,m,a),a&&c===null&&x&4&&V0(m),uc(m,m.return);break;case 12:di(f,m,a);break;case 13:di(f,m,a),a&&x&4&&F0(f,m);break;case 22:m.memoizedState===null&&di(f,m,a),uc(m,m.return);break;case 30:break;default:di(f,m,a)}r=r.sibling}}function Bm(s,r){var a=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==a&&(s!=null&&s.refCount++,a!=null&&Ql(a))}function zm(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Ql(s))}function Hs(s,r,a,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)K0(s,r,a,c),r=r.sibling}function K0(s,r,a,c){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Hs(s,r,a,c),f&2048&&cc(9,r);break;case 1:Hs(s,r,a,c);break;case 3:Hs(s,r,a,c),f&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Ql(s)));break;case 12:if(f&2048){Hs(s,r,a,c),s=r.stateNode;try{var m=r.memoizedProps,x=m.id,E=m.onPostCommit;typeof E=="function"&&E(x,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(j){it(r,r.return,j)}}else Hs(s,r,a,c);break;case 13:Hs(s,r,a,c);break;case 23:break;case 22:m=r.stateNode,x=r.alternate,r.memoizedState!==null?m._visibility&2?Hs(s,r,a,c):dc(s,r):m._visibility&2?Hs(s,r,a,c):(m._visibility|=2,So(s,r,a,c,(r.subtreeFlags&10256)!==0)),f&2048&&Bm(x,r);break;case 24:Hs(s,r,a,c),f&2048&&zm(r.alternate,r);break;default:Hs(s,r,a,c)}}function So(s,r,a,c,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=s,x=r,E=a,j=c,$=x.flags;switch(x.tag){case 0:case 11:case 15:So(m,x,E,j,f),cc(8,x);break;case 23:break;case 22:var J=x.stateNode;x.memoizedState!==null?J._visibility&2?So(m,x,E,j,f):dc(m,x):(J._visibility|=2,So(m,x,E,j,f)),f&&$&2048&&Bm(x.alternate,x);break;case 24:So(m,x,E,j,f),f&&$&2048&&zm(x.alternate,x);break;default:So(m,x,E,j,f)}r=r.sibling}}function dc(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=s,c=r,f=c.flags;switch(c.tag){case 22:dc(a,c),f&2048&&Bm(c.alternate,c);break;case 24:dc(a,c),f&2048&&zm(c.alternate,c);break;default:dc(a,c)}r=r.sibling}}var hc=8192;function Ao(s){if(s.subtreeFlags&hc)for(s=s.child;s!==null;)Y0(s),s=s.sibling}function Y0(s){switch(s.tag){case 26:Ao(s),s.flags&hc&&s.memoizedState!==null&&AN(xs,s.memoizedState,s.memoizedProps);break;case 5:Ao(s);break;case 3:case 4:var r=xs;xs=Id(s.stateNode.containerInfo),Ao(s),xs=r;break;case 22:s.memoizedState===null&&(r=s.alternate,r!==null&&r.memoizedState!==null?(r=hc,hc=16777216,Ao(s),hc=r):Ao(s));break;default:Ao(s)}}function Q0(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function fc(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var c=r[a];Qt=c,W0(c,s)}Q0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)X0(s),s=s.sibling}function X0(s){switch(s.tag){case 0:case 11:case 15:fc(s),s.flags&2048&&ci(9,s,s.return);break;case 3:fc(s);break;case 12:fc(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,bd(s)):fc(s);break;default:fc(s)}}function bd(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var c=r[a];Qt=c,W0(c,s)}Q0(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:ci(8,r,r.return),bd(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,bd(r));break;default:bd(r)}s=s.sibling}}function W0(s,r){for(;Qt!==null;){var a=Qt;switch(a.tag){case 0:case 11:case 15:ci(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Ql(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,Qt=c;else e:for(a=s;Qt!==null;){c=Qt;var f=c.sibling,m=c.return;if(q0(c),c===a){Qt=null;break e}if(f!==null){f.return=m,Qt=f;break e}Qt=m}}}var HT={getCacheForType:function(s){var r=cn(qt),a=r.data.get(s);return a===void 0&&(a=s(),r.data.set(s,a)),a}},FT=typeof WeakMap=="function"?WeakMap:Map,Je=0,lt=null,Le=null,He=0,et=0,Bn=null,hi=!1,Co=!1,qm=!1,wr=0,bt=0,fi=0,Ca=0,Hm=0,as=0,jo=0,mc=null,Rn=null,Fm=!1,$m=0,wd=1/0,xd=null,mi=null,sn=0,pi=null,Ro=null,Io=0,Gm=0,Km=null,Z0=null,pc=0,Ym=null;function zn(){if((Je&2)!==0&&He!==0)return He&-He;if(G.T!==null){var s=vo;return s!==0?s:tp()}return nr()}function J0(){as===0&&(as=(He&536870912)===0||Ye?Nl():536870912);var s=is.current;return s!==null&&(s.flags|=32),as}function qn(s,r,a){(s===lt&&(et===2||et===9)||s.cancelPendingCommit!==null)&&(ko(s,0),gi(s,He,as,!1)),xt(s,a),((Je&2)===0||s!==lt)&&(s===lt&&((Je&2)===0&&(Ca|=a),bt===4&&gi(s,He,as,!1)),Fs(s))}function eb(s,r,a){if((Je&6)!==0)throw Error(i(327));var c=!a&&(r&124)===0&&(r&s.expiredLanes)===0||qr(s,r),f=c?KT(s,r):Wm(s,r,!0),m=c;do{if(f===0){Co&&!c&&gi(s,r,0,!1);break}else{if(a=s.current.alternate,m&&!$T(a)){f=Wm(s,r,!1),m=!1;continue}if(f===2){if(m=r,s.errorRecoveryDisabledLanes&m)var x=0;else x=s.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){r=x;e:{var E=s;f=mc;var j=E.current.memoizedState.isDehydrated;if(j&&(ko(E,x).flags|=256),x=Wm(E,x,!1),x!==2){if(qm&&!j){E.errorRecoveryDisabledLanes|=m,Ca|=m,f=4;break e}m=Rn,Rn=f,m!==null&&(Rn===null?Rn=m:Rn.push.apply(Rn,m))}f=x}if(m=!1,f!==2)continue}}if(f===1){ko(s,0),gi(s,r,0,!0);break}e:{switch(c=s,m=f,m){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:gi(c,r,as,!hi);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(f=$m+300-An(),10<f)){if(gi(c,r,as,!hi),Wn(c,0,!0)!==0)break e;c.timeoutHandle=jb(tb.bind(null,c,a,Rn,xd,Fm,r,as,Ca,jo,hi,m,2,-0,0),f);break e}tb(c,a,Rn,xd,Fm,r,as,Ca,jo,hi,m,0,-0,0)}}break}while(!0);Fs(s)}function tb(s,r,a,c,f,m,x,E,j,$,J,re,Y,Q){if(s.timeoutHandle=-1,re=r.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(_c={stylesheets:null,count:0,unsuspend:SN},Y0(r),re=CN(),re!==null)){s.cancelPendingCommit=re(lb.bind(null,s,r,m,a,c,f,x,E,j,J,1,Y,Q)),gi(s,m,x,!$);return}lb(s,r,m,a,c,f,x,E,j)}function $T(s){for(var r=s;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var f=a[c],m=f.getSnapshot;f=f.value;try{if(!Mn(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function gi(s,r,a,c){r&=~Hm,r&=~Ca,s.suspendedLanes|=r,s.pingedLanes&=~r,c&&(s.warmLanes|=r),c=s.expirationTimes;for(var f=r;0<f;){var m=31-vn(f),x=1<<m;c[m]=-1,f&=~x}a!==0&&Fr(s,a,r)}function _d(){return(Je&6)===0?(gc(0),!1):!0}function Qm(){if(Le!==null){if(et===0)var s=Le.return;else s=Le,hr=_a=null,hm(s),To=null,ac=0,s=Le;for(;s!==null;)O0(s.alternate,s),s=s.return;Le=null}}function ko(s,r){var a=s.timeoutHandle;a!==-1&&(s.timeoutHandle=-1,cN(a)),a=s.cancelPendingCommit,a!==null&&(s.cancelPendingCommit=null,a()),Qm(),lt=s,Le=a=cr(s.current,null),He=r,et=0,Bn=null,hi=!1,Co=qr(s,r),qm=!1,jo=as=Hm=Ca=fi=bt=0,Rn=mc=null,Fm=!1,(r&8)!==0&&(r|=r&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=r;0<c;){var f=31-vn(c),m=1<<f;r|=s[f],c&=~m}return wr=r,Fu(),a}function nb(s,r){Pe=null,G.H=cd,r===Wl||r===Ju?(r=bv(),et=3):r===gv?(r=bv(),et=4):et=r===w0?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Bn=r,Le===null&&(bt=1,md(s,ts(r,s.current)))}function sb(){var s=G.H;return G.H=cd,s===null?cd:s}function rb(){var s=G.A;return G.A=HT,s}function Xm(){bt=4,hi||(He&4194048)!==He&&is.current!==null||(Co=!0),(fi&134217727)===0&&(Ca&134217727)===0||lt===null||gi(lt,He,as,!1)}function Wm(s,r,a){var c=Je;Je|=2;var f=sb(),m=rb();(lt!==s||He!==r)&&(xd=null,ko(s,r)),r=!1;var x=bt;e:do try{if(et!==0&&Le!==null){var E=Le,j=Bn;switch(et){case 8:Qm(),x=6;break e;case 3:case 2:case 9:case 6:is.current===null&&(r=!0);var $=et;if(et=0,Bn=null,Do(s,E,j,$),a&&Co){x=0;break e}break;default:$=et,et=0,Bn=null,Do(s,E,j,$)}}GT(),x=bt;break}catch(J){nb(s,J)}while(!0);return r&&s.shellSuspendCounter++,hr=_a=null,Je=c,G.H=f,G.A=m,Le===null&&(lt=null,He=0,Fu()),x}function GT(){for(;Le!==null;)ib(Le)}function KT(s,r){var a=Je;Je|=2;var c=sb(),f=rb();lt!==s||He!==r?(xd=null,wd=An()+500,ko(s,r)):Co=qr(s,r);e:do try{if(et!==0&&Le!==null){r=Le;var m=Bn;t:switch(et){case 1:et=0,Bn=null,Do(s,r,m,1);break;case 2:case 9:if(yv(m)){et=0,Bn=null,ab(r);break}r=function(){et!==2&&et!==9||lt!==s||(et=7),Fs(s)},m.then(r,r);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:yv(m)?(et=0,Bn=null,ab(r)):(et=0,Bn=null,Do(s,r,m,7));break;case 5:var x=null;switch(Le.tag){case 26:x=Le.memoizedState;case 5:case 27:var E=Le;if(!x||zb(x)){et=0,Bn=null;var j=E.sibling;if(j!==null)Le=j;else{var $=E.return;$!==null?(Le=$,Ed($)):Le=null}break t}}et=0,Bn=null,Do(s,r,m,5);break;case 6:et=0,Bn=null,Do(s,r,m,6);break;case 8:Qm(),bt=6;break e;default:throw Error(i(462))}}YT();break}catch(J){nb(s,J)}while(!0);return hr=_a=null,G.H=c,G.A=f,Je=a,Le!==null?0:(lt=null,He=0,Fu(),bt)}function YT(){for(;Le!==null&&!Qn();)ib(Le)}function ib(s){var r=k0(s.alternate,s,wr);s.memoizedProps=s.pendingProps,r===null?Ed(s):Le=r}function ab(s){var r=s,a=r.alternate;switch(r.tag){case 15:case 0:r=S0(a,r,r.pendingProps,r.type,void 0,He);break;case 11:r=S0(a,r,r.pendingProps,r.type.render,r.ref,He);break;case 5:hm(r);default:O0(a,r),r=Le=ov(r,wr),r=k0(a,r,wr)}s.memoizedProps=s.pendingProps,r===null?Ed(s):Le=r}function Do(s,r,a,c){hr=_a=null,hm(r),To=null,ac=0;var f=r.return;try{if(VT(s,f,r,a,He)){bt=1,md(s,ts(a,s.current)),Le=null;return}}catch(m){if(f!==null)throw Le=f,m;bt=1,md(s,ts(a,s.current)),Le=null;return}r.flags&32768?(Ye||c===1?s=!0:Co||(He&536870912)!==0?s=!1:(hi=s=!0,(c===2||c===9||c===3||c===6)&&(c=is.current,c!==null&&c.tag===13&&(c.flags|=16384))),ob(r,s)):Ed(r)}function Ed(s){var r=s;do{if((r.flags&32768)!==0){ob(r,hi);return}s=r.return;var a=UT(r.alternate,r,wr);if(a!==null){Le=a;return}if(r=r.sibling,r!==null){Le=r;return}Le=r=s}while(r!==null);bt===0&&(bt=5)}function ob(s,r){do{var a=BT(s.alternate,s);if(a!==null){a.flags&=32767,Le=a;return}if(a=s.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(s=s.sibling,s!==null)){Le=s;return}Le=s=a}while(s!==null);bt=6,Le=null}function lb(s,r,a,c,f,m,x,E,j){s.cancelPendingCommit=null;do Td();while(sn!==0);if((Je&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(m=r.lanes|r.childLanes,m|=zf,Au(s,a,m,x,E,j),s===lt&&(Le=lt=null,He=0),Ro=r,pi=s,Io=a,Gm=m,Km=f,Z0=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,ZT(tr,function(){return fb(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=G.T,G.T=null,f=le.p,le.p=2,x=Je,Je|=4;try{zT(s,r,a)}finally{Je=x,le.p=f,G.T=c}}sn=1,cb(),ub(),db()}}function cb(){if(sn===1){sn=0;var s=pi,r=Ro,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var c=le.p;le.p=2;var f=Je;Je|=4;try{$0(r,s);var m=cp,x=Wy(s.containerInfo),E=m.focusedElem,j=m.selectionRange;if(x!==E&&E&&E.ownerDocument&&Xy(E.ownerDocument.documentElement,E)){if(j!==null&&Mf(E)){var $=j.start,J=j.end;if(J===void 0&&(J=$),"selectionStart"in E)E.selectionStart=$,E.selectionEnd=Math.min(J,E.value.length);else{var re=E.ownerDocument||document,Y=re&&re.defaultView||window;if(Y.getSelection){var Q=Y.getSelection(),Ce=E.textContent.length,Te=Math.min(j.start,Ce),rt=j.end===void 0?Te:Math.min(j.end,Ce);!Q.extend&&Te>rt&&(x=rt,rt=Te,Te=x);var U=Qy(E,Te),V=Qy(E,rt);if(U&&V&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==V.node||Q.focusOffset!==V.offset)){var q=re.createRange();q.setStart(U.node,U.offset),Q.removeAllRanges(),Te>rt?(Q.addRange(q),Q.extend(V.node,V.offset)):(q.setEnd(V.node,V.offset),Q.addRange(q))}}}}for(re=[],Q=E;Q=Q.parentNode;)Q.nodeType===1&&re.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<re.length;E++){var ee=re[E];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Md=!!lp,cp=lp=null}finally{Je=f,le.p=c,G.T=a}}s.current=r,sn=2}}function ub(){if(sn===2){sn=0;var s=pi,r=Ro,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var c=le.p;le.p=2;var f=Je;Je|=4;try{z0(s,r.alternate,r)}finally{Je=f,le.p=c,G.T=a}}sn=3}}function db(){if(sn===4||sn===3){sn=0,Ki();var s=pi,r=Ro,a=Io,c=Z0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?sn=5:(sn=0,Ro=pi=null,hb(s,s.pendingLanes));var f=s.pendingLanes;if(f===0&&(mi=null),Al(a),r=r.stateNode,on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Br,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=G.T,f=le.p,le.p=2,G.T=null;try{for(var m=s.onRecoverableError,x=0;x<c.length;x++){var E=c[x];m(E.value,{componentStack:E.stack})}}finally{G.T=r,le.p=f}}(Io&3)!==0&&Td(),Fs(s),f=s.pendingLanes,(a&4194090)!==0&&(f&42)!==0?s===Ym?pc++:(pc=0,Ym=s):pc=0,gc(0)}}function hb(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,Ql(r)))}function Td(s){return cb(),ub(),db(),fb()}function fb(){if(sn!==5)return!1;var s=pi,r=Gm;Gm=0;var a=Al(Io),c=G.T,f=le.p;try{le.p=32>a?32:a,G.T=null,a=Km,Km=null;var m=pi,x=Io;if(sn=0,Ro=pi=null,Io=0,(Je&6)!==0)throw Error(i(331));var E=Je;if(Je|=4,X0(m.current),K0(m,m.current,x,a),Je=E,gc(0,!1),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Br,m)}catch{}return!0}finally{le.p=f,G.T=c,hb(s,r)}}function mb(s,r,a){r=ts(a,r),r=Sm(s.stateNode,r,2),s=ii(s,r,2),s!==null&&(xt(s,2),Fs(s))}function it(s,r,a){if(s.tag===3)mb(s,s,a);else for(;r!==null;){if(r.tag===3){mb(r,s,a);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(mi===null||!mi.has(c))){s=ts(a,s),a=v0(2),c=ii(r,a,2),c!==null&&(b0(a,c,r,s),xt(c,2),Fs(c));break}}r=r.return}}function Zm(s,r,a){var c=s.pingCache;if(c===null){c=s.pingCache=new FT;var f=new Set;c.set(r,f)}else f=c.get(r),f===void 0&&(f=new Set,c.set(r,f));f.has(a)||(qm=!0,f.add(a),s=QT.bind(null,s,r,a),r.then(s,s))}function QT(s,r,a){var c=s.pingCache;c!==null&&c.delete(r),s.pingedLanes|=s.suspendedLanes&a,s.warmLanes&=~a,lt===s&&(He&a)===a&&(bt===4||bt===3&&(He&62914560)===He&&300>An()-$m?(Je&2)===0&&ko(s,0):Hm|=a,jo===He&&(jo=0)),Fs(s)}function pb(s,r){r===0&&(r=Hr()),s=mo(s,r),s!==null&&(xt(s,r),Fs(s))}function XT(s){var r=s.memoizedState,a=0;r!==null&&(a=r.retryLane),pb(s,a)}function WT(s,r){var a=0;switch(s.tag){case 13:var c=s.stateNode,f=s.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(r),pb(s,a)}function ZT(s,r){return It(s,r)}var Nd=null,Oo=null,Jm=!1,Sd=!1,ep=!1,ja=0;function Fs(s){s!==Oo&&s.next===null&&(Oo===null?Nd=Oo=s:Oo=Oo.next=s),Sd=!0,Jm||(Jm=!0,eN())}function gc(s,r){if(!ep&&Sd){ep=!0;do for(var a=!1,c=Nd;c!==null;){if(s!==0){var f=c.pendingLanes;if(f===0)var m=0;else{var x=c.suspendedLanes,E=c.pingedLanes;m=(1<<31-vn(42|s)+1)-1,m&=f&~(x&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,bb(c,m))}else m=He,m=Wn(c,c===lt?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||qr(c,m)||(a=!0,bb(c,m));c=c.next}while(a);ep=!1}}function JT(){gb()}function gb(){Sd=Jm=!1;var s=0;ja!==0&&(lN()&&(s=ja),ja=0);for(var r=An(),a=null,c=Nd;c!==null;){var f=c.next,m=yb(c,r);m===0?(c.next=null,a===null?Nd=f:a.next=f,f===null&&(Oo=a)):(a=c,(s!==0||(m&3)!==0)&&(Sd=!0)),c=f}gc(s)}function yb(s,r){for(var a=s.suspendedLanes,c=s.pingedLanes,f=s.expirationTimes,m=s.pendingLanes&-62914561;0<m;){var x=31-vn(m),E=1<<x,j=f[x];j===-1?((E&a)===0||(E&c)!==0)&&(f[x]=Xa(E,r)):j<=r&&(s.expiredLanes|=E),m&=~E}if(r=lt,a=He,a=Wn(s,s===r?a:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,a===0||s===r&&(et===2||et===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&yn(c),s.callbackNode=null,s.callbackPriority=0;if((a&3)===0||qr(s,a)){if(r=a&-a,r===s.callbackPriority)return r;switch(c!==null&&yn(c),Al(a)){case 2:case 8:a=Gt;break;case 32:a=tr;break;case 268435456:a=Tl;break;default:a=tr}return c=vb.bind(null,s),a=It(a,c),s.callbackPriority=r,s.callbackNode=a,r}return c!==null&&c!==null&&yn(c),s.callbackPriority=2,s.callbackNode=null,2}function vb(s,r){if(sn!==0&&sn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var a=s.callbackNode;if(Td()&&s.callbackNode!==a)return null;var c=He;return c=Wn(s,s===lt?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(eb(s,c,r),yb(s,An()),s.callbackNode!=null&&s.callbackNode===a?vb.bind(null,s):null)}function bb(s,r){if(Td())return null;eb(s,r,!0)}function eN(){uN(function(){(Je&6)!==0?It(Bt,JT):gb()})}function tp(){return ja===0&&(ja=Nl()),ja}function wb(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:gs(""+s)}function xb(s,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,s.id&&a.setAttribute("form",s.id),r.parentNode.insertBefore(a,r),s=new FormData(s),a.parentNode.removeChild(a),s}function tN(s,r,a,c,f){if(r==="submit"&&a&&a.stateNode===f){var m=wb((f[tn]||null).action),x=c.submitter;x&&(r=(r=x[tn]||null)?wb(r.formAction):x.getAttribute("formAction"),r!==null&&(m=r,x=null));var E=new la("action","action",null,c,f);s.push({event:E,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ja!==0){var j=x?xb(f,x):new FormData(f);xm(a,{pending:!0,data:j,method:f.method,action:m},null,j)}}else typeof m=="function"&&(E.preventDefault(),j=x?xb(f,x):new FormData(f),xm(a,{pending:!0,data:j,method:f.method,action:m},m,j))},currentTarget:f}]})}}for(var np=0;np<Bf.length;np++){var sp=Bf[np],nN=sp.toLowerCase(),sN=sp[0].toUpperCase()+sp.slice(1);ws(nN,"on"+sN)}ws(ev,"onAnimationEnd"),ws(tv,"onAnimationIteration"),ws(nv,"onAnimationStart"),ws("dblclick","onDoubleClick"),ws("focusin","onFocus"),ws("focusout","onBlur"),ws(wT,"onTransitionRun"),ws(xT,"onTransitionStart"),ws(_T,"onTransitionCancel"),ws(sv,"onTransitionEnd"),Ms("onMouseEnter",["mouseout","mouseover"]),Ms("onMouseLeave",["mouseout","mouseover"]),Ms("onPointerEnter",["pointerout","pointerover"]),Ms("onPointerLeave",["pointerout","pointerover"]),Ps("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ps("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ps("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ps("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ps("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ps("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yc));function _b(s,r){r=(r&4)!==0;for(var a=0;a<s.length;a++){var c=s[a],f=c.event;c=c.listeners;e:{var m=void 0;if(r)for(var x=c.length-1;0<=x;x--){var E=c[x],j=E.instance,$=E.currentTarget;if(E=E.listener,j!==m&&f.isPropagationStopped())break e;m=E,f.currentTarget=$;try{m(f)}catch(J){fd(J)}f.currentTarget=null,m=j}else for(x=0;x<c.length;x++){if(E=c[x],j=E.instance,$=E.currentTarget,E=E.listener,j!==m&&f.isPropagationStopped())break e;m=E,f.currentTarget=$;try{m(f)}catch(J){fd(J)}f.currentTarget=null,m=j}}}}function Ue(s,r){var a=r[Qi];a===void 0&&(a=r[Qi]=new Set);var c=s+"__bubble";a.has(c)||(Eb(r,s,2,!1),a.add(c))}function rp(s,r,a){var c=0;r&&(c|=4),Eb(a,s,c,r)}var Ad="_reactListening"+Math.random().toString(36).slice(2);function ip(s){if(!s[Ad]){s[Ad]=!0,Cu.forEach(function(a){a!=="selectionchange"&&(rN.has(a)||rp(a,!1,s),rp(a,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[Ad]||(r[Ad]=!0,rp("selectionchange",!1,r))}}function Eb(s,r,a,c){switch(Kb(r)){case 2:var f=IN;break;case 8:f=kN;break;default:f=bp}a=f.bind(null,r,a,s),f=void 0,!or||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),c?f!==void 0?s.addEventListener(r,a,{capture:!0,passive:f}):s.addEventListener(r,a,!0):f!==void 0?s.addEventListener(r,a,{passive:f}):s.addEventListener(r,a,!1)}function ap(s,r,a,c,f){var m=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var E=c.stateNode.containerInfo;if(E===f)break;if(x===4)for(x=c.return;x!==null;){var j=x.tag;if((j===3||j===4)&&x.stateNode.containerInfo===f)return;x=x.return}for(;E!==null;){if(x=Ds(E),x===null)return;if(j=x.tag,j===5||j===6||j===26||j===27){c=m=x;continue e}E=E.parentNode}}c=c.return}ia(function(){var $=m,J=Ol(a),re=[];e:{var Y=rv.get(s);if(Y!==void 0){var Q=la,Ce=s;switch(s){case"keypress":if(aa(a)===0)break e;case"keydown":case"keyup":Q=co;break;case"focusin":Ce="focus",Q=ao;break;case"focusout":Ce="blur",Q=ao;break;case"beforeblur":case"afterblur":Q=ao;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=fa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=ti;break;case ev:case tv:case nv:Q=Ml;break;case sv:Q=v;break;case"scroll":case"scrollend":Q=ua;break;case"wheel":Q=T;break;case"copy":case"cut":case"paste":Q=Vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Ul;break;case"toggle":case"beforetoggle":Q=X}var Te=(r&4)!==0,rt=!Te&&(s==="scroll"||s==="scrollend"),U=Te?Y!==null?Y+"Capture":null:Y;Te=[];for(var V=$,q;V!==null;){var ee=V;if(q=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||q===null||U===null||(ee=Jr(V,U),ee!=null&&Te.push(vc(V,ee,q))),rt)break;V=V.return}0<Te.length&&(Y=new Q(Y,Ce,null,a,J),re.push({event:Y,listeners:Te}))}}if((r&7)===0){e:{if(Y=s==="mouseover"||s==="pointerover",Q=s==="mouseout"||s==="pointerout",Y&&a!==Dl&&(Ce=a.relatedTarget||a.fromElement)&&(Ds(Ce)||Ce[sr]))break e;if((Q||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,Q?(Ce=a.relatedTarget||a.toElement,Q=$,Ce=Ce?Ds(Ce):null,Ce!==null&&(rt=u(Ce),Te=Ce.tag,Ce!==rt||Te!==5&&Te!==27&&Te!==6)&&(Ce=null)):(Q=null,Ce=$),Q!==Ce)){if(Te=fa,ee="onMouseLeave",U="onMouseEnter",V="mouse",(s==="pointerout"||s==="pointerover")&&(Te=Ul,ee="onPointerLeave",U="onPointerEnter",V="pointer"),rt=Q==null?Y:Kr(Q),q=Ce==null?Y:Kr(Ce),Y=new Te(ee,V+"leave",Q,a,J),Y.target=rt,Y.relatedTarget=q,ee=null,Ds(J)===$&&(Te=new Te(U,V+"enter",Ce,a,J),Te.target=q,Te.relatedTarget=rt,ee=Te),rt=ee,Q&&Ce)t:{for(Te=Q,U=Ce,V=0,q=Te;q;q=Po(q))V++;for(q=0,ee=U;ee;ee=Po(ee))q++;for(;0<V-q;)Te=Po(Te),V--;for(;0<q-V;)U=Po(U),q--;for(;V--;){if(Te===U||U!==null&&Te===U.alternate)break t;Te=Po(Te),U=Po(U)}Te=null}else Te=null;Q!==null&&Tb(re,Y,Q,Te,!1),Ce!==null&&rt!==null&&Tb(re,rt,Ce,Te,!0)}}e:{if(Y=$?Kr($):window,Q=Y.nodeName&&Y.nodeName.toLowerCase(),Q==="select"||Q==="input"&&Y.type==="file")var ve=Hy;else if(zy(Y))if(Fy)ve=yT;else{ve=pT;var Ve=mT}else Q=Y.nodeName,!Q||Q.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?$&&so($.elementType)&&(ve=Hy):ve=gT;if(ve&&(ve=ve(s,$))){qy(re,ve,a,J);break e}Ve&&Ve(s,Y,$),s==="focusout"&&$&&Y.type==="number"&&$.memoizedProps.value!=null&&Rl(Y,"number",Y.value)}switch(Ve=$?Kr($):window,s){case"focusin":(zy(Ve)||Ve.contentEditable==="true")&&(uo=Ve,Vf=$,Fl=null);break;case"focusout":Fl=Vf=uo=null;break;case"mousedown":Lf=!0;break;case"contextmenu":case"mouseup":case"dragend":Lf=!1,Zy(re,a,J);break;case"selectionchange":if(bT)break;case"keydown":case"keyup":Zy(re,a,J)}var we;if(Re)e:{switch(s){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else bs?ys(s,a)&&(Ne="onCompositionEnd"):s==="keydown"&&a.keyCode===229&&(Ne="onCompositionStart");Ne&&(Tt&&a.locale!=="ko"&&(bs||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&bs&&(we=Ou()):(es=J,ot="value"in es?es.value:es.textContent,bs=!0)),Ve=Cd($,Ne),0<Ve.length&&(Ne=new Ll(Ne,s,null,a,J),re.push({event:Ne,listeners:Ve}),we?Ne.data=we:(we=vs(a),we!==null&&(Ne.data=we)))),(we=Ze?Bl(s,a):dT(s,a))&&(Ne=Cd($,"onBeforeInput"),0<Ne.length&&(Ve=new Ll("onBeforeInput","beforeinput",null,a,J),re.push({event:Ve,listeners:Ne}),Ve.data=we)),tN(re,s,$,a,J)}_b(re,r)})}function vc(s,r,a){return{instance:s,listener:r,currentTarget:a}}function Cd(s,r){for(var a=r+"Capture",c=[];s!==null;){var f=s,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Jr(s,a),f!=null&&c.unshift(vc(s,f,m)),f=Jr(s,r),f!=null&&c.push(vc(s,f,m))),s.tag===3)return c;s=s.return}return[]}function Po(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Tb(s,r,a,c,f){for(var m=r._reactName,x=[];a!==null&&a!==c;){var E=a,j=E.alternate,$=E.stateNode;if(E=E.tag,j!==null&&j===c)break;E!==5&&E!==26&&E!==27||$===null||(j=$,f?($=Jr(a,m),$!=null&&x.unshift(vc(a,$,j))):f||($=Jr(a,m),$!=null&&x.push(vc(a,$,j)))),a=a.return}x.length!==0&&s.push({event:r,listeners:x})}var iN=/\r\n?/g,aN=/\u0000|\uFFFD/g;function Nb(s){return(typeof s=="string"?s:""+s).replace(iN,`
`).replace(aN,"")}function Sb(s,r){return r=Nb(r),Nb(s)===r}function jd(){}function st(s,r,a,c,f,m){switch(a){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Jn(s,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Jn(s,""+c);break;case"className":ea(s,"class",c);break;case"tabIndex":ea(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ea(s,a,c);break;case"style":kl(s,c,m);break;case"data":if(r!=="object"){ea(s,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||a!=="href")){s.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(a);break}c=gs(""+c),s.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&st(s,r,"name",f.name,f,null),st(s,r,"formEncType",f.formEncType,f,null),st(s,r,"formMethod",f.formMethod,f,null),st(s,r,"formTarget",f.formTarget,f,null)):(st(s,r,"encType",f.encType,f,null),st(s,r,"method",f.method,f,null),st(s,r,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(a);break}c=gs(""+c),s.setAttribute(a,c);break;case"onClick":c!=null&&(s.onclick=jd);break;case"onScroll":c!=null&&Ue("scroll",s);break;case"onScrollEnd":c!=null&&Ue("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(a=c.__html,a!=null){if(f.children!=null)throw Error(i(60));s.innerHTML=a}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}a=gs(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(a,""+c):s.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(a,""):s.removeAttribute(a);break;case"capture":case"download":c===!0?s.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(a,c):s.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(a,c):s.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(a):s.setAttribute(a,c);break;case"popover":Ue("beforetoggle",s),Ue("toggle",s),Ji(s,"popover",c);break;case"xlinkActuate":Zn(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Zn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Zn(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Zn(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Zn(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Zn(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Zn(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Zn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Zn(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ji(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Iu.get(a)||a,Ji(s,a,c))}}function op(s,r,a,c,f,m){switch(a){case"style":kl(s,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(a=c.__html,a!=null){if(f.children!=null)throw Error(i(60));s.innerHTML=a}}break;case"children":typeof c=="string"?Jn(s,c):(typeof c=="number"||typeof c=="bigint")&&Jn(s,""+c);break;case"onScroll":c!=null&&Ue("scroll",s);break;case"onScrollEnd":c!=null&&Ue("scrollend",s);break;case"onClick":c!=null&&(s.onclick=jd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wi.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=s[tn]||null,m=m!=null?m[a]:null,typeof m=="function"&&s.removeEventListener(r,m,f),typeof c=="function")){typeof m!="function"&&m!==null&&(a in s?s[a]=null:s.hasAttribute(a)&&s.removeAttribute(a)),s.addEventListener(r,c,f);break e}a in s?s[a]=c:c===!0?s.setAttribute(a,""):Ji(s,a,c)}}}function rn(s,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",s),Ue("load",s);var c=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var x=a[m];if(x!=null)switch(m){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:st(s,r,m,x,a,null)}}f&&st(s,r,"srcSet",a.srcSet,a,null),c&&st(s,r,"src",a.src,a,null);return;case"input":Ue("invalid",s);var E=m=x=f=null,j=null,$=null;for(c in a)if(a.hasOwnProperty(c)){var J=a[c];if(J!=null)switch(c){case"name":f=J;break;case"type":x=J;break;case"checked":j=J;break;case"defaultChecked":$=J;break;case"value":m=J;break;case"defaultValue":E=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,r));break;default:st(s,r,c,J,a,null)}}jl(s,m,E,j,$,x,f,!1),Xr(s);return;case"select":Ue("invalid",s),c=x=m=null;for(f in a)if(a.hasOwnProperty(f)&&(E=a[f],E!=null))switch(f){case"value":m=E;break;case"defaultValue":x=E;break;case"multiple":c=E;default:st(s,r,f,E,a,null)}r=m,a=x,s.multiple=!!c,r!=null?Wr(s,!!c,r,!1):a!=null&&Wr(s,!!c,a,!0);return;case"textarea":Ue("invalid",s),m=f=c=null;for(x in a)if(a.hasOwnProperty(x)&&(E=a[x],E!=null))switch(x){case"value":c=E;break;case"defaultValue":f=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:st(s,r,x,E,a,null)}Ru(s,c,f,m),Xr(s);return;case"option":for(j in a)if(a.hasOwnProperty(j)&&(c=a[j],c!=null))switch(j){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:st(s,r,j,c,a,null)}return;case"dialog":Ue("beforetoggle",s),Ue("toggle",s),Ue("cancel",s),Ue("close",s);break;case"iframe":case"object":Ue("load",s);break;case"video":case"audio":for(c=0;c<yc.length;c++)Ue(yc[c],s);break;case"image":Ue("error",s),Ue("load",s);break;case"details":Ue("toggle",s);break;case"embed":case"source":case"link":Ue("error",s),Ue("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in a)if(a.hasOwnProperty($)&&(c=a[$],c!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:st(s,r,$,c,a,null)}return;default:if(so(r)){for(J in a)a.hasOwnProperty(J)&&(c=a[J],c!==void 0&&op(s,r,J,c,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(c=a[E],c!=null&&st(s,r,E,c,a,null))}function oN(s,r,a,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,x=null,E=null,j=null,$=null,J=null;for(Q in a){var re=a[Q];if(a.hasOwnProperty(Q)&&re!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":j=re;default:c.hasOwnProperty(Q)||st(s,r,Q,null,c,re)}}for(var Y in c){var Q=c[Y];if(re=a[Y],c.hasOwnProperty(Y)&&(Q!=null||re!=null))switch(Y){case"type":m=Q;break;case"name":f=Q;break;case"checked":$=Q;break;case"defaultChecked":J=Q;break;case"value":x=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,r));break;default:Q!==re&&st(s,r,Y,Q,c,re)}}Cl(s,x,E,j,$,J,m,f);return;case"select":Q=x=E=Y=null;for(m in a)if(j=a[m],a.hasOwnProperty(m)&&j!=null)switch(m){case"value":break;case"multiple":Q=j;default:c.hasOwnProperty(m)||st(s,r,m,null,c,j)}for(f in c)if(m=c[f],j=a[f],c.hasOwnProperty(f)&&(m!=null||j!=null))switch(f){case"value":Y=m;break;case"defaultValue":E=m;break;case"multiple":x=m;default:m!==j&&st(s,r,f,m,c,j)}r=E,a=x,c=Q,Y!=null?Wr(s,!!a,Y,!1):!!c!=!!a&&(r!=null?Wr(s,!!a,r,!0):Wr(s,!!a,a?[]:"",!1));return;case"textarea":Q=Y=null;for(E in a)if(f=a[E],a.hasOwnProperty(E)&&f!=null&&!c.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:st(s,r,E,null,c,f)}for(x in c)if(f=c[x],m=a[x],c.hasOwnProperty(x)&&(f!=null||m!=null))switch(x){case"value":Y=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==m&&st(s,r,x,f,c,m)}ju(s,Y,Q);return;case"option":for(var Ce in a)if(Y=a[Ce],a.hasOwnProperty(Ce)&&Y!=null&&!c.hasOwnProperty(Ce))switch(Ce){case"selected":s.selected=!1;break;default:st(s,r,Ce,null,c,Y)}for(j in c)if(Y=c[j],Q=a[j],c.hasOwnProperty(j)&&Y!==Q&&(Y!=null||Q!=null))switch(j){case"selected":s.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:st(s,r,j,Y,c,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in a)Y=a[Te],a.hasOwnProperty(Te)&&Y!=null&&!c.hasOwnProperty(Te)&&st(s,r,Te,null,c,Y);for($ in c)if(Y=c[$],Q=a[$],c.hasOwnProperty($)&&Y!==Q&&(Y!=null||Q!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,r));break;default:st(s,r,$,Y,c,Q)}return;default:if(so(r)){for(var rt in a)Y=a[rt],a.hasOwnProperty(rt)&&Y!==void 0&&!c.hasOwnProperty(rt)&&op(s,r,rt,void 0,c,Y);for(J in c)Y=c[J],Q=a[J],!c.hasOwnProperty(J)||Y===Q||Y===void 0&&Q===void 0||op(s,r,J,Y,c,Q);return}}for(var U in a)Y=a[U],a.hasOwnProperty(U)&&Y!=null&&!c.hasOwnProperty(U)&&st(s,r,U,null,c,Y);for(re in c)Y=c[re],Q=a[re],!c.hasOwnProperty(re)||Y===Q||Y==null&&Q==null||st(s,r,re,Y,c,Q)}var lp=null,cp=null;function Rd(s){return s.nodeType===9?s:s.ownerDocument}function Ab(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cb(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function up(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var dp=null;function lN(){var s=window.event;return s&&s.type==="popstate"?s===dp?!1:(dp=s,!0):(dp=null,!1)}var jb=typeof setTimeout=="function"?setTimeout:void 0,cN=typeof clearTimeout=="function"?clearTimeout:void 0,Rb=typeof Promise=="function"?Promise:void 0,uN=typeof queueMicrotask=="function"?queueMicrotask:typeof Rb<"u"?function(s){return Rb.resolve(null).then(s).catch(dN)}:jb;function dN(s){setTimeout(function(){throw s})}function yi(s){return s==="head"}function Ib(s,r){var a=r,c=0,f=0;do{var m=a.nextSibling;if(s.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<c&&8>c){a=c;var x=s.ownerDocument;if(a&1&&bc(x.documentElement),a&2&&bc(x.body),a&4)for(a=x.head,bc(a),x=a.firstChild;x;){var E=x.nextSibling,j=x.nodeName;x[Gr]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&x.rel.toLowerCase()==="stylesheet"||a.removeChild(x),x=E}}if(f===0){s.removeChild(m),Ac(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:c=a.charCodeAt(0)-48;else c=0;a=m}while(a);Ac(r)}function hp(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":hp(a),Za(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}s.removeChild(a)}}function hN(s,r,a,c){for(;s.nodeType===1;){var f=a;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[Gr])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(m=s.getAttribute("rel"),m==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(m!==f.rel||s.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||s.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||s.getAttribute("title")!==(f.title==null?null:f.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(m=s.getAttribute("src"),(m!==(f.src==null?null:f.src)||s.getAttribute("type")!==(f.type==null?null:f.type)||s.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&s.getAttribute("name")===m)return s}else return s;if(s=_s(s.nextSibling),s===null)break}return null}function fN(s,r,a){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=_s(s.nextSibling),s===null))return null;return s}function fp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function mN(s,r){var a=s.ownerDocument;if(s.data!=="$?"||a.readyState==="complete")r();else{var c=function(){r(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function _s(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return s}var mp=null;function kb(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var a=s.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return s;r--}else a==="/$"&&r++}s=s.previousSibling}return null}function Db(s,r,a){switch(r=Rd(a),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function bc(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);Za(s)}var os=new Map,Ob=new Set;function Id(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var xr=le.d;le.d={f:pN,r:gN,D:yN,C:vN,L:bN,m:wN,X:_N,S:xN,M:EN};function pN(){var s=xr.f(),r=_d();return s||r}function gN(s){var r=Os(s);r!==null&&r.tag===5&&r.type==="form"?e0(r):xr.r(s)}var Mo=typeof document>"u"?null:document;function Pb(s,r,a){var c=Mo;if(c&&typeof r=="string"&&r){var f=Kt(r);f='link[rel="'+s+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Ob.has(f)||(Ob.add(f),s={rel:s,crossOrigin:a,href:r},c.querySelector(f)===null&&(r=c.createElement("link"),rn(r,"link",s),Et(r),c.head.appendChild(r)))}}function yN(s){xr.D(s),Pb("dns-prefetch",s,null)}function vN(s,r){xr.C(s,r),Pb("preconnect",s,r)}function bN(s,r,a){xr.L(s,r,a);var c=Mo;if(c&&s&&r){var f='link[rel="preload"][as="'+Kt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Kt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Kt(a.imageSizes)+'"]')):f+='[href="'+Kt(s)+'"]';var m=f;switch(r){case"style":m=Vo(s);break;case"script":m=Lo(s)}os.has(m)||(s=w({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:s,as:r},a),os.set(m,s),c.querySelector(f)!==null||r==="style"&&c.querySelector(wc(m))||r==="script"&&c.querySelector(xc(m))||(r=c.createElement("link"),rn(r,"link",s),Et(r),c.head.appendChild(r)))}}function wN(s,r){xr.m(s,r);var a=Mo;if(a&&s){var c=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Kt(c)+'"][href="'+Kt(s)+'"]',m=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Lo(s)}if(!os.has(m)&&(s=w({rel:"modulepreload",href:s},r),os.set(m,s),a.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xc(m)))return}c=a.createElement("link"),rn(c,"link",s),Et(c),a.head.appendChild(c)}}}function xN(s,r,a){xr.S(s,r,a);var c=Mo;if(c&&s){var f=Yr(c).hoistableStyles,m=Vo(s);r=r||"default";var x=f.get(m);if(!x){var E={loading:0,preload:null};if(x=c.querySelector(wc(m)))E.loading=5;else{s=w({rel:"stylesheet",href:s,"data-precedence":r},a),(a=os.get(m))&&pp(s,a);var j=x=c.createElement("link");Et(j),rn(j,"link",s),j._p=new Promise(function($,J){j.onload=$,j.onerror=J}),j.addEventListener("load",function(){E.loading|=1}),j.addEventListener("error",function(){E.loading|=2}),E.loading|=4,kd(x,r,c)}x={type:"stylesheet",instance:x,count:1,state:E},f.set(m,x)}}}function _N(s,r){xr.X(s,r);var a=Mo;if(a&&s){var c=Yr(a).hoistableScripts,f=Lo(s),m=c.get(f);m||(m=a.querySelector(xc(f)),m||(s=w({src:s,async:!0},r),(r=os.get(f))&&gp(s,r),m=a.createElement("script"),Et(m),rn(m,"link",s),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function EN(s,r){xr.M(s,r);var a=Mo;if(a&&s){var c=Yr(a).hoistableScripts,f=Lo(s),m=c.get(f);m||(m=a.querySelector(xc(f)),m||(s=w({src:s,async:!0,type:"module"},r),(r=os.get(f))&&gp(s,r),m=a.createElement("script"),Et(m),rn(m,"link",s),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function Mb(s,r,a,c){var f=(f=ne.current)?Id(f):null;if(!f)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Vo(a.href),a=Yr(f).hoistableStyles,c=a.get(r),c||(c={type:"style",instance:null,count:0,state:null},a.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){s=Vo(a.href);var m=Yr(f).hoistableStyles,x=m.get(s);if(x||(f=f.ownerDocument||f,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(s,x),(m=f.querySelector(wc(s)))&&!m._p&&(x.instance=m,x.state.loading=5),os.has(s)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},os.set(s,a),m||TN(f,s,a,x.state))),r&&c===null)throw Error(i(528,""));return x}if(r&&c!==null)throw Error(i(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Lo(a),a=Yr(f).hoistableScripts,c=a.get(r),c||(c={type:"script",instance:null,count:0,state:null},a.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Vo(s){return'href="'+Kt(s)+'"'}function wc(s){return'link[rel="stylesheet"]['+s+"]"}function Vb(s){return w({},s,{"data-precedence":s.precedence,precedence:null})}function TN(s,r,a,c){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=s.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),rn(r,"link",a),Et(r),s.head.appendChild(r))}function Lo(s){return'[src="'+Kt(s)+'"]'}function xc(s){return"script[async]"+s}function Lb(s,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var c=s.querySelector('style[data-href~="'+Kt(a.href)+'"]');if(c)return r.instance=c,Et(c),c;var f=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),Et(c),rn(c,"style",f),kd(c,a.precedence,s),r.instance=c;case"stylesheet":f=Vo(a.href);var m=s.querySelector(wc(f));if(m)return r.state.loading|=4,r.instance=m,Et(m),m;c=Vb(a),(f=os.get(f))&&pp(c,f),m=(s.ownerDocument||s).createElement("link"),Et(m);var x=m;return x._p=new Promise(function(E,j){x.onload=E,x.onerror=j}),rn(m,"link",c),r.state.loading|=4,kd(m,a.precedence,s),r.instance=m;case"script":return m=Lo(a.src),(f=s.querySelector(xc(m)))?(r.instance=f,Et(f),f):(c=a,(f=os.get(m))&&(c=w({},a),gp(c,f)),s=s.ownerDocument||s,f=s.createElement("script"),Et(f),rn(f,"link",c),s.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,kd(c,a.precedence,s));return r.instance}function kd(s,r,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,m=f,x=0;x<c.length;x++){var E=c[x];if(E.dataset.precedence===r)m=E;else if(m!==f)break}m?m.parentNode.insertBefore(s,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(s,r.firstChild))}function pp(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function gp(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var Dd=null;function Ub(s,r,a){if(Dd===null){var c=new Map,f=Dd=new Map;f.set(a,c)}else f=Dd,c=f.get(a),c||(c=new Map,f.set(a,c));if(c.has(s))return c;for(c.set(s,null),a=a.getElementsByTagName(s),f=0;f<a.length;f++){var m=a[f];if(!(m[Gr]||m[_t]||s==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var x=m.getAttribute(r)||"";x=s+x;var E=c.get(x);E?E.push(m):c.set(x,[m])}}return c}function Bb(s,r,a){s=s.ownerDocument||s,s.head.insertBefore(a,r==="title"?s.querySelector("head > title"):null)}function NN(s,r,a){if(a===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function zb(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var _c=null;function SN(){}function AN(s,r,a){if(_c===null)throw Error(i(475));var c=_c;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Vo(a.href),m=s.querySelector(wc(f));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(c.count++,c=Od.bind(c),s.then(c,c)),r.state.loading|=4,r.instance=m,Et(m);return}m=s.ownerDocument||s,a=Vb(a),(f=os.get(f))&&pp(a,f),m=m.createElement("link"),Et(m);var x=m;x._p=new Promise(function(E,j){x.onload=E,x.onerror=j}),rn(m,"link",a),r.instance=m}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(c.count++,r=Od.bind(c),s.addEventListener("load",r),s.addEventListener("error",r))}}function CN(){if(_c===null)throw Error(i(475));var s=_c;return s.stylesheets&&s.count===0&&yp(s,s.stylesheets),0<s.count?function(r){var a=setTimeout(function(){if(s.stylesheets&&yp(s,s.stylesheets),s.unsuspend){var c=s.unsuspend;s.unsuspend=null,c()}},6e4);return s.unsuspend=r,function(){s.unsuspend=null,clearTimeout(a)}}:null}function Od(){if(this.count--,this.count===0){if(this.stylesheets)yp(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Pd=null;function yp(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Pd=new Map,r.forEach(jN,s),Pd=null,Od.call(s))}function jN(s,r){if(!(r.state.loading&4)){var a=Pd.get(s);if(a)var c=a.get(null);else{a=new Map,Pd.set(s,a);for(var f=s.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var x=f[m];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(a.set(x.dataset.precedence,x),c=x)}c&&a.set(null,c)}f=r.instance,x=f.getAttribute("data-precedence"),m=a.get(x)||c,m===c&&a.set(null,f),a.set(x,f),this.count++,c=Od.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),m?m.parentNode.insertBefore(f,m.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(f,s.firstChild)),r.state.loading|=4}}var Ec={$$typeof:F,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function RN(s,r,a,c,f,m,x,E){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wa(0),this.hiddenUpdates=Wa(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function qb(s,r,a,c,f,m,x,E,j,$,J,re){return s=new RN(s,r,a,x,E,j,$,re),r=1,m===!0&&(r|=24),m=Vn(3,null,null,r),s.current=m,m.stateNode=s,r=Zf(),r.refCount++,s.pooledCache=r,r.refCount++,m.memoizedState={element:c,isDehydrated:a,cache:r},nm(m),s}function Hb(s){return s?(s=po,s):po}function Fb(s,r,a,c,f,m){f=Hb(f),c.context===null?c.context=f:c.pendingContext=f,c=ri(r),c.payload={element:a},m=m===void 0?null:m,m!==null&&(c.callback=m),a=ii(s,c,r),a!==null&&(qn(a,s,r),Jl(a,s,r))}function $b(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var a=s.retryLane;s.retryLane=a!==0&&a<r?a:r}}function vp(s,r){$b(s,r),(s=s.alternate)&&$b(s,r)}function Gb(s){if(s.tag===13){var r=mo(s,67108864);r!==null&&qn(r,s,67108864),vp(s,67108864)}}var Md=!0;function IN(s,r,a,c){var f=G.T;G.T=null;var m=le.p;try{le.p=2,bp(s,r,a,c)}finally{le.p=m,G.T=f}}function kN(s,r,a,c){var f=G.T;G.T=null;var m=le.p;try{le.p=8,bp(s,r,a,c)}finally{le.p=m,G.T=f}}function bp(s,r,a,c){if(Md){var f=wp(c);if(f===null)ap(s,r,c,Vd,a),Yb(s,c);else if(ON(f,s,r,a,c))c.stopPropagation();else if(Yb(s,c),r&4&&-1<DN.indexOf(s)){for(;f!==null;){var m=Os(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var x=fs(m.pendingLanes);if(x!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;x;){var j=1<<31-vn(x);E.entanglements[1]|=j,x&=~j}Fs(m),(Je&6)===0&&(wd=An()+500,gc(0))}}break;case 13:E=mo(m,2),E!==null&&qn(E,m,2),_d(),vp(m,2)}if(m=wp(c),m===null&&ap(s,r,c,Vd,a),m===f)break;f=m}f!==null&&c.stopPropagation()}else ap(s,r,c,null,a)}}function wp(s){return s=Ol(s),xp(s)}var Vd=null;function xp(s){if(Vd=null,s=Ds(s),s!==null){var r=u(s);if(r===null)s=null;else{var a=r.tag;if(a===13){if(s=h(r),s!==null)return s;s=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return Vd=s,null}function Kb(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tu()){case Bt:return 2;case Gt:return 8;case tr:case Sf:return 32;case Tl:return 268435456;default:return 32}default:return 32}}var _p=!1,vi=null,bi=null,wi=null,Tc=new Map,Nc=new Map,xi=[],DN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yb(s,r){switch(s){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":wi=null;break;case"pointerover":case"pointerout":Tc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nc.delete(r.pointerId)}}function Sc(s,r,a,c,f,m){return s===null||s.nativeEvent!==m?(s={blockedOn:r,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},r!==null&&(r=Os(r),r!==null&&Gb(r)),s):(s.eventSystemFlags|=c,r=s.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),s)}function ON(s,r,a,c,f){switch(r){case"focusin":return vi=Sc(vi,s,r,a,c,f),!0;case"dragenter":return bi=Sc(bi,s,r,a,c,f),!0;case"mouseover":return wi=Sc(wi,s,r,a,c,f),!0;case"pointerover":var m=f.pointerId;return Tc.set(m,Sc(Tc.get(m)||null,s,r,a,c,f)),!0;case"gotpointercapture":return m=f.pointerId,Nc.set(m,Sc(Nc.get(m)||null,s,r,a,c,f)),!0}return!1}function Qb(s){var r=Ds(s.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){s.blockedOn=r,jf(s.priority,function(){if(a.tag===13){var c=zn();c=Sl(c);var f=mo(a,c);f!==null&&qn(f,a,c),vp(a,c)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){s.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ld(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var a=wp(s.nativeEvent);if(a===null){a=s.nativeEvent;var c=new a.constructor(a.type,a);Dl=c,a.target.dispatchEvent(c),Dl=null}else return r=Os(a),r!==null&&Gb(r),s.blockedOn=a,!1;r.shift()}return!0}function Xb(s,r,a){Ld(s)&&a.delete(r)}function PN(){_p=!1,vi!==null&&Ld(vi)&&(vi=null),bi!==null&&Ld(bi)&&(bi=null),wi!==null&&Ld(wi)&&(wi=null),Tc.forEach(Xb),Nc.forEach(Xb)}function Ud(s,r){s.blockedOn===r&&(s.blockedOn=null,_p||(_p=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,PN)))}var Bd=null;function Wb(s){Bd!==s&&(Bd=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Bd===s&&(Bd=null);for(var r=0;r<s.length;r+=3){var a=s[r],c=s[r+1],f=s[r+2];if(typeof c!="function"){if(xp(c||a)===null)continue;break}var m=Os(a);m!==null&&(s.splice(r,3),r-=3,xm(m,{pending:!0,data:f,method:a.method,action:c},c,f))}}))}function Ac(s){function r(j){return Ud(j,s)}vi!==null&&Ud(vi,s),bi!==null&&Ud(bi,s),wi!==null&&Ud(wi,s),Tc.forEach(r),Nc.forEach(r);for(var a=0;a<xi.length;a++){var c=xi[a];c.blockedOn===s&&(c.blockedOn=null)}for(;0<xi.length&&(a=xi[0],a.blockedOn===null);)Qb(a),a.blockedOn===null&&xi.shift();if(a=(s.ownerDocument||s).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var f=a[c],m=a[c+1],x=f[tn]||null;if(typeof m=="function")x||Wb(a);else if(x){var E=null;if(m&&m.hasAttribute("formAction")){if(f=m,x=m[tn]||null)E=x.formAction;else if(xp(f)!==null)continue}else E=x.action;typeof E=="function"?a[c+1]=E:(a.splice(c,3),c-=3),Wb(a)}}}function Ep(s){this._internalRoot=s}zd.prototype.render=Ep.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var a=r.current,c=zn();Fb(a,c,s,r,null,null)},zd.prototype.unmount=Ep.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;Fb(s.current,2,null,s,null,null),_d(),r[sr]=null}};function zd(s){this._internalRoot=s}zd.prototype.unstable_scheduleHydration=function(s){if(s){var r=nr();s={blockedOn:null,target:s,priority:r};for(var a=0;a<xi.length&&r!==0&&r<xi[a].priority;a++);xi.splice(a,0,s),a===0&&Qb(s)}};var Zb=e.version;if(Zb!=="19.1.1")throw Error(i(527,Zb,"19.1.1"));le.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=g(r),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var MN={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qd.isDisabled&&qd.supportsFiber)try{Br=qd.inject(MN),on=qd}catch{}}return jc.createRoot=function(s,r){if(!o(s))throw Error(i(299));var a=!1,c="",f=m0,m=p0,x=g0,E=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(E=r.unstable_transitionCallbacks)),r=qb(s,1,!1,null,null,a,c,f,m,x,E,null),s[sr]=r.current,ip(s),new Ep(r)},jc.hydrateRoot=function(s,r,a){if(!o(s))throw Error(i(299));var c=!1,f="",m=m0,x=p0,E=g0,j=null,$=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(j=a.unstable_transitionCallbacks),a.formState!==void 0&&($=a.formState)),r=qb(s,1,!0,r,a??null,c,f,m,x,E,j,$),r.context=Hb(null),a=r.current,c=zn(),c=Sl(c),f=ri(c),f.callback=null,ii(a,f,c),a=c,r.current.lanes=a,xt(r,a),Fs(r),s[sr]=r.current,ip(s),new zd(r)},jc.version="19.1.1",jc}var lw;function GN(){if(lw)return Sp.exports;lw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Sp.exports=$N(),Sp.exports}var KN=GN();function YN(){const[n,e]=I.useState(0),[t,i]=I.useState(1),[o,u]=I.useState(""),h=()=>{e(_=>_+t)},p=()=>{e(_=>_-t)},g=()=>{e(0)},y=_=>{const S=parseInt(_.target.value)||1;i(S)},w=_=>{u(_.target.value)};return l.jsx("div",{className:"container mt-4",children:l.jsx("div",{className:"row justify-content-center",children:l.jsxs("div",{className:"col-lg-8",children:[l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("h1",{className:"display-4 text-primary",children:" useState Hook"}),l.jsx("p",{className:"lead text-muted",children:"Manejo de estado local en componentes funcionales"})]}),l.jsxs("div",{className:"card mb-4",children:[l.jsx("div",{className:"card-header bg-primary text-white",children:l.jsx("h5",{className:"mb-0",children:" Contador con Pasos Variables"})}),l.jsxs("div",{className:"card-body text-center",children:[l.jsx("h2",{className:"display-3 text-primary mb-4",children:n}),l.jsxs("div",{className:"row mb-3",children:[l.jsxs("div",{className:"col-md-6",children:[l.jsx("label",{className:"form-label",children:"Tamao del paso:"}),l.jsx("input",{type:"number",className:"form-control",value:t,onChange:y,min:"1",max:"10"})]}),l.jsx("div",{className:"col-md-6 d-flex align-items-end",children:l.jsx("div",{className:"text-muted",children:l.jsxs("small",{children:["Incremento actual: +",t]})})})]}),l.jsxs("div",{className:"btn-group mb-3",role:"group",children:[l.jsxs("button",{onClick:p,className:"btn btn-warning",disabled:n<=0,children:[" Disminuir (",t,")"]}),l.jsx("button",{onClick:g,className:"btn btn-secondary",children:" Reset"}),l.jsxs("button",{onClick:h,className:"btn btn-success",children:[" Aumentar (",t,")"]})]}),l.jsx("div",{className:"progress mb-3",children:l.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${Math.min(n/100*100,100)}%`},children:n>0?`${Math.min(n,100)}%`:""})})]})]}),l.jsxs("div",{className:"card mb-4",children:[l.jsx("div",{className:"card-header bg-success text-white",children:l.jsx("h5",{className:"mb-0",children:" Input Controlado"})}),l.jsxs("div",{className:"card-body",children:[l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"form-label",children:"Escribe tu nombre:"}),l.jsx("input",{type:"text",className:"form-control",value:o,onChange:w,placeholder:"Tu nombre aqu..."})]}),o&&l.jsxs("div",{className:"alert alert-success",children:[l.jsxs("h5",{children:["Hola, ",o,"! "]}),l.jsxs("p",{children:["Has escrito ",o.length," caracteres."]}),o.length>10&&l.jsx("small",{className:"text-muted",children:"Wow, tienes un nombre largo!"})]})]})]}),l.jsxs("div",{className:"card mb-4",children:[l.jsx("div",{className:"card-header bg-info text-white",children:l.jsx("h5",{className:"mb-0",children:" Cmo funciona useState?"})}),l.jsxs("div",{className:"card-body",children:[l.jsxs("div",{className:"row",children:[l.jsxs("div",{className:"col-md-6",children:[l.jsx("h6",{className:"text-primary",children:"Sintaxis:"}),l.jsx("pre",{className:"bg-light p-2 rounded",children:l.jsx("code",{children:"const [state, setState] = useState(initialValue);"})})]}),l.jsxs("div",{className:"col-md-6",children:[l.jsx("h6",{className:"text-primary",children:"Caractersticas:"}),l.jsxs("ul",{className:"list-unstyled",children:[l.jsx("li",{children:" Estado local del componente"}),l.jsx("li",{children:" Preserva valor entre renders"}),l.jsx("li",{children:" Trigger de re-renderizado"}),l.jsx("li",{children:" Puede ser cualquier tipo de dato"})]})]})]}),l.jsxs("div",{className:"mt-3",children:[l.jsx("h6",{className:"text-primary",children:"Ejemplos en este componente:"}),l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"col-md-4",children:l.jsx("div",{className:"card bg-light",children:l.jsx("div",{className:"card-body p-2",children:l.jsxs("small",{children:[l.jsx("strong",{children:"Contador:"}),l.jsx("br",{}),l.jsx("code",{children:"useState(0)"}),l.jsx("br",{}),l.jsx("span",{className:"text-muted",children:"Nmero inicial: 0"})]})})})}),l.jsx("div",{className:"col-md-4",children:l.jsx("div",{className:"card bg-light",children:l.jsx("div",{className:"card-body p-2",children:l.jsxs("small",{children:[l.jsx("strong",{children:"Paso:"}),l.jsx("br",{}),l.jsx("code",{children:"useState(1)"}),l.jsx("br",{}),l.jsx("span",{className:"text-muted",children:"Nmero inicial: 1"})]})})})}),l.jsx("div",{className:"col-md-4",children:l.jsx("div",{className:"card bg-light",children:l.jsx("div",{className:"card-body p-2",children:l.jsxs("small",{children:[l.jsx("strong",{children:"Nombre:"}),l.jsx("br",{}),l.jsx("code",{children:"useState('')"}),l.jsx("br",{}),l.jsx("span",{className:"text-muted",children:"String vaco inicial"})]})})})})]})]})]})]}),l.jsx("div",{className:"text-center",children:l.jsx("a",{href:"/",className:"btn btn-secondary btn-lg",children:" Volver al Home"})})]})})})}/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var cw="popstate";function QN(n={}){function e(i,o){let{pathname:u,search:h,hash:p}=i.location;return Yp("",{pathname:u,search:h,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:$c(o)}return WN(e,t,null,n)}function gt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ws(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XN(){return Math.random().toString(36).substring(2,10)}function uw(n,e){return{usr:n.state,key:n.key,idx:e}}function Yp(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ll(e):e,state:t,key:e&&e.key||i||XN()}}function $c({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ll(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function WN(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:u=!1}=i,h=o.history,p="POP",g=null,y=w();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function w(){return(h.state||{idx:null}).idx}function _(){p="POP";let L=w(),Z=L==null?null:L-y;y=L,g&&g({action:p,location:K.location,delta:Z})}function S(L,Z){p="PUSH";let z=Yp(K.location,L,Z);y=w()+1;let F=uw(z,y),oe=K.createHref(z);try{h.pushState(F,"",oe)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;o.location.assign(oe)}u&&g&&g({action:p,location:K.location,delta:1})}function M(L,Z){p="REPLACE";let z=Yp(K.location,L,Z);y=w();let F=uw(z,y),oe=K.createHref(z);h.replaceState(F,"",oe),u&&g&&g({action:p,location:K.location,delta:0})}function D(L){return ZN(L)}let K={get action(){return p},get location(){return n(o,h)},listen(L){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(cw,_),g=L,()=>{o.removeEventListener(cw,_),g=null}},createHref(L){return e(o,L)},createURL:D,encodeLocation(L){let Z=D(L);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:S,replace:M,go(L){return h.go(L)}};return K}function ZN(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),gt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:$c(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function o2(n,e,t="/"){return JN(n,e,t,!1)}function JN(n,e,t,i){let o=typeof e=="string"?ll(e):e,u=Rr(o.pathname||"/",t);if(u==null)return null;let h=l2(n);eS(h);let p=null;for(let g=0;p==null&&g<h.length;++g){let y=dS(u);p=cS(h[g],y,i)}return p}function l2(n,e=[],t=[],i="",o=!1){let u=(h,p,g=o,y)=>{let w={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(i)&&g)return;gt(w.relativePath.startsWith(i),`Absolute route path "${w.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(i.length)}let _=Tr([i,w.relativePath]),S=t.concat(w);h.children&&h.children.length>0&&(gt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),l2(h.children,e,S,_,g)),!(h.path==null&&!h.index)&&e.push({path:_,score:oS(_,h.index),routesMeta:S})};return n.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))u(h,p);else for(let g of c2(h.path))u(h,p,!0,g)}),e}function c2(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(i.length===0)return o?[u,""]:[u];let h=c2(i.join("/")),p=[];return p.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&p.push(...h),p.map(g=>n.startsWith("/")&&g===""?"/":g)}function eS(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:lS(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var tS=/^:[\w-]+$/,nS=3,sS=2,rS=1,iS=10,aS=-2,dw=n=>n==="*";function oS(n,e){let t=n.split("/"),i=t.length;return t.some(dw)&&(i+=aS),e&&(i+=sS),t.filter(o=>!dw(o)).reduce((o,u)=>o+(tS.test(u)?nS:u===""?rS:iS),i)}function lS(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function cS(n,e,t=!1){let{routesMeta:i}=n,o={},u="/",h=[];for(let p=0;p<i.length;++p){let g=i[p],y=p===i.length-1,w=u==="/"?e:e.slice(u.length)||"/",_=lh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},w),S=g.route;if(!_&&y&&t&&!i[i.length-1].route.index&&(_=lh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},w)),!_)return null;Object.assign(o,_.params),h.push({params:o,pathname:Tr([u,_.pathname]),pathnameBase:pS(Tr([u,_.pathnameBase])),route:S}),_.pathnameBase!=="/"&&(u=Tr([u,_.pathnameBase]))}return h}function lh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=uS(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:i.reduce((y,{paramName:w,isOptional:_},S)=>{if(w==="*"){let D=p[S]||"";h=u.slice(0,u.length-D.length).replace(/(.)\/+$/,"$1")}const M=p[S];return _&&!M?y[w]=void 0:y[w]=(M||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:n}}function uS(n,e=!1,t=!0){Ws(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,g)=>(i.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function dS(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ws(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Rr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function hS(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?ll(n):n;return{pathname:t?t.startsWith("/")?t:fS(t,e):e,search:gS(i),hash:yS(o)}}function fS(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Rp(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mS(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function u2(n){let e=mS(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function d2(n,e,t,i=!1){let o;typeof n=="string"?o=ll(n):(o={...n},gt(!o.pathname||!o.pathname.includes("?"),Rp("?","pathname","search",o)),gt(!o.pathname||!o.pathname.includes("#"),Rp("#","pathname","hash",o)),gt(!o.search||!o.search.includes("#"),Rp("#","search","hash",o)));let u=n===""||o.pathname==="",h=u?"/":o.pathname,p;if(h==null)p=t;else{let _=e.length-1;if(!i&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),_-=1;o.pathname=S.join("/")}p=_>=0?e[_]:"/"}let g=hS(o,p),y=h&&h!=="/"&&h.endsWith("/"),w=(u||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(y||w)&&(g.pathname+="/"),g}var Tr=n=>n.join("/").replace(/\/\/+/g,"/"),pS=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),gS=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,yS=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function vS(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var h2=["POST","PUT","PATCH","DELETE"];new Set(h2);var bS=["GET",...h2];new Set(bS);var cl=I.createContext(null);cl.displayName="DataRouter";var Lh=I.createContext(null);Lh.displayName="DataRouterState";I.createContext(!1);var f2=I.createContext({isTransitioning:!1});f2.displayName="ViewTransition";var wS=I.createContext(new Map);wS.displayName="Fetchers";var xS=I.createContext(null);xS.displayName="Await";var er=I.createContext(null);er.displayName="Navigation";var nu=I.createContext(null);nu.displayName="Location";var Pr=I.createContext({outlet:null,matches:[],isDataRoute:!1});Pr.displayName="Route";var Sg=I.createContext(null);Sg.displayName="RouteError";function _S(n,{relative:e}={}){gt(su(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=I.useContext(er),{hash:o,pathname:u,search:h}=ru(n,{relative:e}),p=u;return t!=="/"&&(p=u==="/"?t:Tr([t,u])),i.createHref({pathname:p,search:h,hash:o})}function su(){return I.useContext(nu)!=null}function $a(){return gt(su(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(nu).location}var m2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function p2(n){I.useContext(er).static||I.useLayoutEffect(n)}function qi(){let{isDataRoute:n}=I.useContext(Pr);return n?PS():ES()}function ES(){gt(su(),"useNavigate() may be used only in the context of a <Router> component.");let n=I.useContext(cl),{basename:e,navigator:t}=I.useContext(er),{matches:i}=I.useContext(Pr),{pathname:o}=$a(),u=JSON.stringify(u2(i)),h=I.useRef(!1);return p2(()=>{h.current=!0}),I.useCallback((g,y={})=>{if(Ws(h.current,m2),!h.current)return;if(typeof g=="number"){t.go(g);return}let w=d2(g,JSON.parse(u),o,y.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Tr([e,w.pathname])),(y.replace?t.replace:t.push)(w,y.state,y)},[e,t,u,o,n])}I.createContext(null);function ru(n,{relative:e}={}){let{matches:t}=I.useContext(Pr),{pathname:i}=$a(),o=JSON.stringify(u2(t));return I.useMemo(()=>d2(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function TS(n,e){return g2(n,e)}function g2(n,e,t,i,o){gt(su(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=I.useContext(er),{matches:h}=I.useContext(Pr),p=h[h.length-1],g=p?p.params:{},y=p?p.pathname:"/",w=p?p.pathnameBase:"/",_=p&&p.route;{let z=_&&_.path||"";y2(y,!_||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let S=$a(),M;if(e){let z=typeof e=="string"?ll(e):e;gt(w==="/"||z.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${z.pathname}" was given in the \`location\` prop.`),M=z}else M=S;let D=M.pathname||"/",K=D;if(w!=="/"){let z=w.replace(/^\//,"").split("/");K="/"+D.replace(/^\//,"").split("/").slice(z.length).join("/")}let L=o2(n,{pathname:K});Ws(_||L!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),Ws(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=jS(L&&L.map(z=>Object.assign({},z,{params:Object.assign({},g,z.params),pathname:Tr([w,u.encodeLocation?u.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?w:Tr([w,u.encodeLocation?u.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),h,t,i,o);return e&&Z?I.createElement(nu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},Z):Z}function NS(){let n=OS(),e=vS(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:u},"ErrorBoundary")," or"," ",I.createElement("code",{style:u},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),t?I.createElement("pre",{style:o},t):null,h)}var SS=I.createElement(NS,null),AS=class extends I.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?I.createElement(Pr.Provider,{value:this.props.routeContext},I.createElement(Sg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function CS({routeContext:n,match:e,children:t}){let i=I.useContext(cl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(Pr.Provider,{value:n},t)}function jS(n,e=[],t=null,i=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let u=n,h=t?.errors;if(h!=null){let y=u.findIndex(w=>w.route.id&&h?.[w.route.id]!==void 0);gt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let p=!1,g=-1;if(t)for(let y=0;y<u.length;y++){let w=u[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(g=y),w.route.id){let{loaderData:_,errors:S}=t,M=w.route.loader&&!_.hasOwnProperty(w.route.id)&&(!S||S[w.route.id]===void 0);if(w.route.lazy||M){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((y,w,_)=>{let S,M=!1,D=null,K=null;t&&(S=h&&w.route.id?h[w.route.id]:void 0,D=w.route.errorElement||SS,p&&(g<0&&_===0?(y2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,K=null):g===_&&(M=!0,K=w.route.hydrateFallbackElement||null)));let L=e.concat(u.slice(0,_+1)),Z=()=>{let z;return S?z=D:M?z=K:w.route.Component?z=I.createElement(w.route.Component,null):w.route.element?z=w.route.element:z=y,I.createElement(CS,{match:w,routeContext:{outlet:y,matches:L,isDataRoute:t!=null},children:z})};return t&&(w.route.ErrorBoundary||w.route.errorElement||_===0)?I.createElement(AS,{location:t.location,revalidation:t.revalidation,component:D,error:S,children:Z(),routeContext:{outlet:null,matches:L,isDataRoute:!0},unstable_onError:i}):Z()},null)}function Ag(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RS(n){let e=I.useContext(cl);return gt(e,Ag(n)),e}function IS(n){let e=I.useContext(Lh);return gt(e,Ag(n)),e}function kS(n){let e=I.useContext(Pr);return gt(e,Ag(n)),e}function Cg(n){let e=kS(n),t=e.matches[e.matches.length-1];return gt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function DS(){return Cg("useRouteId")}function OS(){let n=I.useContext(Sg),e=IS("useRouteError"),t=Cg("useRouteError");return n!==void 0?n:e.errors?.[t]}function PS(){let{router:n}=RS("useNavigate"),e=Cg("useNavigate"),t=I.useRef(!1);return p2(()=>{t.current=!0}),I.useCallback(async(o,u={})=>{Ws(t.current,m2),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...u}))},[n,e])}var hw={};function y2(n,e,t){!e&&!hw[n]&&(hw[n]=!0,Ws(!1,t))}I.memo(MS);function MS({routes:n,future:e,state:t,unstable_onError:i}){return g2(n,void 0,t,i,e)}function Ot(n){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function VS({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:u=!1}){gt(!su(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),p=I.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=ll(t));let{pathname:g="/",search:y="",hash:w="",state:_=null,key:S="default"}=t,M=I.useMemo(()=>{let D=Rr(g,h);return D==null?null:{location:{pathname:D,search:y,hash:w,state:_,key:S},navigationType:i}},[h,g,y,w,_,S,i]);return Ws(M!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${w}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:I.createElement(er.Provider,{value:p},I.createElement(nu.Provider,{children:e,value:M}))}function LS({children:n,location:e}){return TS(Qp(n),e)}function Qp(n,e=[]){let t=[];return I.Children.forEach(n,(i,o)=>{if(!I.isValidElement(i))return;let u=[...e,o];if(i.type===I.Fragment){t.push.apply(t,Qp(i.props.children,u));return}gt(i.type===Ot,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=Qp(i.props.children,u)),t.push(h)}),t}var Wd="get",Zd="application/x-www-form-urlencoded";function Uh(n){return n!=null&&typeof n.tagName=="string"}function US(n){return Uh(n)&&n.tagName.toLowerCase()==="button"}function BS(n){return Uh(n)&&n.tagName.toLowerCase()==="form"}function zS(n){return Uh(n)&&n.tagName.toLowerCase()==="input"}function qS(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function HS(n,e){return n.button===0&&(!e||e==="_self")&&!qS(n)}var Hd=null;function FS(){if(Hd===null)try{new FormData(document.createElement("form"),0),Hd=!1}catch{Hd=!0}return Hd}var $S=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ip(n){return n!=null&&!$S.has(n)?(Ws(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zd}"`),null):n}function GS(n,e){let t,i,o,u,h;if(BS(n)){let p=n.getAttribute("action");i=p?Rr(p,e):null,t=n.getAttribute("method")||Wd,o=Ip(n.getAttribute("enctype"))||Zd,u=new FormData(n)}else if(US(n)||zS(n)&&(n.type==="submit"||n.type==="image")){let p=n.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||p.getAttribute("action");if(i=g?Rr(g,e):null,t=n.getAttribute("formmethod")||p.getAttribute("method")||Wd,o=Ip(n.getAttribute("formenctype"))||Ip(p.getAttribute("enctype"))||Zd,u=new FormData(p,n),!FS()){let{name:y,type:w,value:_}=n;if(w==="image"){let S=y?`${y}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else y&&u.append(y,_)}}else{if(Uh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Wd,i=null,o=Zd,h=n}return u&&o==="text/plain"&&(h=u,u=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function jg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function KS(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Rr(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function YS(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QS(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function XS(n,e,t){let i=await Promise.all(n.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await YS(u,t);return h.links?h.links():[]}return[]}));return eA(i.flat(1).filter(QS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function fw(n,e,t,i,o,u){let h=(g,y)=>t[y]?g.route.id!==t[y].route.id:!0,p=(g,y)=>t[y].pathname!==g.pathname||t[y].route.path?.endsWith("*")&&t[y].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,y)=>h(g,y)||p(g,y)):u==="data"?e.filter((g,y)=>{let w=i.routes[g.route.id];if(!w||!w.hasLoader)return!1;if(h(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let _=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function WS(n,e,{includeHydrateFallback:t}={}){return ZS(n.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function ZS(n){return[...new Set(n)]}function JS(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function eA(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let u=JSON.stringify(JS(o));return t.has(u)||(t.add(u),i.push({key:u,link:o})),i},[])}function v2(){let n=I.useContext(cl);return jg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function tA(){let n=I.useContext(Lh);return jg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Rg=I.createContext(void 0);Rg.displayName="FrameworkContext";function b2(){let n=I.useContext(Rg);return jg(n,"You must render this element inside a <HydratedRouter> element"),n}function nA(n,e){let t=I.useContext(Rg),[i,o]=I.useState(!1),[u,h]=I.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:w,onTouchStart:_}=e,S=I.useRef(null);I.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let K=Z=>{Z.forEach(z=>{h(z.isIntersecting)})},L=new IntersectionObserver(K,{threshold:.5});return S.current&&L.observe(S.current),()=>{L.disconnect()}}},[n]),I.useEffect(()=>{if(i){let K=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(K)}}},[i]);let M=()=>{o(!0)},D=()=>{o(!1),h(!1)};return t?n!=="intent"?[u,S,{}]:[u,S,{onFocus:Rc(p,M),onBlur:Rc(g,D),onMouseEnter:Rc(y,M),onMouseLeave:Rc(w,D),onTouchStart:Rc(_,M)}]:[!1,S,{}]}function Rc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function sA({page:n,...e}){let{router:t}=v2(),i=I.useMemo(()=>o2(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?I.createElement(iA,{page:n,matches:i,...e}):null}function rA(n){let{manifest:e,routeModules:t}=b2(),[i,o]=I.useState([]);return I.useEffect(()=>{let u=!1;return XS(n,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[n,e,t]),i}function iA({page:n,matches:e,...t}){let i=$a(),{manifest:o,routeModules:u}=b2(),{basename:h}=v2(),{loaderData:p,matches:g}=tA(),y=I.useMemo(()=>fw(n,e,g,o,i,"data"),[n,e,g,o,i]),w=I.useMemo(()=>fw(n,e,g,o,i,"assets"),[n,e,g,o,i]),_=I.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let D=new Set,K=!1;if(e.forEach(Z=>{let z=o.routes[Z.route.id];!z||!z.hasLoader||(!y.some(F=>F.route.id===Z.route.id)&&Z.route.id in p&&u[Z.route.id]?.shouldRevalidate||z.hasClientLoader?K=!0:D.add(Z.route.id))}),D.size===0)return[];let L=KS(n,h,"data");return K&&D.size>0&&L.searchParams.set("_routes",e.filter(Z=>D.has(Z.route.id)).map(Z=>Z.route.id).join(",")),[L.pathname+L.search]},[h,p,i,o,y,e,n,u]),S=I.useMemo(()=>WS(w,o),[w,o]),M=rA(w);return I.createElement(I.Fragment,null,_.map(D=>I.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...t})),S.map(D=>I.createElement("link",{key:D,rel:"modulepreload",href:D,...t})),M.map(({key:D,link:K})=>I.createElement("link",{key:D,nonce:t.nonce,...K})))}function aA(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var w2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{w2&&(window.__reactRouterVersion="7.8.2")}catch{}function oA({basename:n,children:e,window:t}){let i=I.useRef();i.current==null&&(i.current=QN({window:t,v5Compat:!0}));let o=i.current,[u,h]=I.useState({action:o.action,location:o.location}),p=I.useCallback(g=>{I.startTransition(()=>h(g))},[h]);return I.useLayoutEffect(()=>o.listen(p),[o,p]),I.createElement(VS,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:o})}var x2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ch=I.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:u,replace:h,state:p,target:g,to:y,preventScrollReset:w,viewTransition:_,...S},M){let{basename:D}=I.useContext(er),K=typeof y=="string"&&x2.test(y),L,Z=!1;if(typeof y=="string"&&K&&(L=y,w2))try{let C=new URL(window.location.href),O=y.startsWith("//")?new URL(C.protocol+y):new URL(y),P=Rr(O.pathname,D);O.origin===C.origin&&P!=null?y=P+O.search+O.hash:Z=!0}catch{Ws(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=_S(y,{relative:o}),[F,oe,se]=nA(i,S),ue=dA(y,{replace:h,state:p,target:g,preventScrollReset:w,relative:o,viewTransition:_});function N(C){e&&e(C),C.defaultPrevented||ue(C)}let A=I.createElement("a",{...S,...se,href:L||z,onClick:Z||u?e:N,ref:aA(M,oe),target:g,"data-discover":!K&&t==="render"?"true":void 0});return F&&!K?I.createElement(I.Fragment,null,A,I.createElement(sA,{page:z})):A});ch.displayName="Link";var lA=I.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:u,to:h,viewTransition:p,children:g,...y},w){let _=ru(h,{relative:y.relative}),S=$a(),M=I.useContext(Lh),{navigator:D,basename:K}=I.useContext(er),L=M!=null&&gA(_)&&p===!0,Z=D.encodeLocation?D.encodeLocation(_).pathname:_.pathname,z=S.pathname,F=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;t||(z=z.toLowerCase(),F=F?F.toLowerCase():null,Z=Z.toLowerCase()),F&&K&&(F=Rr(F,K)||F);const oe=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let se=z===Z||!o&&z.startsWith(Z)&&z.charAt(oe)==="/",ue=F!=null&&(F===Z||!o&&F.startsWith(Z)&&F.charAt(Z.length)==="/"),N={isActive:se,isPending:ue,isTransitioning:L},A=se?e:void 0,C;typeof i=="function"?C=i(N):C=[i,se?"active":null,ue?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(N):u;return I.createElement(ch,{...y,"aria-current":A,className:C,ref:w,style:O,to:h,viewTransition:p},typeof g=="function"?g(N):g)});lA.displayName="NavLink";var cA=I.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:u,method:h=Wd,action:p,onSubmit:g,relative:y,preventScrollReset:w,viewTransition:_,...S},M)=>{let D=mA(),K=pA(p,{relative:y}),L=h.toLowerCase()==="get"?"get":"post",Z=typeof p=="string"&&x2.test(p),z=F=>{if(g&&g(F),F.defaultPrevented)return;F.preventDefault();let oe=F.nativeEvent.submitter,se=oe?.getAttribute("formmethod")||h;D(oe||F.currentTarget,{fetcherKey:e,method:se,navigate:t,replace:o,state:u,relative:y,preventScrollReset:w,viewTransition:_})};return I.createElement("form",{ref:M,method:L,action:K,onSubmit:i?g:z,...S,"data-discover":!Z&&n==="render"?"true":void 0})});cA.displayName="Form";function uA(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _2(n){let e=I.useContext(cl);return gt(e,uA(n)),e}function dA(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:u,viewTransition:h}={}){let p=qi(),g=$a(),y=ru(n,{relative:u});return I.useCallback(w=>{if(HS(w,e)){w.preventDefault();let _=t!==void 0?t:$c(g)===$c(y);p(n,{replace:_,state:i,preventScrollReset:o,relative:u,viewTransition:h})}},[g,p,y,t,i,e,n,o,u,h])}var hA=0,fA=()=>`__${String(++hA)}__`;function mA(){let{router:n}=_2("useSubmit"),{basename:e}=I.useContext(er),t=DS();return I.useCallback(async(i,o={})=>{let{action:u,method:h,encType:p,formData:g,body:y}=GS(i,e);if(o.navigate===!1){let w=o.fetcherKey||fA();await n.fetch(w,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||p,flushSync:o.flushSync})}else await n.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function pA(n,{relative:e}={}){let{basename:t}=I.useContext(er),i=I.useContext(Pr);gt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),u={...ru(n||".",{relative:e})},h=$a();if(n==null){u.search=h.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(w=>w==="")){p.delete("index"),g.filter(_=>_).forEach(_=>p.append("index",_));let w=p.toString();u.search=w?`?${w}`:""}}return(!n||n===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:Tr([t,u.pathname])),$c(u)}function gA(n,{relative:e}={}){let t=I.useContext(f2);gt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=_2("useViewTransitionState"),o=ru(n,{relative:e});if(!t.isTransitioning)return!1;let u=Rr(t.currentLocation.pathname,i)||t.currentLocation.pathname,h=Rr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return lh(o.pathname,h)!=null||lh(o.pathname,u)!=null}function yA(){const[n,e]=I.useState(window.location.pathname),[t,i]=I.useState(""),[o,u]=I.useState([]),h=_=>{console.log(`Navegando a: ${_}`),e(_),u(S=>[...S,{path:_,timestamp:new Date().toLocaleTimeString()}]),window.history.pushState({},"",_)},p=()=>{window.history.back(),u(_=>[..._,{path:"BACK",timestamp:new Date().toLocaleTimeString()}])},g=()=>{window.history.forward(),u(_=>[..._,{path:"FORWARD",timestamp:new Date().toLocaleTimeString()}])},y=()=>{t.trim()&&(h(t),i(""))},w=[{path:"/home",name:" Home",description:"Pgina principal"},{path:"/profile",name:" Perfil",description:"Perfil de usuario"},{path:"/settings",name:" Configuracin",description:"Ajustes de la aplicacin"},{path:"/about",name:" Acerca de",description:"Informacin del sitio"},{path:"/contact",name:" Contacto",description:"Formulario de contacto"}];return l.jsx("div",{className:"container mt-4",children:l.jsx("div",{className:"row justify-content-center",children:l.jsxs("div",{className:"col-lg-10",children:[l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("h1",{className:"display-4 text-primary",children:" useNavigate Hook"}),l.jsx("p",{className:"lead text-muted",children:"Navegacin programtica con React Router"}),l.jsxs("div",{className:"badge bg-info fs-6",children:["Ruta actual: ",l.jsx("code",{children:n})]})]}),l.jsxs("div",{className:"row",children:[l.jsxs("div",{className:"col-lg-8",children:[l.jsxs("div",{className:"card mb-4",children:[l.jsx("div",{className:"card-header bg-primary text-white",children:l.jsx("h5",{className:"mb-0",children:" Rutas Predefinidas"})}),l.jsx("div",{className:"card-body",children:l.jsx("div",{className:"row",children:w.map((_,S)=>l.jsx("div",{className:"col-md-6 mb-3",children:l.jsx("div",{className:"card h-100 border-light",children:l.jsxs("div",{className:"card-body d-flex flex-column",children:[l.jsx("h6",{className:"card-title",children:_.name}),l.jsx("p",{className:"card-text text-muted small flex-grow-1",children:_.description}),l.jsx("button",{onClick:()=>h(_.path),className:`btn btn-sm ${n===_.path?"btn-success":"btn-outline-primary"}`,children:n===_.path?" Actual":" Ir"})]})})},S))})})]}),l.jsxs("div",{className:"card mb-4",children:[l.jsx("div",{className:"card-header bg-success text-white",children:l.jsx("h5",{className:"mb-0",children:" Navegacin Personalizada"})}),l.jsxs("div",{className:"card-body",children:[l.jsxs("div",{className:"input-group mb-3",children:[l.jsx("span",{className:"input-group-text",children:""}),l.jsx("input",{type:"text",className:"form-control",placeholder:"Escribe una ruta (ej: /mi-pagina)",value:t,onChange:_=>i(_.target.value),onKeyPress:_=>_.key==="Enter"&&y()}),l.jsx("button",{className:"btn btn-success",onClick:y,disabled:!t.trim(),children:"Navegar"})]}),l.jsx("small",{className:"text-muted",children:'Tip: Las rutas deben empezar con "/" (ej: /productos, /usuario/123)'})]})]}),l.jsxs("div",{className:"card mb-4",children:[l.jsx("div",{className:"card-header bg-warning text-dark",children:l.jsx("h5",{className:"mb-0",children:" Controles de Historial"})}),l.jsx("div",{className:"card-body",children:l.jsxs("div",{className:"btn-group w-100",role:"group",children:[l.jsx("button",{className:"btn btn-outline-secondary",onClick:p,children:" Atrs"}),l.jsx("button",{className:"btn btn-outline-secondary",onClick:g,children:" Adelante"}),l.jsx("button",{className:"btn btn-outline-danger",onClick:()=>u([]),children:" Limpiar Historial"})]})})]})]}),l.jsxs("div",{className:"col-lg-4",children:[l.jsxs("div",{className:"card mb-4",children:[l.jsx("div",{className:"card-header bg-info text-white",children:l.jsx("h6",{className:"mb-0",children:" Historial de Navegacin"})}),l.jsx("div",{className:"card-body",children:o.length===0?l.jsx("p",{className:"text-muted small mb-0",children:"No hay navegacin registrada"}):l.jsx("div",{className:"overflow-auto",style:{maxHeight:"200px"},children:o.slice(-10).reverse().map((_,S)=>l.jsxs("div",{className:"border-bottom pb-2 mb-2 small",children:[l.jsx("div",{className:"fw-bold",children:_.path}),l.jsx("div",{className:"text-muted",children:_.timestamp})]},S))})})]}),l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"card-header bg-secondary text-white",children:l.jsx("h6",{className:"mb-0",children:" useNavigate Info"})}),l.jsxs("div",{className:"card-body",children:[l.jsxs("div",{className:"mb-3",children:[l.jsx("strong",{className:"text-primary",children:"Sintaxis:"}),l.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:l.jsx("code",{children:"const navigate = useNavigate();"})})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("strong",{className:"text-primary",children:"Uso bsico:"}),l.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:l.jsx("code",{children:`navigate('/ruta');
navigate(-1); // atrs
navigate(1);  // adelante`})})]}),l.jsxs("div",{children:[l.jsx("strong",{className:"text-primary",children:"Caractersticas:"}),l.jsxs("ul",{className:"list-unstyled mt-2 small",children:[l.jsx("li",{children:" Navegacin programtica"}),l.jsx("li",{children:" Reemplazo de history.push"}),l.jsx("li",{children:" Compatible con historial"}),l.jsx("li",{children:" Funciona con estado"})]})]})]})]})]})]}),l.jsx("div",{className:"text-center mt-4",children:l.jsx("a",{href:"/",className:"btn btn-secondary btn-lg",children:" Volver al Home"})})]})})})}function vA(){const[n,e]=I.useState(0),[t,i]=I.useState(window.innerWidth),[o,u]=I.useState(0),[h,p]=I.useState(!1),[g,y]=I.useState({x:0,y:0});I.useEffect(()=>{document.title=`Contador: ${n}`,console.log("El componente se renderiz. Count:",n)}),I.useEffect(()=>(console.log("Componente montado"),()=>{console.log("Componente se va a desmontar")}),[]),I.useEffect(()=>{console.log(`El contador cambi a: ${n}`),n>=10&&alert("Has llegado a 10!")},[n]),I.useEffect(()=>{const D=()=>{i(window.innerWidth)},K=L=>{y({x:L.clientX,y:L.clientY})};return window.addEventListener("resize",D),window.addEventListener("mousemove",K),()=>{window.removeEventListener("resize",D),window.removeEventListener("mousemove",K)}},[]),I.useEffect(()=>{let D;return h&&(D=setInterval(()=>{u(K=>K+1)},1e3)),()=>{D&&clearInterval(D)}},[h]);const w=()=>p(!0),_=()=>p(!1),S=()=>{p(!1),u(0)},M=D=>{const K=Math.floor(D/60),L=D%60;return`${K.toString().padStart(2,"0")}:${L.toString().padStart(2,"0")}`};return l.jsx("div",{className:"container mt-4",children:l.jsx("div",{className:"row justify-content-center",children:l.jsxs("div",{className:"col-lg-10",children:[l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("h1",{className:"display-4 text-primary",children:" useEffect Hook"}),l.jsx("p",{className:"lead text-muted",children:"Efectos secundarios en componentes funcionales"})]}),l.jsxs("div",{className:"row",children:[l.jsxs("div",{className:"col-lg-8",children:[l.jsxs("div",{className:"card mb-4",children:[l.jsx("div",{className:"card-header bg-primary text-white",children:l.jsx("h5",{className:"mb-0",children:" Effect en Cada Render"})}),l.jsxs("div",{className:"card-body text-center",children:[l.jsx("h2",{className:"display-4 text-primary mb-3",children:n}),l.jsx("p",{className:"text-muted mb-3",children:"Observa cmo el ttulo de la pgina cambia con cada click"}),l.jsxs("div",{className:"btn-group",children:[l.jsx("button",{className:"btn btn-outline-danger",onClick:()=>e(n-1),children:" Decrementar"}),l.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>e(0),children:" Reset"}),l.jsx("button",{className:"btn btn-outline-success",onClick:()=>e(n+1),children:" Incrementar"})]})]})]}),l.jsxs("div",{className:"card mb-4",children:[l.jsx("div",{className:"card-header bg-success text-white",children:l.jsx("h5",{className:"mb-0",children:" Timer con Effect"})}),l.jsxs("div",{className:"card-body text-center",children:[l.jsx("h3",{className:"display-5 text-success mb-3 font-monospace",children:M(o)}),l.jsxs("div",{className:"btn-group",children:[l.jsx("button",{className:"btn btn-success",onClick:w,disabled:h,children:" Start"}),l.jsx("button",{className:"btn btn-warning",onClick:_,disabled:!h,children:" Pause"}),l.jsx("button",{className:"btn btn-secondary",onClick:S,children:" Reset"})]}),l.jsx("div",{className:"mt-3",children:l.jsx("span",{className:`badge ${h?"bg-success":"bg-secondary"}`,children:h?" Corriendo":" Detenido"})})]})]}),l.jsxs("div",{className:"card mb-4",children:[l.jsx("div",{className:"card-header bg-info text-white",children:l.jsx("h5",{className:"mb-0",children:" Event Listeners"})}),l.jsx("div",{className:"card-body",children:l.jsxs("div",{className:"row text-center",children:[l.jsxs("div",{className:"col-md-6",children:[l.jsx("h6",{className:"text-primary",children:"Tamao de Ventana"}),l.jsxs("p",{className:"fs-4 text-info",children:[t,"px"]}),l.jsx("small",{className:"text-muted",children:"Redimensiona la ventana"})]}),l.jsxs("div",{className:"col-md-6",children:[l.jsx("h6",{className:"text-primary",children:"Posicin del Mouse"}),l.jsxs("p",{className:"fs-4 text-info",children:["X: ",g.x,", Y: ",g.y]}),l.jsx("small",{className:"text-muted",children:"Mueve el cursor"})]})]})})]})]}),l.jsxs("div",{className:"col-lg-4",children:[l.jsxs("div",{className:"card mb-4",children:[l.jsx("div",{className:"card-header bg-warning text-dark",children:l.jsx("h6",{className:"mb-0",children:" Tipos de useEffect"})}),l.jsxs("div",{className:"card-body",children:[l.jsxs("div",{className:"mb-3",children:[l.jsx("strong",{className:"text-primary",children:"Sin dependencias:"}),l.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:l.jsx("code",{children:`useEffect(() => {
  // Se ejecuta en cada render
});`})})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("strong",{className:"text-primary",children:"Array vaco:"}),l.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:l.jsx("code",{children:`useEffect(() => {
  // Solo una vez (mount)
}, []);`})})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("strong",{className:"text-primary",children:"Con dependencias:"}),l.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:l.jsx("code",{children:`useEffect(() => {
  // Cuando cambia 'count'
}, [count]);`})})]}),l.jsxs("div",{children:[l.jsx("strong",{className:"text-primary",children:"Con cleanup:"}),l.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:l.jsx("code",{children:`useEffect(() => {
  // Setup
  return () => {
    // Cleanup
  };
}, []);`})})]})]})]}),l.jsxs("div",{className:"card mb-4",children:[l.jsx("div",{className:"card-header bg-secondary text-white",children:l.jsx("h6",{className:"mb-0",children:" Casos de Uso Comunes"})}),l.jsx("div",{className:"card-body",children:l.jsxs("ul",{className:"list-unstyled small",children:[l.jsxs("li",{className:"mb-2",children:[l.jsx("strong",{children:" API Calls:"}),l.jsx("br",{}),"Fetch data cuando se monta"]}),l.jsxs("li",{className:"mb-2",children:[l.jsx("strong",{children:" DOM Updates:"}),l.jsx("br",{}),"Cambiar ttulo, focus, etc."]}),l.jsxs("li",{className:"mb-2",children:[l.jsx("strong",{children:" Timers:"}),l.jsx("br",{}),"setInterval, setTimeout"]}),l.jsxs("li",{className:"mb-2",children:[l.jsx("strong",{children:" Event Listeners:"}),l.jsx("br",{}),"Scroll, resize, mouse, etc."]}),l.jsxs("li",{children:[l.jsx("strong",{children:" Cleanup:"}),l.jsx("br",{}),"Limpiar subscripciones"]})]})})]}),l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"card-header bg-dark text-white",children:l.jsx("h6",{className:"mb-0",children:" Estado Actual"})}),l.jsx("div",{className:"card-body",children:l.jsx("table",{className:"table table-sm",children:l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:"Contador:"})}),l.jsx("td",{children:n})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:"Timer:"})}),l.jsx("td",{children:M(o)})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:"Ventana:"})}),l.jsxs("td",{children:[t,"px"]})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:"Mouse X:"})}),l.jsx("td",{children:g.x})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:"Mouse Y:"})}),l.jsx("td",{children:g.y})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:"Timer activo:"})}),l.jsx("td",{children:l.jsx("span",{className:`badge ${h?"bg-success":"bg-secondary"}`,children:h?"S":"No"})})]})]})})})]})]})]}),l.jsxs("div",{className:"card mt-4",children:[l.jsx("div",{className:"card-header bg-danger text-white",children:l.jsx("h5",{className:"mb-0",children:" Consideraciones Importantes"})}),l.jsx("div",{className:"card-body",children:l.jsxs("div",{className:"row",children:[l.jsxs("div",{className:"col-md-6",children:[l.jsx("h6",{className:"text-danger",children:" Errores Comunes:"}),l.jsxs("ul",{className:"small",children:[l.jsx("li",{children:"Olvidar el array de dependencias"}),l.jsx("li",{children:"No hacer cleanup de timers"}),l.jsx("li",{children:"No remover event listeners"}),l.jsx("li",{children:"Infinite loops por dependencias"}),l.jsx("li",{children:"Memory leaks por no limpiar"})]})]}),l.jsxs("div",{className:"col-md-6",children:[l.jsx("h6",{className:"text-success",children:" Buenas Prcticas:"}),l.jsxs("ul",{className:"small",children:[l.jsx("li",{children:"Siempre incluir dependencias"}),l.jsx("li",{children:"Usar cleanup cuando sea necesario"}),l.jsx("li",{children:"Separar effects por responsabilidad"}),l.jsx("li",{children:"Usar custom hooks para lgica compleja"}),l.jsx("li",{children:"Testear el comportamiento"})]})]})]})})]}),l.jsx("div",{className:"text-center mt-4",children:l.jsx("a",{href:"/",className:"btn btn-secondary btn-lg",children:" Volver al Home"})})]})})})}const Bh=I.createContext(),Ig=I.createContext(),zh=I.createContext();function bA({children:n}){const[e,t]=I.useState("light"),i=()=>{t(u=>u==="light"?"dark":"light")},o={light:{backgroundColor:"#ffffff",color:"#000000",borderColor:"#dee2e6"},dark:{backgroundColor:"#343a40",color:"#ffffff",borderColor:"#495057"}};return l.jsx(Bh.Provider,{value:{theme:e,toggleTheme:i,styles:o[e]},children:n})}function wA({children:n}){const[e,t]=I.useState({name:"Juan Prez",email:"juan@example.com",role:"admin",preferences:{language:"es",notifications:!0}}),i=u=>{t(h=>({...h,...u}))},o=u=>{t(h=>({...h,preferences:{...h.preferences,...u}}))};return l.jsx(Ig.Provider,{value:{user:e,updateUser:i,updatePreferences:o},children:n})}function xA({children:n}){const[e,t]=I.useState(0),i=()=>t(h=>h+1),o=()=>t(h=>h-1),u=()=>t(0);return l.jsx(zh.Provider,{value:{count:e,increment:i,decrement:o,reset:u},children:n})}function _A(){const{theme:n,toggleTheme:e,styles:t}=I.useContext(Bh);return l.jsx("div",{className:"card mb-3",style:{backgroundColor:t.backgroundColor,color:t.color,borderColor:t.borderColor},children:l.jsxs("div",{className:"card-body",children:[l.jsx("h6",{className:"card-title",children:" Control de Tema"}),l.jsxs("p",{className:"card-text",children:["Tema actual: ",l.jsx("strong",{children:n})]}),l.jsxs("button",{className:`btn ${n==="light"?"btn-dark":"btn-light"}`,onClick:e,children:["Cambiar a ",n==="light"?"Oscuro":"Claro"]})]})})}function EA(){const{user:n,updateUser:e,updatePreferences:t}=I.useContext(Ig),i=h=>{e({name:h.target.value})},o=h=>{e({email:h.target.value})},u=()=>{t({notifications:!n.preferences.notifications})};return l.jsxs("div",{className:"card mb-3",children:[l.jsx("div",{className:"card-header bg-info text-white",children:l.jsx("h6",{className:"mb-0",children:" Perfil de Usuario"})}),l.jsx("div",{className:"card-body",children:l.jsxs("div",{className:"row",children:[l.jsxs("div",{className:"col-md-6",children:[l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"form-label",children:"Nombre:"}),l.jsx("input",{type:"text",className:"form-control",value:n.name,onChange:i})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"form-label",children:"Email:"}),l.jsx("input",{type:"email",className:"form-control",value:n.email,onChange:o})]})]}),l.jsxs("div",{className:"col-md-6",children:[l.jsxs("div",{className:"mb-3",children:[l.jsx("strong",{children:"Rol:"}),l.jsx("span",{className:"badge bg-primary ms-2",children:n.role})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("strong",{children:"Idioma:"}),l.jsx("span",{className:"badge bg-secondary ms-2",children:n.preferences.language})]}),l.jsxs("div",{className:"form-check",children:[l.jsx("input",{className:"form-check-input",type:"checkbox",checked:n.preferences.notifications,onChange:u}),l.jsx("label",{className:"form-check-label",children:"Recibir notificaciones"})]})]})]})})]})}function TA(){const{count:n}=I.useContext(zh);return l.jsxs("div",{className:"text-center mb-3",children:[l.jsx("h2",{className:"display-4 text-primary",children:n}),l.jsx("p",{className:"text-muted",children:"Contador global"})]})}function NA(){const{increment:n,decrement:e,reset:t}=I.useContext(zh);return l.jsx("div",{className:"text-center mb-3",children:l.jsxs("div",{className:"btn-group",children:[l.jsx("button",{className:"btn btn-outline-danger",onClick:e,children:" Decrementar"}),l.jsx("button",{className:"btn btn-outline-secondary",onClick:t,children:" Reset"}),l.jsx("button",{className:"btn btn-outline-success",onClick:n,children:" Incrementar"})]})})}function SA(){const{theme:n,styles:e}=I.useContext(Bh),{user:t}=I.useContext(Ig),{count:i}=I.useContext(zh);return l.jsx("div",{className:"card",style:{backgroundColor:e.backgroundColor,color:e.color,borderColor:e.borderColor},children:l.jsxs("div",{className:"card-body",children:[l.jsx("h6",{className:"card-title",children:" Componente Anidado Profundo"}),l.jsx("p",{className:"card-text small",children:"Este componente est muy anidado pero puede acceder fcilmente a todos los contextos:"}),l.jsxs("ul",{className:"list-unstyled small",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Tema:"})," ",n]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Usuario:"})," ",t.name," (",t.role,")"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Contador:"})," ",i]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Notificaciones:"})," ",t.preferences.notifications?"Activas":"Inactivas"]})]})]})})}function AA(){return l.jsx(bA,{children:l.jsx(wA,{children:l.jsx(xA,{children:l.jsx(CA,{})})})})}function CA(){const{styles:n}=I.useContext(Bh);return l.jsx("div",{className:"container mt-4",style:{backgroundColor:n.backgroundColor,color:n.color,minHeight:"100vh"},children:l.jsx("div",{className:"row justify-content-center",children:l.jsxs("div",{className:"col-lg-10",children:[l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("h1",{className:"display-4 text-primary",children:" useContext Hook"}),l.jsx("p",{className:"lead text-muted",children:"Comparte datos entre componentes sin prop drilling"})]}),l.jsxs("div",{className:"row",children:[l.jsxs("div",{className:"col-lg-8",children:[l.jsx(_A,{}),l.jsxs("div",{className:"card mb-4",children:[l.jsx("div",{className:"card-header bg-success text-white",children:l.jsx("h5",{className:"mb-0",children:" Contador Global"})}),l.jsxs("div",{className:"card-body",children:[l.jsx(TA,{}),l.jsx(NA,{})]})]}),l.jsx(EA,{}),l.jsx(SA,{})]}),l.jsxs("div",{className:"col-lg-4",children:[l.jsxs("div",{className:"card mb-4",children:[l.jsx("div",{className:"card-header bg-primary text-white",children:l.jsx("h6",{className:"mb-0",children:" Sintaxis useContext"})}),l.jsxs("div",{className:"card-body",children:[l.jsxs("div",{className:"mb-3",children:[l.jsx("strong",{children:"1. Crear contexto:"}),l.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:l.jsx("code",{children:"const MyContext = createContext();"})})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("strong",{children:"2. Proveer valor:"}),l.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:l.jsx("code",{children:`<MyContext.Provider value={data}>
  {children}
</MyContext.Provider>`})})]}),l.jsxs("div",{children:[l.jsx("strong",{children:"3. Consumir:"}),l.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:l.jsx("code",{children:"const data = useContext(MyContext);"})})]})]})]}),l.jsxs("div",{className:"card mb-4",children:[l.jsx("div",{className:"card-header bg-success text-white",children:l.jsx("h6",{className:"mb-0",children:" Ventajas"})}),l.jsx("div",{className:"card-body",children:l.jsxs("ul",{className:"list-unstyled small",children:[l.jsxs("li",{className:"mb-2",children:[l.jsx("strong",{children:" Sin Prop Drilling:"}),l.jsx("br",{}),"No pasar props por mltiples niveles"]}),l.jsxs("li",{className:"mb-2",children:[l.jsx("strong",{children:" Estado Global:"}),l.jsx("br",{}),"Compartir datos entre componentes"]}),l.jsxs("li",{className:"mb-2",children:[l.jsx("strong",{children:" Cdigo Limpio:"}),l.jsx("br",{}),"Menos props innecesarias"]}),l.jsxs("li",{children:[l.jsx("strong",{children:" Performance:"}),l.jsx("br",{}),"Solo re-renderiza cuando cambia"]})]})})]}),l.jsxs("div",{className:"card mb-4",children:[l.jsx("div",{className:"card-header bg-warning text-dark",children:l.jsx("h6",{className:"mb-0",children:" Casos de Uso"})}),l.jsx("div",{className:"card-body",children:l.jsxs("ul",{className:"list-unstyled small",children:[l.jsxs("li",{className:"mb-2",children:[l.jsx("strong",{children:" Temas:"})," Dark/Light mode"]}),l.jsxs("li",{className:"mb-2",children:[l.jsx("strong",{children:" Autenticacin:"})," Usuario actual"]}),l.jsxs("li",{className:"mb-2",children:[l.jsx("strong",{children:" Idioma:"})," i18n/Localizacin"]}),l.jsxs("li",{className:"mb-2",children:[l.jsx("strong",{children:" Carrito:"})," E-commerce state"]}),l.jsxs("li",{children:[l.jsx("strong",{children:" Configuracin:"})," App settings"]})]})})]}),l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"card-header bg-danger text-white",children:l.jsx("h6",{className:"mb-0",children:" Consideraciones"})}),l.jsx("div",{className:"card-body",children:l.jsxs("ul",{className:"list-unstyled small",children:[l.jsxs("li",{className:"mb-2",children:[l.jsx("strong",{children:" No abuses:"}),l.jsx("br",{}),"Solo para datos realmente globales"]}),l.jsxs("li",{className:"mb-2",children:[l.jsx("strong",{children:" Re-renders:"}),l.jsx("br",{}),"Todo hijo re-renderiza si cambia"]}),l.jsxs("li",{children:[l.jsx("strong",{children:" Testing:"}),l.jsx("br",{}),"Necesitas wrapers para testing"]})]})})]})]})]}),l.jsx("div",{className:"text-center mt-4",children:l.jsx("a",{href:"/",className:"btn btn-secondary btn-lg",children:" Volver al Home"})})]})})})}const jA=(n,e)=>{switch(e.type){case"INCREMENT":return{count:n.count+(e.payload||1)};case"DECREMENT":return{count:n.count-(e.payload||1)};case"RESET":return{count:0};case"SET":return{count:e.payload};default:throw new Error(`Unknown action: ${e.type}`)}},RA=(n,e)=>{switch(e.type){case"ADD_TODO":return[...n,{id:Date.now(),text:e.payload,completed:!1,createdAt:new Date().toISOString()}];case"TOGGLE_TODO":return n.map(t=>t.id===e.payload?{...t,completed:!t.completed}:t);case"DELETE_TODO":return n.filter(t=>t.id!==e.payload);case"CLEAR_COMPLETED":return n.filter(t=>!t.completed);case"CLEAR_ALL":return[];default:return n}},IA=(n,e)=>{switch(e.type){case"SET_FIELD":return{...n,[e.field]:e.payload};case"SET_ERROR":return{...n,errors:{...n.errors,[e.field]:e.payload}};case"CLEAR_ERRORS":return{...n,errors:{}};case"RESET_FORM":return{name:"",email:"",age:"",errors:{}};default:return n}};function kA(){const[n,e]=I.useReducer(jA,{count:0}),[t,i]=I.useReducer(RA,[]),[o,u]=I.useState(""),[h,p]=I.useReducer(IA,{name:"",email:"",age:"",errors:{}}),g=(N=1)=>{e({type:"INCREMENT",payload:N})},y=(N=1)=>{e({type:"DECREMENT",payload:N})},w=()=>{e({type:"RESET"})},_=N=>{e({type:"SET",payload:N})},S=()=>{o.trim()&&(i({type:"ADD_TODO",payload:o.trim()}),u(""))},M=N=>{i({type:"TOGGLE_TODO",payload:N})},D=N=>{i({type:"DELETE_TODO",payload:N})},K=()=>{i({type:"CLEAR_COMPLETED"})},L=()=>{i({type:"CLEAR_ALL"})},Z=(N,A)=>{p({type:"SET_FIELD",field:N,payload:A}),h.errors[N]&&p({type:"SET_ERROR",field:N,payload:""})},z=()=>{let N=!0;return h.name.trim()||(p({type:"SET_ERROR",field:"name",payload:"El nombre es requerido"}),N=!1),h.email.trim()?/\S+@\S+\.\S+/.test(h.email)||(p({type:"SET_ERROR",field:"email",payload:"Email invlido"}),N=!1):(p({type:"SET_ERROR",field:"email",payload:"El email es requerido"}),N=!1),h.age.trim()?(isNaN(h.age)||h.age<1||h.age>120)&&(p({type:"SET_ERROR",field:"age",payload:"Edad debe ser entre 1 y 120"}),N=!1):(p({type:"SET_ERROR",field:"age",payload:"La edad es requerida"}),N=!1),N},F=N=>{N.preventDefault(),p({type:"CLEAR_ERRORS"}),z()&&(alert(`Formulario enviado:
${JSON.stringify(h,null,2)}`),p({type:"RESET_FORM"}))},oe=()=>{p({type:"RESET_FORM"})},se=t.filter(N=>N.completed).length,ue=t.length-se;return l.jsx("div",{className:"container mt-4",children:l.jsx("div",{className:"row justify-content-center",children:l.jsxs("div",{className:"col-lg-10",children:[l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("h1",{className:"display-4 text-primary",children:" useReducer Hook"}),l.jsx("p",{className:"lead text-muted",children:"Manejo de estado complejo con actions y reducers"})]}),l.jsxs("div",{className:"row",children:[l.jsxs("div",{className:"col-lg-8",children:[l.jsxs("div",{className:"card mb-4",children:[l.jsx("div",{className:"card-header bg-primary text-white",children:l.jsx("h5",{className:"mb-0",children:" Contador Avanzado"})}),l.jsxs("div",{className:"card-body text-center",children:[l.jsx("h2",{className:"display-3 text-primary mb-4",children:n.count}),l.jsxs("div",{className:"row mb-3",children:[l.jsx("div",{className:"col-md-4",children:l.jsx("button",{className:"btn btn-outline-success w-100",onClick:()=>g(1),children:"+1"})}),l.jsx("div",{className:"col-md-4",children:l.jsx("button",{className:"btn btn-outline-success w-100",onClick:()=>g(5),children:"+5"})}),l.jsx("div",{className:"col-md-4",children:l.jsx("button",{className:"btn btn-outline-success w-100",onClick:()=>g(10),children:"+10"})})]}),l.jsxs("div",{className:"row mb-3",children:[l.jsx("div",{className:"col-md-4",children:l.jsx("button",{className:"btn btn-outline-warning w-100",onClick:()=>y(1),children:"-1"})}),l.jsx("div",{className:"col-md-4",children:l.jsx("button",{className:"btn btn-outline-warning w-100",onClick:()=>y(5),children:"-5"})}),l.jsx("div",{className:"col-md-4",children:l.jsx("button",{className:"btn btn-outline-warning w-100",onClick:()=>y(10),children:"-10"})})]}),l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"col-md-6",children:l.jsx("button",{className:"btn btn-secondary w-100",onClick:w,children:" Reset"})}),l.jsx("div",{className:"col-md-6",children:l.jsx("button",{className:"btn btn-info w-100",onClick:()=>_(100),children:"Set 100"})})]})]})]}),l.jsxs("div",{className:"card mb-4",children:[l.jsx("div",{className:"card-header bg-success text-white",children:l.jsx("h5",{className:"mb-0",children:" Lista de Tareas"})}),l.jsxs("div",{className:"card-body",children:[l.jsxs("div",{className:"input-group mb-3",children:[l.jsx("input",{type:"text",className:"form-control",placeholder:"Nueva tarea...",value:o,onChange:N=>u(N.target.value),onKeyPress:N=>N.key==="Enter"&&S()}),l.jsx("button",{className:"btn btn-success",onClick:S,disabled:!o.trim(),children:"Agregar"})]}),t.length===0?l.jsx("p",{className:"text-muted text-center",children:"No hay tareas"}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-3",children:[l.jsxs("span",{className:"badge bg-info me-2",children:["Total: ",t.length]}),l.jsxs("span",{className:"badge bg-warning me-2",children:["Pendientes: ",ue]}),l.jsxs("span",{className:"badge bg-success",children:["Completadas: ",se]})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("button",{className:"btn btn-outline-warning btn-sm me-2",onClick:K,disabled:se===0,children:"Limpiar Completadas"}),l.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:L,disabled:t.length===0,children:"Limpiar Todo"})]}),l.jsx("div",{className:"list-group",children:t.map(N=>l.jsxs("div",{className:`list-group-item d-flex justify-content-between align-items-center ${N.completed?"list-group-item-success":""}`,children:[l.jsxs("div",{className:"d-flex align-items-center",children:[l.jsx("input",{className:"form-check-input me-2",type:"checkbox",checked:N.completed,onChange:()=>M(N.id)}),l.jsx("span",{className:N.completed?"text-decoration-line-through text-muted":"",children:N.text})]}),l.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>D(N.id),children:""})]},N.id))})]})]})]}),l.jsxs("div",{className:"card mb-4",children:[l.jsx("div",{className:"card-header bg-warning text-dark",children:l.jsx("h5",{className:"mb-0",children:" Formulario con Validacin"})}),l.jsx("div",{className:"card-body",children:l.jsxs("form",{onSubmit:F,children:[l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"col-md-6",children:l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"form-label",children:"Nombre:"}),l.jsx("input",{type:"text",className:`form-control ${h.errors.name?"is-invalid":""}`,value:h.name,onChange:N=>Z("name",N.target.value)}),h.errors.name&&l.jsx("div",{className:"invalid-feedback",children:h.errors.name})]})}),l.jsx("div",{className:"col-md-6",children:l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"form-label",children:"Email:"}),l.jsx("input",{type:"email",className:`form-control ${h.errors.email?"is-invalid":""}`,value:h.email,onChange:N=>Z("email",N.target.value)}),h.errors.email&&l.jsx("div",{className:"invalid-feedback",children:h.errors.email})]})})]}),l.jsx("div",{className:"row",children:l.jsx("div",{className:"col-md-6",children:l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"form-label",children:"Edad:"}),l.jsx("input",{type:"number",className:`form-control ${h.errors.age?"is-invalid":""}`,value:h.age,onChange:N=>Z("age",N.target.value)}),h.errors.age&&l.jsx("div",{className:"invalid-feedback",children:h.errors.age})]})})}),l.jsxs("div",{className:"d-flex gap-2",children:[l.jsx("button",{type:"submit",className:"btn btn-primary",children:"Enviar"}),l.jsx("button",{type:"button",className:"btn btn-secondary",onClick:oe,children:"Reset"})]})]})})]})]}),l.jsxs("div",{className:"col-lg-4",children:[l.jsxs("div",{className:"card mb-4",children:[l.jsx("div",{className:"card-header bg-info text-white",children:l.jsx("h6",{className:"mb-0",children:" useState vs useReducer"})}),l.jsxs("div",{className:"card-body",children:[l.jsxs("div",{className:"mb-3",children:[l.jsx("strong",{className:"text-success",children:" Usa useReducer cuando:"}),l.jsxs("ul",{className:"list-unstyled small mt-2",children:[l.jsx("li",{children:" Estado complejo (objetos/arrays)"}),l.jsx("li",{children:" Mltiples sub-valores"}),l.jsx("li",{children:" Lgica de estado compleja"}),l.jsx("li",{children:" Prximo estado depende del anterior"}),l.jsx("li",{children:" Muchas acciones diferentes"})]})]}),l.jsxs("div",{children:[l.jsx("strong",{className:"text-primary",children:" Usa useState cuando:"}),l.jsxs("ul",{className:"list-unstyled small mt-2",children:[l.jsx("li",{children:" Estado simple (primitivos)"}),l.jsx("li",{children:" Pocas actualizaciones"}),l.jsx("li",{children:" Lgica simple"}),l.jsx("li",{children:" Estado independiente"})]})]})]})]}),l.jsxs("div",{className:"card mb-4",children:[l.jsx("div",{className:"card-header bg-primary text-white",children:l.jsx("h6",{className:"mb-0",children:" Anatoma del useReducer"})}),l.jsxs("div",{className:"card-body",children:[l.jsxs("div",{className:"mb-3",children:[l.jsx("strong",{children:"1. Reducer Function:"}),l.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:l.jsx("code",{children:`const reducer = (state, action) => {
  switch(action.type) {
    case 'INCREMENT':
      return { count: state.count + 1 };
    default:
      return state;
  }
}`})})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("strong",{children:"2. Hook Usage:"}),l.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:l.jsx("code",{children:`const [state, dispatch] = 
  useReducer(reducer, initialState);`})})]}),l.jsxs("div",{children:[l.jsx("strong",{children:"3. Dispatch Action:"}),l.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:l.jsx("code",{children:`dispatch({ 
  type: 'INCREMENT',
  payload: 5 
});`})})]})]})]}),l.jsxs("div",{className:"card mb-4",children:[l.jsx("div",{className:"card-header bg-secondary text-white",children:l.jsx("h6",{className:"mb-0",children:" Estado Actual"})}),l.jsxs("div",{className:"card-body",children:[l.jsxs("div",{className:"mb-2",children:[l.jsx("strong",{children:"Contador:"})," ",n.count]}),l.jsxs("div",{className:"mb-2",children:[l.jsx("strong",{children:"Total Tareas:"})," ",t.length]}),l.jsxs("div",{className:"mb-2",children:[l.jsx("strong",{children:"Pendientes:"})," ",ue]}),l.jsxs("div",{className:"mb-2",children:[l.jsx("strong",{children:"Completadas:"})," ",se]}),l.jsxs("div",{className:"mb-2",children:[l.jsx("strong",{children:"Form vlido:"}),l.jsx("span",{className:`badge ms-2 ${Object.keys(h.errors).length===0&&h.name&&h.email&&h.age?"bg-success":"bg-danger"}`,children:Object.keys(h.errors).length===0&&h.name&&h.email&&h.age?"S":"No"})]})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"card-header bg-dark text-white",children:l.jsx("h6",{className:"mb-0",children:" Patrones Comunes"})}),l.jsxs("div",{className:"card-body",children:[l.jsxs("div",{className:"mb-3",children:[l.jsx("strong",{children:"Action Creators:"}),l.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:l.jsx("code",{children:`const increment = (amount) => ({
  type: 'INCREMENT',
  payload: amount
});`})})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("strong",{children:"Lazy Initialization:"}),l.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:l.jsx("code",{children:`const [state, dispatch] = useReducer(
  reducer, 
  null, 
  initFunction
);`})})]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Error Handling:"}),l.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:l.jsx("code",{children:`default:
  throw new Error(
    'Unknown action: ' + action.type
  );`})})]})]})]})]})]}),l.jsx("div",{className:"text-center mt-4",children:l.jsx("a",{href:"/",className:"btn btn-secondary btn-lg",children:" Volver al Home"})})]})})})}const mw=I.memo(({onIncrement:n,title:e,color:t})=>{const i=I.useRef(0);return i.current+=1,console.log(`${e} se renderiz ${i.current} veces`),l.jsxs("div",{className:`border border-${t==="success"?"green":"red"}-300 rounded-lg`,children:[l.jsx("div",{className:`${t==="success"?"bg-green-500":"bg-red-500"} text-white px-4 py-2 rounded-t-lg`,children:l.jsx("h6",{className:"text-sm font-semibold",children:e})}),l.jsxs("div",{className:"p-4",children:[l.jsxs("p",{className:"text-gray-700 mb-3",children:["Renders: ",l.jsx("strong",{children:i.current})]}),l.jsx("button",{className:`px-4 py-2 rounded ${t==="success"?"border border-green-500 text-green-600 hover:bg-green-50":"border border-red-500 text-red-600 hover:bg-red-50"} transition-colors`,onClick:n,children:"Incrementar"})]})]})}),DA=I.memo(({items:n,onItemClick:e})=>{const t=I.useRef(0);return t.current+=1,l.jsxs("div",{className:"border border-blue-300 rounded-lg",children:[l.jsx("div",{className:"bg-blue-500 text-white px-4 py-2 rounded-t-lg",children:l.jsxs("h6",{className:"text-sm font-semibold",children:[" Lista de Items (Renders: ",t.current,")"]})}),l.jsx("div",{className:"p-4",children:n.length===0?l.jsx("p",{className:"text-gray-500",children:"No hay items"}):l.jsx("div",{className:"space-y-2",children:n.map(i=>l.jsxs("button",{className:"w-full flex justify-between items-center p-3 border border-gray-200 rounded hover:bg-blue-50 transition-colors",onClick:()=>e(i),children:[l.jsx("span",{children:i.name}),l.jsx("span",{className:"bg-blue-500 text-white px-2 py-1 rounded text-sm",children:i.price})]},i.id))})})]})}),OA=I.memo(({onSearch:n,searchTerm:e})=>{const t=I.useRef(0);return t.current+=1,l.jsxs("div",{className:"border border-green-300 rounded-lg",children:[l.jsx("div",{className:"bg-green-500 text-white px-4 py-2 rounded-t-lg",children:l.jsxs("h6",{className:"text-sm font-semibold",children:[" Buscador (Renders: ",t.current,")"]})}),l.jsx("div",{className:"p-4",children:l.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Buscar items...",value:e,onChange:i=>n(i.target.value)})})]})});function PA(){const[n,e]=I.useState(0),[t,i]=I.useState(0),[o,u]=I.useState(""),[h,p]=I.useState(null),[g]=I.useState([{id:1,name:"Laptop",price:"$999"},{id:2,name:"Mouse",price:"$25"},{id:3,name:"Keyboard",price:"$75"},{id:4,name:"Monitor",price:"$299"},{id:5,name:"Webcam",price:"$89"}]),y=()=>{e(z=>z+1)},w=I.useCallback(()=>{e(z=>z+1)},[]),_=I.useCallback(z=>{e(F=>F+z)},[]),S=I.useCallback(z=>{u(z)},[]),M=I.useCallback(z=>{p(z),console.log("Item seleccionado:",z)},[]),D=I.useCallback(()=>g.filter(z=>z.name.toLowerCase().includes(o.toLowerCase())),[g,o]),K=()=>{console.log("Accin ejecutada")},L=I.useCallback(()=>n===0?"Contador en cero":n<5?"Contador bajo":n<10?"Contador medio":"Contador alto",[n]),Z=I.useCallback((z,F)=>{switch(z){case"reset":e(0),u(""),p(null);break;case"double":e(oe=>oe*2);break;case"increment":e(oe=>oe+(F||1));break;default:console.log("Accin desconocida:",z)}},[]);return l.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-4xl font-bold text-blue-600 mb-2",children:" useCallback Hook"}),l.jsx("p",{className:"text-lg text-gray-600",children:"Memoizacin de funciones para optimizar performance"})]}),l.jsxs("div",{className:"grid lg:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[l.jsx("div",{className:"bg-blue-500 text-white px-6 py-4 rounded-t-lg",children:l.jsx("h5",{className:"text-lg font-semibold",children:" Contadores Principales"})}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("h3",{className:"text-3xl font-bold text-blue-600",children:["Count: ",n]}),l.jsx("p",{className:"text-gray-600",children:L()})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("h3",{className:"text-3xl font-bold text-gray-600",children:["Other: ",t]}),l.jsx("p",{className:"text-gray-600",children:"Valor independiente"})]})]}),l.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[l.jsx("button",{className:"px-4 py-2 border border-blue-500 text-blue-600 rounded hover:bg-blue-50 transition-colors",onClick:()=>e(n+1),children:"Count +1"}),l.jsx("button",{className:"px-4 py-2 border border-gray-500 text-gray-600 rounded hover:bg-gray-50 transition-colors",onClick:()=>i(t+1),children:"Other +1"}),l.jsx("button",{className:"px-4 py-2 border border-yellow-500 text-yellow-600 rounded hover:bg-yellow-50 transition-colors",onClick:()=>Z("double"),children:"Doblar Count"}),l.jsx("button",{className:"px-4 py-2 border border-red-500 text-red-600 rounded hover:bg-red-50 transition-colors",onClick:()=>Z("reset"),children:"Reset All"})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[l.jsx("div",{className:"bg-yellow-500 text-black px-6 py-4 rounded-t-lg",children:l.jsx("h5",{className:"text-lg font-semibold",children:" Comparacin de Re-renders"})}),l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:l.jsxs("p",{className:"text-blue-800",children:[l.jsx("strong",{children:" Observa los contadores de renders:"}),l.jsx("br",{}),'- El componente "Con useCallback" se re-renderiza menos',l.jsx("br",{}),'- El componente "Sin useCallback" se re-renderiza ms frecuentemente',l.jsx("br",{}),"- Abre la consola para ver los logs"]})}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsx(mw,{onIncrement:w,title:" Con useCallback",color:"success"}),l.jsx(mw,{onIncrement:y,title:" Sin useCallback",color:"danger"})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[l.jsx("div",{className:"bg-blue-500 text-white px-6 py-4 rounded-t-lg",children:l.jsx("h5",{className:"text-lg font-semibold",children:" Bsqueda Optimizada"})}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsx(OA,{onSearch:S,searchTerm:o}),l.jsx(DA,{items:D(),onItemClick:M})]}),h&&l.jsxs("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:[l.jsx("h6",{className:"font-semibold text-green-800",children:"Item Seleccionado:"}),l.jsxs("p",{className:"text-green-700",children:[l.jsx("strong",{children:h.name})," - ",h.price]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[l.jsx("div",{className:"bg-gray-600 text-white px-6 py-4 rounded-t-lg",children:l.jsx("h5",{className:"text-lg font-semibold",children:" Acciones Complejas"})}),l.jsxs("div",{className:"p-6",children:[l.jsx("p",{className:"text-gray-600 mb-4",children:"Estas funciones usan useCallback para evitar recreacin innecesaria:"}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("button",{className:"px-4 py-2 border border-blue-500 text-blue-600 rounded hover:bg-blue-50 transition-colors",onClick:()=>_(5),children:"Incrementar por 5"}),l.jsx("button",{className:"px-4 py-2 border border-green-500 text-green-600 rounded hover:bg-green-50 transition-colors",onClick:()=>Z("increment",3),children:"Accin Compleja: +3"}),l.jsx("button",{className:"px-4 py-2 border border-yellow-500 text-yellow-600 rounded hover:bg-yellow-50 transition-colors",onClick:K,children:"Accin No Memoizada (ver console)"})]})]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[l.jsx("div",{className:"bg-blue-500 text-white px-4 py-3 rounded-t-lg",children:l.jsx("h6",{className:"text-sm font-semibold",children:" Sintaxis useCallback"})}),l.jsxs("div",{className:"p-4 text-xs",children:[l.jsxs("div",{className:"mb-3",children:[l.jsx("strong",{children:"Bsico:"}),l.jsx("pre",{className:"bg-gray-100 p-2 mt-1 rounded text-xs overflow-x-auto",children:`const memoizedFn = useCallback(
  () => {
    // funcin
  },
  [dependencies]
);`})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("strong",{children:"Con parmetros:"}),l.jsx("pre",{className:"bg-gray-100 p-2 mt-1 rounded text-xs overflow-x-auto",children:`const handleClick = useCallback(
  (id) => {
    setSelected(id);
  },
  [setSelected]
);`})]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Sin dependencias:"}),l.jsx("pre",{className:"bg-gray-100 p-2 mt-1 rounded text-xs overflow-x-auto",children:`const increment = useCallback(
  () => setCount(c => c + 1),
  []
);`})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[l.jsx("div",{className:"bg-green-500 text-white px-4 py-3 rounded-t-lg",children:l.jsx("h6",{className:"text-sm font-semibold",children:" Cundo Usar useCallback"})}),l.jsx("div",{className:"p-4 text-xs",children:l.jsxs("ul",{className:"space-y-2",children:[l.jsxs("li",{children:[l.jsx("strong",{children:" Componentes memoizados:"}),l.jsx("br",{}),"Cuando pasas funciones a React.memo()"]}),l.jsxs("li",{children:[l.jsx("strong",{children:" Listas grandes:"}),l.jsx("br",{}),"Event handlers en listas con muchos items"]}),l.jsxs("li",{children:[l.jsx("strong",{children:" Dependencias de hooks:"}),l.jsx("br",{}),"En useEffect, useMemo dependencies"]}),l.jsxs("li",{children:[l.jsx("strong",{children:" Funciones costosas:"}),l.jsx("br",{}),"Funciones que crean objetos complejos"]})]})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[l.jsx("div",{className:"bg-red-500 text-white px-4 py-3 rounded-t-lg",children:l.jsx("h6",{className:"text-sm font-semibold",children:" Cundo NO Usar"})}),l.jsx("div",{className:"p-4 text-xs",children:l.jsxs("ul",{className:"space-y-2",children:[l.jsxs("li",{children:[l.jsx("strong",{children:" Funciones simples:"}),l.jsx("br",{}),"Funciones muy simples (ms costo que beneficio)"]}),l.jsxs("li",{children:[l.jsx("strong",{children:" Dependencias cambiantes:"}),l.jsx("br",{}),"Si las dependencias cambian en cada render"]}),l.jsxs("li",{children:[l.jsx("strong",{children:' Solo para "optimizacin":'}),l.jsx("br",{}),"Sin medicin real de performance"]}),l.jsxs("li",{children:[l.jsx("strong",{children:" Casos prematuros:"}),l.jsx("br",{}),"Optimizacin prematura sin necesidad real"]})]})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[l.jsx("div",{className:"bg-blue-500 text-white px-4 py-3 rounded-t-lg",children:l.jsx("h6",{className:"text-sm font-semibold",children:" Estado Actual"})}),l.jsx("div",{className:"p-4 text-xs",children:l.jsx("table",{className:"w-full",children:l.jsxs("tbody",{className:"space-y-1",children:[l.jsxs("tr",{className:"border-b",children:[l.jsx("td",{className:"py-1",children:l.jsx("strong",{children:"Count:"})}),l.jsx("td",{className:"py-1",children:n})]}),l.jsxs("tr",{className:"border-b",children:[l.jsx("td",{className:"py-1",children:l.jsx("strong",{children:"Other Value:"})}),l.jsx("td",{className:"py-1",children:t})]}),l.jsxs("tr",{className:"border-b",children:[l.jsx("td",{className:"py-1",children:l.jsx("strong",{children:"Search Term:"})}),l.jsx("td",{className:"py-1",children:o||"Vaco"})]}),l.jsxs("tr",{className:"border-b",children:[l.jsx("td",{className:"py-1",children:l.jsx("strong",{children:"Filtered Items:"})}),l.jsx("td",{className:"py-1",children:D().length})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"py-1",children:l.jsx("strong",{children:"Selected:"})}),l.jsx("td",{className:"py-1",children:h?h.name:"Ninguno"})]})]})})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[l.jsx("div",{className:"bg-yellow-500 text-black px-4 py-3 rounded-t-lg",children:l.jsx("h6",{className:"text-sm font-semibold",children:" Tips y Trucos"})}),l.jsx("div",{className:"p-4 text-xs",children:l.jsxs("ul",{className:"space-y-2",children:[l.jsxs("li",{children:[l.jsx("strong",{children:" Profiling:"})," Usa React DevTools Profiler"]}),l.jsxs("li",{children:[l.jsx("strong",{children:" Mide primero:"})," Identifica cuellos de botella reales"]}),l.jsxs("li",{children:[l.jsx("strong",{children:" Combina con memo:"})," useCallback + React.memo"]}),l.jsxs("li",{children:[l.jsx("strong",{children:" Dependencias correctas:"})," Include all dependencies"]}),l.jsxs("li",{children:[l.jsx("strong",{children:" ESLint:"})," Usa exhaustive-deps rule"]})]})})]})]})]}),l.jsx("div",{className:"text-center mt-4",children:l.jsx("a",{href:"/",className:"btn btn-secondary btn-lg",children:" Volver al Home"})})]})})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VA=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),pw=n=>{const e=VA(n);return e.charAt(0).toUpperCase()+e.slice(1)},E2=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),LA=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=I.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:u,iconNode:h,...p},g)=>I.createElement("svg",{ref:g,...UA,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:E2("lucide",o),...!u&&!LA(p)&&{"aria-hidden":"true"},...p},[...h.map(([y,w])=>I.createElement(y,w)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=(n,e)=>{const t=I.forwardRef(({className:i,...o},u)=>I.createElement(BA,{ref:u,iconNode:e,className:E2(`lucide-${MA(pw(n))}`,`lucide-${n}`,i),...o}));return t.displayName=pw(n),t};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Xp=Xe("activity",zA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],qh=Xe("arrow-left",qA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],T2=Xe("book-open",HA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=[["path",{d:"M10.88 21.94 15.46 14",key:"xkve6t"}],["path",{d:"M21.17 8H12",key:"19dcdn"}],["path",{d:"M3.95 6.06 8.54 14",key:"g8jz9m"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],$A=Xe("chromium",FA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ka=Xe("circle-check-big",GA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],YA=Xe("clock",KA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],XA=Xe("crown",QA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ZA=Xe("download",WA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Ma=Xe("eye-off",JA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Va=Xe("eye",eC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],nC=Xe("facebook",tC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],rC=Xe("funnel",sC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],aC=Xe("github",iC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Hh=Xe("globe",oC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],gw=Xe("languages",lC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],yw=Xe("link-2",cC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Nr=Xe("lock",uC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],N2=Xe("log-out",dC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Oi=Xe("mail",hC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],mC=Xe("plus",fC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],S2=Xe("search",pC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Mc=Xe("shield",gC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],A2=Xe("square-pen",yC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],C2=Xe("star",vC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],j2=Xe("trash-2",bC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],xC=Xe("user-check",wC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],EC=Xe("user-plus",_C);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],NC=Xe("user-x",TC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Es=Xe("user",SC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Vc=Xe("users",AC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],jC=Xe("x",CC),RC=()=>{};var vw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},IC=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[t++];e[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[t++],h=n[t++],p=n[t++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|p&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const u=n[t++],h=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},I2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const u=n[o],h=o+1<n.length,p=h?n[o+1]:0,g=o+2<n.length,y=g?n[o+2]:0,w=u>>2,_=(u&3)<<4|p>>4;let S=(p&15)<<2|y>>6,M=y&63;g||(M=64,h||(S=64)),i.push(t[w],t[_],t[S],t[M])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(R2(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):IC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const u=t[n.charAt(o++)],p=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const _=o<n.length?t[n.charAt(o)]:64;if(++o,u==null||p==null||y==null||_==null)throw new kC;const S=u<<2|p>>4;if(i.push(S),y!==64){const M=p<<4&240|y>>2;if(i.push(M),_!==64){const D=y<<6&192|_;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class kC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DC=function(n){const e=R2(n);return I2.encodeByteArray(e,!0)},uh=function(n){return DC(n).replace(/\./g,"")},k2=function(n){try{return I2.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=()=>OC().__FIREBASE_DEFAULTS__,MC=()=>{if(typeof process>"u"||typeof vw>"u")return;const n=vw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},VC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&k2(n[1]);return e&&JSON.parse(e)},Fh=()=>{try{return RC()||PC()||MC()||VC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},D2=n=>Fh()?.emulatorHosts?.[n],LC=n=>{const e=D2(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},O2=()=>Fh()?.config,P2=n=>Fh()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function M2(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[uh(JSON.stringify(t)),uh(JSON.stringify(h)),""].join(".")}const Lc={};function zC(){const n={prod:[],emulator:[]};for(const e of Object.keys(Lc))Lc[e]?n.emulator.push(e):n.prod.push(e);return n}function qC(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let bw=!1;function V2(n,e){if(typeof window>"u"||typeof document>"u"||!ul(window.location.host)||Lc[n]===e||Lc[n]||bw)return;Lc[n]=e;function t(S){return`__firebase__banner__${S}`}const i="__firebase__banner",u=zC().prod.length>0;function h(){const S=document.getElementById(i);S&&S.remove()}function p(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,M){S.setAttribute("width","24"),S.setAttribute("id",M),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{bw=!0,h()},S}function w(S,M){S.setAttribute("id",M),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function _(){const S=qC(i),M=t("text"),D=document.getElementById(M)||document.createElement("span"),K=t("learnmore"),L=document.getElementById(K)||document.createElement("a"),Z=t("preprendIcon"),z=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const F=S.element;p(F),w(L,K);const oe=y();g(z,Z),F.append(z,D,L,oe),document.body.appendChild(F)}u?(D.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function FC(){const n=Fh()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $C(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function KC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YC(){const n=pn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function QC(){return!FC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XC(){try{return typeof indexedDB=="object"}catch{return!1}}function WC(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="FirebaseError";class Mr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=ZC,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,iu.prototype.create)}}class iu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?JC(u,i):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new Mr(o,p,i)}}function JC(n,e){return n.replace(ej,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const ej=/\{\$([^}]+)}/g;function tj(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Pi(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const u=n[o],h=e[o];if(ww(u)&&ww(h)){if(!Pi(u,h))return!1}else if(u!==h)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function ww(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ic(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,u]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function kc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function nj(n,e){const t=new sj(n,e);return t.subscribe.bind(t)}class sj{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");rj(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=kp),o.error===void 0&&(o.error=kp),o.complete===void 0&&(o.complete=kp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rj(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function kp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(n){return n&&n._delegate?n._delegate:n}class La{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new UC;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oj(e))try{this.getOrInitializeService({instanceIdentifier:Ia})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});i.resolve(u)}catch{}}}}clearInstance(e=Ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ia){return this.instances.has(e)}getOptions(e=Ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[u,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);i===p&&h.resolve(o)}return o}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:aj(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ia){return this.component?this.component.multipleInstances?e:Ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aj(n){return n===Ia?void 0:n}function oj(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ij(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Be||(Be={}));const cj={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},uj=Be.INFO,dj={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},hj=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=dj[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kg{constructor(e){this.name=e,this._logLevel=uj,this._logHandler=hj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const fj=(n,e)=>e.some(t=>n instanceof t);let xw,_w;function mj(){return xw||(xw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pj(){return _w||(_w=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const L2=new WeakMap,Wp=new WeakMap,U2=new WeakMap,Dp=new WeakMap,Dg=new WeakMap;function gj(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",h)},u=()=>{t(ji(n.result)),o()},h=()=>{i(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&L2.set(t,n)}).catch(()=>{}),Dg.set(e,n),e}function yj(n){if(Wp.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",h),n.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",h),n.addEventListener("abort",h)});Wp.set(n,e)}let Zp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Wp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||U2.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ji(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function vj(n){Zp=n(Zp)}function bj(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Op(this),e,...t);return U2.set(i,e.sort?e.sort():[e]),ji(i)}:pj().includes(n)?function(...e){return n.apply(Op(this),e),ji(L2.get(this))}:function(...e){return ji(n.apply(Op(this),e))}}function wj(n){return typeof n=="function"?bj(n):(n instanceof IDBTransaction&&yj(n),fj(n,mj())?new Proxy(n,Zp):n)}function ji(n){if(n instanceof IDBRequest)return gj(n);if(Dp.has(n))return Dp.get(n);const e=wj(n);return e!==n&&(Dp.set(n,e),Dg.set(e,n)),e}const Op=n=>Dg.get(n);function xj(n,e,{blocked:t,upgrade:i,blocking:o,terminated:u}={}){const h=indexedDB.open(n,e),p=ji(h);return i&&h.addEventListener("upgradeneeded",g=>{i(ji(h.result),g.oldVersion,g.newVersion,ji(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const _j=["get","getKey","getAll","getAllKeys","count"],Ej=["put","add","delete","clear"],Pp=new Map;function Ew(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Pp.get(e))return Pp.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=Ej.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||_j.includes(t)))return;const u=async function(h,...p){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return i&&(y=y.index(p.shift())),(await Promise.all([y[t](...p),o&&g.done]))[0]};return Pp.set(e,u),u}vj(n=>({...n,get:(e,t,i)=>Ew(e,t)||n.get(e,t,i),has:(e,t)=>!!Ew(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Nj(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function Nj(n){return n.getComponent()?.type==="VERSION"}const Jp="@firebase/app",Tw="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir=new kg("@firebase/app"),Sj="@firebase/app-compat",Aj="@firebase/analytics-compat",Cj="@firebase/analytics",jj="@firebase/app-check-compat",Rj="@firebase/app-check",Ij="@firebase/auth",kj="@firebase/auth-compat",Dj="@firebase/database",Oj="@firebase/data-connect",Pj="@firebase/database-compat",Mj="@firebase/functions",Vj="@firebase/functions-compat",Lj="@firebase/installations",Uj="@firebase/installations-compat",Bj="@firebase/messaging",zj="@firebase/messaging-compat",qj="@firebase/performance",Hj="@firebase/performance-compat",Fj="@firebase/remote-config",$j="@firebase/remote-config-compat",Gj="@firebase/storage",Kj="@firebase/storage-compat",Yj="@firebase/firestore",Qj="@firebase/ai",Xj="@firebase/firestore-compat",Wj="firebase",Zj="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="[DEFAULT]",Jj={[Jp]:"fire-core",[Sj]:"fire-core-compat",[Cj]:"fire-analytics",[Aj]:"fire-analytics-compat",[Rj]:"fire-app-check",[jj]:"fire-app-check-compat",[Ij]:"fire-auth",[kj]:"fire-auth-compat",[Dj]:"fire-rtdb",[Oj]:"fire-data-connect",[Pj]:"fire-rtdb-compat",[Mj]:"fire-fn",[Vj]:"fire-fn-compat",[Lj]:"fire-iid",[Uj]:"fire-iid-compat",[Bj]:"fire-fcm",[zj]:"fire-fcm-compat",[qj]:"fire-perf",[Hj]:"fire-perf-compat",[Fj]:"fire-rc",[$j]:"fire-rc-compat",[Gj]:"fire-gcs",[Kj]:"fire-gcs-compat",[Yj]:"fire-fst",[Xj]:"fire-fst-compat",[Qj]:"fire-vertex","fire-js":"fire-js",[Wj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new Map,eR=new Map,tg=new Map;function Nw(n,e){try{n.container.addComponent(e)}catch(t){Ir.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Wo(n){const e=n.name;if(tg.has(e))return Ir.debug(`There were multiple attempts to register component ${e}.`),!1;tg.set(e,n);for(const t of dh.values())Nw(t,n);for(const t of eR.values())Nw(t,n);return!0}function Og(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Hn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ri=new iu("app","Firebase",tR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new La("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ri.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=Zj;function B2(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:eg,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Ri.create("bad-app-name",{appName:String(o)});if(t||(t=O2()),!t)throw Ri.create("no-options");const u=dh.get(o);if(u){if(Pi(t,u.options)&&Pi(i,u.config))return u;throw Ri.create("duplicate-app",{appName:o})}const h=new lj(o);for(const g of tg.values())h.addComponent(g);const p=new nR(t,i,h);return dh.set(o,p),p}function z2(n=eg){const e=dh.get(n);if(!e&&n===eg&&O2())return B2();if(!e)throw Ri.create("no-app",{appName:n});return e}function Ii(n,e,t){let i=Jj[n]??n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ir.warn(h.join(" "));return}Wo(new La(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="firebase-heartbeat-database",rR=1,Gc="firebase-heartbeat-store";let Mp=null;function q2(){return Mp||(Mp=xj(sR,rR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Gc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ri.create("idb-open",{originalErrorMessage:n.message})})),Mp}async function iR(n){try{const t=(await q2()).transaction(Gc),i=await t.objectStore(Gc).get(H2(n));return await t.done,i}catch(e){if(e instanceof Mr)Ir.warn(e.message);else{const t=Ri.create("idb-get",{originalErrorMessage:e?.message});Ir.warn(t.message)}}}async function Sw(n,e){try{const i=(await q2()).transaction(Gc,"readwrite");await i.objectStore(Gc).put(e,H2(n)),await i.done}catch(t){if(t instanceof Mr)Ir.warn(t.message);else{const i=Ri.create("idb-set",{originalErrorMessage:t?.message});Ir.warn(i.message)}}}function H2(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=1024,oR=30;class lR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new uR(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Aw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>oR){const o=dR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ir.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Aw(),{heartbeatsToSend:t,unsentEntries:i}=cR(this._heartbeatsCache.heartbeats),o=uh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ir.warn(e),""}}}function Aw(){return new Date().toISOString().substring(0,10)}function cR(n,e=aR){const t=[];let i=n.slice();for(const o of n){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Cw(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Cw(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class uR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XC()?WC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await iR(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Sw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Sw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Cw(n){return uh(JSON.stringify({version:2,heartbeats:n})).length}function dR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(n){Wo(new La("platform-logger",e=>new Tj(e),"PRIVATE")),Wo(new La("heartbeat",e=>new lR(e),"PRIVATE")),Ii(Jp,Tw,n),Ii(Jp,Tw,"esm2020"),Ii("fire-js","")}hR("");function F2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fR=F2,$2=new iu("auth","Firebase",F2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new kg("@firebase/auth");function mR(n,...e){hh.logLevel<=Be.WARN&&hh.warn(`Auth (${dl}): ${n}`,...e)}function Jd(n,...e){hh.logLevel<=Be.ERROR&&hh.error(`Auth (${dl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(n,...e){throw Mg(n,...e)}function Ss(n,...e){return Mg(n,...e)}function Pg(n,e,t){const i={...fR(),[e]:t};return new iu("auth","Firebase",i).create(e,{appName:n.name})}function Sr(n){return Pg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function G2(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&us(n,"argument-error"),Pg(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Mg(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return $2.create(n,...e)}function Se(n,e,...t){if(!n)throw Mg(e,...t)}function _r(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Jd(e),new Error(e)}function kr(n,e){n||_r(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(){return typeof self<"u"&&self.location?.href||""}function K2(){return jw()==="http:"||jw()==="https:"}function jw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(K2()||GC()||"connection"in navigator)?navigator.onLine:!0}function gR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,t){this.shortDelay=e,this.longDelay=t,kr(t>e,"Short delay should be less than long delay!"),this.isMobile=HC()||KC()}get(){return pR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(n,e){kr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bR=new ou(3e4,6e4);function Vr(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Lr(n,e,t,i,o={}){return Q2(n,o,async()=>{let u={},h={};i&&(e==="GET"?h=i:u={body:JSON.stringify(i)});const p=au({key:n.config.apiKey,...h}).slice(1),g=await n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);const y={method:e,headers:g,...u};return $C()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&ul(n.emulatorConfig.host)&&(y.credentials="include"),Y2.fetch()(await X2(n,n.config.apiHost,t,p),y)})}async function Q2(n,e,t){n._canInitEmulator=!1;const i={...yR,...e};try{const o=new xR(n),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Fd(n,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const p=u.ok?h.errorMessage:h.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fd(n,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Fd(n,"email-already-in-use",h);if(g==="USER_DISABLED")throw Fd(n,"user-disabled",h);const w=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Pg(n,w,y);us(n,w)}}catch(o){if(o instanceof Mr)throw o;us(n,"network-request-failed",{message:String(o)})}}async function lu(n,e,t,i,o={}){const u=await Lr(n,e,t,i,o);return"mfaPendingCredential"in u&&us(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function X2(n,e,t,i){const o=`${e}${t}?${i}`,u=n,h=u.config.emulator?Vg(n.config,o):`${n.config.apiScheme}://${o}`;return vR.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function wR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Ss(this.auth,"network-request-failed")),bR.get())})}}function Fd(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Ss(n,e,i);return o.customData._tokenResponse=t,o}function Rw(n){return n!==void 0&&n.enterprise!==void 0}class _R{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return wR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ER(n,e){return Lr(n,"GET","/v2/recaptchaConfig",Vr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TR(n,e){return Lr(n,"POST","/v1/accounts:delete",e)}async function mh(n,e){return Lr(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NR(n,e=!1){const t=Ut(n),i=await t.getIdToken(e),o=Lg(i);Se(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:i,authTime:Uc(Vp(o.auth_time)),issuedAtTime:Uc(Vp(o.iat)),expirationTime:Uc(Vp(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Vp(n){return Number(n)*1e3}function Lg(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Jd("JWT malformed, contained fewer than 3 sections"),null;try{const o=k2(t);return o?JSON.parse(o):(Jd("Failed to decode base64 JWT payload"),null)}catch(o){return Jd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Iw(n){const e=Lg(n);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kc(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Mr&&SR(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function SR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uc(this.lastLoginAt),this.creationTime=Uc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yc(n){const e=n.auth,t=await n.getIdToken(),i=await Kc(n,mh(e,{idToken:t}));Se(i?.users.length,e,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const u=o.providerUserInfo?.length?W2(o.providerUserInfo):[],h=jR(n.providerData,u),p=n.isAnonymous,g=!(n.email&&o.passwordHash)&&!h?.length,y=p?g:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new ng(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,w)}async function CR(n){const e=Ut(n);await Yc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jR(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function W2(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RR(n,e){const t=await Q2(n,{},async()=>{const i=au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=n.config,h=await X2(n,o,"/v1/token",`key=${u}`),p=await n._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:i};return n.emulatorConfig&&ul(n.emulatorConfig.host)&&(g.credentials="include"),Y2.fetch()(h,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function IR(n,e){return Lr(n,"POST","/v2/accounts:revokeToken",Vr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Iw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=Iw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:u}=await RR(e,t);this.updateTokensAndExpiration(i,o,Number(u))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:u}=t,h=new Fo;return i&&(Se(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(Se(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Se(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fo,this.toJSON())}_performRefresh(){return _r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(n,e){Se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ns{constructor({uid:e,auth:t,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new AR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ng(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Kc(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return NR(this,e)}reload(){return CR(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ns({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Yc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(Sr(this.auth));const e=await this.getIdToken();return await Kc(this,TR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,h=t.photoURL??void 0,p=t.tenantId??void 0,g=t._redirectEventId??void 0,y=t.createdAt??void 0,w=t.lastLoginAt??void 0,{uid:_,emailVerified:S,isAnonymous:M,providerData:D,stsTokenManager:K}=t;Se(_&&K,e,"internal-error");const L=Fo.fromJSON(this.name,K);Se(typeof _=="string",e,"internal-error"),Ei(i,e.name),Ei(o,e.name),Se(typeof S=="boolean",e,"internal-error"),Se(typeof M=="boolean",e,"internal-error"),Ei(u,e.name),Ei(h,e.name),Ei(p,e.name),Ei(g,e.name),Ei(y,e.name),Ei(w,e.name);const Z=new Ns({uid:_,auth:e,email:o,emailVerified:S,displayName:i,isAnonymous:M,photoURL:h,phoneNumber:u,tenantId:p,stsTokenManager:L,createdAt:y,lastLoginAt:w});return D&&Array.isArray(D)&&(Z.providerData=D.map(z=>({...z}))),g&&(Z._redirectEventId=g),Z}static async _fromIdTokenResponse(e,t,i=!1){const o=new Fo;o.updateFromServerResponse(t);const u=new Ns({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Yc(u),u}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Se(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?W2(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,p=new Fo;p.updateFromIdToken(i);const g=new Ns({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ng(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=new Map;function Er(n){kr(n instanceof Function,"Expected a class definition");let e=kw.get(n);return e?(kr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,kw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Z2.type="NONE";const Dw=Z2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(n,e,t){return`firebase:${n}:${e}:${t}`}class $o{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:u}=this.auth;this.fullUserKey=eh(this.userKey,o.apiKey,u),this.fullPersistenceKey=eh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await mh(this.auth,{idToken:e}).catch(()=>{});return t?Ns._fromGetAccountInfoResponse(this.auth,t,e):null}return Ns._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new $o(Er(Dw),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Er(Dw);const h=eh(i,e.config.apiKey,e.name);let p=null;for(const y of t)try{const w=await y._get(h);if(w){let _;if(typeof w=="string"){const S=await mh(e,{idToken:w}).catch(()=>{});if(!S)break;_=await Ns._fromGetAccountInfoResponse(e,S,w)}else _=Ns._fromJSON(e,w);y!==u&&(p=_),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new $o(u,e,i):(u=g[0],p&&await u._set(h,p.toJSON()),await Promise.all(t.map(async y=>{if(y!==u)try{await y._remove(h)}catch{}})),new $o(u,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(n_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(J2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(r_(e))return"Blackberry";if(i_(e))return"Webos";if(e_(e))return"Safari";if((e.includes("chrome/")||t_(e))&&!e.includes("edge/"))return"Chrome";if(s_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function J2(n=pn()){return/firefox\//i.test(n)}function e_(n=pn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function t_(n=pn()){return/crios\//i.test(n)}function n_(n=pn()){return/iemobile/i.test(n)}function s_(n=pn()){return/android/i.test(n)}function r_(n=pn()){return/blackberry/i.test(n)}function i_(n=pn()){return/webos/i.test(n)}function Ug(n=pn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function kR(n=pn()){return Ug(n)&&!!window.navigator?.standalone}function DR(){return YC()&&document.documentMode===10}function a_(n=pn()){return Ug(n)||s_(n)||i_(n)||r_(n)||/windows phone/i.test(n)||n_(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(n,e=[]){let t;switch(n){case"Browser":t=Ow(pn());break;case"Worker":t=`${Ow(pn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${dl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=u=>new Promise((h,p)=>{try{const g=e(u);h(g)}catch(g){p(g)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PR(n,e={}){return Lr(n,"GET","/v2/passwordPolicy",Vr(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=6;class VR{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??MR,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pw(this),this.idTokenSubscription=new Pw(this),this.beforeStateQueue=new OR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Er(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $o.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await mh(this,{idToken:e}),i=await Ns._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Hn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=i?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===h)&&p?.user&&(i=p.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Yc(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hn(this.app))return Promise.reject(Sr(this));const t=e?Ut(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(Sr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hn(this.app)?Promise.reject(Sr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Er(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PR(this),t=new VR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new iu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await IR(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Er(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await $o.create(this,[Er(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(p,this,"internal-error"),p.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,i,o);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=o_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&mR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Hi(n){return Ut(n)}class Pw{constructor(e){this.auth=e,this.observer=null,this.addObserver=nj(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $h={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UR(n){$h=n}function l_(n){return $h.loadJS(n)}function BR(){return $h.recaptchaEnterpriseScript}function zR(){return $h.gapiScript}function qR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class HR{constructor(){this.enterprise=new FR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class FR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const $R="recaptcha-enterprise",c_="NO_RECAPTCHA";class GR{constructor(e){this.type=$R,this.auth=Hi(e)}async verify(e="verify",t=!1){async function i(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,p)=>{ER(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new _R(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,h(y.siteKey)}}).catch(g=>{p(g)})})}function o(u,h,p){const g=window.grecaptcha;Rw(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{h(y)}).catch(()=>{h(c_)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HR().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{i(this.auth).then(p=>{if(!t&&Rw(window.grecaptcha))o(p,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=BR();g.length!==0&&(g+=p),l_(g).then(()=>{o(p,u,h)}).catch(y=>{h(y)})}}).catch(p=>{h(p)})})}}async function Mw(n,e,t,i=!1,o=!1){const u=new GR(n);let h;if(o)h=c_;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const p={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return i?Object.assign(p,{captchaResp:h}):Object.assign(p,{captchaResponse:h}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function sg(n,e,t,i,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Mw(n,e,t,t==="getOobCode");return i(n,u)}else return i(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Mw(n,e,t,t==="getOobCode");return i(n,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(n,e){const t=Og(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Pi(u,e??{}))return o;us(o,"already-initialized")}return t.initialize({options:e})}function YR(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Er);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function QR(n,e,t){const i=Hi(n);Se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,u=u_(e),{host:h,port:p}=XR(e),g=p===null?"":`:${p}`,y={url:`${u}//${h}${g}/`},w=Object.freeze({host:h,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Se(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Se(Pi(y,i.config.emulator)&&Pi(w,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=w,i.settings.appVerificationDisabledForTesting=!0,ul(h)?(M2(`${u}//${h}${g}`),V2("Auth",!0)):WR()}function u_(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function XR(n){const e=u_(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const u=o[1];return{host:u,port:Vw(i.substr(u.length+1))}}else{const[u,h]=i.split(":");return{host:u,port:Vw(h)}}}function Vw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function WR(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return _r("not implemented")}_getIdTokenResponse(e){return _r("not implemented")}_linkToIdToken(e,t){return _r("not implemented")}_getReauthenticationResolver(e){return _r("not implemented")}}async function ZR(n,e){return Lr(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR(n,e){return lu(n,"POST","/v1/accounts:signInWithPassword",Vr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eI(n,e){return lu(n,"POST","/v1/accounts:signInWithEmailLink",Vr(n,e))}async function tI(n,e){return lu(n,"POST","/v1/accounts:signInWithEmailLink",Vr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc extends Bg{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Qc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Qc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sg(e,t,"signInWithPassword",JR);case"emailLink":return eI(e,{email:this._email,oobCode:this._password});default:us(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sg(e,i,"signUpPassword",ZR);case"emailLink":return tI(e,{idToken:t,email:this._email,oobCode:this._password});default:us(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(n,e){return lu(n,"POST","/v1/accounts:signInWithIdp",Vr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="http://localhost";class Ua extends Bg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):us("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...u}=t;if(!i||!o)return null;const h=new Ua(i,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Go(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Go(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Go(e,t)}buildRequest(){const e={requestUri:nI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=au(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rI(n){const e=Ic(kc(n)).link,t=e?Ic(kc(e)).deep_link_id:null,i=Ic(kc(n)).deep_link_id;return(i?Ic(kc(i)).link:null)||i||t||e||n}class zg{constructor(e){const t=Ic(kc(e)),i=t.apiKey??null,o=t.oobCode??null,u=sI(t.mode??null);Se(i&&o&&u,"argument-error"),this.apiKey=i,this.operation=u,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=rI(e);try{return new zg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(){this.providerId=hl.PROVIDER_ID}static credential(e,t){return Qc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=zg.parseLink(t);return Se(i,"argument-error"),Qc._fromEmailAndCode(e,i.code,i.tenantId)}}hl.PROVIDER_ID="password";hl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends Gh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends cu{constructor(){super("facebook.com")}static credential(e){return Ua._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ts.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ua._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ks.credential(t,i)}catch{return null}}}Ks.GOOGLE_SIGN_IN_METHOD="google.com";Ks.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends cu{constructor(){super("github.com")}static credential(e){return Ua._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.GITHUB_SIGN_IN_METHOD="github.com";ls.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends cu{constructor(){super("twitter.com")}static credential(e,t){return Ua._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ti.credential(t,i)}catch{return null}}}Ti.TWITTER_SIGN_IN_METHOD="twitter.com";Ti.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iI(n,e){return lu(n,"POST","/v1/accounts:signUp",Vr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const u=await Ns._fromIdTokenResponse(e,i,o),h=Lw(i);return new Ba({user:u,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Lw(i);return new Ba({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Lw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph extends Mr{constructor(e,t,i,o){super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,ph.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new ph(e,t,i,o)}}function d_(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ph._fromErrorAndOperation(n,u,e,i):u})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}async function h_(n,e,t=!1){const i=await Kc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ba._forOperation(n,"link",i)}async function oI(n,e,t){await Yc(e);const i=aI(e.providerData);Se(i.has(t)===n,e.auth,"provider-already-linked")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lI(n,e,t=!1){const{auth:i}=n;if(Hn(i.app))return Promise.reject(Sr(i));const o="reauthenticate";try{const u=await Kc(n,d_(i,o,e,n),t);Se(u.idToken,i,"internal-error");const h=Lg(u.idToken);Se(h,i,"internal-error");const{sub:p}=h;return Se(n.uid===p,i,"user-mismatch"),Ba._forOperation(n,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&us(i,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f_(n,e,t=!1){if(Hn(n.app))return Promise.reject(Sr(n));const i="signIn",o=await d_(n,i,e),u=await Ba._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(u.user),u}async function cI(n,e){return f_(Hi(n),e)}async function uI(n,e){const t=Ut(n);return await oI(!1,t,e.providerId),h_(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m_(n){const e=Hi(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function p_(n,e,t){if(Hn(n.app))return Promise.reject(Sr(n));const i=Hi(n),h=await sg(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iI).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&m_(n),g}),p=await Ba._fromIdTokenResponse(i,"signIn",h);return await i._updateCurrentUser(p.user),p}function Uw(n,e,t){return Hn(n.app)?Promise.reject(Sr(n)):cI(Ut(n),hl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&m_(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dI(n,e){return Lr(n,"POST","/v1/accounts:createAuthUri",Vr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hI(n,e){const t=K2()?fh():"http://localhost",i={identifier:e,continueUri:t},{signinMethods:o}=await dI(Ut(n),i);return o||[]}function fI(n,e,t,i){return Ut(n).onIdTokenChanged(e,t,i)}function mI(n,e,t){return Ut(n).beforeAuthStateChanged(e,t)}function g_(n){return Ut(n).signOut()}const gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=1e3,gI=10;class v_ extends y_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=a_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,p,g)=>{this.notifyListeners(h,g)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},u=this.storage.getItem(i);DR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,gI):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},pI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}v_.type="LOCAL";const yI=v_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_ extends y_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}b_.type="SESSION";const w_=b_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Kh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const p=Array.from(h).map(async y=>y(t.origin,u)),g=await vI(p);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((p,g)=>{const y=qg("",20);o.port1.start();const w=setTimeout(()=>{g(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(_){const S=_;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(w),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(S.data.response);break;default:clearTimeout(w),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(){return window}function wI(n){Ys().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(){return typeof Ys().WorkerGlobalScope<"u"&&typeof Ys().importScripts=="function"}async function xI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _I(){return navigator?.serviceWorker?.controller||null}function EI(){return x_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="firebaseLocalStorageDb",TI=1,yh="firebaseLocalStorage",E_="fbase_key";class uu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Yh(n,e){return n.transaction([yh],e?"readwrite":"readonly").objectStore(yh)}function NI(){const n=indexedDB.deleteDatabase(__);return new uu(n).toPromise()}function rg(){const n=indexedDB.open(__,TI);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(yh,{keyPath:E_})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(yh)?e(i):(i.close(),await NI(),e(await rg()))})})}async function Bw(n,e,t){const i=Yh(n,!0).put({[E_]:e,value:t});return new uu(i).toPromise()}async function SI(n,e){const t=Yh(n,!1).get(e),i=await new uu(t).toPromise();return i===void 0?null:i.value}function zw(n,e){const t=Yh(n,!0).delete(e);return new uu(t).toPromise()}const AI=800,CI=3;class T_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>CI)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return x_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kh._getInstance(EI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await xI(),!this.activeServiceWorker)return;this.sender=new bI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_I()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rg();return await Bw(e,gh,"1"),await zw(e,gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Bw(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>SI(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>zw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Yh(o,!1).getAll();return new uu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}T_.type="LOCAL";const jI=T_;new ou(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(n,e){return e?Er(e):(Se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg extends Bg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Go(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Go(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Go(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function RI(n){return f_(n.auth,new Fg(n),n.bypassAuthState)}function II(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),lI(t,new Fg(n),n.bypassAuthState)}async function kI(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),h_(t,new Fg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,t,i,o,u=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:u,error:h,type:p}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:i,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RI;case"linkViaPopup":case"linkViaRedirect":return kI;case"reauthViaPopup":case"reauthViaRedirect":return II;default:us(this.auth,"internal-error")}}resolve(e){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=new ou(2e3,1e4);async function OI(n,e,t){if(Hn(n.app))return Promise.reject(Ss(n,"operation-not-supported-in-this-environment"));const i=Hi(n);G2(n,e,Gh);const o=Hg(i,t);return new Ni(i,"signInViaPopup",e,o).executeNotNull()}async function Lp(n,e,t){const i=Ut(n);G2(i.auth,e,Gh);const o=Hg(i.auth,t);return new Ni(i.auth,"linkViaPopup",e,o,i).executeNotNull()}class Ni extends N_{constructor(e,t,i,o,u){super(e,t,o,u),this.provider=i,this.authWindow=null,this.pollId=null,Ni.currentPopupAction&&Ni.currentPopupAction.cancel(),Ni.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){kr(this.filter.length===1,"Popup operations only handle one event");const e=qg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ss(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ss(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ni.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ss(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DI.get())};e()}}Ni.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI="pendingRedirect",th=new Map;class MI extends N_{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=th.get(this.auth._key());if(!e){try{const i=await VI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}th.set(this.auth._key(),e)}return this.bypassAuthState||th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VI(n,e){const t=BI(e),i=UI(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function LI(n,e){th.set(n._key(),e)}function UI(n){return Er(n._redirectPersistence)}function BI(n){return eh(PI,n.config.apiKey,n.name)}async function zI(n,e,t=!1){if(Hn(n.app))return Promise.reject(Sr(n));const i=Hi(n),o=Hg(i,e),h=await new MI(i,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=600*1e3;class HI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!S_(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Ss(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qI&&this.cachedEventUids.clear(),this.cachedEventUids.has(qw(e))}saveEventToCache(e){this.cachedEventUids.add(qw(e)),this.lastProcessedEventTime=Date.now()}}function qw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function S_({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function FI(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return S_(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $I(n,e={}){return Lr(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KI=/^https?/;async function YI(n){if(n.config.emulator)return;const{authorizedDomains:e}=await $I(n);for(const t of e)try{if(QI(t))return}catch{}us(n,"unauthorized-domain")}function QI(n){const e=fh(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!KI.test(t))return!1;if(GI.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=new ou(3e4,6e4);function Hw(){const n=Ys().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function WI(n){return new Promise((e,t)=>{function i(){Hw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Hw(),t(Ss(n,"network-request-failed"))},timeout:XI.get()})}if(Ys().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ys().gapi?.load)i();else{const o=qR("iframefcb");return Ys()[o]=()=>{gapi.load?i():t(Ss(n,"network-request-failed"))},l_(`${zR()}?onload=${o}`).catch(u=>t(u))}}).catch(e=>{throw nh=null,e})}let nh=null;function ZI(n){return nh=nh||WI(n),nh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=new ou(5e3,15e3),e4="__/auth/iframe",t4="emulator/auth/iframe",n4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},s4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function r4(n){const e=n.config;Se(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Vg(e,t4):`https://${n.config.authDomain}/${e4}`,i={apiKey:e.apiKey,appName:n.name,v:dl},o=s4.get(n.config.apiHost);o&&(i.eid=o);const u=n._getFrameworks();return u.length&&(i.fw=u.join(",")),`${t}?${au(i).slice(1)}`}async function i4(n){const e=await ZI(n),t=Ys().gapi;return Se(t,n,"internal-error"),e.open({where:document.body,url:r4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:n4,dontclear:!0},i=>new Promise(async(o,u)=>{await i.restyle({setHideOnLeave:!1});const h=Ss(n,"network-request-failed"),p=Ys().setTimeout(()=>{u(h)},JI.get());function g(){Ys().clearTimeout(p),o(i)}i.ping(g).then(g,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},o4=500,l4=600,c4="_blank",u4="http://localhost";class Fw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function d4(n,e,t,i=o4,o=l4){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let p="";const g={...a4,width:i.toString(),height:o.toString(),top:u,left:h},y=pn().toLowerCase();t&&(p=t_(y)?c4:t),J2(y)&&(e=e||u4,g.scrollbars="yes");const w=Object.entries(g).reduce((S,[M,D])=>`${S}${M}=${D},`,"");if(kR(y)&&p!=="_self")return h4(e||"",p),new Fw(null);const _=window.open(e||"",p,w);Se(_,n,"popup-blocked");try{_.focus()}catch{}return new Fw(_)}function h4(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4="__/auth/handler",m4="emulator/auth/handler",p4=encodeURIComponent("fac");async function $w(n,e,t,i,o,u){Se(n.config.authDomain,n,"auth-domain-config-required"),Se(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:dl,eventId:o};if(e instanceof Gh){e.setDefaultLanguage(n.languageCode),h.providerId=e.providerId||"",tj(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,_]of Object.entries({}))h[w]=_}if(e instanceof cu){const w=e.getScopes().filter(_=>_!=="");w.length>0&&(h.scopes=w.join(","))}n.tenantId&&(h.tid=n.tenantId);const p=h;for(const w of Object.keys(p))p[w]===void 0&&delete p[w];const g=await n._getAppCheckToken(),y=g?`#${p4}=${encodeURIComponent(g)}`:"";return`${g4(n)}?${au(p).slice(1)}${y}`}function g4({config:n}){return n.emulator?Vg(n,m4):`https://${n.authDomain}/${f4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up="webStorageSupport";class y4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=w_,this._completeRedirectFn=zI,this._overrideRedirectResult=LI}async _openPopup(e,t,i,o){kr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await $w(e,t,i,fh(),o);return d4(e,u,qg())}async _openRedirect(e,t,i,o){await this._originValidation(e);const u=await $w(e,t,i,fh(),o);return wI(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(kr(u,"If manager is not set, promise should be"),u)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await i4(e),i=new HI(e);return t.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Up,{type:Up},o=>{const u=o?.[0]?.[Up];u!==void 0&&t(!!u),us(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=YI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return a_()||e_()||Ug()}}const v4=y4;var Gw="@firebase/auth",Kw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function x4(n){Wo(new La("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=i.options;Se(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:h,authDomain:p,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:o_(n)},y=new LR(i,o,u,g);return YR(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Wo(new La("auth-internal",e=>{const t=Hi(e.getProvider("auth").getImmediate());return(i=>new b4(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ii(Gw,Kw,w4(n)),Ii(Gw,Kw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=300,E4=P2("authIdTokenMaxAge")||_4;let Yw=null;const T4=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>E4)return;const o=t?.token;Yw!==o&&(Yw=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function N4(n=z2()){const e=Og(n,"auth");if(e.isInitialized())return e.getImmediate();const t=KR(n,{popupRedirectResolver:v4,persistence:[jI,yI,w_]}),i=P2("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(i,location.origin);if(location.origin===u.origin){const h=T4(u.toString());mI(t,h,()=>h(t.currentUser)),fI(t,p=>h(p))}}const o=D2("auth");return o&&QR(t,`http://${o}`),t}function S4(){return document.getElementsByTagName("head")?.[0]??document}UR({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const u=Ss("internal-error");u.customData=o,t(u)},i.type="text/javascript",i.charset="UTF-8",S4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});x4("Browser");var A4="firebase",C4="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ii(A4,C4,"app");var Qw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ki,A_;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function C(){}C.prototype=A.prototype,N.F=A.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(O,P,B){for(var R=Array(arguments.length-2),at=2;at<arguments.length;at++)R[at-2]=arguments[at];return A.prototype[P].apply(O,R)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,A,C){C||(C=0);const O=Array(16);if(typeof A=="string")for(var P=0;P<16;++P)O[P]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(P=0;P<16;++P)O[P]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=N.g[0],C=N.g[1],P=N.g[2];let B=N.g[3],R;R=A+(B^C&(P^B))+O[0]+3614090360&4294967295,A=C+(R<<7&4294967295|R>>>25),R=B+(P^A&(C^P))+O[1]+3905402710&4294967295,B=A+(R<<12&4294967295|R>>>20),R=P+(C^B&(A^C))+O[2]+606105819&4294967295,P=B+(R<<17&4294967295|R>>>15),R=C+(A^P&(B^A))+O[3]+3250441966&4294967295,C=P+(R<<22&4294967295|R>>>10),R=A+(B^C&(P^B))+O[4]+4118548399&4294967295,A=C+(R<<7&4294967295|R>>>25),R=B+(P^A&(C^P))+O[5]+1200080426&4294967295,B=A+(R<<12&4294967295|R>>>20),R=P+(C^B&(A^C))+O[6]+2821735955&4294967295,P=B+(R<<17&4294967295|R>>>15),R=C+(A^P&(B^A))+O[7]+4249261313&4294967295,C=P+(R<<22&4294967295|R>>>10),R=A+(B^C&(P^B))+O[8]+1770035416&4294967295,A=C+(R<<7&4294967295|R>>>25),R=B+(P^A&(C^P))+O[9]+2336552879&4294967295,B=A+(R<<12&4294967295|R>>>20),R=P+(C^B&(A^C))+O[10]+4294925233&4294967295,P=B+(R<<17&4294967295|R>>>15),R=C+(A^P&(B^A))+O[11]+2304563134&4294967295,C=P+(R<<22&4294967295|R>>>10),R=A+(B^C&(P^B))+O[12]+1804603682&4294967295,A=C+(R<<7&4294967295|R>>>25),R=B+(P^A&(C^P))+O[13]+4254626195&4294967295,B=A+(R<<12&4294967295|R>>>20),R=P+(C^B&(A^C))+O[14]+2792965006&4294967295,P=B+(R<<17&4294967295|R>>>15),R=C+(A^P&(B^A))+O[15]+1236535329&4294967295,C=P+(R<<22&4294967295|R>>>10),R=A+(P^B&(C^P))+O[1]+4129170786&4294967295,A=C+(R<<5&4294967295|R>>>27),R=B+(C^P&(A^C))+O[6]+3225465664&4294967295,B=A+(R<<9&4294967295|R>>>23),R=P+(A^C&(B^A))+O[11]+643717713&4294967295,P=B+(R<<14&4294967295|R>>>18),R=C+(B^A&(P^B))+O[0]+3921069994&4294967295,C=P+(R<<20&4294967295|R>>>12),R=A+(P^B&(C^P))+O[5]+3593408605&4294967295,A=C+(R<<5&4294967295|R>>>27),R=B+(C^P&(A^C))+O[10]+38016083&4294967295,B=A+(R<<9&4294967295|R>>>23),R=P+(A^C&(B^A))+O[15]+3634488961&4294967295,P=B+(R<<14&4294967295|R>>>18),R=C+(B^A&(P^B))+O[4]+3889429448&4294967295,C=P+(R<<20&4294967295|R>>>12),R=A+(P^B&(C^P))+O[9]+568446438&4294967295,A=C+(R<<5&4294967295|R>>>27),R=B+(C^P&(A^C))+O[14]+3275163606&4294967295,B=A+(R<<9&4294967295|R>>>23),R=P+(A^C&(B^A))+O[3]+4107603335&4294967295,P=B+(R<<14&4294967295|R>>>18),R=C+(B^A&(P^B))+O[8]+1163531501&4294967295,C=P+(R<<20&4294967295|R>>>12),R=A+(P^B&(C^P))+O[13]+2850285829&4294967295,A=C+(R<<5&4294967295|R>>>27),R=B+(C^P&(A^C))+O[2]+4243563512&4294967295,B=A+(R<<9&4294967295|R>>>23),R=P+(A^C&(B^A))+O[7]+1735328473&4294967295,P=B+(R<<14&4294967295|R>>>18),R=C+(B^A&(P^B))+O[12]+2368359562&4294967295,C=P+(R<<20&4294967295|R>>>12),R=A+(C^P^B)+O[5]+4294588738&4294967295,A=C+(R<<4&4294967295|R>>>28),R=B+(A^C^P)+O[8]+2272392833&4294967295,B=A+(R<<11&4294967295|R>>>21),R=P+(B^A^C)+O[11]+1839030562&4294967295,P=B+(R<<16&4294967295|R>>>16),R=C+(P^B^A)+O[14]+4259657740&4294967295,C=P+(R<<23&4294967295|R>>>9),R=A+(C^P^B)+O[1]+2763975236&4294967295,A=C+(R<<4&4294967295|R>>>28),R=B+(A^C^P)+O[4]+1272893353&4294967295,B=A+(R<<11&4294967295|R>>>21),R=P+(B^A^C)+O[7]+4139469664&4294967295,P=B+(R<<16&4294967295|R>>>16),R=C+(P^B^A)+O[10]+3200236656&4294967295,C=P+(R<<23&4294967295|R>>>9),R=A+(C^P^B)+O[13]+681279174&4294967295,A=C+(R<<4&4294967295|R>>>28),R=B+(A^C^P)+O[0]+3936430074&4294967295,B=A+(R<<11&4294967295|R>>>21),R=P+(B^A^C)+O[3]+3572445317&4294967295,P=B+(R<<16&4294967295|R>>>16),R=C+(P^B^A)+O[6]+76029189&4294967295,C=P+(R<<23&4294967295|R>>>9),R=A+(C^P^B)+O[9]+3654602809&4294967295,A=C+(R<<4&4294967295|R>>>28),R=B+(A^C^P)+O[12]+3873151461&4294967295,B=A+(R<<11&4294967295|R>>>21),R=P+(B^A^C)+O[15]+530742520&4294967295,P=B+(R<<16&4294967295|R>>>16),R=C+(P^B^A)+O[2]+3299628645&4294967295,C=P+(R<<23&4294967295|R>>>9),R=A+(P^(C|~B))+O[0]+4096336452&4294967295,A=C+(R<<6&4294967295|R>>>26),R=B+(C^(A|~P))+O[7]+1126891415&4294967295,B=A+(R<<10&4294967295|R>>>22),R=P+(A^(B|~C))+O[14]+2878612391&4294967295,P=B+(R<<15&4294967295|R>>>17),R=C+(B^(P|~A))+O[5]+4237533241&4294967295,C=P+(R<<21&4294967295|R>>>11),R=A+(P^(C|~B))+O[12]+1700485571&4294967295,A=C+(R<<6&4294967295|R>>>26),R=B+(C^(A|~P))+O[3]+2399980690&4294967295,B=A+(R<<10&4294967295|R>>>22),R=P+(A^(B|~C))+O[10]+4293915773&4294967295,P=B+(R<<15&4294967295|R>>>17),R=C+(B^(P|~A))+O[1]+2240044497&4294967295,C=P+(R<<21&4294967295|R>>>11),R=A+(P^(C|~B))+O[8]+1873313359&4294967295,A=C+(R<<6&4294967295|R>>>26),R=B+(C^(A|~P))+O[15]+4264355552&4294967295,B=A+(R<<10&4294967295|R>>>22),R=P+(A^(B|~C))+O[6]+2734768916&4294967295,P=B+(R<<15&4294967295|R>>>17),R=C+(B^(P|~A))+O[13]+1309151649&4294967295,C=P+(R<<21&4294967295|R>>>11),R=A+(P^(C|~B))+O[4]+4149444226&4294967295,A=C+(R<<6&4294967295|R>>>26),R=B+(C^(A|~P))+O[11]+3174756917&4294967295,B=A+(R<<10&4294967295|R>>>22),R=P+(A^(B|~C))+O[2]+718787259&4294967295,P=B+(R<<15&4294967295|R>>>17),R=C+(B^(P|~A))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(P+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+P&4294967295,N.g[3]=N.g[3]+B&4294967295}i.prototype.v=function(N,A){A===void 0&&(A=N.length);const C=A-this.blockSize,O=this.C;let P=this.h,B=0;for(;B<A;){if(P==0)for(;B<=C;)o(this,N,B),B+=this.blockSize;if(typeof N=="string"){for(;B<A;)if(O[P++]=N.charCodeAt(B++),P==this.blockSize){o(this,O),P=0;break}}else for(;B<A;)if(O[P++]=N[B++],P==this.blockSize){o(this,O),P=0;break}}this.h=P,this.o+=A},i.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,C=0;C<4;++C)for(let O=0;O<32;O+=8)N[A++]=this.g[C]>>>O&255;return N};function u(N,A){var C=p;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=A(N)}function h(N,A){this.h=A;const C=[];let O=!0;for(let P=N.length-1;P>=0;P--){const B=N[P]|0;O&&B==A||(C[P]=B,O=!1)}this.g=C}var p={};function g(N){return-128<=N&&N<128?u(N,function(A){return new h([A|0],A<0?-1:0)}):new h([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return _;if(N<0)return L(y(-N));const A=[];let C=1;for(let O=0;N>=C;O++)A[O]=N/C|0,C*=4294967296;return new h(A,0)}function w(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return L(w(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(A,8));let O=_;for(let B=0;B<N.length;B+=8){var P=Math.min(8,N.length-B);const R=parseInt(N.substring(B,B+P),A);P<8?(P=y(Math.pow(A,P)),O=O.j(P).add(y(R))):(O=O.j(C),O=O.add(y(R)))}return O}var _=g(0),S=g(1),M=g(16777216);n=h.prototype,n.m=function(){if(K(this))return-L(this).m();let N=0,A=1;for(let C=0;C<this.g.length;C++){const O=this.i(C);N+=(O>=0?O:4294967296+O)*A,A*=4294967296}return N},n.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(D(this))return"0";if(K(this))return"-"+L(this).toString(N);const A=y(Math.pow(N,6));var C=this;let O="";for(;;){const P=oe(C,A).g;C=Z(C,P.j(A));let B=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=P,D(C))return B+O;for(;B.length<6;)B="0"+B;O=B+O}},n.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function D(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function K(N){return N.h==-1}n.l=function(N){return N=Z(this,N),K(N)?-1:D(N)?0:1};function L(N){const A=N.g.length,C=[];for(let O=0;O<A;O++)C[O]=~N.g[O];return new h(C,~N.h).add(S)}n.abs=function(){return K(this)?L(this):this},n.add=function(N){const A=Math.max(this.g.length,N.g.length),C=[];let O=0;for(let P=0;P<=A;P++){let B=O+(this.i(P)&65535)+(N.i(P)&65535),R=(B>>>16)+(this.i(P)>>>16)+(N.i(P)>>>16);O=R>>>16,B&=65535,R&=65535,C[P]=R<<16|B}return new h(C,C[C.length-1]&-2147483648?-1:0)};function Z(N,A){return N.add(L(A))}n.j=function(N){if(D(this)||D(N))return _;if(K(this))return K(N)?L(this).j(L(N)):L(L(this).j(N));if(K(N))return L(this.j(L(N)));if(this.l(M)<0&&N.l(M)<0)return y(this.m()*N.m());const A=this.g.length+N.g.length,C=[];for(var O=0;O<2*A;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(let P=0;P<N.g.length;P++){const B=this.i(O)>>>16,R=this.i(O)&65535,at=N.i(P)>>>16,ce=N.i(P)&65535;C[2*O+2*P]+=R*ce,z(C,2*O+2*P),C[2*O+2*P+1]+=B*ce,z(C,2*O+2*P+1),C[2*O+2*P+1]+=R*at,z(C,2*O+2*P+1),C[2*O+2*P+2]+=B*at,z(C,2*O+2*P+2)}for(N=0;N<A;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=A;N<2*A;N++)C[N]=0;return new h(C,0)};function z(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function F(N,A){this.g=N,this.h=A}function oe(N,A){if(D(A))throw Error("division by zero");if(D(N))return new F(_,_);if(K(N))return A=oe(L(N),A),new F(L(A.g),L(A.h));if(K(A))return A=oe(N,L(A)),new F(L(A.g),A.h);if(N.g.length>30){if(K(N)||K(A))throw Error("slowDivide_ only works with positive integers.");for(var C=S,O=A;O.l(N)<=0;)C=se(C),O=se(O);var P=ue(C,1),B=ue(O,1);for(O=ue(O,2),C=ue(C,2);!D(O);){var R=B.add(O);R.l(N)<=0&&(P=P.add(C),B=R),O=ue(O,1),C=ue(C,1)}return A=Z(N,P.j(A)),new F(P,A)}for(P=_;N.l(A)>=0;){for(C=Math.max(1,Math.floor(N.m()/A.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),B=y(C),R=B.j(A);K(R)||R.l(N)>0;)C-=O,B=y(C),R=B.j(A);D(B)&&(B=S),P=P.add(B),N=Z(N,R)}return new F(P,N)}n.B=function(N){return oe(this,N).h},n.and=function(N){const A=Math.max(this.g.length,N.g.length),C=[];for(let O=0;O<A;O++)C[O]=this.i(O)&N.i(O);return new h(C,this.h&N.h)},n.or=function(N){const A=Math.max(this.g.length,N.g.length),C=[];for(let O=0;O<A;O++)C[O]=this.i(O)|N.i(O);return new h(C,this.h|N.h)},n.xor=function(N){const A=Math.max(this.g.length,N.g.length),C=[];for(let O=0;O<A;O++)C[O]=this.i(O)^N.i(O);return new h(C,this.h^N.h)};function se(N){const A=N.g.length+1,C=[];for(let O=0;O<A;O++)C[O]=N.i(O)<<1|N.i(O-1)>>>31;return new h(C,N.h)}function ue(N,A){const C=A>>5;A%=32;const O=N.g.length-C,P=[];for(let B=0;B<O;B++)P[B]=A>0?N.i(B+C)>>>A|N.i(B+C+1)<<32-A:N.i(B+C);return new h(P,N.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,A_=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=w,ki=h}).apply(typeof Qw<"u"?Qw:typeof self<"u"?self:typeof window<"u"?window:{});var $d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var C_,Dc,j_,sh,ig,R_,I_,k_;(function(){var n,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof $d=="object"&&$d];for(var v=0;v<d.length;++v){var b=d[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=t(this);function o(d,v){if(v)e:{var b=i;d=d.split(".");for(var T=0;T<d.length-1;T++){var H=d[T];if(!(H in b))break e;b=b[H]}d=d[d.length-1],T=b[d],v=v(T),v!=T&&v!=null&&e(b,d,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(d){return d||function(v){var b=[],T;for(T in v)Object.prototype.hasOwnProperty.call(v,T)&&b.push([T,v[T]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function p(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function g(d,v,b){return d.call.apply(d.bind,arguments)}function y(d,v,b){return y=g,y.apply(null,arguments)}function w(d,v){var b=Array.prototype.slice.call(arguments,1);return function(){var T=b.slice();return T.push.apply(T,arguments),d.apply(this,T)}}function _(d,v){function b(){}b.prototype=v.prototype,d.Z=v.prototype,d.prototype=new b,d.prototype.constructor=d,d.Ob=function(T,H,X){for(var de=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)de[Re-2]=arguments[Re];return v.prototype[H].apply(T,de)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function M(d){const v=d.length;if(v>0){const b=Array(v);for(let T=0;T<v;T++)b[T]=d[T];return b}return[]}function D(d,v){for(let T=1;T<arguments.length;T++){const H=arguments[T];var b=typeof H;if(b=b!="object"?b:H?Array.isArray(H)?"array":b:"null",b=="array"||b=="object"&&typeof H.length=="number"){b=d.length||0;const X=H.length||0;d.length=b+X;for(let de=0;de<X;de++)d[b+de]=H[de]}else d.push(H)}}class K{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function L(d){h.setTimeout(()=>{throw d},0)}function Z(){var d=N;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class z{constructor(){this.h=this.g=null}add(v,b){const T=F.get();T.set(v,b),this.h?this.h.next=T:this.g=T,this.h=T}}var F=new K(()=>new oe,d=>d.reset());class oe{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ue=!1,N=new z,A=()=>{const d=Promise.resolve(void 0);se=()=>{d.then(C)}};function C(){for(var d;d=Z();){try{d.h.call(d.g)}catch(b){L(b)}var v=F;v.j(d),v.h<100&&(v.h++,d.next=v.g,v.g=d)}ue=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const b=()=>{};h.addEventListener("test",b,v),h.removeEventListener("test",b,v)}catch{}return d})();function R(d){return/^[\s\xa0]*$/.test(d)}function at(d,v){P.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,v)}_(at,P),at.prototype.init=function(d,v){const b=this.type=d.type,T=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget,v||(b=="mouseover"?v=d.fromElement:b=="mouseout"&&(v=d.toElement)),this.relatedTarget=v,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&at.Z.h.call(this)},at.prototype.h=function(){at.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ce="closure_listenable_"+(Math.random()*1e6|0),G=0;function le(d,v,b,T,H){this.listener=d,this.proxy=null,this.src=v,this.type=b,this.capture=!!T,this.ha=H,this.key=++G,this.da=this.fa=!1}function ge(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ke(d,v,b){for(const T in d)v.call(b,d[T],T,d)}function k(d,v){for(const b in d)v.call(void 0,d[b],b,d)}function ae(d){const v={};for(const b in d)v[b]=d[b];return v}const pe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(d,v){let b,T;for(let H=1;H<arguments.length;H++){T=arguments[H];for(b in T)d[b]=T[b];for(let X=0;X<pe.length;X++)b=pe[X],Object.prototype.hasOwnProperty.call(T,b)&&(d[b]=T[b])}}function be(d){this.src=d,this.g={},this.h=0}be.prototype.add=function(d,v,b,T,H){const X=d.toString();d=this.g[X],d||(d=this.g[X]=[],this.h++);const de=ne(d,v,T,H);return de>-1?(v=d[de],b||(v.fa=!1)):(v=new le(v,this.src,X,!!T,H),v.fa=b,d.push(v)),v};function Me(d,v){const b=v.type;if(b in d.g){var T=d.g[b],H=Array.prototype.indexOf.call(T,v,void 0),X;(X=H>=0)&&Array.prototype.splice.call(T,H,1),X&&(ge(v),d.g[b].length==0&&(delete d.g[b],d.h--))}}function ne(d,v,b,T){for(let H=0;H<d.length;++H){const X=d[H];if(!X.da&&X.listener==v&&X.capture==!!b&&X.ha==T)return H}return-1}var De="closure_lm_"+(Math.random()*1e6|0),_e={};function $e(d,v,b,T,H){if(Array.isArray(v)){for(let X=0;X<v.length;X++)$e(d,v[X],b,T,H);return null}return b=Tu(b),d&&d[ce]?d.J(v,b,p(T)?!!T.capture:!1,H):Rt(d,v,b,!1,T,H)}function Rt(d,v,b,T,H,X){if(!v)throw Error("Invalid event type");const de=p(H)?!!H.capture:!!H;let Re=Ki(d);if(Re||(d[De]=Re=new be(d)),b=Re.add(v,b,T,de,X),b.proxy)return b;if(T=Nn(),b.proxy=T,T.src=d,T.listener=b,d.addEventListener)B||(H=de),H===void 0&&(H=!1),d.addEventListener(v.toString(),T,H);else if(d.attachEvent)d.attachEvent(yn(v.toString()),T);else if(d.addListener&&d.removeListener)d.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Nn(){function d(b){return v.call(d.src,d.listener,b)}const v=Qn;return d}function Sn(d,v,b,T,H){if(Array.isArray(v))for(var X=0;X<v.length;X++)Sn(d,v[X],b,T,H);else T=p(T)?!!T.capture:!!T,b=Tu(b),d&&d[ce]?(d=d.i,X=String(v).toString(),X in d.g&&(v=d.g[X],b=ne(v,b,T,H),b>-1&&(ge(v[b]),Array.prototype.splice.call(v,b,1),v.length==0&&(delete d.g[X],d.h--)))):d&&(d=Ki(d))&&(v=d.g[v.toString()],d=-1,v&&(d=ne(v,b,T,H)),(b=d>-1?v[d]:null)&&It(b))}function It(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[ce])Me(v.i,d);else{var b=d.type,T=d.proxy;v.removeEventListener?v.removeEventListener(b,T,d.capture):v.detachEvent?v.detachEvent(yn(b),T):v.addListener&&v.removeListener&&v.removeListener(T),(b=Ki(v))?(Me(b,d),b.h==0&&(b.src=null,v[De]=null)):ge(d)}}}function yn(d){return d in _e?_e[d]:_e[d]="on"+d}function Qn(d,v){if(d.da)d=!0;else{v=new at(v,this);const b=d.listener,T=d.ha||d.src;d.fa&&It(d),d=b.call(T,v)}return d}function Ki(d){return d=d[De],d instanceof be?d:null}var An="__closure_events_fn_"+(Math.random()*1e9>>>0);function Tu(d){return typeof d=="function"?d:(d[An]||(d[An]=function(v){return d.handleEvent(v)}),d[An])}function Bt(){O.call(this),this.i=new be(this),this.M=this,this.G=null}_(Bt,O),Bt.prototype[ce]=!0,Bt.prototype.removeEventListener=function(d,v,b,T){Sn(this,d,v,b,T)};function Gt(d,v){var b,T=d.G;if(T)for(b=[];T;T=T.G)b.push(T);if(d=d.M,T=v.type||v,typeof v=="string")v=new P(v,d);else if(v instanceof P)v.target=v.target||d;else{var H=v;v=new P(T,d),he(v,H)}H=!0;let X,de;if(b)for(de=b.length-1;de>=0;de--)X=v.g=b[de],H=tr(X,T,!0,v)&&H;if(X=v.g=d,H=tr(X,T,!0,v)&&H,H=tr(X,T,!1,v)&&H,b)for(de=0;de<b.length;de++)X=v.g=b[de],H=tr(X,T,!1,v)&&H}Bt.prototype.N=function(){if(Bt.Z.N.call(this),this.i){var d=this.i;for(const v in d.g){const b=d.g[v];for(let T=0;T<b.length;T++)ge(b[T]);delete d.g[v],d.h--}}this.G=null},Bt.prototype.J=function(d,v,b,T){return this.i.add(String(d),v,!1,b,T)},Bt.prototype.K=function(d,v,b,T){return this.i.add(String(d),v,!0,b,T)};function tr(d,v,b,T){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();let H=!0;for(let X=0;X<v.length;++X){const de=v[X];if(de&&!de.da&&de.capture==b){const Re=de.listener,ht=de.ha||de.src;de.fa&&Me(d.i,de),H=Re.call(ht,T)!==!1&&H}}return H&&!T.defaultPrevented}function Sf(d,v){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=y(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:h.setTimeout(d,v||0)}function Tl(d){d.g=Sf(()=>{d.g=null,d.i&&(d.i=!1,Tl(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class Af extends O{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Tl(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yi(d){O.call(this),this.h=d,this.g={}}_(Yi,O);var Br=[];function on(d){ke(d.g,function(v,b){this.g.hasOwnProperty(b)&&It(v)},d),d.g={}}Yi.prototype.N=function(){Yi.Z.N.call(this),on(this)},Yi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xn=h.JSON.stringify,vn=h.JSON.parse,Cf=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function Nu(){}function Su(){}var Is={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zr(){P.call(this,"d")}_(zr,P);function fs(){P.call(this,"c")}_(fs,P);var Wn={},qr=null;function Xa(){return qr=qr||new Bt}Wn.Ia="serverreachability";function Nl(d){P.call(this,Wn.Ia,d)}_(Nl,P);function Hr(d){const v=Xa();Gt(v,new Nl(v))}Wn.STAT_EVENT="statevent";function Wa(d,v){P.call(this,Wn.STAT_EVENT,d),this.stat=v}_(Wa,P);function xt(d){const v=Xa();Gt(v,new Wa(v,d))}Wn.Ja="timingevent";function Au(d,v){P.call(this,Wn.Ja,d),this.size=v}_(Au,P);function Fr(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},v)}function $r(){this.g=!0}$r.prototype.ua=function(){this.g=!1};function Sl(d,v,b,T,H,X){d.info(function(){if(d.g)if(X){var de="",Re=X.split("&");for(let Ze=0;Ze<Re.length;Ze++){var ht=Re[Ze].split("=");if(ht.length>1){const Tt=ht[0];ht=ht[1];const Pn=Tt.split("_");de=Pn.length>=2&&Pn[1]=="type"?de+(Tt+"="+ht+"&"):de+(Tt+"=redacted&")}}}else de=null;else de=X;return"XMLHTTP REQ ("+T+") [attempt "+H+"]: "+v+`
`+b+`
`+de})}function Al(d,v,b,T,H,X,de){d.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+H+"]: "+v+`
`+b+`
`+X+" "+de})}function nr(d,v,b,T){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+ks(d,b)+(T?" "+T:"")})}function jf(d,v){d.info(function(){return"TIMEOUT: "+v})}$r.prototype.info=function(){};function ks(d,v){if(!d.g)return v;if(!v)return null;try{const X=JSON.parse(v);if(X){for(d=0;d<X.length;d++)if(Array.isArray(X[d])){var b=X[d];if(!(b.length<2)){var T=b[1];if(Array.isArray(T)&&!(T.length<1)){var H=T[0];if(H!="noop"&&H!="stop"&&H!="close")for(let de=1;de<T.length;de++)T[de]=""}}}}return Xn(X)}catch{return v}}var _t={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},tn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},sr;function Qi(){}_(Qi,Nu),Qi.prototype.g=function(){return new XMLHttpRequest},sr=new Qi;function Xi(d){return encodeURIComponent(String(d))}function Rf(d){var v=1;d=d.split(":");const b=[];for(;v>0&&d.length;)b.push(d.shift()),v--;return d.length&&b.push(d.join(":")),b}function ms(d,v,b,T){this.j=d,this.i=v,this.l=b,this.S=T||1,this.V=new Yi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gr}function Gr(){this.i=null,this.g="",this.h=!1}var Za={},Ds={};function Os(d,v,b){d.M=1,d.A=ir(mt(v)),d.u=b,d.R=!0,Kr(d,null)}function Kr(d,v){d.F=Date.now(),Wi(d),d.B=mt(d.A);var b=d.B,T=d.S;Array.isArray(T)||(T=[String(T)]),Iu(b.i,"t",T),d.C=0,b=d.j.L,d.h=new Gr,d.g=lo(d.j,b?v:null,!d.u),d.P>0&&(d.O=new Af(y(d.Y,d,d.g),d.P)),v=d.V,b=d.g,T=d.ba;var H="readystatechange";Array.isArray(H)||(H&&(Br[0]=H.toString()),H=Br);for(let X=0;X<H.length;X++){const de=$e(b,H[X],T||v.handleEvent,!1,v.h||v);if(!de)break;v.g[de.key]=de}v=d.J?ae(d.J):{},d.u?(d.v||(d.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,v)):(d.v="GET",d.g.ea(d.B,d.v,null,v)),Hr(),Sl(d.i,d.v,d.B,d.l,d.S,d.u)}ms.prototype.ba=function(d){d=d.target;const v=this.O;v&&ln(d)==3?v.j():this.Y(d)},ms.prototype.Y=function(d){try{if(d==this.g)e:{const Re=ln(this.g),ht=this.g.ya(),Ze=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||la(this.g)))){this.K||Re!=4||ht==7||(ht==8||Ze<=0?Hr(3):Hr(2)),Ms(this);var v=this.g.ca();this.X=v;var b=Yr(this);if(this.o=v==200,Al(this.i,this.v,this.B,this.l,this.S,Re,v),this.o){if(this.U&&!this.L){t:{if(this.g){var T,H=this.g;if((T=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var X=T;break t}}X=null}if(d=X)nr(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ja(this,d);else{this.o=!1,this.m=3,xt(12),Vs(this),Zi(this);break e}}if(this.R){d=!0;let Tt;for(;!this.K&&this.C<b.length;)if(Tt=Cu(this,b),Tt==Ds){Re==4&&(this.m=4,xt(14),d=!1),nr(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==Za){this.m=4,xt(15),nr(this.i,this.l,b,"[Invalid Chunk]"),d=!1;break}else nr(this.i,this.l,Tt,null),Ja(this,Tt);if(Et(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||b.length!=0||this.h.h||(this.m=1,xt(16),d=!1),this.o=this.o&&d,!d)nr(this.i,this.l,b,"[Invalid Chunked Response]"),Vs(this),Zi(this);else if(b.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Vl(de),de.P=!0,xt(11))}}else nr(this.i,this.l,b,null),Ja(this,b);Re==4&&Vs(this),this.o&&!this.K&&(Re==4?Ll(this.j,this):(this.o=!1,Wi(this)))}else ca(this.g),v==400&&b.indexOf("Unknown SID")>0?(this.m=3,xt(12)):(this.m=0,xt(13)),Vs(this),Zi(this)}}}catch{}finally{}};function Yr(d){if(!Et(d))return d.g.la();const v=la(d.g);if(v==="")return"";let b="";const T=v.length,H=ln(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Vs(d),Zi(d),"";d.h.i=new h.TextDecoder}for(let X=0;X<T;X++)d.h.h=!0,b+=d.h.i.decode(v[X],{stream:!(H&&X==T-1)});return v.length=0,d.h.g+=b,d.C=0,d.h.g}function Et(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Cu(d,v){var b=d.C,T=v.indexOf(`
`,b);return T==-1?Ds:(b=Number(v.substring(b,T)),isNaN(b)?Za:(T+=1,T+b>v.length?Ds:(v=v.slice(T,T+b),d.C=T+b,v)))}ms.prototype.cancel=function(){this.K=!0,Vs(this)};function Wi(d){d.T=Date.now()+d.H,Ps(d,d.H)}function Ps(d,v){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Fr(y(d.aa,d),v)}function Ms(d){d.D&&(h.clearTimeout(d.D),d.D=null)}ms.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(jf(this.i,this.B),this.M!=2&&(Hr(),xt(17)),Vs(this),this.m=2,Zi(this)):Ps(this,this.T-d)};function Zi(d){d.j.I==0||d.K||Ll(d.j,d)}function Vs(d){Ms(d);var v=d.O;v&&typeof v.dispose=="function"&&v.dispose(),d.O=null,on(d.V),d.g&&(v=d.g,d.g=null,v.abort(),v.dispose())}function Ja(d,v){try{var b=d.j;if(b.I!=0&&(b.g==d||ta(b.h,d))){if(!d.L&&ta(b.h,d)&&b.I==3){try{var T=b.Ba.g.parse(v)}catch{T=null}if(Array.isArray(T)&&T.length==3){var H=T;if(H[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<d.F)oo(b),Ls(b);else break e;Ml(b),xt(18)}}else b.xa=H[1],0<b.xa-b.K&&H[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Fr(y(b.Va,b),6e3));Zn(b.h)<=1&&b.ta&&(b.ta=void 0)}else lr(b,11)}else if((d.L||b.g==d)&&oo(b),!R(v))for(H=b.Ba.g.parse(v),v=0;v<H.length;v++){let Ze=H[v];const Tt=Ze[0];if(!(Tt<=b.K))if(b.K=Tt,Ze=Ze[1],b.I==2)if(Ze[0]=="c"){b.M=Ze[1],b.ba=Ze[2];const Pn=Ze[3];Pn!=null&&(b.ka=Pn,b.j.info("VER="+b.ka));const Us=Ze[4];Us!=null&&(b.za=Us,b.j.info("SVER="+b.za));const ys=Ze[5];ys!=null&&typeof ys=="number"&&ys>0&&(T=1.5*ys,b.O=T,b.j.info("backChannelRequestTimeoutMs_="+T)),T=b;const vs=d.g;if(vs){const bs=vs.g?vs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bs){var X=T.h;X.g||bs.indexOf("spdy")==-1&&bs.indexOf("quic")==-1&&bs.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(eo(X,X.h),X.h=null))}if(T.G){const Bl=vs.g?vs.g.getResponseHeader("X-HTTP-Session-Id"):null;Bl&&(T.wa=Bl,tt(T.J,T.G,Bl))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-d.F,b.j.info("Handshake RTT: "+b.T+"ms")),T=b;var de=d;if(T.na=Bu(T,T.L?T.ba:null,T.W),de.L){rr(T.h,de);var Re=de,ht=T.O;ht&&(Re.H=ht),Re.D&&(Ms(Re),Wi(Re)),T.g=de}else Mu(T);b.i.length>0&&fa(b)}else Ze[0]!="stop"&&Ze[0]!="close"||lr(b,7);else b.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?lr(b,7):da(b):Ze[0]!="noop"&&b.l&&b.l.qa(Ze),b.A=0)}}Hr(4)}catch{}}var If=class{constructor(d,v){this.g=d,this.map=v}};function Ji(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ea(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Zn(d){return d.h?1:d.g?d.g.size:0}function ta(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function eo(d,v){d.g?d.g.add(v):d.h=v}function rr(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}Ji.prototype.cancel=function(){if(this.i=to(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function to(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const b of d.g.values())v=v.concat(b.G);return v}return M(d.i)}var no=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kf(d,v){if(d){d=d.split("&");for(let b=0;b<d.length;b++){const T=d[b].indexOf("=");let H,X=null;T>=0?(H=d[b].substring(0,T),X=d[b].substring(T+1)):H=d[b],v(H,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function ps(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;d instanceof ps?(this.l=d.l,Qr(this,d.j),this.o=d.o,this.g=d.g,na(this,d.u),this.h=d.h,Xr(this,ku(d.i)),this.m=d.m):d&&(v=String(d).match(no))?(this.l=!1,Qr(this,v[1]||"",!0),this.o=sa(v[2]||""),this.g=sa(v[3]||"",!0),na(this,v[4]),this.h=sa(v[5]||"",!0),Xr(this,v[6]||"",!0),this.m=sa(v[7]||"")):(this.l=!1,this.i=new Jn(null,this.l))}ps.prototype.toString=function(){const d=[];var v=this.j;v&&d.push(Kt(v,jl,!0),":");var b=this.g;return(b||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Kt(v,jl,!0),"@"),d.push(Xi(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&d.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&d.push("/"),d.push(Kt(b,b.charAt(0)=="/"?Wr:Rl,!0))),(b=this.i.toString())&&d.push("?",b),(b=this.m)&&d.push("#",Kt(b,Ru)),d.join("")},ps.prototype.resolve=function(d){const v=mt(this);let b=!!d.j;b?Qr(v,d.j):b=!!d.o,b?v.o=d.o:b=!!d.g,b?v.g=d.g:b=d.u!=null;var T=d.h;if(b)na(v,d.u);else if(b=!!d.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var H=v.h.lastIndexOf("/");H!=-1&&(T=v.h.slice(0,H+1)+T)}if(H=T,H==".."||H==".")T="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){T=H.lastIndexOf("/",0)==0,H=H.split("/");const X=[];for(let de=0;de<H.length;){const Re=H[de++];Re=="."?T&&de==H.length&&X.push(""):Re==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),T&&de==H.length&&X.push("")):(X.push(Re),T=!0)}T=X.join("/")}else T=H}return b?v.h=T:b=d.i.toString()!=="",b?Xr(v,ku(d.i)):b=!!d.m,b&&(v.m=d.m),v};function mt(d){return new ps(d)}function Qr(d,v,b){d.j=b?sa(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function na(d,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);d.u=v}else d.u=null}function Xr(d,v,b){v instanceof Jn?(d.i=v,Dl(d.i,d.l)):(b||(v=Kt(v,ju)),d.i=new Jn(v,d.l))}function tt(d,v,b){d.i.set(v,b)}function ir(d){return tt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function sa(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Kt(d,v,b){return typeof d=="string"?(d=encodeURI(d).replace(v,Cl),b&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Cl(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var jl=/[#\/\?@]/g,Rl=/[#\?:]/g,Wr=/[#\?]/g,ju=/[#\?@]/g,Ru=/#/g;function Jn(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function ar(d){d.g||(d.g=new Map,d.h=0,d.i&&kf(d.i,function(v,b){d.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}n=Jn.prototype,n.add=function(d,v){ar(this),this.i=null,d=gs(this,d);let b=this.g.get(d);return b||this.g.set(d,b=[]),b.push(v),this.h+=1,this};function Il(d,v){ar(d),v=gs(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function kl(d,v){return ar(d),v=gs(d,v),d.g.has(v)}n.forEach=function(d,v){ar(this),this.g.forEach(function(b,T){b.forEach(function(H){d.call(v,H,T,this)},this)},this)};function so(d,v){ar(d);let b=[];if(typeof v=="string")kl(d,v)&&(b=b.concat(d.g.get(gs(d,v))));else for(d=Array.from(d.g.values()),v=0;v<d.length;v++)b=b.concat(d[v]);return b}n.set=function(d,v){return ar(this),this.i=null,d=gs(this,d),kl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=so(this,d),d.length>0?String(d[0]):v):v};function Iu(d,v,b){Il(d,v),b.length>0&&(d.i=null,d.g.set(gs(d,v),M(b)),d.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(let T=0;T<v.length;T++){var b=v[T];const H=Xi(b);b=so(this,b);for(let X=0;X<b.length;X++){let de=H;b[X]!==""&&(de+="="+Xi(b[X])),d.push(de)}}return this.i=d.join("&")};function ku(d){const v=new Jn;return v.i=d.i,d.g&&(v.g=new Map(d.g),v.h=d.h),v}function gs(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Dl(d,v){v&&!d.j&&(ar(d),d.i=null,d.g.forEach(function(b,T){const H=T.toLowerCase();T!=H&&(Il(this,T),Iu(this,H,b))},d)),d.j=v}function Ol(d,v){const b=new $r;if(h.Image){const T=new Image;T.onload=w(bn,b,"TestLoadImage: loaded",!0,v,T),T.onerror=w(bn,b,"TestLoadImage: error",!1,v,T),T.onabort=w(bn,b,"TestLoadImage: abort",!1,v,T),T.ontimeout=w(bn,b,"TestLoadImage: timeout",!1,v,T),h.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=d}else v(!1)}function Zr(d,v){const b=new $r,T=new AbortController,H=setTimeout(()=>{T.abort(),bn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:T.signal}).then(X=>{clearTimeout(H),X.ok?bn(b,"TestPingServer: ok",!0,v):bn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),bn(b,"TestPingServer: error",!1,v)})}function bn(d,v,b,T,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),T(b)}catch{}}function Du(){this.g=new Cf}function ra(d){this.i=d.Sb||null,this.h=d.ab||!1}_(ra,Nu),ra.prototype.g=function(){return new ia(this.i,this.h)};function ia(d,v){Bt.call(this),this.H=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(ia,Bt),n=ia.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=v,this.readyState=1,or(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(v.body=d),(this.H||h).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,wn(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,or(this)),this.g&&(this.readyState=3,or(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Jr(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Jr(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?wn(this):or(this),this.readyState==3&&Jr(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,wn(this))},n.Na=function(d){this.g&&(this.response=d,wn(this))},n.ga=function(){this.g&&wn(this)};function wn(d){d.readyState=4,d.l=null,d.j=null,d.B=null,or(d)}n.setRequestHeader=function(d,v){this.A.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,d.push(b[0]+": "+b[1]),b=v.next();return d.join(`\r
`)};function or(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ia.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function ei(d){let v="";return ke(d,function(b,T){v+=T,v+=":",v+=b,v+=`\r
`}),v}function es(d,v,b){e:{for(T in b){var T=!1;break e}T=!0}T||(b=ei(b),typeof d=="string"?b!=null&&Xi(b):tt(d,v,b))}function ot(d){Bt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(ot,Bt);var ro=/^https?$/i,Ou=["POST","PUT"];n=ot.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,v,b,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():sr.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(X){aa(this,X);return}if(d=b||"",b=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var H in T)b.set(H,T[H]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const X of T.keys())b.set(X,T.get(X));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(b.keys()).find(X=>X.toLowerCase()=="content-type"),H=h.FormData&&d instanceof h.FormData,!(Array.prototype.indexOf.call(Ou,v,void 0)>=0)||T||H||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,de]of b)this.g.setRequestHeader(X,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(X){aa(this,X)}};function aa(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.o=5,oa(d),zt(d)}function oa(d){d.A||(d.A=!0,Gt(d,"complete"),Gt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Gt(this,"complete"),Gt(this,"abort"),zt(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zt(this,!0)),ot.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Pl(this):this.Xa())},n.Xa=function(){Pl(this)};function Pl(d){if(d.h&&typeof u<"u"){if(d.v&&ln(d)==4)setTimeout(d.Ca.bind(d),0);else if(Gt(d,"readystatechange"),ln(d)==4){d.h=!1;try{const X=d.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var T;if(T=X===0){let de=String(d.D).match(no)[1]||null;!de&&h.self&&h.self.location&&(de=h.self.location.protocol.slice(0,-1)),T=!ro.test(de?de.toLowerCase():"")}b=T}if(b)Gt(d,"complete"),Gt(d,"success");else{d.o=6;try{var H=ln(d)>2?d.g.statusText:""}catch{H=""}d.l=H+" ["+d.ca()+"]",oa(d)}}finally{zt(d)}}}}function zt(d,v){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const b=d.g;d.g=null,v||Gt(d,"ready");try{b.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ln(d){return d.g?d.g.readyState:0}n.ca=function(){try{return ln(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),vn(v)}};function la(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ca(d){const v={};d=(d.g&&ln(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<d.length;T++){if(R(d[T]))continue;var b=Rf(d[T]);const H=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const X=v[H]||[];v[H]=X,X.push(b)}k(v,function(T){return T.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ua(d,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[d]||v}function io(d){this.za=0,this.i=[],this.j=new $r,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ua("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ua("baseRetryDelayMs",5e3,d),this.Za=ua("retryDelaySeedMs",1e4,d),this.Ta=ua("forwardChannelMaxRetries",2,d),this.va=ua("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Ji(d&&d.concurrentRequestLimit),this.Ba=new Du,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=io.prototype,n.ka=8,n.I=1,n.connect=function(d,v,b,T){xt(0),this.W=d,this.H=v||{},b&&T!==void 0&&(this.H.OSID=b,this.H.OAID=T),this.F=this.X,this.J=Bu(this,null,this.W),fa(this)};function da(d){if(ha(d),d.I==3){var v=d.V++,b=mt(d.J);if(tt(b,"SID",d.M),tt(b,"RID",v),tt(b,"TYPE","terminate"),ma(d,b),v=new ms(d,d.j,v),v.M=2,v.A=ir(mt(b)),b=!1,h.navigator&&h.navigator.sendBeacon)try{b=h.navigator.sendBeacon(v.A.toString(),"")}catch{}!b&&h.Image&&(new Image().src=v.A,b=!0),b||(v.g=lo(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Wi(v)}Uu(d)}function Ls(d){d.g&&(Vl(d),d.g.cancel(),d.g=null)}function ha(d){Ls(d),d.v&&(h.clearTimeout(d.v),d.v=null),oo(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&h.clearTimeout(d.m),d.m=null)}function fa(d){if(!ea(d.h)&&!d.m){d.m=!0;var v=d.Ea;se||A(),ue||(se(),ue=!0),N.add(v,d),d.D=0}}function Df(d,v){return Zn(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=v.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Fr(y(d.Ea,d,v),Lu(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const H=new ms(this,this.j,d);let X=this.o;if(this.U&&(X?(X=ae(X),he(X,this.U)):X=this.U),this.u!==null||this.R||(H.J=X,X=null),this.S)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var T=this.i[b];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(v+=T,v>4096){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=ao(this,H,v),b=mt(this.J),tt(b,"RID",d),tt(b,"CVER",22),this.G&&tt(b,"X-HTTP-Session-Id",this.G),ma(this,b),X&&(this.R?v="headers="+Xi(ei(X))+"&"+v:this.u&&es(b,this.u,X)),eo(this.h,H),this.Ra&&tt(b,"TYPE","init"),this.S?(tt(b,"$req",v),tt(b,"SID","null"),H.U=!0,Os(H,b,null)):Os(H,b,v),this.I=2}}else this.I==3&&(d?Pu(this,d):this.i.length==0||ea(this.h)||Pu(this))};function Pu(d,v){var b;v?b=v.l:b=d.V++;const T=mt(d.J);tt(T,"SID",d.M),tt(T,"RID",b),tt(T,"AID",d.K),ma(d,T),d.u&&d.o&&es(T,d.u,d.o),b=new ms(d,d.j,b,d.D+1),d.u===null&&(b.J=d.o),v&&(d.i=v.G.concat(d.i)),v=ao(d,b,1e3),b.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),eo(d.h,b),Os(b,T,v)}function ma(d,v){d.H&&ke(d.H,function(b,T){tt(v,T,b)}),d.l&&ke({},function(b,T){tt(v,T,b)})}function ao(d,v,b){b=Math.min(d.i.length,b);const T=d.l?y(d.l.Ka,d.l,d):null;e:{var H=d.i;let Re=-1;for(;;){const ht=["count="+b];Re==-1?b>0?(Re=H[0].g,ht.push("ofs="+Re)):Re=0:ht.push("ofs="+Re);let Ze=!0;for(let Tt=0;Tt<b;Tt++){var X=H[Tt].g;const Pn=H[Tt].map;if(X-=Re,X<0)Re=Math.max(0,H[Tt].g-100),Ze=!1;else try{X="req"+X+"_"||"";try{var de=Pn instanceof Map?Pn:Object.entries(Pn);for(const[Us,ys]of de){let vs=ys;p(ys)&&(vs=Xn(ys)),ht.push(X+Us+"="+encodeURIComponent(vs))}}catch(Us){throw ht.push(X+"type="+encodeURIComponent("_badmap")),Us}}catch{T&&T(Pn)}}if(Ze){de=ht.join("&");break e}}de=void 0}return d=d.i.splice(0,b),v.G=d,de}function Mu(d){if(!d.g&&!d.v){d.Y=1;var v=d.Da;se||A(),ue||(se(),ue=!0),N.add(v,d),d.A=0}}function Ml(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Fr(y(d.Da,d),Lu(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,Vu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Fr(y(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xt(10),Ls(this),Vu(this))};function Vl(d){d.B!=null&&(h.clearTimeout(d.B),d.B=null)}function Vu(d){d.g=new ms(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var v=mt(d.na);tt(v,"RID","rpc"),tt(v,"SID",d.M),tt(v,"AID",d.K),tt(v,"CI",d.F?"0":"1"),!d.F&&d.ia&&tt(v,"TO",d.ia),tt(v,"TYPE","xmlhttp"),ma(d,v),d.u&&d.o&&es(v,d.u,d.o),d.O&&(d.g.H=d.O);var b=d.g;d=d.ba,b.M=1,b.A=ir(mt(v)),b.u=null,b.R=!0,Kr(b,d)}n.Va=function(){this.C!=null&&(this.C=null,Ls(this),Ml(this),xt(19))};function oo(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function Ll(d,v){var b=null;if(d.g==v){oo(d),Vl(d),d.g=null;var T=2}else if(ta(d.h,v))b=v.G,rr(d.h,v),T=1;else return;if(d.I!=0){if(v.o)if(T==1){b=v.u?v.u.length:0,v=Date.now()-v.F;var H=d.D;T=Xa(),Gt(T,new Au(T,b)),fa(d)}else Mu(d);else if(H=v.m,H==3||H==0&&v.X>0||!(T==1&&Df(d,v)||T==2&&Ml(d)))switch(b&&b.length>0&&(v=d.h,v.i=v.i.concat(b)),H){case 1:lr(d,5);break;case 4:lr(d,10);break;case 3:lr(d,6);break;default:lr(d,2)}}}function Lu(d,v){let b=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(b*=2),b*v}function lr(d,v){if(d.j.info("Error code "+v),v==2){var b=y(d.bb,d),T=d.Ua;const H=!T;T=new ps(T||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Qr(T,"https"),ir(T),H?Ol(T.toString(),b):Zr(T.toString(),b)}else xt(2);d.I=0,d.l&&d.l.pa(v),Uu(d),ha(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function Uu(d){if(d.I=0,d.ja=[],d.l){const v=to(d.h);(v.length!=0||d.i.length!=0)&&(D(d.ja,v),D(d.ja,d.i),d.h.i.length=0,M(d.i),d.i.length=0),d.l.oa()}}function Bu(d,v,b){var T=b instanceof ps?mt(b):new ps(b);if(T.g!="")v&&(T.g=v+"."+T.g),na(T,T.u);else{var H=h.location;T=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;const X=new ps(null);T&&Qr(X,T),v&&(X.g=v),H&&na(X,H),b&&(X.h=b),T=X}return b=d.G,v=d.wa,b&&v&&tt(T,b,v),tt(T,"VER",d.ka),ma(d,T),T}function lo(d,v,b){if(v&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Aa&&!d.ma?new ot(new ra({ab:b})):new ot(d.ma),v.Fa(d.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function zu(){}n=zu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function co(){}co.prototype.g=function(d,v){return new xn(d,v)};function xn(d,v){Bt.call(this),this.g=new io(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(d?d["X-WebChannel-Client-Profile"]=v.sa:d={"X-WebChannel-Client-Profile":v.sa}),this.g.U=d,(d=v&&v.Qb)&&!R(d)&&(this.g.u=d),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!R(v)&&(this.g.G=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new ti(this)}_(xn,Bt),xn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){da(this.g)},xn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var b={};b.__data__=d,d=b}else this.v&&(b={},b.__data__=Xn(d),d=b);v.i.push(new If(v.Ya++,d)),v.I==3&&fa(v)},xn.prototype.N=function(){this.g.l=null,delete this.j,da(this.g),delete this.g,xn.Z.N.call(this)};function Ul(d){zr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const b in v){d=b;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}_(Ul,zr);function qu(){fs.call(this),this.status=1}_(qu,fs);function ti(d){this.g=d}_(ti,zu),ti.prototype.ra=function(){Gt(this.g,"a")},ti.prototype.qa=function(d){Gt(this.g,new Ul(d))},ti.prototype.pa=function(d){Gt(this.g,new qu)},ti.prototype.oa=function(){Gt(this.g,"b")},co.prototype.createWebChannel=co.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,k_=function(){return new co},I_=function(){return Xa()},R_=Wn,ig={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_t.NO_ERROR=0,_t.TIMEOUT=8,_t.HTTP_ERROR=6,sh=_t,tn.COMPLETE="complete",j_=tn,Su.EventType=Is,Is.OPEN="a",Is.CLOSE="b",Is.ERROR="c",Is.MESSAGE="d",Bt.prototype.listen=Bt.prototype.J,Dc=Su,ot.prototype.listenOnce=ot.prototype.K,ot.prototype.getLastError=ot.prototype.Ha,ot.prototype.getLastErrorCode=ot.prototype.ya,ot.prototype.getStatus=ot.prototype.ca,ot.prototype.getResponseJson=ot.prototype.La,ot.prototype.getResponseText=ot.prototype.la,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Fa,C_=ot}).apply(typeof $d<"u"?$d:typeof self<"u"?self:typeof window<"u"?window:{});const Xw="@firebase/firestore",Ww="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=new kg("@firebase/firestore");function Uo(){return za.logLevel}function ye(n,...e){if(za.logLevel<=Be.DEBUG){const t=e.map($g);za.debug(`Firestore (${fl}): ${n}`,...t)}}function Dr(n,...e){if(za.logLevel<=Be.ERROR){const t=e.map($g);za.error(`Firestore (${fl}): ${n}`,...t)}}function qa(n,...e){if(za.logLevel<=Be.WARN){const t=e.map($g);za.warn(`Firestore (${fl}): ${n}`,...t)}}function $g(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,D_(n,i,t)}function D_(n,e,t){let i=`FIRESTORE (${fl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Dr(i),new Error(i)}function We(n,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,n||D_(e,o,i)}function Ie(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Mr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class P_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(hn.UNAUTHENTICATED)))}shutdown(){}}class j4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class R4{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0,42304);let i=this.i;const o=g=>this.i!==i?(i=this.i,t(g)):Promise.resolve();let u=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ar,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ar)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(We(typeof i.accessToken=="string",31837,{l:i}),new O_(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class I4{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class k4{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new I4(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Zw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class D4{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){We(this.o===void 0,3512);const i=u=>{u.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ye("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>i(u)))};const o=u=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Zw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(We(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Zw(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=O4(40);for(let u=0;u<o.length;++u)i.length<20&&o[u]<t&&(i+=e.charAt(o[u]%62))}return i}}function ze(n,e){return n<e?-1:n>e?1:0}function ag(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const o=n.charAt(i),u=e.charAt(i);if(o!==u)return Bp(o)===Bp(u)?ze(o,u):Bp(o)?1:-1}return ze(n.length,e.length)}const P4=55296,M4=57343;function Bp(n){const e=n.charCodeAt(0);return e>=P4&&e<=M4}function Zo(n,e,t){return n.length===e.length&&n.every(((i,o)=>t(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="__name__";class $s{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ae(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ae(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return $s.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $s?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const u=$s.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return ze(e.length,t.length)}static compareSegments(e,t){const i=$s.isNumericId(e),o=$s.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?$s.extractNumericId(e).compare($s.extractNumericId(t)):ag(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ki.fromString(e.substring(4,e.length-2))}}class ct extends $s{construct(e,t,i){return new ct(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(te.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new ct(t)}static emptyPath(){return new ct([])}}const V4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends $s{construct(e,t,i){return new Zt(e,t,i)}static isValidIdentifier(e){return V4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jw}static keyField(){return new Zt([Jw])}static fromServerFormat(e){const t=[];let i="",o=0;const u=()=>{if(i.length===0)throw new me(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new me(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new me(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(i+=p,o++):(u(),o++)}if(u(),h)throw new me(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(t)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(ct.fromString(e))}static fromName(e){return new xe(ct.fromString(e).popFirst(5))}static empty(){return new xe(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new ct(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(n,e,t){if(!t)throw new me(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function V_(n,e,t,i){if(e===!0&&i===!0)throw new me(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ex(n){if(!xe.isDocumentKey(n))throw new me(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function tx(n){if(xe.isDocumentKey(n))throw new me(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function L_(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Xh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae(12329,{type:typeof n})}function ds(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Xh(n);throw new me(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(n,e){const t={typeString:n};return e&&(t.value=e),t}function du(n,e){if(!L_(n))throw new me(te.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const o=e[i].typeString,u="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const h=n[i];if(o&&typeof h!==o){t=`JSON field '${i}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){t=`Expected '${i}' field to equal '${u.value}'`;break}}if(t)throw new me(te.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=-62135596800,sx=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*sx);return new ut(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<nx)throw new me(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sx}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(du(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-nx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:Lt("string",ut._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new ut(0,0))}static max(){return new je(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=-1;function L4(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=je.fromTimestamp(i===1e9?new ut(t+1,0):new ut(t,i));return new Mi(o,xe.empty(),e)}function U4(n){return new Mi(n.readTime,n.key,Xc)}class Mi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Mi(je.min(),xe.empty(),Xc)}static max(){return new Mi(je.max(),xe.empty(),Xc)}}function B4(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=xe.comparator(n.documentKey,e.documentKey),t!==0?t:ze(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class q4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==z4)throw n;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie(((i,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ie.reject(t)}static resolve(e){return new ie(((t,i)=>{t(e)}))}static reject(e){return new ie(((t,i)=>{i(e)}))}static waitFor(e){return new ie(((t,i)=>{let o=0,u=0,h=!1;e.forEach((p=>{++o,p.next((()=>{++u,h&&u===o&&t()}),(g=>i(g)))})),h=!0,u===o&&t()}))}static or(e){let t=ie.resolve(!1);for(const i of e)t=t.next((o=>o?ie.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,u)=>{i.push(t.call(this,o,u))})),this.waitFor(i)}static mapArray(e,t){return new ie(((i,o)=>{const u=e.length,h=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;t(e[y]).next((w=>{h[y]=w,++p,p===u&&i(h)}),(w=>o(w)))}}))}static doWhile(e,t){return new ie(((i,o)=>{const u=()=>{e()===!0?t().next((()=>{u()}),o):i()};u()}))}}function H4(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function pl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Wh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg=-1;function Zh(n){return n==null}function vh(n){return n===0&&1/n==-1/0}function F4(n){return typeof n=="number"&&Number.isInteger(n)&&!vh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="";function $4(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=rx(e)),e=G4(n.get(t),e);return rx(e)}function G4(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const u=n.charAt(o);switch(u){case"\0":t+="";break;case U_:t+="";break;default:t+=u}}return t}function rx(n){return n+U_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Fi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function B_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,t){this.comparator=e,this.root=t||an.EMPTY}insert(e,t){return new yt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gd(this.root,e,this.comparator,!0)}}class Gd{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?i(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,t,i,o,u){this.key=e,this.value=t,this.color=i??an.RED,this.left=o??an.EMPTY,this.right=u??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,u){return new an(e??this.key,t??this.value,i??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const u=i(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,i),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return an.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,t,i,o,u){return this}insert(e,t,i){return new an(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ax(this.data.getIterator())}getIteratorFrom(e){return new ax(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new $t(this.comparator);return t.data=e,t}}class ax{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new $n([])}unionWith(e){let t=new $t(Zt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new $n(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zo(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new z_("Invalid base64 string: "+u):u}})(e);return new Jt(t)}static fromUint8Array(e){const t=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new Jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const K4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vi(n){if(We(!!n,39018),typeof n=="string"){let e=0;const t=K4.exec(n);if(We(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ct(n.seconds),nanos:Ct(n.nanos)}}function Ct(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Li(n){return typeof n=="string"?Jt.fromBase64String(n):Jt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="server_timestamp",H_="__type__",F_="__previous_value__",$_="__local_write_time__";function Kg(n){return(n?.mapValue?.fields||{})[H_]?.stringValue===q_}function Jh(n){const e=n.mapValue.fields[F_];return Kg(e)?Jh(e):e}function Wc(n){const e=Vi(n.mapValue.fields[$_].timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,t,i,o,u,h,p,g,y,w){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=w}}const bh="(default)";class Jo{constructor(e,t){this.projectId=e,this.database=t||bh}static empty(){return new Jo("","")}get isDefaultDatabase(){return this.database===bh}isEqual(e){return e instanceof Jo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="__type__",Q4="__max__",Kd={mapValue:{}},K_="__vector__",wh="value";function Ui(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Kg(n)?4:W4(n)?9007199254740991:X4(n)?10:11:Ae(28295,{value:n})}function Zs(n,e){if(n===e)return!0;const t=Ui(n);if(t!==Ui(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Wc(n).isEqual(Wc(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Vi(o.timestampValue),p=Vi(u.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,u){return Li(o.bytesValue).isEqual(Li(u.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,u){return Ct(o.geoPointValue.latitude)===Ct(u.geoPointValue.latitude)&&Ct(o.geoPointValue.longitude)===Ct(u.geoPointValue.longitude)})(n,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ct(o.integerValue)===Ct(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Ct(o.doubleValue),p=Ct(u.doubleValue);return h===p?vh(h)===vh(p):isNaN(h)&&isNaN(p)}return!1})(n,e);case 9:return Zo(n.arrayValue.values||[],e.arrayValue.values||[],Zs);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},p=u.mapValue.fields||{};if(ix(h)!==ix(p))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(p[g]===void 0||!Zs(h[g],p[g])))return!1;return!0})(n,e);default:return Ae(52216,{left:n})}}function Zc(n,e){return(n.values||[]).find((t=>Zs(t,e)))!==void 0}function el(n,e){if(n===e)return 0;const t=Ui(n),i=Ui(e);if(t!==i)return ze(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(n.booleanValue,e.booleanValue);case 2:return(function(u,h){const p=Ct(u.integerValue||u.doubleValue),g=Ct(h.integerValue||h.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(n,e);case 3:return ox(n.timestampValue,e.timestampValue);case 4:return ox(Wc(n),Wc(e));case 5:return ag(n.stringValue,e.stringValue);case 6:return(function(u,h){const p=Li(u),g=Li(h);return p.compareTo(g)})(n.bytesValue,e.bytesValue);case 7:return(function(u,h){const p=u.split("/"),g=h.split("/");for(let y=0;y<p.length&&y<g.length;y++){const w=ze(p[y],g[y]);if(w!==0)return w}return ze(p.length,g.length)})(n.referenceValue,e.referenceValue);case 8:return(function(u,h){const p=ze(Ct(u.latitude),Ct(h.latitude));return p!==0?p:ze(Ct(u.longitude),Ct(h.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return lx(n.arrayValue,e.arrayValue);case 10:return(function(u,h){const p=u.fields||{},g=h.fields||{},y=p[wh]?.arrayValue,w=g[wh]?.arrayValue,_=ze(y?.values?.length||0,w?.values?.length||0);return _!==0?_:lx(y,w)})(n.mapValue,e.mapValue);case 11:return(function(u,h){if(u===Kd.mapValue&&h===Kd.mapValue)return 0;if(u===Kd.mapValue)return 1;if(h===Kd.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=h.fields||{},w=Object.keys(y);g.sort(),w.sort();for(let _=0;_<g.length&&_<w.length;++_){const S=ag(g[_],w[_]);if(S!==0)return S;const M=el(p[g[_]],y[w[_]]);if(M!==0)return M}return ze(g.length,w.length)})(n.mapValue,e.mapValue);default:throw Ae(23264,{he:t})}}function ox(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ze(n,e);const t=Vi(n),i=Vi(e),o=ze(t.seconds,i.seconds);return o!==0?o:ze(t.nanos,i.nanos)}function lx(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const u=el(t[o],i[o]);if(u)return u}return ze(t.length,i.length)}function tl(n){return og(n)}function og(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Vi(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Li(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return xe.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",o=!0;for(const u of t.values||[])o?o=!1:i+=",",i+=og(u);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of i)u?u=!1:o+=",",o+=`${h}:${og(t.fields[h])}`;return o+"}"})(n.mapValue):Ae(61005,{value:n})}function rh(n){switch(Ui(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jh(n);return e?16+rh(e):16;case 5:return 2*n.stringValue.length;case 6:return Li(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,u)=>o+rh(u)),0)})(n.arrayValue);case 10:case 11:return(function(i){let o=0;return Fi(i.fields,((u,h)=>{o+=u.length+rh(h)})),o})(n.mapValue);default:throw Ae(13486,{value:n})}}function cx(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function lg(n){return!!n&&"integerValue"in n}function Yg(n){return!!n&&"arrayValue"in n}function ux(n){return!!n&&"nullValue"in n}function dx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ih(n){return!!n&&"mapValue"in n}function X4(n){return(n?.mapValue?.fields||{})[G_]?.stringValue===K_}function Bc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Fi(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Bc(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Bc(n.arrayValue.values[t]);return e}return{...n}}function W4(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Q4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!ih(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bc(t)}setAll(e){let t=Zt.emptyPath(),i={},o=[];e.forEach(((h,p)=>{if(!t.isImmediateParentOf(p)){const g=this.getFieldsMap(t);this.applyChanges(g,i,o),i={},o=[],t=p.popLast()}h?i[p.lastSegment()]=Bc(h):o.push(p.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,i,o)}delete(e){const t=this.field(e.popLast());ih(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Zs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];ih(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Fi(t,((o,u)=>e[o]=u));for(const o of i)delete e[o]}clone(){return new Dn(Bc(this.value))}}function Y_(n){const e=[];return Fi(n.fields,((t,i)=>{const o=new Zt([t]);if(ih(i)){const u=Y_(i.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new $n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,t,i,o,u,h,p){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=u,this.data=h,this.documentState=p}static newInvalidDocument(e){return new fn(e,0,je.min(),je.min(),je.min(),Dn.empty(),0)}static newFoundDocument(e,t,i,o){return new fn(e,1,t,je.min(),i,o,0)}static newNoDocument(e,t){return new fn(e,2,t,je.min(),je.min(),Dn.empty(),0)}static newUnknownDocument(e,t){return new fn(e,3,t,je.min(),je.min(),Dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,t){this.position=e,this.inclusive=t}}function hx(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const u=e[o],h=n.position[o];if(u.field.isKeyField()?i=xe.comparator(xe.fromName(h.referenceValue),t.key):i=el(h,t.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function fx(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Zs(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,t="asc"){this.field=e,this.dir=t}}function Z4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{}class Mt extends Q_{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new e3(e,t,i):t==="array-contains"?new s3(e,i):t==="in"?new r3(e,i):t==="not-in"?new i3(e,i):t==="array-contains-any"?new a3(e,i):new Mt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new t3(e,i):new n3(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(el(t,this.value)):t!==null&&Ui(this.value)===Ui(t)&&this.matchesComparison(el(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rs extends Q_{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Rs(e,t)}matches(e){return X_(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function X_(n){return n.op==="and"}function W_(n){return J4(n)&&X_(n)}function J4(n){for(const e of n.filters)if(e instanceof Rs)return!1;return!0}function cg(n){if(n instanceof Mt)return n.field.canonicalString()+n.op.toString()+tl(n.value);if(W_(n))return n.filters.map((e=>cg(e))).join(",");{const e=n.filters.map((t=>cg(t))).join(",");return`${n.op}(${e})`}}function Z_(n,e){return n instanceof Mt?(function(i,o){return o instanceof Mt&&i.op===o.op&&i.field.isEqual(o.field)&&Zs(i.value,o.value)})(n,e):n instanceof Rs?(function(i,o){return o instanceof Rs&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((u,h,p)=>u&&Z_(h,o.filters[p])),!0):!1})(n,e):void Ae(19439)}function J_(n){return n instanceof Mt?(function(t){return`${t.field.canonicalString()} ${t.op} ${tl(t.value)}`})(n):n instanceof Rs?(function(t){return t.op.toString()+" {"+t.getFilters().map(J_).join(" ,")+"}"})(n):"Filter"}class e3 extends Mt{constructor(e,t,i){super(e,t,i),this.key=xe.fromName(i.referenceValue)}matches(e){const t=xe.comparator(e.key,this.key);return this.matchesComparison(t)}}class t3 extends Mt{constructor(e,t){super(e,"in",t),this.keys=e1("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class n3 extends Mt{constructor(e,t){super(e,"not-in",t),this.keys=e1("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function e1(n,e){return(e.arrayValue?.values||[]).map((t=>xe.fromName(t.referenceValue)))}class s3 extends Mt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Yg(t)&&Zc(t.arrayValue,this.value)}}class r3 extends Mt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Zc(this.value.arrayValue,t)}}class i3 extends Mt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Zc(this.value.arrayValue,t)}}class a3 extends Mt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Yg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Zc(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e,t=null,i=[],o=[],u=null,h=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=u,this.startAt=h,this.endAt=p,this.Te=null}}function mx(n,e=null,t=[],i=[],o=null,u=null,h=null){return new o3(n,e,t,i,o,u,h)}function Qg(n){const e=Ie(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>cg(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(u){return u.field.canonicalString()+u.dir})(i))).join(","),Zh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>tl(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>tl(i))).join(",")),e.Te=t}return e.Te}function Xg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Z4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Z_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!fx(n.startAt,e.startAt)&&fx(n.endAt,e.endAt)}function ug(n){return xe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,t=null,i=[],o=[],u=null,h="F",p=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=u,this.limitType=h,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function l3(n,e,t,i,o,u,h,p){return new gl(n,e,t,i,o,u,h,p)}function Wg(n){return new gl(n)}function px(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function t1(n){return n.collectionGroup!==null}function zc(n){const e=Ie(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new $t(Zt.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Jc(u,i))})),t.has(Zt.keyField().canonicalString())||e.Ie.push(new Jc(Zt.keyField(),i))}return e.Ie}function Qs(n){const e=Ie(n);return e.Ee||(e.Ee=c3(e,zc(n))),e.Ee}function c3(n,e){if(n.limitType==="F")return mx(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Jc(o.field,u)}));const t=n.endAt?new xh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new xh(n.startAt.position,n.startAt.inclusive):null;return mx(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function dg(n,e){const t=n.filters.concat([e]);return new gl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function _h(n,e,t){return new gl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ef(n,e){return Xg(Qs(n),Qs(e))&&n.limitType===e.limitType}function n1(n){return`${Qg(Qs(n))}|lt:${n.limitType}`}function Bo(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>J_(o))).join(", ")}]`),Zh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>tl(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>tl(o))).join(",")),`Target(${i})`})(Qs(n))}; limitType=${n.limitType})`}function tf(n,e){return e.isFoundDocument()&&(function(i,o){const u=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):xe.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)})(n,e)&&(function(i,o){for(const u of zc(i))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(n,e)&&(function(i,o){for(const u of i.filters)if(!u.matches(o))return!1;return!0})(n,e)&&(function(i,o){return!(i.startAt&&!(function(h,p,g){const y=hx(h,p,g);return h.inclusive?y<=0:y<0})(i.startAt,zc(i),o)||i.endAt&&!(function(h,p,g){const y=hx(h,p,g);return h.inclusive?y>=0:y>0})(i.endAt,zc(i),o))})(n,e)}function u3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function s1(n){return(e,t)=>{let i=!1;for(const o of zc(n)){const u=d3(o,e,t);if(u!==0)return u;i=i||o.field.isKeyField()}return 0}}function d3(n,e,t){const i=n.field.isKeyField()?xe.comparator(e.key,t.key):(function(u,h,p){const g=h.data.field(u),y=p.data.field(u);return g!==null&&y!==null?el(g,y):Ae(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ae(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,u]of i)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Fi(this.inner,((t,i)=>{for(const[o,u]of i)e(o,u)}))}isEmpty(){return B_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=new yt(xe.comparator);function Or(){return h3}const r1=new yt(xe.comparator);function Oc(...n){let e=r1;for(const t of n)e=e.insert(t.key,t);return e}function i1(n){let e=r1;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Da(){return qc()}function a1(){return qc()}function qc(){return new Ga((n=>n.toString()),((n,e)=>n.isEqual(e)))}const f3=new yt(xe.comparator),m3=new $t(xe.comparator);function qe(...n){let e=m3;for(const t of n)e=e.add(t);return e}const p3=new $t(ze);function g3(){return p3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vh(e)?"-0":e}}function o1(n){return{integerValue:""+n}}function y3(n,e){return F4(e)?o1(e):Zg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(){this._=void 0}}function v3(n,e,t){return n instanceof eu?(function(o,u){const h={fields:{[H_]:{stringValue:q_},[$_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Kg(u)&&(u=Jh(u)),u&&(h.fields[F_]=u),{mapValue:h}})(t,e):n instanceof nl?c1(n,e):n instanceof tu?u1(n,e):(function(o,u){const h=l1(o,u),p=gx(h)+gx(o.Ae);return lg(h)&&lg(o.Ae)?o1(p):Zg(o.serializer,p)})(n,e)}function b3(n,e,t){return n instanceof nl?c1(n,e):n instanceof tu?u1(n,e):t}function l1(n,e){return n instanceof Eh?(function(i){return lg(i)||(function(u){return!!u&&"doubleValue"in u})(i)})(e)?e:{integerValue:0}:null}class eu extends nf{}class nl extends nf{constructor(e){super(),this.elements=e}}function c1(n,e){const t=d1(e);for(const i of n.elements)t.some((o=>Zs(o,i)))||t.push(i);return{arrayValue:{values:t}}}class tu extends nf{constructor(e){super(),this.elements=e}}function u1(n,e){let t=d1(e);for(const i of n.elements)t=t.filter((o=>!Zs(o,i)));return{arrayValue:{values:t}}}class Eh extends nf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function gx(n){return Ct(n.integerValue||n.doubleValue)}function d1(n){return Yg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,t){this.field=e,this.transform=t}}function w3(n,e){return n.field.isEqual(e.field)&&(function(i,o){return i instanceof nl&&o instanceof nl||i instanceof tu&&o instanceof tu?Zo(i.elements,o.elements,Zs):i instanceof Eh&&o instanceof Eh?Zs(i.Ae,o.Ae):i instanceof eu&&o instanceof eu})(n.transform,e.transform)}class x3{constructor(e,t){this.version=e,this.transformResults=t}}class cs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new cs}static exists(e){return new cs(void 0,e)}static updateTime(e){return new cs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ah(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class sf{}function f1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Jg(n.key,cs.none()):new hu(n.key,n.data,cs.none());{const t=n.data,i=Dn.empty();let o=new $t(Zt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?i.delete(u):i.set(u,h),o=o.add(u)}return new $i(n.key,i,new $n(o.toArray()),cs.none())}}function _3(n,e,t){n instanceof hu?(function(o,u,h){const p=o.value.clone(),g=vx(o.fieldTransforms,u,h.transformResults);p.setAll(g),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(n,e,t):n instanceof $i?(function(o,u,h){if(!ah(o.precondition,u))return void u.convertToUnknownDocument(h.version);const p=vx(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(m1(o)),g.setAll(p),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(n,e,t):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function Hc(n,e,t,i){return n instanceof hu?(function(u,h,p,g){if(!ah(u.precondition,h))return p;const y=u.value.clone(),w=bx(u.fieldTransforms,g,h);return y.setAll(w),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(n,e,t,i):n instanceof $i?(function(u,h,p,g){if(!ah(u.precondition,h))return p;const y=bx(u.fieldTransforms,g,h),w=h.data;return w.setAll(m1(u)),w.setAll(y),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((_=>_.field)))})(n,e,t,i):(function(u,h,p){return ah(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p})(n,e,t)}function E3(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),u=l1(i.transform,o||null);u!=null&&(t===null&&(t=Dn.empty()),t.set(i.field,u))}return t||null}function yx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Zo(i,o,((u,h)=>w3(u,h)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class hu extends sf{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class $i extends sf{constructor(e,t,i,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function m1(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function vx(n,e,t){const i=new Map;We(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const u=n[o],h=u.transform,p=e.data.field(u.field);i.set(u.field,b3(h,p,t[o]))}return i}function bx(n,e,t){const i=new Map;for(const o of n){const u=o.transform,h=t.data.field(o.field);i.set(o.field,v3(u,h,e))}return i}class Jg extends sf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class T3 extends sf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&_3(u,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Hc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Hc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=a1();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let p=this.applyToLocalView(h,u.mutatedFields);p=t.has(o.key)?null:p;const g=f1(h,p);g!==null&&i.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(je.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),qe())}isEqual(e){return this.batchId===e.batchId&&Zo(this.mutations,e.mutations,((t,i)=>yx(t,i)))&&Zo(this.baseMutations,e.baseMutations,((t,i)=>yx(t,i)))}}class ey{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){We(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return f3})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,i[h].version);return new ey(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Fe;function C3(n){switch(n){case te.OK:return Ae(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ae(15467,{code:n})}}function p1(n){if(n===void 0)return Dr("GRPC error has no .code"),te.UNKNOWN;switch(n){case Pt.OK:return te.OK;case Pt.CANCELLED:return te.CANCELLED;case Pt.UNKNOWN:return te.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return te.INTERNAL;case Pt.UNAVAILABLE:return te.UNAVAILABLE;case Pt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Pt.NOT_FOUND:return te.NOT_FOUND;case Pt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Pt.ABORTED:return te.ABORTED;case Pt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Pt.DATA_LOSS:return te.DATA_LOSS;default:return Ae(39323,{code:n})}}(Fe=Pt||(Pt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3=new ki([4294967295,4294967295],0);function wx(n){const e=j3().encode(n),t=new A_;return t.update(e),new Uint8Array(t.digest())}function xx(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ki([t,i],0),new ki([o,u],0)]}class ty{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Pc(`Invalid padding: ${t}`);if(i<0)throw new Pc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Pc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Pc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ki.fromNumber(this.ge)}ye(e,t,i){let o=e.add(t.multiply(ki.fromNumber(i)));return o.compare(R3)===1&&(o=new ki([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=wx(e),[i,o]=xx(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(i,o,u);if(!this.we(h))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new ty(u,o,t);return i.forEach((p=>h.insert(p))),h}insert(e){if(this.ge===0)return;const t=wx(e),[i,o]=xx(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(i,o,u);this.Se(h)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Pc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,t,i,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new rf(je.min(),o,new yt(ze),Or(),qe())}}class fu{constructor(e,t,i,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new fu(i,t,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,t,i,o){this.be=e,this.removedTargetIds=t,this.key=i,this.De=o}}class g1{constructor(e,t){this.targetId=e,this.Ce=t}}class y1{constructor(e,t,i=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class _x{constructor(){this.ve=0,this.Fe=Ex(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),t=qe(),i=qe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ae(38017,{changeType:u})}})),new fu(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=Ex()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class I3{constructor(e){this.Ge=e,this.ze=new Map,this.je=Or(),this.Je=Yd(),this.He=Yd(),this.Ye=new yt(ze)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,i=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(ug(u))if(i===0){const h=new xe(u.path);this.et(t,h,fn.newNoDocument(h,je.min()))}else We(i===1,20013,{expectedCount:i});else{const h=this._t(t);if(h!==i){const p=this.ut(e),g=p?this.ct(p,e,h):1;if(g!==0){this.it(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:u=0}=t;let h,p;try{h=Li(i).toUint8Array()}catch(g){if(g instanceof z_)return qa("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new ty(h,o,u)}catch(g){return qa(g instanceof Pc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let o=0;return i.forEach((u=>{const h=this.Ge.ht(),p=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(t,u,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((u,h)=>{const p=this.ot(h);if(p){if(u.current&&ug(p.target)){const g=new xe(p.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,fn.newNoDocument(g,e))}u.Be&&(t.set(h,u.ke()),u.qe())}}));let i=qe();this.He.forEach(((u,h)=>{let p=!0;h.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(i=i.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new rf(e,t,this.Ye,this.je,i);return this.je=Or(),this.Je=Yd(),this.He=Yd(),this.Ye=new yt(ze),o}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new _x,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new $t(ze),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new $t(ze),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new _x),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Yd(){return new yt(xe.comparator)}function Ex(){return new yt(xe.comparator)}const k3={asc:"ASCENDING",desc:"DESCENDING"},D3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},O3={and:"AND",or:"OR"};class P3{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hg(n,e){return n.useProto3Json||Zh(e)?e:{value:e}}function Th(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function v1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function M3(n,e){return Th(n,e.toTimestamp())}function Xs(n){return We(!!n,49232),je.fromTimestamp((function(t){const i=Vi(t);return new ut(i.seconds,i.nanos)})(n))}function ny(n,e){return fg(n,e).canonicalString()}function fg(n,e){const t=(function(o){return new ct(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function b1(n){const e=ct.fromString(n);return We(T1(e),10190,{key:e.toString()}),e}function mg(n,e){return ny(n.databaseId,e.path)}function zp(n,e){const t=b1(e);if(t.get(1)!==n.databaseId.projectId)throw new me(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new xe(x1(t))}function w1(n,e){return ny(n.databaseId,e)}function V3(n){const e=b1(n);return e.length===4?ct.emptyPath():x1(e)}function pg(n){return new ct(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function x1(n){return We(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Tx(n,e,t){return{name:mg(n,e),fields:t.value.mapValue.fields}}function L3(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ae(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,w){return y.useProto3Json?(We(w===void 0||typeof w=="string",58123),Jt.fromBase64String(w||"")):(We(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Jt.fromUint8Array(w||new Uint8Array))})(n,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&(function(y){const w=y.code===void 0?te.UNKNOWN:p1(y.code);return new me(w,y.message||"")})(h);t=new y1(i,o,u,p||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=zp(n,i.document.name),u=Xs(i.document.updateTime),h=i.document.createTime?Xs(i.document.createTime):je.min(),p=new Dn({mapValue:{fields:i.document.fields}}),g=fn.newFoundDocument(o,u,h,p),y=i.targetIds||[],w=i.removedTargetIds||[];t=new oh(y,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=zp(n,i.document),u=i.readTime?Xs(i.readTime):je.min(),h=fn.newNoDocument(o,u),p=i.removedTargetIds||[];t=new oh([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=zp(n,i.document),u=i.removedTargetIds||[];t=new oh([],u,o,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:u}=i,h=new A3(o,u),p=i.targetId;t=new g1(p,h)}}return t}function U3(n,e){let t;if(e instanceof hu)t={update:Tx(n,e.key,e.value)};else if(e instanceof Jg)t={delete:mg(n,e.key)};else if(e instanceof $i)t={update:Tx(n,e.key,e.data),updateMask:Y3(e.fieldMask)};else{if(!(e instanceof T3))return Ae(16599,{Vt:e.type});t={verify:mg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(u,h){const p=h.transform;if(p instanceof eu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof nl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof tu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Eh)return{fieldPath:h.field.canonicalString(),increment:p.Ae};throw Ae(20930,{transform:h.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:M3(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae(27497)})(n,e.precondition)),t}function B3(n,e){return n&&n.length>0?(We(e!==void 0,14353),n.map((t=>(function(o,u){let h=o.updateTime?Xs(o.updateTime):Xs(u);return h.isEqual(je.min())&&(h=Xs(u)),new x3(h,o.transformResults||[])})(t,e)))):[]}function z3(n,e){return{documents:[w1(n,e.path)]}}function q3(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=w1(n,o);const u=(function(y){if(y.length!==0)return E1(Rs.create(y,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const h=(function(y){if(y.length!==0)return y.map((w=>(function(S){return{field:zo(S.field),direction:$3(S.dir)}})(w)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const p=hg(n,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:t,parent:o}}function H3(n){let e=V3(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){We(i===1,65062);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let u=[];t.where&&(u=(function(_){const S=_1(_);return S instanceof Rs&&W_(S)?S.getFilters():[S]})(t.where));let h=[];t.orderBy&&(h=(function(_){return _.map((S=>(function(D){return new Jc(qo(D.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(S)))})(t.orderBy));let p=null;t.limit&&(p=(function(_){let S;return S=typeof _=="object"?_.value:_,Zh(S)?null:S})(t.limit));let g=null;t.startAt&&(g=(function(_){const S=!!_.before,M=_.values||[];return new xh(M,S)})(t.startAt));let y=null;return t.endAt&&(y=(function(_){const S=!_.before,M=_.values||[];return new xh(M,S)})(t.endAt)),l3(e,o,h,u,p,"F",g,y)}function F3(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function _1(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=qo(t.unaryFilter.field);return Mt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=qo(t.unaryFilter.field);return Mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=qo(t.unaryFilter.field);return Mt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=qo(t.unaryFilter.field);return Mt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Mt.create(qo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Rs.create(t.compositeFilter.filters.map((i=>_1(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(t.compositeFilter.op))})(n):Ae(30097,{filter:n})}function $3(n){return k3[n]}function G3(n){return D3[n]}function K3(n){return O3[n]}function zo(n){return{fieldPath:n.canonicalString()}}function qo(n){return Zt.fromServerFormat(n.fieldPath)}function E1(n){return n instanceof Mt?(function(t){if(t.op==="=="){if(dx(t.value))return{unaryFilter:{field:zo(t.field),op:"IS_NAN"}};if(ux(t.value))return{unaryFilter:{field:zo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(dx(t.value))return{unaryFilter:{field:zo(t.field),op:"IS_NOT_NAN"}};if(ux(t.value))return{unaryFilter:{field:zo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zo(t.field),op:G3(t.op),value:t.value}}})(n):n instanceof Rs?(function(t){const i=t.getFilters().map((o=>E1(o)));return i.length===1?i[0]:{compositeFilter:{op:K3(t.op),filters:i}}})(n):Ae(54877,{filter:n})}function Y3(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function T1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,t,i,o,u=je.min(),h=je.min(),p=Jt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Si(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e){this.yt=e}}function X3(n){const e=H3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?_h(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(){this.Cn=new Z3}addToCollectionParentIndex(e,t){return this.Cn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(Mi.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(Mi.min())}updateCollectionGroup(e,t,i){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class Z3{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new $t(ct.comparator),u=!o.has(i);return this.index[t]=o.add(i),u}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new $t(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},N1=41943040;class kn{static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(N1,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new sl(0)}static cr(){return new sl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="LruGarbageCollector",J3=1048576;function Ax([n,e],[t,i]){const o=ze(n,t);return o===0?ze(e,i):o}class ek{constructor(e){this.Ir=e,this.buffer=new $t(Ax),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Ax(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class tk{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(Sx,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){pl(t)?ye(Sx,"Ignoring IndexedDB error during garbage collection: ",t):await ml(t)}await this.Vr(3e5)}))}}class nk{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(Wh.ce);const i=new ek(t);return this.mr.forEachTarget(e,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(Nx)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nx):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,o,u,h,p,g,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),o=this.params.maximumSequenceNumbersToCollect):o=_,h=Date.now(),this.nthSequenceNumber(e,o)))).next((_=>(i=_,p=Date.now(),this.removeTargets(e,i,t)))).next((_=>(u=_,g=Date.now(),this.removeOrphanedDocuments(e,i)))).next((_=>(y=Date.now(),Uo()<=Be.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${o} in `+(p-h)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${_} documents in `+(y-g)+`ms
Total Duration: ${y-w}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:_}))))}}function sk(n,e){return new nk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(){this.changes=new Ga((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ie.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&Hc(i.mutation,o,$n.empty(),ut.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,qe()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=qe()){const o=Da();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((u=>{let h=Oc();return u.forEach(((p,g)=>{h=h.insert(p,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const i=Da();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,qe())))}populateOverlays(e,t,i){const o=[];return i.forEach((u=>{t.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,p)=>{t.set(h,p)}))}))}computeViews(e,t,i,o){let u=Or();const h=qc(),p=(function(){return qc()})();return t.forEach(((g,y)=>{const w=i.get(y.key);o.has(y.key)&&(w===void 0||w.mutation instanceof $i)?u=u.insert(y.key,y):w!==void 0?(h.set(y.key,w.mutation.getFieldMask()),Hc(w.mutation,y,w.mutation.getFieldMask(),ut.now())):h.set(y.key,$n.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,w)=>h.set(y,w))),t.forEach(((y,w)=>p.set(y,new ik(w,h.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,t){const i=qc();let o=new yt(((h,p)=>h-p)),u=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const p of h)p.keys().forEach((g=>{const y=t.get(g);if(y===null)return;let w=i.get(g)||$n.empty();w=p.applyToLocalView(y,w),i.set(g,w);const _=(o.get(p.batchId)||qe()).add(g);o=o.insert(p.batchId,_)}))})).next((()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,w=g.value,_=a1();w.forEach((S=>{if(!u.has(S)){const M=f1(t.get(S),i.get(S));M!==null&&_.set(S,M),u=u.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,_))}return ie.waitFor(h)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return(function(h){return xe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):t1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-u.size):ie.resolve(Da());let p=Xc,g=u;return h.next((y=>ie.forEach(y,((w,_)=>(p<_.largestBatchId&&(p=_.largestBatchId),u.get(w)?ie.resolve():this.remoteDocumentCache.getEntry(e,w).next((S=>{g=g.insert(w,S)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,qe()))).next((w=>({batchId:p,changes:i1(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new xe(t)).next((i=>{let o=Oc();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const u=t.collectionGroup;let h=Oc();return this.indexManager.getCollectionParents(e,u).next((p=>ie.forEach(p,(g=>{const y=(function(_,S){return new gl(S,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next((w=>{w.forEach(((_,S)=>{h=h.insert(_,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,u,o)))).next((h=>{u.forEach(((g,y)=>{const w=y.getKey();h.get(w)===null&&(h=h.insert(w,fn.newInvalidDocument(w)))}));let p=Oc();return h.forEach(((g,y)=>{const w=u.get(g);w!==void 0&&Hc(w.mutation,y,$n.empty(),ut.now()),tf(t,y)&&(p=p.insert(g,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ie.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Xs(o.createTime)}})(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:X3(o.bundledQuery),readTime:Xs(o.readTime)}})(t)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(){this.overlays=new yt(xe.comparator),this.qr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Da();return ie.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&i.set(o,u)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,u)=>{this.St(e,t,u)})),ie.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(i)),ie.resolve()}getOverlaysForCollection(e,t,i){const o=Da(),u=t.length+1,h=new xe(t.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>i&&o.set(g.getKey(),g)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let u=new yt(((y,w)=>y-w));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let w=u.get(y.largestBatchId);w===null&&(w=Da(),u=u.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const p=Da(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,w)=>p.set(y,w))),!(p.size()>=o)););return ie.resolve(p)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new S3(t,i));let u=this.qr.get(t);u===void 0&&(u=qe(),this.qr.set(t,u)),this.qr.set(t,u.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(){this.Qr=new $t(Wt.$r),this.Ur=new $t(Wt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Wt(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new Wt(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new xe(new ct([])),i=new Wt(t,e),o=new Wt(t,e+1),u=[];return this.Ur.forEachInRange([i,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new xe(new ct([])),i=new Wt(t,e),o=new Wt(t,e+1);let u=qe();return this.Ur.forEachInRange([i,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const t=new Wt(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Wt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return xe.comparator(e.key,t.key)||ze(e.Yr,t.Yr)}static Kr(e,t){return ze(e.Yr,t.Yr)||xe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new $t(Wt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new N3(u,t,i,o);this.mutationQueue.push(h);for(const p of o)this.Zr=this.Zr.add(new Wt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ie.resolve(h)}lookupMutationBatch(e,t){return ie.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.ei(i),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Gg:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Wt(t,0),o=new Wt(t,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([i,o],(h=>{const p=this.Xr(h.Yr);u.push(p)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new $t(ze);return t.forEach((o=>{const u=new Wt(o,0),h=new Wt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(p=>{i=i.add(p.Yr)}))})),ie.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let u=i;xe.isDocumentKey(u)||(u=u.child(""));const h=new Wt(new xe(u),0);let p=new $t(ze);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Yr)),!0)}),h),ie.resolve(this.ti(p))}ti(e){const t=[];return e.forEach((i=>{const o=this.Xr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){We(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ie.forEach(t.mutations,(o=>{const u=new Wt(o.key,t.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new Wt(t,0),o=this.Zr.firstAfterOrEqual(i);return ie.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e){this.ri=e,this.docs=(function(){return new yt(xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),u=o?o.size:0,h=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ie.resolve(i?i.document.mutableCopy():fn.newInvalidDocument(t))}getEntries(e,t){let i=Or();return t.forEach((o=>{const u=this.docs.get(o);i=i.insert(o,u?u.document.mutableCopy():fn.newInvalidDocument(o))})),ie.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let u=Or();const h=t.path,p=new xe(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:w}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||B4(U4(w),i)<=0||(o.has(w.key)||tf(t,w))&&(u=u.insert(w.key,w.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,t,i,o){Ae(9500)}ii(e,t){return ie.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new hk(this)}getSize(e){return ie.resolve(this.size)}}class hk extends rk{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)})),ie.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e){this.persistence=e,this.si=new Ga((t=>Qg(t)),Xg),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.oi=0,this._i=new sy,this.targetCount=0,this.ai=sl.ur()}forEachTarget(e,t){return this.si.forEach(((i,o)=>t(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),ie.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new sl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.Pr(t),ie.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,i){let o=0;const u=[];return this.si.forEach(((h,p)=>{p.sequenceNumber<=t&&i.get(p.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),ie.waitFor(u).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return ie.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),ie.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return ie.resolve(i)}containsKey(e,t){return ie.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,t){this.ui={},this.overlays={},this.ci=new Wh(0),this.li=!1,this.li=!0,this.hi=new ck,this.referenceDelegate=e(this),this.Pi=new fk(this),this.indexManager=new W3,this.remoteDocumentCache=(function(o){return new dk(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new Q3(t),this.Ii=new ok(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new uk(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){ye("MemoryPersistence","Starting transaction:",e);const o=new mk(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,t){return ie.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class mk extends q4{constructor(e){super(),this.currentSequenceNumber=e}}class ry{constructor(e){this.persistence=e,this.Ri=new sy,this.Vi=null}static mi(e){return new ry(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),ie.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(i=>{const o=xe.fromPath(i);return this.gi(e,o).next((u=>{u||t.removeEntry(o,je.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ie.or([()=>ie.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Nh{constructor(e,t){this.persistence=e,this.pi=new Ga((i=>$4(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=sk(this,t)}static mi(e,t){return new Nh(e,t)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((o=>i+o))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return ie.forEach(this.pi,((i,o)=>this.br(e,i,o).next((u=>u?ie.resolve():t(o)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,t).next((p=>{p||(i++,u.removeEntry(h,je.min()))})))).next((()=>u.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ie.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=rh(e.data.value)),t}br(e,t,i){return ie.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return ie.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=o}static As(e,t){let i=qe(),o=qe();for(const u of t.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new iy(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return QC()?8:H4(pn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,o){const u={result:null};return this.ys(e,t).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,t,o,i).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new pk;return this.Ss(e,t,h).next((p=>{if(u.result=p,this.Vs)return this.bs(e,t,h,p.size)}))})).next((()=>u.result))}bs(e,t,i,o){return i.documentReadCount<this.fs?(Uo()<=Be.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Bo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(Uo()<=Be.DEBUG&&ye("QueryEngine","Query:",Bo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(Uo()<=Be.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Bo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qs(t))):ie.resolve())}ys(e,t){if(px(t))return ie.resolve(null);let i=Qs(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=_h(t,null,"F"),i=Qs(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((u=>{const h=qe(...u);return this.ps.getDocuments(e,h).next((p=>this.indexManager.getMinOffset(e,i).next((g=>{const y=this.Ds(t,p);return this.Cs(t,y,h,g.readTime)?this.ys(e,_h(t,null,"F")):this.vs(e,y,t,g)}))))})))))}ws(e,t,i,o){return px(t)||o.isEqual(je.min())?ie.resolve(null):this.ps.getDocuments(e,i).next((u=>{const h=this.Ds(t,u);return this.Cs(t,h,i,o)?ie.resolve(null):(Uo()<=Be.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Bo(t)),this.vs(e,h,t,L4(o,Xc)).next((p=>p)))}))}Ds(e,t){let i=new $t(s1(e));return t.forEach(((o,u)=>{tf(e,u)&&(i=i.add(u))})),i}Cs(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,t,i){return Uo()<=Be.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Bo(t)),this.ps.getDocumentsMatchingQuery(e,t,Mi.min(),i)}vs(e,t,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next((u=>(t.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay="LocalStore",yk=3e8;class vk{constructor(e,t,i,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new yt(ze),this.xs=new Ga((u=>Qg(u)),Xg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ak(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function bk(n,e,t,i){return new vk(n,e,t,i)}async function A1(n,e){const t=Ie(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((u=>(o=u,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((u=>{const h=[],p=[];let g=qe();for(const y of o){h.push(y.batchId);for(const w of y.mutations)g=g.add(w.key)}for(const y of u){p.push(y.batchId);for(const w of y.mutations)g=g.add(w.key)}return t.localDocuments.getDocuments(i,g).next((y=>({Ls:y,removedBatchIds:h,addedBatchIds:p})))}))}))}function wk(n,e){const t=Ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),u=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,w){const _=y.batch,S=_.keys();let M=ie.resolve();return S.forEach((D=>{M=M.next((()=>w.getEntry(g,D))).next((K=>{const L=y.docVersions.get(D);We(L!==null,48541),K.version.compareTo(L)<0&&(_.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),w.addEntry(K)))}))})),M.next((()=>p.mutationQueue.removeMutationBatch(g,_)))})(t,i,e,u).next((()=>u.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(p){let g=qe();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function C1(n){const e=Ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function xk(n,e){const t=Ie(n),i=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const p=[];e.targetChanges.forEach(((w,_)=>{const S=o.get(_);if(!S)return;p.push(t.Pi.removeMatchingKeys(u,w.removedDocuments,_).next((()=>t.Pi.addMatchingKeys(u,w.addedDocuments,_))));let M=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(_)!==null?M=M.withResumeToken(Jt.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):w.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(w.resumeToken,i)),o=o.insert(_,M),(function(K,L,Z){return K.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=yk?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(S,M,w)&&p.push(t.Pi.updateTargetData(u,M))}));let g=Or(),y=qe();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(u,w))})),p.push(_k(u,h,e.documentUpdates).next((w=>{g=w.ks,y=w.qs}))),!i.isEqual(je.min())){const w=t.Pi.getLastRemoteSnapshotVersion(u).next((_=>t.Pi.setTargetsMetadata(u,u.currentSequenceNumber,i)));p.push(w)}return ie.waitFor(p).next((()=>h.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(t.Ms=o,u)))}function _k(n,e,t){let i=qe(),o=qe();return t.forEach((u=>i=i.add(u))),e.getEntries(n,i).next((u=>{let h=Or();return t.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(je.min())?(e.removeEntry(p,g.readTime),h=h.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(p,g)):ye(ay,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:h,qs:o}}))}function Ek(n,e){const t=Ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Gg),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function Tk(n,e){const t=Ie(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.Pi.getTargetData(i,e).next((u=>u?(o=u,ie.resolve(o)):t.Pi.allocateTargetId(i).next((h=>(o=new Si(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function gg(n,e,t){const i=Ie(n),o=i.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",u,(h=>i.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!pl(h))throw h;ye(ay,`Failed to update sequence numbers for target ${e}: ${h}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function Cx(n,e,t){const i=Ie(n);let o=je.min(),u=qe();return i.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,y,w){const _=Ie(g),S=_.xs.get(w);return S!==void 0?ie.resolve(_.Ms.get(S)):_.Pi.getTargetData(y,w)})(i,h,Qs(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(h,p.targetId).next((g=>{u=g}))})).next((()=>i.Fs.getDocumentsMatchingQuery(h,e,t?o:je.min(),t?u:qe()))).next((p=>(Nk(i,u3(e),p),{documents:p,Qs:u})))))}function Nk(n,e,t){let i=n.Os.get(e)||je.min();t.forEach(((o,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)})),n.Os.set(e,i)}class jx{constructor(){this.activeTargetIds=g3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Sk{constructor(){this.Mo=new jx,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new jx,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="ConnectivityMonitor";class Ix{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(Rx,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(Rx,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qd=null;function yg(){return Qd===null?Qd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qd++,"0x"+Qd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="RestConnection",Ck={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===bh?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,t,i,o,u){const h=yg(),p=this.zo(e,t.toUriEncodedString());ye(qp,`Sending RPC '${e}' ${h}:`,p,i);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(p),w=ul(y);return this.Jo(e,p,g,i,w).then((_=>(ye(qp,`Received RPC '${e}' ${h}: `,_),_)),(_=>{throw qa(qp,`RPC '${e}' ${h} failed with error: `,_,"url: ",p,"request:",i),_}))}Ho(e,t,i,o,u,h){return this.Go(e,t,i,o,u)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+fl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,u)=>e[u]=o)),i&&i.headers.forEach(((o,u)=>e[u]=o))}zo(e,t){const i=Ck[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection";class Ik extends jk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,o,u){const h=yg();return new Promise(((p,g)=>{const y=new C_;y.setWithCredentials(!0),y.listenOnce(j_.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case sh.NO_ERROR:const _=y.getResponseJson();ye(dn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(_)),p(_);break;case sh.TIMEOUT:ye(dn,`RPC '${e}' ${h} timed out`),g(new me(te.DEADLINE_EXCEEDED,"Request time out"));break;case sh.HTTP_ERROR:const S=y.getStatus();if(ye(dn,`RPC '${e}' ${h} failed with status:`,S,"response text:",y.getResponseText()),S>0){let M=y.getResponseJson();Array.isArray(M)&&(M=M[0]);const D=M?.error;if(D&&D.status&&D.message){const K=(function(Z){const z=Z.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(z)>=0?z:te.UNKNOWN})(D.status);g(new me(K,D.message))}else g(new me(te.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new me(te.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ye(dn,`RPC '${e}' ${h} completed.`)}}));const w=JSON.stringify(o);ye(dn,`RPC '${e}' ${h} sending request:`,o),y.send(t,"POST",w,i,15)}))}T_(e,t,i){const o=yg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=k_(),p=I_(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,t,i),g.encodeInitMessageHeaders=!0;const w=u.join("");ye(dn,`Creating RPC '${e}' stream ${o}: ${w}`,g);const _=h.createWebChannel(w,g);this.I_(_);let S=!1,M=!1;const D=new Rk({Yo:L=>{M?ye(dn,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(S||(ye(dn,`Opening RPC '${e}' stream ${o} transport.`),_.open(),S=!0),ye(dn,`RPC '${e}' stream ${o} sending:`,L),_.send(L))},Zo:()=>_.close()}),K=(L,Z,z)=>{L.listen(Z,(F=>{try{z(F)}catch(oe){setTimeout((()=>{throw oe}),0)}}))};return K(_,Dc.EventType.OPEN,(()=>{M||(ye(dn,`RPC '${e}' stream ${o} transport opened.`),D.o_())})),K(_,Dc.EventType.CLOSE,(()=>{M||(M=!0,ye(dn,`RPC '${e}' stream ${o} transport closed`),D.a_(),this.E_(_))})),K(_,Dc.EventType.ERROR,(L=>{M||(M=!0,qa(dn,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),D.a_(new me(te.UNAVAILABLE,"The operation could not be completed")))})),K(_,Dc.EventType.MESSAGE,(L=>{if(!M){const Z=L.data[0];We(!!Z,16349);const z=Z,F=z?.error||z[0]?.error;if(F){ye(dn,`RPC '${e}' stream ${o} received error:`,F);const oe=F.status;let se=(function(A){const C=Pt[A];if(C!==void 0)return p1(C)})(oe),ue=F.message;se===void 0&&(se=te.INTERNAL,ue="Unknown error status: "+oe+" with message "+F.message),M=!0,D.a_(new me(se,ue)),_.close()}else ye(dn,`RPC '${e}' stream ${o} received:`,Z),D.u_(Z)}})),K(p,R_.STAT_EVENT,(L=>{L.stat===ig.PROXY?ye(dn,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===ig.NOPROXY&&ye(dn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Hp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(n){return new P3(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,t,i=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-i);o>0&&ye("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="PersistentStream";class R1{constructor(e,t,i,o,u,h,p,g){this.Mi=e,this.S_=i,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new j1(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(Dr(t.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===t&&this.G_(i,o)}),(i=>{e((()=>{const o=new me(te.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ye(kx,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ye(kx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class kk extends R1{constructor(e,t,i,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,h),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=L3(this.serializer,e),i=(function(u){if(!("targetChange"in u))return je.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?je.min():h.readTime?Xs(h.readTime):je.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=pg(this.serializer),t.addTarget=(function(u,h){let p;const g=h.target;if(p=ug(g)?{documents:z3(u,g)}:{query:q3(u,g).ft},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=v1(u,h.resumeToken);const y=hg(u,h.expectedCount);y!==null&&(p.expectedCount=y)}else if(h.snapshotVersion.compareTo(je.min())>0){p.readTime=Th(u,h.snapshotVersion.toTimestamp());const y=hg(u,h.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const i=F3(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=pg(this.serializer),t.removeTarget=e,this.q_(t)}}class Dk extends R1{constructor(e,t,i,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=B3(e.writeResults,e.commitTime),i=Xs(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=pg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>U3(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{}class Pk extends Ok{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new me(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,fg(t,i),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(te.UNKNOWN,u.toString())}))}Ho(e,t,i,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.Ho(e,fg(t,i),o,h,p,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new me(te.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Mk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Dr(t),this.aa=!1):ye("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="RemoteStore";class Vk{constructor(e,t,i,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{i.enqueueAndForget((async()=>{Ka(this)&&(ye(Ha,"Restarting streams for network reachability change."),await(async function(g){const y=Ie(g);y.Ea.add(4),await mu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await of(y)})(this))}))})),this.Ra=new Mk(i,o)}}async function of(n){if(Ka(n))for(const e of n.da)await e(!0)}async function mu(n){for(const e of n.da)await e(!1)}function I1(n,e){const t=Ie(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),uy(t)?cy(t):yl(t).O_()&&ly(t,e))}function oy(n,e){const t=Ie(n),i=yl(t);t.Ia.delete(e),i.O_()&&k1(t,e),t.Ia.size===0&&(i.O_()?i.L_():Ka(t)&&t.Ra.set("Unknown"))}function ly(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}yl(n).Y_(e)}function k1(n,e){n.Va.Ue(e),yl(n).Z_(e)}function cy(n){n.Va=new I3({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),yl(n).start(),n.Ra.ua()}function uy(n){return Ka(n)&&!yl(n).x_()&&n.Ia.size>0}function Ka(n){return Ie(n).Ea.size===0}function D1(n){n.Va=void 0}async function Lk(n){n.Ra.set("Online")}async function Uk(n){n.Ia.forEach(((e,t)=>{ly(n,e)}))}async function Bk(n,e){D1(n),uy(n)?(n.Ra.ha(e),cy(n)):n.Ra.set("Unknown")}async function zk(n,e,t){if(n.Ra.set("Online"),e instanceof y1&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,h),o.Ia.delete(p),o.Va.removeTarget(p))})(n,e)}catch(i){ye(Ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Sh(n,i)}else if(e instanceof oh?n.Va.Ze(e):e instanceof g1?n.Va.st(e):n.Va.tt(e),!t.isEqual(je.min()))try{const i=await C1(n.localStore);t.compareTo(i)>=0&&await(function(u,h){const p=u.Va.Tt(h);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const w=u.Ia.get(y);w&&u.Ia.set(y,w.withResumeToken(g.resumeToken,h))}})),p.targetMismatches.forEach(((g,y)=>{const w=u.Ia.get(g);if(!w)return;u.Ia.set(g,w.withResumeToken(Jt.EMPTY_BYTE_STRING,w.snapshotVersion)),k1(u,g);const _=new Si(w.target,g,y,w.sequenceNumber);ly(u,_)})),u.remoteSyncer.applyRemoteEvent(p)})(n,t)}catch(i){ye(Ha,"Failed to raise snapshot:",i),await Sh(n,i)}}async function Sh(n,e,t){if(!pl(e))throw e;n.Ea.add(1),await mu(n),n.Ra.set("Offline"),t||(t=()=>C1(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ye(Ha,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await of(n)}))}function O1(n,e){return e().catch((t=>Sh(n,t,e)))}async function lf(n){const e=Ie(n),t=Bi(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Gg;for(;qk(e);)try{const o=await Ek(e.localStore,i);if(o===null){e.Ta.length===0&&t.L_();break}i=o.batchId,Hk(e,o)}catch(o){await Sh(e,o)}P1(e)&&M1(e)}function qk(n){return Ka(n)&&n.Ta.length<10}function Hk(n,e){n.Ta.push(e);const t=Bi(n);t.O_()&&t.X_&&t.ea(e.mutations)}function P1(n){return Ka(n)&&!Bi(n).x_()&&n.Ta.length>0}function M1(n){Bi(n).start()}async function Fk(n){Bi(n).ra()}async function $k(n){const e=Bi(n);for(const t of n.Ta)e.ea(t.mutations)}async function Gk(n,e,t){const i=n.Ta.shift(),o=ey.from(i,e,t);await O1(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await lf(n)}async function Kk(n,e){e&&Bi(n).X_&&await(async function(i,o){if((function(h){return C3(h)&&h!==te.ABORTED})(o.code)){const u=i.Ta.shift();Bi(i).B_(),await O1(i,(()=>i.remoteSyncer.rejectFailedWrite(u.batchId,o))),await lf(i)}})(n,e),P1(n)&&M1(n)}async function Dx(n,e){const t=Ie(n);t.asyncQueue.verifyOperationInProgress(),ye(Ha,"RemoteStore received new credentials");const i=Ka(t);t.Ea.add(3),await mu(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await of(t)}async function Yk(n,e){const t=Ie(n);e?(t.Ea.delete(2),await of(t)):e||(t.Ea.add(2),await mu(t),t.Ra.set("Unknown"))}function yl(n){return n.ma||(n.ma=(function(t,i,o){const u=Ie(t);return u.sa(),new kk(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:Lk.bind(null,n),t_:Uk.bind(null,n),r_:Bk.bind(null,n),H_:zk.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),uy(n)?cy(n):n.Ra.set("Unknown")):(await n.ma.stop(),D1(n))}))),n.ma}function Bi(n){return n.fa||(n.fa=(function(t,i,o){const u=Ie(t);return u.sa(),new Dk(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:Fk.bind(null,n),r_:Kk.bind(null,n),ta:$k.bind(null,n),na:Gk.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await lf(n)):(await n.fa.stop(),n.Ta.length>0&&(ye(Ha,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,t,i,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,u){const h=Date.now()+i,p=new dy(e,t,h,o,u);return p.start(i),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hy(n,e){if(Dr("AsyncQueue",`${e}: ${n}`),pl(n))return new me(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{static emptySet(e){return new Ko(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||xe.comparator(t.key,i.key):(t,i)=>xe.comparator(t.key,i.key),this.keyedMap=Oc(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ko)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Ko;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(){this.ga=new yt(xe.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class rl{constructor(e,t,i,o,u,h,p,g,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,u){const h=[];return t.forEach((p=>{h.push({type:0,doc:p})})),new rl(e,t,Ko.emptySet(t),h,i,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ef(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Xk{constructor(){this.queries=Px(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=Ie(t),u=o.queries;o.queries=Px(),u.forEach(((h,p)=>{for(const g of p.Sa)g.onError(i)}))})(this,new me(te.ABORTED,"Firestore shutting down"))}}function Px(){return new Ga((n=>n1(n)),ef)}async function V1(n,e){const t=Ie(n);let i=3;const o=e.query;let u=t.queries.get(o);u?!u.ba()&&e.Da()&&(i=2):(u=new Qk,i=e.Da()?0:1);try{switch(i){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const p=hy(h,`Initialization of query '${Bo(e.query)}' failed`);return void e.onError(p)}t.queries.set(o,u),u.Sa.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&fy(t)}async function L1(n,e){const t=Ie(n),i=e.query;let o=3;const u=t.queries.get(i);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Wk(n,e){const t=Ie(n);let i=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const p of h.Sa)p.Fa(o)&&(i=!0);h.wa=o}}i&&fy(t)}function Zk(n,e,t){const i=Ie(n),o=i.queries.get(e);if(o)for(const u of o.Sa)u.onError(t);i.queries.delete(e)}function fy(n){n.Ca.forEach((e=>{e.next()}))}var vg,Mx;(Mx=vg||(vg={})).Ma="default",Mx.Cache="cache";class U1{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new rl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e){this.key=e}}class z1{constructor(e){this.key=e}}class Jk{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qe(),this.mutatedKeys=qe(),this.eu=s1(e),this.tu=new Ko(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new Ox,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,_)=>{const S=o.get(w),M=tf(this.query,_)?_:null,D=!!S&&this.mutatedKeys.has(S.key),K=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let L=!1;S&&M?S.data.isEqual(M.data)?D!==K&&(i.track({type:3,doc:M}),L=!0):this.su(S,M)||(i.track({type:2,doc:M}),L=!0,(g&&this.eu(M,g)>0||y&&this.eu(M,y)<0)&&(p=!0)):!S&&M?(i.track({type:0,doc:M}),L=!0):S&&!M&&(i.track({type:1,doc:S}),L=!0,(g||y)&&(p=!0)),L&&(M?(h=h.add(M),u=K?u.add(w):u.delete(w)):(h=h.delete(w),u=u.delete(w)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),u=u.delete(w.key),i.track({type:1,doc:w})}return{tu:h,iu:i,Cs:p,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((w,_)=>(function(M,D){const K=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:L})}};return K(M)-K(D)})(w.type,_.type)||this.eu(w.doc,_.doc))),this.ou(i),o=o??!1;const p=t&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,h.length!==0||y?{snapshot:new rl(this.query,e.tu,u,h,e.mutatedKeys,g===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ox,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qe(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new z1(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new B1(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=qe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return rl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const my="SyncEngine";class e5{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class t5{constructor(e){this.key=e,this.hu=!1}}class n5{constructor(e,t,i,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Ga((p=>n1(p)),ef),this.Iu=new Map,this.Eu=new Set,this.du=new yt(xe.comparator),this.Au=new Map,this.Ru=new sy,this.Vu={},this.mu=new Map,this.fu=sl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function s5(n,e,t=!0){const i=K1(n);let o;const u=i.Tu.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await q1(i,e,t,!0),o}async function r5(n,e){const t=K1(n);await q1(t,e,!0,!1)}async function q1(n,e,t,i){const o=await Tk(n.localStore,Qs(e)),u=o.targetId,h=n.sharedClientState.addLocalQueryTarget(u,t);let p;return i&&(p=await i5(n,e,u,h==="current",o.resumeToken)),n.isPrimaryClient&&t&&I1(n.remoteStore,o),p}async function i5(n,e,t,i,o){n.pu=(_,S,M)=>(async function(K,L,Z,z){let F=L.view.ru(Z);F.Cs&&(F=await Cx(K.localStore,L.query,!1).then((({documents:N})=>L.view.ru(N,F))));const oe=z&&z.targetChanges.get(L.targetId),se=z&&z.targetMismatches.get(L.targetId)!=null,ue=L.view.applyChanges(F,K.isPrimaryClient,oe,se);return Lx(K,L.targetId,ue.au),ue.snapshot})(n,_,S,M);const u=await Cx(n.localStore,e,!0),h=new Jk(e,u.Qs),p=h.ru(u.documents),g=fu.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=h.applyChanges(p,n.isPrimaryClient,g);Lx(n,t,y.au);const w=new e5(e,t,h);return n.Tu.set(e,w),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),y.snapshot}async function a5(n,e,t){const i=Ie(n),o=i.Tu.get(e),u=i.Iu.get(o.targetId);if(u.length>1)return i.Iu.set(o.targetId,u.filter((h=>!ef(h,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await gg(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&oy(i.remoteStore,o.targetId),bg(i,o.targetId)})).catch(ml)):(bg(i,o.targetId),await gg(i.localStore,o.targetId,!0))}async function o5(n,e){const t=Ie(n),i=t.Tu.get(e),o=t.Iu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),oy(t.remoteStore,i.targetId))}async function l5(n,e,t){const i=p5(n);try{const o=await(function(h,p){const g=Ie(h),y=ut.now(),w=p.reduce(((M,D)=>M.add(D.key)),qe());let _,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let D=Or(),K=qe();return g.Ns.getEntries(M,w).next((L=>{D=L,D.forEach(((Z,z)=>{z.isValidDocument()||(K=K.add(Z))}))})).next((()=>g.localDocuments.getOverlayedDocuments(M,D))).next((L=>{_=L;const Z=[];for(const z of p){const F=E3(z,_.get(z.key).overlayedDocument);F!=null&&Z.push(new $i(z.key,F,Y_(F.value.mapValue),cs.exists(!0)))}return g.mutationQueue.addMutationBatch(M,y,Z,p)})).next((L=>{S=L;const Z=L.applyToLocalDocumentSet(_,K);return g.documentOverlayCache.saveOverlays(M,L.batchId,Z)}))})).then((()=>({batchId:S.batchId,changes:i1(_)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(h,p,g){let y=h.Vu[h.currentUser.toKey()];y||(y=new yt(ze)),y=y.insert(p,g),h.Vu[h.currentUser.toKey()]=y})(i,o.batchId,t),await pu(i,o.changes),await lf(i.remoteStore)}catch(o){const u=hy(o,"Failed to persist write");t.reject(u)}}async function H1(n,e){const t=Ie(n);try{const i=await xk(t.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=t.Au.get(u);h&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?We(h.hu,14607):o.removedDocuments.size>0&&(We(h.hu,42227),h.hu=!1))})),await pu(t,i,e)}catch(i){await ml(i)}}function Vx(n,e,t){const i=Ie(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Tu.forEach(((u,h)=>{const p=h.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(h,p){const g=Ie(h);g.onlineState=p;let y=!1;g.queries.forEach(((w,_)=>{for(const S of _.Sa)S.va(p)&&(y=!0)})),y&&fy(g)})(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function c5(n,e,t){const i=Ie(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Au.get(e),u=o&&o.key;if(u){let h=new yt(xe.comparator);h=h.insert(u,fn.newNoDocument(u,je.min()));const p=qe().add(u),g=new rf(je.min(),new Map,new yt(ze),h,p);await H1(i,g),i.du=i.du.remove(u),i.Au.delete(e),py(i)}else await gg(i.localStore,e,!1).then((()=>bg(i,e,t))).catch(ml)}async function u5(n,e){const t=Ie(n),i=e.batch.batchId;try{const o=await wk(t.localStore,e);$1(t,i,null),F1(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await pu(t,o)}catch(o){await ml(o)}}async function d5(n,e,t){const i=Ie(n);try{const o=await(function(h,p){const g=Ie(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let w;return g.mutationQueue.lookupMutationBatch(y,p).next((_=>(We(_!==null,37113),w=_.keys(),g.mutationQueue.removeMutationBatch(y,_)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,w,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w))).next((()=>g.localDocuments.getDocuments(y,w)))}))})(i.localStore,e);$1(i,e,t),F1(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await pu(i,o)}catch(o){await ml(o)}}function F1(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function $1(n,e,t){const i=Ie(n);let o=i.Vu[i.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function bg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((i=>{n.Ru.containsKey(i)||G1(n,i)}))}function G1(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(oy(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),py(n))}function Lx(n,e,t){for(const i of t)i instanceof B1?(n.Ru.addReference(i.key,e),h5(n,i)):i instanceof z1?(ye(my,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||G1(n,i.key)):Ae(19791,{wu:i})}function h5(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(ye(my,"New document in limbo: "+t),n.Eu.add(i),py(n))}function py(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new xe(ct.fromString(e)),i=n.fu.next();n.Au.set(i,new t5(t)),n.du=n.du.insert(t,i),I1(n.remoteStore,new Si(Qs(Wg(t.path)),i,"TargetPurposeLimboResolution",Wh.ce))}}async function pu(n,e,t){const i=Ie(n),o=[],u=[],h=[];i.Tu.isEmpty()||(i.Tu.forEach(((p,g)=>{h.push(i.pu(g,e,t).then((y=>{if((y||t)&&i.isPrimaryClient){const w=y?!y.fromCache:t?.targetChanges.get(g.targetId)?.current;i.sharedClientState.updateQueryState(g.targetId,w?"current":"not-current")}if(y){o.push(y);const w=iy.As(g.targetId,y);u.push(w)}})))})),await Promise.all(h),i.Pu.H_(o),await(async function(g,y){const w=Ie(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>ie.forEach(y,(S=>ie.forEach(S.Es,(M=>w.persistence.referenceDelegate.addReference(_,S.targetId,M))).next((()=>ie.forEach(S.ds,(M=>w.persistence.referenceDelegate.removeReference(_,S.targetId,M)))))))))}catch(_){if(!pl(_))throw _;ye(ay,"Failed to update sequence numbers: "+_)}for(const _ of y){const S=_.targetId;if(!_.fromCache){const M=w.Ms.get(S),D=M.snapshotVersion,K=M.withLastLimboFreeSnapshotVersion(D);w.Ms=w.Ms.insert(S,K)}}})(i.localStore,u))}async function f5(n,e){const t=Ie(n);if(!t.currentUser.isEqual(e)){ye(my,"User change. New user:",e.toKey());const i=await A1(t.localStore,e);t.currentUser=e,(function(u,h){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new me(te.CANCELLED,h))}))})),u.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await pu(t,i.Ls)}}function m5(n,e){const t=Ie(n),i=t.Au.get(e);if(i&&i.hu)return qe().add(i.key);{let o=qe();const u=t.Iu.get(e);if(!u)return o;for(const h of u){const p=t.Tu.get(h);o=o.unionWith(p.view.nu)}return o}}function K1(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=H1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=m5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=c5.bind(null,e),e.Pu.H_=Wk.bind(null,e.eventManager),e.Pu.yu=Zk.bind(null,e.eventManager),e}function p5(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=d5.bind(null,e),e}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=af(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return bk(this.persistence,new gk,e.initialUser,this.serializer)}Cu(e){return new S1(ry.mi,this.serializer)}Du(e){return new Sk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class g5 extends Ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){We(this.persistence.referenceDelegate instanceof Nh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new tk(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new S1((i=>Nh.mi(i,t)),this.serializer)}}class wg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Vx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=f5.bind(null,this.syncEngine),await Yk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Xk})()}createDatastore(e){const t=af(e.databaseInfo.databaseId),i=(function(u){return new Ik(u)})(e.databaseInfo);return(function(u,h,p,g){return new Pk(u,h,p,g)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,u,h,p){return new Vk(i,o,u,h,p)})(this.localStore,this.datastore,e.asyncQueue,(t=>Vx(this.syncEngine,t,0)),(function(){return Ix.v()?new Ix:new Ak})())}createSyncEngine(e,t){return(function(o,u,h,p,g,y,w){const _=new n5(o,u,h,p,g,y);return w&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=Ie(t);ye(Ha,"RemoteStore shutting down."),i.Ea.add(5),await mu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wg.provider={build:()=>new wg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Dr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi="FirestoreClient";class y5{constructor(e,t,i,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=hn.UNAUTHENTICATED,this.clientId=Qh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,(async h=>{ye(zi,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(i,(h=>(ye(zi,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=hy(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Fp(n,e){n.asyncQueue.verifyOperationInProgress(),ye(zi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async o=>{i.isEqual(o)||(await A1(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Ux(n,e){n.asyncQueue.verifyOperationInProgress();const t=await v5(n);ye(zi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>Dx(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,o)=>Dx(e.remoteStore,o))),n._onlineComponents=e}async function v5(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ye(zi,"Using user provided OfflineComponentProvider");try{await Fp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;qa("Error using user provided cache. Falling back to memory cache: "+t),await Fp(n,new Ah)}}else ye(zi,"Using default OfflineComponentProvider"),await Fp(n,new g5(void 0));return n._offlineComponents}async function Q1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ye(zi,"Using user provided OnlineComponentProvider"),await Ux(n,n._uninitializedComponentsProvider._online)):(ye(zi,"Using default OnlineComponentProvider"),await Ux(n,new wg))),n._onlineComponents}function b5(n){return Q1(n).then((e=>e.syncEngine))}async function X1(n){const e=await Q1(n),t=e.eventManager;return t.onListen=s5.bind(null,e.syncEngine),t.onUnlisten=a5.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=r5.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=o5.bind(null,e.syncEngine),t}function w5(n,e,t={}){const i=new Ar;return n.asyncQueue.enqueueAndForget((async()=>(function(u,h,p,g,y){const w=new Y1({next:S=>{w.Nu(),h.enqueueAndForget((()=>L1(u,_)));const M=S.docs.has(p);!M&&S.fromCache?y.reject(new me(te.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&S.fromCache&&g&&g.source==="server"?y.reject(new me(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),_=new U1(Wg(p.path),w,{includeMetadataChanges:!0,qa:!0});return V1(u,_)})(await X1(n),n.asyncQueue,e,t,i))),i.promise}function x5(n,e,t={}){const i=new Ar;return n.asyncQueue.enqueueAndForget((async()=>(function(u,h,p,g,y){const w=new Y1({next:S=>{w.Nu(),h.enqueueAndForget((()=>L1(u,_))),S.fromCache&&g.source==="server"?y.reject(new me(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),_=new U1(p,w,{includeMetadataChanges:!0,qa:!0});return V1(u,_)})(await X1(n),n.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="firestore.googleapis.com",zx=!0;class qx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Z1,this.ssl=zx}else this.host=e.host,this.ssl=e.ssl??zx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=N1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<J3)throw new me(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}V_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=W1(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cf{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new P_;switch(i.type){case"firstParty":return new k4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=Bx.get(t);i&&(ye("ComponentProvider","Removing Datastore"),Bx.delete(t),i.terminate())})(this),Promise.resolve()}}function J1(n,e,t,i={}){n=ds(n,cf);const o=ul(e),u=n._getSettings(),h={...u,emulatorOptions:n._getEmulatorOptions()},p=`${e}:${t}`;o&&(M2(`https://${p}`),V2("Firestore",!0)),u.host!==Z1&&u.host!==p&&qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:o,emulatorOptions:i};if(!Pi(g,h)&&(n._setSettings(g),i.mockUserToken)){let y,w;if(typeof i.mockUserToken=="string")y=i.mockUserToken,w=hn.MOCK_USER;else{y=BC(i.mockUserToken,n._app?.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new me(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new hn(_)}n._authCredentials=new j4(new O_(y,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ur(this.firestore,e,this._query)}}class wt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wt(this.firestore,e,this._key)}toJSON(){return{type:wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(du(t,wt._jsonSchema))return new wt(e,i||null,new xe(ct.fromString(t.referencePath)))}}wt._jsonSchemaVersion="firestore/documentReference/1.0",wt._jsonSchema={type:Lt("string",wt._jsonSchemaVersion),referencePath:Lt("string")};class Cr extends Ur{constructor(e,t,i){super(e,t,Wg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new xe(e))}withConverter(e){return new Cr(this.firestore,e,this._path)}}function il(n,e,...t){if(n=Ut(n),M_("collection","path",e),n instanceof cf){const i=ct.fromString(e,...t);return tx(i),new Cr(n,null,i)}{if(!(n instanceof wt||n instanceof Cr))throw new me(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ct.fromString(e,...t));return tx(i),new Cr(n.firestore,null,i)}}function mn(n,e,...t){if(n=Ut(n),arguments.length===1&&(e=Qh.newId()),M_("doc","path",e),n instanceof cf){const i=ct.fromString(e,...t);return ex(i),new wt(n,null,new xe(i))}{if(!(n instanceof wt||n instanceof Cr))throw new me(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ct.fromString(e,...t));return ex(i),new wt(n.firestore,n instanceof Cr?n.converter:null,new xe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="AsyncQueue";class Fx{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new j1(this,"async_queue_retry"),this._c=()=>{const i=Hp();i&&ye(Hx,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=Hp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Hp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ar;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!pl(e))throw e;ye(Hx,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Dr("INTERNAL UNHANDLED ERROR: ",$x(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=dy.createAndSchedule(this,e,t,i,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ae(47125,{Pc:$x(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function $x(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Gi extends cf{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new Fx,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Fx(e),this._firestoreClient=void 0,await e}}}function eE(n,e){const t=typeof n=="object"?n:z2(),i=typeof n=="string"?n:bh,o=Og(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const u=LC("firestore");u&&J1(o,...u)}return o}function uf(n){if(n._terminated)throw new me(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||_5(n),n._firestoreClient}function _5(n){const e=n._freezeSettings(),t=(function(o,u,h,p){return new Y4(o,u,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,W1(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new y5(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(Jt.fromBase64String(e))}catch(t){throw new me(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Fn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(du(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:Lt("string",Fn._jsonSchemaVersion),bytes:Lt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:As._jsonSchemaVersion}}static fromJSON(e){if(du(e,As._jsonSchema))return new As(e.latitude,e.longitude)}}As._jsonSchemaVersion="firestore/geoPoint/1.0",As._jsonSchema={type:Lt("string",As._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Cs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(du(e,Cs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Cs(e.vectorValues);throw new me(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Cs._jsonSchemaVersion="firestore/vectorValue/1.0",Cs._jsonSchema={type:Lt("string",Cs._jsonSchemaVersion),vectorValues:Lt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5=/^__.*__$/;class T5{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new $i(e,this.data,this.fieldMask,t,this.fieldTransforms):new hu(e,this.data,t,this.fieldTransforms)}}class tE{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new $i(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function nE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:n})}}class df{constructor(e,t,i,o,u,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new df({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ch(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(nE(this.Ac)&&E5.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class N5{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||af(e)}Cc(e,t,i,o=!1){return new df({Ac:e,methodName:t,Dc:i,path:Zt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hf(n){const e=n._freezeSettings(),t=af(n._databaseId);return new N5(n._databaseId,!!e.ignoreUndefinedProperties,t)}function sE(n,e,t,i,o,u={}){const h=n.Cc(u.merge||u.mergeFields?2:0,e,t,o);vy("Data must be an object, but it was:",h,i);const p=rE(i,h);let g,y;if(u.merge)g=new $n(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const w=[];for(const _ of u.mergeFields){const S=xg(e,_,t);if(!h.contains(S))throw new me(te.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);aE(w,S)||w.push(S)}g=new $n(w),y=h.fieldTransforms.filter((_=>g.covers(_.field)))}else g=null,y=h.fieldTransforms;return new T5(new Dn(p),g,y)}class ff extends vl{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ff}}function S5(n,e,t){return new df({Ac:3,Dc:e.settings.Dc,methodName:n._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class gy extends vl{_toFieldTransform(e){return new h1(e.path,new eu)}isEqual(e){return e instanceof gy}}class yy extends vl{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=S5(this,e,!0),i=this.vc.map((u=>bl(u,t))),o=new nl(i);return new h1(e.path,o)}isEqual(e){return e instanceof yy&&Pi(this.vc,e.vc)}}function A5(n,e,t,i){const o=n.Cc(1,e,t);vy("Data must be an object, but it was:",o,i);const u=[],h=Dn.empty();Fi(i,((g,y)=>{const w=by(e,g,t);y=Ut(y);const _=o.yc(w);if(y instanceof ff)u.push(w);else{const S=bl(y,_);S!=null&&(u.push(w),h.set(w,S))}}));const p=new $n(u);return new tE(h,p,o.fieldTransforms)}function C5(n,e,t,i,o,u){const h=n.Cc(1,e,t),p=[xg(e,i,t)],g=[o];if(u.length%2!=0)throw new me(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)p.push(xg(e,u[S])),g.push(u[S+1]);const y=[],w=Dn.empty();for(let S=p.length-1;S>=0;--S)if(!aE(y,p[S])){const M=p[S];let D=g[S];D=Ut(D);const K=h.yc(M);if(D instanceof ff)y.push(M);else{const L=bl(D,K);L!=null&&(y.push(M),w.set(M,L))}}const _=new $n(y);return new tE(w,_,h.fieldTransforms)}function j5(n,e,t,i=!1){return bl(t,n.Cc(i?4:3,e))}function bl(n,e){if(iE(n=Ut(n)))return vy("Unsupported field value:",e,n),rE(n,e);if(n instanceof vl)return(function(i,o){if(!nE(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,o){const u=[];let h=0;for(const p of i){let g=bl(p,o.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(n,e)}return(function(i,o){if((i=Ut(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return y3(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=ut.fromDate(i);return{timestampValue:Th(o.serializer,u)}}if(i instanceof ut){const u=new ut(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Th(o.serializer,u)}}if(i instanceof As)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Fn)return{bytesValue:v1(o.serializer,i._byteString)};if(i instanceof wt){const u=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ny(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Cs)return(function(h,p){return{mapValue:{fields:{[G_]:{stringValue:K_},[wh]:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Zg(p.serializer,y)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${Xh(i)}`)})(n,e)}function rE(n,e){const t={};return B_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fi(n,((i,o)=>{const u=bl(o,e.mc(i));u!=null&&(t[i]=u)})),{mapValue:{fields:t}}}function iE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ut||n instanceof As||n instanceof Fn||n instanceof wt||n instanceof vl||n instanceof Cs)}function vy(n,e,t){if(!iE(t)||!L_(t)){const i=Xh(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function xg(n,e,t){if((e=Ut(e))instanceof gu)return e._internalPath;if(typeof e=="string")return by(n,e);throw Ch("Field path arguments must be of type string or ",n,!1,void 0,t)}const R5=new RegExp("[~\\*/\\[\\]]");function by(n,e,t){if(e.search(R5)>=0)throw Ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new gu(...e.split("."))._internalPath}catch{throw Ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ch(n,e,t,i,o){const u=i&&!i.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${i}`),h&&(g+=` in document ${o}`),g+=")"),new me(te.INVALID_ARGUMENT,p+n+g)}function aE(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,t,i,o,u){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new I5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(wy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class I5 extends oE{data(){return super.data()}}function wy(n,e){return typeof e=="string"?by(n,e):e instanceof gu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new me(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xy{}class mf extends xy{}function lE(n,e,...t){let i=[];e instanceof xy&&i.push(e),i=i.concat(t),(function(u){const h=u.filter((g=>g instanceof gf)).length,p=u.filter((g=>g instanceof pf)).length;if(h>1||h>0&&p>0)throw new me(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)n=o._apply(n);return n}class pf extends mf{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new pf(e,t,i)}_apply(e){const t=this._parse(e);return dE(e._query,t),new Ur(e.firestore,e.converter,dg(e._query,t))}_parse(e){const t=hf(e.firestore);return(function(u,h,p,g,y,w,_){let S;if(y.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new me(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){Kx(_,w);const D=[];for(const K of _)D.push(Gx(g,u,K));S={arrayValue:{values:D}}}else S=Gx(g,u,_)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||Kx(_,w),S=j5(p,h,_,w==="in"||w==="not-in");return Mt.create(y,w,S)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class gf extends xy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new gf(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:Rs.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,u){let h=o;const p=u.getFlattenedFilters();for(const g of p)dE(h,g),h=dg(h,g)})(e._query,t),new Ur(e.firestore,e.converter,dg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class yf extends mf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new yf(e,t)}_apply(e){const t=(function(o,u,h){if(o.startAt!==null)throw new me(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new me(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jc(u,h)})(e._query,this._field,this._direction);return new Ur(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new gl(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function cE(n,e="asc"){const t=e,i=wy("orderBy",n);return yf._create(i,t)}class vf extends mf{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new vf(e,t,i)}_apply(e){return new Ur(e.firestore,e.converter,_h(e._query,this._limit,this._limitType))}}function uE(n){return vf._create("limit",n,"F")}function Gx(n,e,t){if(typeof(t=Ut(t))=="string"){if(t==="")throw new me(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!t1(e)&&t.indexOf("/")!==-1)throw new me(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ct.fromString(t));if(!xe.isDocumentKey(i))throw new me(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return cx(n,new xe(i))}if(t instanceof wt)return cx(n,t._key);throw new me(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xh(t)}.`)}function Kx(n,e){if(!Array.isArray(n)||n.length===0)throw new me(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dE(n,e){const t=(function(o,u){for(const h of o)for(const p of h.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new me(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class hE{convertValue(e,t="none"){switch(Ui(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Li(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Fi(e,((o,u)=>{i[o]=this.convertValue(u,t)})),i}convertVectorValue(e){const t=e.fields?.[wh].arrayValue?.values?.map((i=>Ct(i.doubleValue)));return new Cs(t)}convertGeoPoint(e){return new As(Ct(e.latitude),Ct(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Jh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Wc(e));default:return null}}convertTimestamp(e){const t=Vi(e);return new ut(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ct.fromString(e);We(T1(i),9688,{name:e});const o=new Jo(i.get(1),i.get(3)),u=new xe(i.popFirst(5));return o.isEqual(t)||Dr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class Ho{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Di extends oE{constructor(e,t,i,o,u,h){super(e,t,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(wy("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Di._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Di._jsonSchemaVersion="firestore/documentSnapshot/1.0",Di._jsonSchema={type:Lt("string",Di._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class Fc extends Di{data(e={}){return super.data(e)}}class Oa{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ho(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new Fc(this._firestore,this._userDataWriter,i.key,i,new Ho(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((p=>{const g=new Fc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ho(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new Fc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ho(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return p.type!==0&&(y=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),w=h.indexOf(p.doc.key)),{type:D5(p.type),doc:g,oldIndex:y,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Oa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Qh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(t.push(u._document),i.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function D5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(n){n=ds(n,wt);const e=ds(n.firestore,Gi);return w5(uf(e),n._key).then((t=>O5(e,n,t)))}Oa._jsonSchemaVersion="firestore/querySnapshot/1.0",Oa._jsonSchema={type:Lt("string",Oa._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class mE extends hE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,t)}}function bf(n){n=ds(n,Ur);const e=ds(n.firestore,Gi),t=uf(e),i=new mE(e);return k5(n._query),x5(t,n._query).then((o=>new Oa(e,i,n,o)))}function wf(n,e,t){n=ds(n,wt);const i=ds(n.firestore,Gi),o=fE(n.converter,e);return yu(i,[sE(hf(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,cs.none())])}function js(n,e,t,...i){n=ds(n,wt);const o=ds(n.firestore,Gi),u=hf(o);let h;return h=typeof(e=Ut(e))=="string"||e instanceof gu?C5(u,"updateDoc",n._key,e,t,i):A5(u,"updateDoc",n._key,e),yu(o,[h.toMutation(n._key,cs.exists(!0))])}function Ey(n){return yu(ds(n.firestore,Gi),[new Jg(n._key,cs.none())])}function Ty(n,e){const t=ds(n.firestore,Gi),i=mn(n),o=fE(n.converter,e);return yu(t,[sE(hf(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,cs.exists(!1))]).then((()=>i))}function yu(n,e){return(function(i,o){const u=new Ar;return i.asyncQueue.enqueueAndForget((async()=>l5(await b5(i),o,u))),u.promise})(uf(n),e)}function O5(n,e,t){const i=t.docs.get(e._key),o=new mE(n);return new Di(n,o,e._key,i,new Ho(t.hasPendingWrites,t.fromCache),e.converter)}function In(){return new gy("serverTimestamp")}function Yo(...n){return new yy("arrayUnion",n)}(function(e,t=!0){(function(o){fl=o})(dl),Wo(new La("firestore",((i,{instanceIdentifier:o,options:u})=>{const h=i.getProvider("app").getImmediate(),p=new Gi(new R4(i.getProvider("auth-internal")),new D4(h,i.getProvider("app-check-internal")),(function(y,w){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new me(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jo(y.options.projectId,w)})(h,o),h);return u={useFetchStreams:t,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Ii(Xw,Ww,e),Ii(Xw,Ww,"esm2020")})();const P5=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:hE,Bytes:Fn,CollectionReference:Cr,DocumentReference:wt,DocumentSnapshot:Di,FieldPath:gu,FieldValue:vl,Firestore:Gi,FirestoreError:me,GeoPoint:As,Query:Ur,QueryCompositeFilterConstraint:gf,QueryConstraint:mf,QueryDocumentSnapshot:Fc,QueryFieldFilterConstraint:pf,QueryLimitConstraint:vf,QueryOrderByConstraint:yf,QuerySnapshot:Oa,SnapshotMetadata:Ho,Timestamp:ut,VectorValue:Cs,_AutoId:Qh,_ByteString:Jt,_DatabaseId:Jo,_DocumentKey:xe,_EmptyAuthCredentialsProvider:P_,_FieldPath:Zt,_cast:ds,_logWarn:qa,_validateIsNotUsedTogether:V_,addDoc:Ty,arrayUnion:Yo,collection:il,connectFirestoreEmulator:J1,deleteDoc:Ey,doc:mn,ensureFirestoreConfigured:uf,executeWrite:yu,getDoc:_y,getDocs:bf,getFirestore:eE,limit:uE,orderBy:cE,query:lE,serverTimestamp:In,setDoc:wf,updateDoc:js},Symbol.toStringTag,{value:"Module"})),M5={apiKey:"AIzaSyCWttbyjL2Lv0G_vhTPKkY3lzUbvX7yDik",authDomain:"arquitectura-ser.firebaseapp.com",projectId:"arquitectura-ser",storageBucket:"arquitectura-ser.firebasestorage.app",messagingSenderId:"298588646307",appId:"1:298588646307:web:e32bd4de87550f84fa4816"},pE=B2(M5),Ft=N4(pE),Vt=eE(pE),Ny=new Ks,V5=new Ts,gE=new ls;gE.addScope("user:email");gE.setCustomParameters({allow_signup:"false"});Ny.setCustomParameters({prompt:"select_account"});/*!
* sweetalert2 v11.23.0
* Released under the MIT License.
*/function yE(n,e,t){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function L5(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Yx(n,e){return n.get(yE(n,e))}function U5(n,e,t){L5(n,e),e.set(n,t)}function B5(n,e,t){return n.set(yE(n,e),t),t}const z5=100,Ee={},q5=()=>{Ee.previousActiveElement instanceof HTMLElement?(Ee.previousActiveElement.focus(),Ee.previousActiveElement=null):document.body&&document.body.focus()},H5=n=>new Promise(e=>{if(!n)return e();const t=window.scrollX,i=window.scrollY;Ee.restoreFocusTimeout=setTimeout(()=>{q5(),e()},z5),window.scrollTo(t,i)}),vE="swal2-",F5=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],W=F5.reduce((n,e)=>(n[e]=vE+e,n),{}),$5=["success","warning","info","question","error"],jh=$5.reduce((n,e)=>(n[e]=vE+e,n),{}),bE="SweetAlert2:",Sy=n=>n.charAt(0).toUpperCase()+n.slice(1),En=n=>{console.warn(`${bE} ${typeof n=="object"?n.join(" "):n}`)},Ya=n=>{console.error(`${bE} ${n}`)},Qx=[],G5=n=>{Qx.includes(n)||(Qx.push(n),En(n))},wE=(n,e=null)=>{G5(`"${n}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},xf=n=>typeof n=="function"?n():n,Ay=n=>n&&typeof n.toPromise=="function",vu=n=>Ay(n)?n.toPromise():Promise.resolve(n),Cy=n=>n&&Promise.resolve(n)===n,Tn=()=>document.body.querySelector(`.${W.container}`),bu=n=>{const e=Tn();return e?e.querySelector(n):null},Kn=n=>bu(`.${n}`),Ke=()=>Kn(W.popup),wl=()=>Kn(W.icon),K5=()=>Kn(W["icon-content"]),xE=()=>Kn(W.title),jy=()=>Kn(W["html-container"]),_E=()=>Kn(W.image),Ry=()=>Kn(W["progress-steps"]),_f=()=>Kn(W["validation-message"]),Js=()=>bu(`.${W.actions} .${W.confirm}`),xl=()=>bu(`.${W.actions} .${W.cancel}`),Qa=()=>bu(`.${W.actions} .${W.deny}`),Y5=()=>Kn(W["input-label"]),_l=()=>bu(`.${W.loader}`),wu=()=>Kn(W.actions),EE=()=>Kn(W.footer),Ef=()=>Kn(W["timer-progress-bar"]),Iy=()=>Kn(W.close),Q5=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,ky=()=>{const n=Ke();if(!n)return[];const e=n.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),t=Array.from(e).sort((u,h)=>{const p=parseInt(u.getAttribute("tabindex")||"0"),g=parseInt(h.getAttribute("tabindex")||"0");return p>g?1:p<g?-1:0}),i=n.querySelectorAll(Q5),o=Array.from(i).filter(u=>u.getAttribute("tabindex")!=="-1");return[...new Set(t.concat(o))].filter(u=>On(u))},Dy=()=>jr(document.body,W.shown)&&!jr(document.body,W["toast-shown"])&&!jr(document.body,W["no-backdrop"]),Tf=()=>{const n=Ke();return n?jr(n,W.toast):!1},X5=()=>{const n=Ke();return n?n.hasAttribute("data-loading"):!1},Yn=(n,e)=>{if(n.textContent="",e){const i=new DOMParser().parseFromString(e,"text/html"),o=i.querySelector("head");o&&Array.from(o.childNodes).forEach(h=>{n.appendChild(h)});const u=i.querySelector("body");u&&Array.from(u.childNodes).forEach(h=>{h instanceof HTMLVideoElement||h instanceof HTMLAudioElement?n.appendChild(h.cloneNode(!0)):n.appendChild(h)})}},jr=(n,e)=>{if(!e)return!1;const t=e.split(/\s+/);for(let i=0;i<t.length;i++)if(!n.classList.contains(t[i]))return!1;return!0},W5=(n,e)=>{Array.from(n.classList).forEach(t=>{!Object.values(W).includes(t)&&!Object.values(jh).includes(t)&&!Object.values(e.showClass||{}).includes(t)&&n.classList.remove(t)})},Gn=(n,e,t)=>{if(W5(n,e),!e.customClass)return;const i=e.customClass[t];if(i){if(typeof i!="string"&&!i.forEach){En(`Invalid type of customClass.${t}! Expected string or iterable object, got "${typeof i}"`);return}Qe(n,i)}},Nf=(n,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return n.querySelector(`.${W.popup} > .${W[e]}`);case"checkbox":return n.querySelector(`.${W.popup} > .${W.checkbox} input`);case"radio":return n.querySelector(`.${W.popup} > .${W.radio} input:checked`)||n.querySelector(`.${W.popup} > .${W.radio} input:first-child`);case"range":return n.querySelector(`.${W.popup} > .${W.range} input`);default:return n.querySelector(`.${W.popup} > .${W.input}`)}},TE=n=>{if(n.focus(),n.type!=="file"){const e=n.value;n.value="",n.value=e}},NE=(n,e,t)=>{!n||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(i=>{Array.isArray(n)?n.forEach(o=>{t?o.classList.add(i):o.classList.remove(i)}):t?n.classList.add(i):n.classList.remove(i)}))},Qe=(n,e)=>{NE(n,e,!0)},hs=(n,e)=>{NE(n,e,!1)},Ai=(n,e)=>{const t=Array.from(n.children);for(let i=0;i<t.length;i++){const o=t[i];if(o instanceof HTMLElement&&jr(o,e))return o}},Pa=(n,e,t)=>{t===`${parseInt(t)}`&&(t=parseInt(t)),t||parseInt(t)===0?n.style.setProperty(e,typeof t=="number"?`${t}px`:t):n.style.removeProperty(e)},en=(n,e="flex")=>{n&&(n.style.display=e)},gn=n=>{n&&(n.style.display="none")},Oy=(n,e="block")=>{n&&new MutationObserver(()=>{xu(n,n.innerHTML,e)}).observe(n,{childList:!0,subtree:!0})},Xx=(n,e,t,i)=>{const o=n.querySelector(e);o&&o.style.setProperty(t,i)},xu=(n,e,t="flex")=>{e?en(n,t):gn(n)},On=n=>!!(n&&(n.offsetWidth||n.offsetHeight||n.getClientRects().length)),Z5=()=>!On(Js())&&!On(Qa())&&!On(xl()),_g=n=>n.scrollHeight>n.clientHeight,J5=(n,e)=>{let t=n;for(;t&&t!==e;){if(_g(t))return!0;t=t.parentElement}return!1},SE=n=>{const e=window.getComputedStyle(n),t=parseFloat(e.getPropertyValue("animation-duration")||"0"),i=parseFloat(e.getPropertyValue("transition-duration")||"0");return t>0||i>0},Py=(n,e=!1)=>{const t=Ef();t&&On(t)&&(e&&(t.style.transition="none",t.style.width="100%"),setTimeout(()=>{t.style.transition=`width ${n/1e3}s linear`,t.style.width="0%"},10))},e6=()=>{const n=Ef();if(!n)return;const e=parseInt(window.getComputedStyle(n).width);n.style.removeProperty("transition"),n.style.width="100%";const t=parseInt(window.getComputedStyle(n).width),i=e/t*100;n.style.width=`${i}%`},t6=()=>typeof window>"u"||typeof document>"u",n6=`
 <div aria-labelledby="${W.title}" aria-describedby="${W["html-container"]}" class="${W.popup}" tabindex="-1">
   <button type="button" class="${W.close}"></button>
   <ul class="${W["progress-steps"]}"></ul>
   <div class="${W.icon}"></div>
   <img class="${W.image}" />
   <h2 class="${W.title}" id="${W.title}"></h2>
   <div class="${W["html-container"]}" id="${W["html-container"]}"></div>
   <input class="${W.input}" id="${W.input}" />
   <input type="file" class="${W.file}" />
   <div class="${W.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${W.select}" id="${W.select}"></select>
   <div class="${W.radio}"></div>
   <label class="${W.checkbox}">
     <input type="checkbox" id="${W.checkbox}" />
     <span class="${W.label}"></span>
   </label>
   <textarea class="${W.textarea}" id="${W.textarea}"></textarea>
   <div class="${W["validation-message"]}" id="${W["validation-message"]}"></div>
   <div class="${W.actions}">
     <div class="${W.loader}"></div>
     <button type="button" class="${W.confirm}"></button>
     <button type="button" class="${W.deny}"></button>
     <button type="button" class="${W.cancel}"></button>
   </div>
   <div class="${W.footer}"></div>
   <div class="${W["timer-progress-bar-container"]}">
     <div class="${W["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),s6=()=>{const n=Tn();return n?(n.remove(),hs([document.documentElement,document.body],[W["no-backdrop"],W["toast-shown"],W["has-column"]]),!0):!1},Ra=()=>{Ee.currentInstance.resetValidationMessage()},r6=()=>{const n=Ke(),e=Ai(n,W.input),t=Ai(n,W.file),i=n.querySelector(`.${W.range} input`),o=n.querySelector(`.${W.range} output`),u=Ai(n,W.select),h=n.querySelector(`.${W.checkbox} input`),p=Ai(n,W.textarea);e.oninput=Ra,t.onchange=Ra,u.onchange=Ra,h.onchange=Ra,p.oninput=Ra,i.oninput=()=>{Ra(),o.value=i.value},i.onchange=()=>{Ra(),o.value=i.value}},i6=n=>typeof n=="string"?document.querySelector(n):n,a6=n=>{const e=Ke();e.setAttribute("role",n.toast?"alert":"dialog"),e.setAttribute("aria-live",n.toast?"polite":"assertive"),n.toast||e.setAttribute("aria-modal","true")},o6=n=>{window.getComputedStyle(n).direction==="rtl"&&Qe(Tn(),W.rtl)},l6=n=>{const e=s6();if(t6()){Ya("SweetAlert2 requires document to initialize");return}const t=document.createElement("div");t.className=W.container,e&&Qe(t,W["no-transition"]),Yn(t,n6),t.dataset.swal2Theme=n.theme;const i=i6(n.target);i.appendChild(t),n.topLayer&&(t.setAttribute("popover",""),t.showPopover()),a6(n),o6(i),r6()},My=(n,e)=>{n instanceof HTMLElement?e.appendChild(n):typeof n=="object"?c6(n,e):n&&Yn(e,n)},c6=(n,e)=>{n.jquery?u6(e,n):Yn(e,n.toString())},u6=(n,e)=>{if(n.textContent="",0 in e)for(let t=0;t in e;t++)n.appendChild(e[t].cloneNode(!0));else n.appendChild(e.cloneNode(!0))},d6=(n,e)=>{const t=wu(),i=_l();!t||!i||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?gn(t):en(t),Gn(t,e,"actions"),h6(t,i,e),Yn(i,e.loaderHtml||""),Gn(i,e,"loader"))};function h6(n,e,t){const i=Js(),o=Qa(),u=xl();!i||!o||!u||(Gp(i,"confirm",t),Gp(o,"deny",t),Gp(u,"cancel",t),f6(i,o,u,t),t.reverseButtons&&(t.toast?(n.insertBefore(u,i),n.insertBefore(o,i)):(n.insertBefore(u,e),n.insertBefore(o,e),n.insertBefore(i,e))))}function f6(n,e,t,i){if(!i.buttonsStyling){hs([n,e,t],W.styled);return}Qe([n,e,t],W.styled),i.confirmButtonColor&&n.style.setProperty("--swal2-confirm-button-background-color",i.confirmButtonColor),i.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",i.denyButtonColor),i.cancelButtonColor&&t.style.setProperty("--swal2-cancel-button-background-color",i.cancelButtonColor),$p(n),$p(e),$p(t)}function $p(n){const e=window.getComputedStyle(n);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const t=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");n.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${t}`))}function Gp(n,e,t){const i=Sy(e);xu(n,t[`show${i}Button`],"inline-block"),Yn(n,t[`${e}ButtonText`]||""),n.setAttribute("aria-label",t[`${e}ButtonAriaLabel`]||""),n.className=W[e],Gn(n,t,`${e}Button`)}const m6=(n,e)=>{const t=Iy();t&&(Yn(t,e.closeButtonHtml||""),Gn(t,e,"closeButton"),xu(t,e.showCloseButton),t.setAttribute("aria-label",e.closeButtonAriaLabel||""))},p6=(n,e)=>{const t=Tn();t&&(g6(t,e.backdrop),y6(t,e.position),v6(t,e.grow),Gn(t,e,"container"))};function g6(n,e){typeof e=="string"?n.style.background=e:e||Qe([document.documentElement,document.body],W["no-backdrop"])}function y6(n,e){e&&(e in W?Qe(n,W[e]):(En('The "position" parameter is not valid, defaulting to "center"'),Qe(n,W.center)))}function v6(n,e){e&&Qe(n,W[`grow-${e}`])}var dt={innerParams:new WeakMap,domCache:new WeakMap};const b6=["input","file","range","select","radio","checkbox","textarea"],w6=(n,e)=>{const t=Ke();if(!t)return;const i=dt.innerParams.get(n),o=!i||e.input!==i.input;b6.forEach(u=>{const h=Ai(t,W[u]);h&&(E6(u,e.inputAttributes),h.className=W[u],o&&gn(h))}),e.input&&(o&&x6(e),T6(e))},x6=n=>{if(!n.input)return;if(!At[n.input]){Ya(`Unexpected type of input! Expected ${Object.keys(At).join(" | ")}, got "${n.input}"`);return}const e=AE(n.input);if(!e)return;const t=At[n.input](e,n);en(e),n.inputAutoFocus&&setTimeout(()=>{TE(t)})},_6=n=>{for(let e=0;e<n.attributes.length;e++){const t=n.attributes[e].name;["id","type","value","style"].includes(t)||n.removeAttribute(t)}},E6=(n,e)=>{const t=Ke();if(!t)return;const i=Nf(t,n);if(i){_6(i);for(const o in e)i.setAttribute(o,e[o])}},T6=n=>{if(!n.input)return;const e=AE(n.input);e&&Gn(e,n,"input")},Vy=(n,e)=>{!n.placeholder&&e.inputPlaceholder&&(n.placeholder=e.inputPlaceholder)},_u=(n,e,t)=>{if(t.inputLabel){const i=document.createElement("label"),o=W["input-label"];i.setAttribute("for",n.id),i.className=o,typeof t.customClass=="object"&&Qe(i,t.customClass.inputLabel),i.innerText=t.inputLabel,e.insertAdjacentElement("beforebegin",i)}},AE=n=>{const e=Ke();if(e)return Ai(e,W[n]||W.input)},Rh=(n,e)=>{["string","number"].includes(typeof e)?n.value=`${e}`:Cy(e)||En(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},At={};At.text=At.email=At.password=At.number=At.tel=At.url=At.search=At.date=At["datetime-local"]=At.time=At.week=At.month=(n,e)=>(Rh(n,e.inputValue),_u(n,n,e),Vy(n,e),n.type=e.input,n);At.file=(n,e)=>(_u(n,n,e),Vy(n,e),n);At.range=(n,e)=>{const t=n.querySelector("input"),i=n.querySelector("output");return Rh(t,e.inputValue),t.type=e.input,Rh(i,e.inputValue),_u(t,n,e),n};At.select=(n,e)=>{if(n.textContent="",e.inputPlaceholder){const t=document.createElement("option");Yn(t,e.inputPlaceholder),t.value="",t.disabled=!0,t.selected=!0,n.appendChild(t)}return _u(n,n,e),n};At.radio=n=>(n.textContent="",n);At.checkbox=(n,e)=>{const t=Nf(Ke(),"checkbox");t.value="1",t.checked=!!e.inputValue;const i=n.querySelector("span");return Yn(i,e.inputPlaceholder||e.inputLabel),t};At.textarea=(n,e)=>{Rh(n,e.inputValue),Vy(n,e),_u(n,n,e);const t=i=>parseInt(window.getComputedStyle(i).marginLeft)+parseInt(window.getComputedStyle(i).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const i=parseInt(window.getComputedStyle(Ke()).width),o=()=>{if(!document.body.contains(n))return;const u=n.offsetWidth+t(n);u>i?Ke().style.width=`${u}px`:Pa(Ke(),"width",e.width)};new MutationObserver(o).observe(n,{attributes:!0,attributeFilter:["style"]})}}),n};const N6=(n,e)=>{const t=jy();t&&(Oy(t),Gn(t,e,"htmlContainer"),e.html?(My(e.html,t),en(t,"block")):e.text?(t.textContent=e.text,en(t,"block")):gn(t),w6(n,e))},S6=(n,e)=>{const t=EE();t&&(Oy(t),xu(t,e.footer,"block"),e.footer&&My(e.footer,t),Gn(t,e,"footer"))},A6=(n,e)=>{const t=dt.innerParams.get(n),i=wl();if(!i)return;if(t&&e.icon===t.icon){Zx(i,e),Wx(i,e);return}if(!e.icon&&!e.iconHtml){gn(i);return}if(e.icon&&Object.keys(jh).indexOf(e.icon)===-1){Ya(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),gn(i);return}en(i),Zx(i,e),Wx(i,e),Qe(i,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",CE)},Wx=(n,e)=>{for(const[t,i]of Object.entries(jh))e.icon!==t&&hs(n,i);Qe(n,e.icon&&jh[e.icon]),R6(n,e),CE(),Gn(n,e,"icon")},CE=()=>{const n=Ke();if(!n)return;const e=window.getComputedStyle(n).getPropertyValue("background-color"),t=n.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let i=0;i<t.length;i++)t[i].style.backgroundColor=e},C6=n=>`
  ${n.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${n.animation?'<div class="swal2-success-fix"></div>':""}
  ${n.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,j6=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Zx=(n,e)=>{if(!e.icon&&!e.iconHtml)return;let t=n.innerHTML,i="";e.iconHtml?i=Jx(e.iconHtml):e.icon==="success"?(i=C6(e),t=t.replace(/ style=".*?"/g,"")):e.icon==="error"?i=j6:e.icon&&(i=Jx({question:"?",warning:"!",info:"i"}[e.icon])),t.trim()!==i.trim()&&Yn(n,i)},R6=(n,e)=>{if(e.iconColor){n.style.color=e.iconColor,n.style.borderColor=e.iconColor;for(const t of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Xx(n,t,"background-color",e.iconColor);Xx(n,".swal2-success-ring","border-color",e.iconColor)}},Jx=n=>`<div class="${W["icon-content"]}">${n}</div>`,I6=(n,e)=>{const t=_E();if(t){if(!e.imageUrl){gn(t);return}en(t,""),t.setAttribute("src",e.imageUrl),t.setAttribute("alt",e.imageAlt||""),Pa(t,"width",e.imageWidth),Pa(t,"height",e.imageHeight),t.className=W.image,Gn(t,e,"image")}};let Ly=!1,jE=0,RE=0,IE=0,kE=0;const k6=n=>{n.addEventListener("mousedown",Ih),document.body.addEventListener("mousemove",kh),n.addEventListener("mouseup",Dh),n.addEventListener("touchstart",Ih),document.body.addEventListener("touchmove",kh),n.addEventListener("touchend",Dh)},D6=n=>{n.removeEventListener("mousedown",Ih),document.body.removeEventListener("mousemove",kh),n.removeEventListener("mouseup",Dh),n.removeEventListener("touchstart",Ih),document.body.removeEventListener("touchmove",kh),n.removeEventListener("touchend",Dh)},Ih=n=>{const e=Ke();if(n.target===e||wl().contains(n.target)){Ly=!0;const t=DE(n);jE=t.clientX,RE=t.clientY,IE=parseInt(e.style.insetInlineStart)||0,kE=parseInt(e.style.insetBlockStart)||0,Qe(e,"swal2-dragging")}},kh=n=>{const e=Ke();if(Ly){let{clientX:t,clientY:i}=DE(n);e.style.insetInlineStart=`${IE+(t-jE)}px`,e.style.insetBlockStart=`${kE+(i-RE)}px`}},Dh=()=>{const n=Ke();Ly=!1,hs(n,"swal2-dragging")},DE=n=>{let e=0,t=0;return n.type.startsWith("mouse")?(e=n.clientX,t=n.clientY):n.type.startsWith("touch")&&(e=n.touches[0].clientX,t=n.touches[0].clientY),{clientX:e,clientY:t}},O6=(n,e)=>{const t=Tn(),i=Ke();if(!(!t||!i)){if(e.toast){Pa(t,"width",e.width),i.style.width="100%";const o=_l();o&&i.insertBefore(o,wl())}else Pa(i,"width",e.width);Pa(i,"padding",e.padding),e.color&&(i.style.color=e.color),e.background&&(i.style.background=e.background),gn(_f()),P6(i,e),e.draggable&&!e.toast?(Qe(i,W.draggable),k6(i)):(hs(i,W.draggable),D6(i))}},P6=(n,e)=>{const t=e.showClass||{};n.className=`${W.popup} ${On(n)?t.popup:""}`,e.toast?(Qe([document.documentElement,document.body],W["toast-shown"]),Qe(n,W.toast)):Qe(n,W.modal),Gn(n,e,"popup"),typeof e.customClass=="string"&&Qe(n,e.customClass),e.icon&&Qe(n,W[`icon-${e.icon}`])},M6=(n,e)=>{const t=Ry();if(!t)return;const{progressSteps:i,currentProgressStep:o}=e;if(!i||i.length===0||o===void 0){gn(t);return}en(t),t.textContent="",o>=i.length&&En("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),i.forEach((u,h)=>{const p=V6(u);if(t.appendChild(p),h===o&&Qe(p,W["active-progress-step"]),h!==i.length-1){const g=L6(e);t.appendChild(g)}})},V6=n=>{const e=document.createElement("li");return Qe(e,W["progress-step"]),Yn(e,n),e},L6=n=>{const e=document.createElement("li");return Qe(e,W["progress-step-line"]),n.progressStepsDistance&&Pa(e,"width",n.progressStepsDistance),e},U6=(n,e)=>{const t=xE();t&&(Oy(t),xu(t,e.title||e.titleText,"block"),e.title&&My(e.title,t),e.titleText&&(t.innerText=e.titleText),Gn(t,e,"title"))},OE=(n,e)=>{O6(n,e),p6(n,e),M6(n,e),A6(n,e),I6(n,e),U6(n,e),m6(n,e),N6(n,e),d6(n,e),S6(n,e);const t=Ke();typeof e.didRender=="function"&&t&&e.didRender(t),Ee.eventEmitter.emit("didRender",t)},B6=()=>On(Ke()),PE=()=>{var n;return(n=Js())===null||n===void 0?void 0:n.click()},z6=()=>{var n;return(n=Qa())===null||n===void 0?void 0:n.click()},q6=()=>{var n;return(n=xl())===null||n===void 0?void 0:n.click()},El=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),ME=n=>{n.keydownTarget&&n.keydownHandlerAdded&&(n.keydownTarget.removeEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!1)},H6=(n,e,t)=>{ME(n),e.toast||(n.keydownHandler=i=>$6(e,i,t),n.keydownTarget=e.keydownListenerCapture?window:Ke(),n.keydownListenerCapture=e.keydownListenerCapture,n.keydownTarget.addEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!0)},Eg=(n,e)=>{var t;const i=ky();if(i.length){n=n+e,n===-2&&(n=i.length-1),n===i.length?n=0:n===-1&&(n=i.length-1),i[n].focus();return}(t=Ke())===null||t===void 0||t.focus()},VE=["ArrowRight","ArrowDown"],F6=["ArrowLeft","ArrowUp"],$6=(n,e,t)=>{n&&(e.isComposing||e.keyCode===229||(n.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?G6(e,n):e.key==="Tab"?K6(e):[...VE,...F6].includes(e.key)?Y6(e.key):e.key==="Escape"&&Q6(e,n,t)))},G6=(n,e)=>{if(!xf(e.allowEnterKey))return;const t=Nf(Ke(),e.input);if(n.target&&t&&n.target instanceof HTMLElement&&n.target.outerHTML===t.outerHTML){if(["textarea","file"].includes(e.input))return;PE(),n.preventDefault()}},K6=n=>{const e=n.target,t=ky();let i=-1;for(let o=0;o<t.length;o++)if(e===t[o]){i=o;break}n.shiftKey?Eg(i,-1):Eg(i,1),n.stopPropagation(),n.preventDefault()},Y6=n=>{const e=wu(),t=Js(),i=Qa(),o=xl();if(!e||!t||!i||!o)return;const u=[t,i,o];if(document.activeElement instanceof HTMLElement&&!u.includes(document.activeElement))return;const h=VE.includes(n)?"nextElementSibling":"previousElementSibling";let p=document.activeElement;if(p){for(let g=0;g<e.children.length;g++){if(p=p[h],!p)return;if(p instanceof HTMLButtonElement&&On(p))break}p instanceof HTMLButtonElement&&p.focus()}},Q6=(n,e,t)=>{n.preventDefault(),xf(e.allowEscapeKey)&&t(El.esc)};var al={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const X6=()=>{const n=Tn();Array.from(document.body.children).forEach(t=>{t.contains(n)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})},LE=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},UE=typeof window<"u"&&!!window.GestureEvent,W6=()=>{if(UE&&!jr(document.body,W.iosfix)){const n=document.body.scrollTop;document.body.style.top=`${n*-1}px`,Qe(document.body,W.iosfix),Z6()}},Z6=()=>{const n=Tn();if(!n)return;let e;n.ontouchstart=t=>{e=J6(t)},n.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}},J6=n=>{const e=n.target,t=Tn(),i=jy();return!t||!i||eD(n)||tD(n)?!1:e===t||!_g(t)&&e instanceof HTMLElement&&!J5(e,i)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(_g(i)&&i.contains(e))},eD=n=>n.touches&&n.touches.length&&n.touches[0].touchType==="stylus",tD=n=>n.touches&&n.touches.length>1,nD=()=>{if(jr(document.body,W.iosfix)){const n=parseInt(document.body.style.top,10);hs(document.body,W.iosfix),document.body.style.top="",document.body.scrollTop=n*-1}},sD=()=>{const n=document.createElement("div");n.className=W["scrollbar-measure"],document.body.appendChild(n);const e=n.getBoundingClientRect().width-n.clientWidth;return document.body.removeChild(n),e};let Qo=null;const rD=n=>{Qo===null&&(document.body.scrollHeight>window.innerHeight||n==="scroll")&&(Qo=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Qo+sD()}px`)},iD=()=>{Qo!==null&&(document.body.style.paddingRight=`${Qo}px`,Qo=null)};function BE(n,e,t,i){Tf()?e2(n,i):(H5(t).then(()=>e2(n,i)),ME(Ee)),UE?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),Dy()&&(iD(),nD(),LE()),aD()}function aD(){hs([document.documentElement,document.body],[W.shown,W["height-auto"],W["no-backdrop"],W["toast-shown"]])}function Ci(n){n=lD(n);const e=al.swalPromiseResolve.get(this),t=oD(this);this.isAwaitingPromise?n.isDismissed||(Eu(this),e(n)):t&&e(n)}const oD=n=>{const e=Ke();if(!e)return!1;const t=dt.innerParams.get(n);if(!t||jr(e,t.hideClass.popup))return!1;hs(e,t.showClass.popup),Qe(e,t.hideClass.popup);const i=Tn();return hs(i,t.showClass.backdrop),Qe(i,t.hideClass.backdrop),cD(n,e,t),!0};function zE(n){const e=al.swalPromiseReject.get(this);Eu(this),e&&e(n)}const Eu=n=>{n.isAwaitingPromise&&(delete n.isAwaitingPromise,dt.innerParams.get(n)||n._destroy())},lD=n=>typeof n>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},n),cD=(n,e,t)=>{var i;const o=Tn(),u=SE(e);typeof t.willClose=="function"&&t.willClose(e),(i=Ee.eventEmitter)===null||i===void 0||i.emit("willClose",e),u?uD(n,e,o,t.returnFocus,t.didClose):BE(n,o,t.returnFocus,t.didClose)},uD=(n,e,t,i,o)=>{Ee.swalCloseEventFinishedCallback=BE.bind(null,n,t,i,o);const u=function(h){if(h.target===e){var p;(p=Ee.swalCloseEventFinishedCallback)===null||p===void 0||p.call(Ee),delete Ee.swalCloseEventFinishedCallback,e.removeEventListener("animationend",u),e.removeEventListener("transitionend",u)}};e.addEventListener("animationend",u),e.addEventListener("transitionend",u)},e2=(n,e)=>{setTimeout(()=>{var t;typeof e=="function"&&e.bind(n.params)(),(t=Ee.eventEmitter)===null||t===void 0||t.emit("didClose"),n._destroy&&n._destroy()})},ol=n=>{let e=Ke();if(e||new fe,e=Ke(),!e)return;const t=_l();Tf()?gn(wl()):dD(e,n),en(t),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},dD=(n,e)=>{const t=wu(),i=_l();!t||!i||(!e&&On(Js())&&(e=Js()),en(t),e&&(gn(e),i.setAttribute("data-button-to-replace",e.className),t.insertBefore(i,e)),Qe([n,t],W.loading))},hD=(n,e)=>{e.input==="select"||e.input==="radio"?yD(n,e):["text","email","number","tel","textarea"].some(t=>t===e.input)&&(Ay(e.inputValue)||Cy(e.inputValue))&&(ol(Js()),vD(n,e))},fD=(n,e)=>{const t=n.getInput();if(!t)return null;switch(e.input){case"checkbox":return mD(t);case"radio":return pD(t);case"file":return gD(t);default:return e.inputAutoTrim?t.value.trim():t.value}},mD=n=>n.checked?1:0,pD=n=>n.checked?n.value:null,gD=n=>n.files&&n.files.length?n.getAttribute("multiple")!==null?n.files:n.files[0]:null,yD=(n,e)=>{const t=Ke();if(!t)return;const i=o=>{e.input==="select"?bD(t,Oh(o),e):e.input==="radio"&&wD(t,Oh(o),e)};Ay(e.inputOptions)||Cy(e.inputOptions)?(ol(Js()),vu(e.inputOptions).then(o=>{n.hideLoading(),i(o)})):typeof e.inputOptions=="object"?i(e.inputOptions):Ya(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},vD=(n,e)=>{const t=n.getInput();t&&(gn(t),vu(e.inputValue).then(i=>{t.value=e.input==="number"?`${parseFloat(i)||0}`:`${i}`,en(t),t.focus(),n.hideLoading()}).catch(i=>{Ya(`Error in inputValue promise: ${i}`),t.value="",en(t),t.focus(),n.hideLoading()}))};function bD(n,e,t){const i=Ai(n,W.select);if(!i)return;const o=(u,h,p)=>{const g=document.createElement("option");g.value=p,Yn(g,h),g.selected=qE(p,t.inputValue),u.appendChild(g)};e.forEach(u=>{const h=u[0],p=u[1];if(Array.isArray(p)){const g=document.createElement("optgroup");g.label=h,g.disabled=!1,i.appendChild(g),p.forEach(y=>o(g,y[1],y[0]))}else o(i,p,h)}),i.focus()}function wD(n,e,t){const i=Ai(n,W.radio);if(!i)return;e.forEach(u=>{const h=u[0],p=u[1],g=document.createElement("input"),y=document.createElement("label");g.type="radio",g.name=W.radio,g.value=h,qE(h,t.inputValue)&&(g.checked=!0);const w=document.createElement("span");Yn(w,p),w.className=W.label,y.appendChild(g),y.appendChild(w),i.appendChild(y)});const o=i.querySelectorAll("input");o.length&&o[0].focus()}const Oh=n=>{const e=[];return n instanceof Map?n.forEach((t,i)=>{let o=t;typeof o=="object"&&(o=Oh(o)),e.push([i,o])}):Object.keys(n).forEach(t=>{let i=n[t];typeof i=="object"&&(i=Oh(i)),e.push([t,i])}),e},qE=(n,e)=>!!e&&e.toString()===n.toString(),xD=n=>{const e=dt.innerParams.get(n);n.disableButtons(),e.input?HE(n,"confirm"):By(n,!0)},_D=n=>{const e=dt.innerParams.get(n);n.disableButtons(),e.returnInputValueOnDeny?HE(n,"deny"):Uy(n,!1)},ED=(n,e)=>{n.disableButtons(),e(El.cancel)},HE=(n,e)=>{const t=dt.innerParams.get(n);if(!t.input){Ya(`The "input" parameter is needed to be set when using returnInputValueOn${Sy(e)}`);return}const i=n.getInput(),o=fD(n,t);t.inputValidator?TD(n,o,e):i&&!i.checkValidity()?(n.enableButtons(),n.showValidationMessage(t.validationMessage||i.validationMessage)):e==="deny"?Uy(n,o):By(n,o)},TD=(n,e,t)=>{const i=dt.innerParams.get(n);n.disableInput(),Promise.resolve().then(()=>vu(i.inputValidator(e,i.validationMessage))).then(u=>{n.enableButtons(),n.enableInput(),u?n.showValidationMessage(u):t==="deny"?Uy(n,e):By(n,e)})},Uy=(n,e)=>{const t=dt.innerParams.get(n||void 0);t.showLoaderOnDeny&&ol(Qa()),t.preDeny?(n.isAwaitingPromise=!0,Promise.resolve().then(()=>vu(t.preDeny(e,t.validationMessage))).then(o=>{o===!1?(n.hideLoading(),Eu(n)):n.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>FE(n||void 0,o))):n.close({isDenied:!0,value:e})},t2=(n,e)=>{n.close({isConfirmed:!0,value:e})},FE=(n,e)=>{n.rejectPromise(e)},By=(n,e)=>{const t=dt.innerParams.get(n||void 0);t.showLoaderOnConfirm&&ol(),t.preConfirm?(n.resetValidationMessage(),n.isAwaitingPromise=!0,Promise.resolve().then(()=>vu(t.preConfirm(e,t.validationMessage))).then(o=>{On(_f())||o===!1?(n.hideLoading(),Eu(n)):t2(n,typeof o>"u"?e:o)}).catch(o=>FE(n||void 0,o))):t2(n,e)};function Ph(){const n=dt.innerParams.get(this);if(!n)return;const e=dt.domCache.get(this);gn(e.loader),Tf()?n.icon&&en(wl()):ND(e),hs([e.popup,e.actions],W.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const ND=n=>{const e=n.popup.getElementsByClassName(n.loader.getAttribute("data-button-to-replace"));e.length?en(e[0],"inline-block"):Z5()&&gn(n.actions)};function $E(){const n=dt.innerParams.get(this),e=dt.domCache.get(this);return e?Nf(e.popup,n.input):null}function GE(n,e,t){const i=dt.domCache.get(n);e.forEach(o=>{i[o].disabled=t})}function KE(n,e){const t=Ke();if(!(!t||!n))if(n.type==="radio"){const i=t.querySelectorAll(`[name="${W.radio}"]`);for(let o=0;o<i.length;o++)i[o].disabled=e}else n.disabled=e}function YE(){GE(this,["confirmButton","denyButton","cancelButton"],!1)}function QE(){GE(this,["confirmButton","denyButton","cancelButton"],!0)}function XE(){KE(this.getInput(),!1)}function WE(){KE(this.getInput(),!0)}function ZE(n){const e=dt.domCache.get(this),t=dt.innerParams.get(this);Yn(e.validationMessage,n),e.validationMessage.className=W["validation-message"],t.customClass&&t.customClass.validationMessage&&Qe(e.validationMessage,t.customClass.validationMessage),en(e.validationMessage);const i=this.getInput();i&&(i.setAttribute("aria-invalid","true"),i.setAttribute("aria-describedby",W["validation-message"]),TE(i),Qe(i,W.inputerror))}function JE(){const n=dt.domCache.get(this);n.validationMessage&&gn(n.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),hs(e,W.inputerror))}const Xo={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},SD=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],AD={allowEnterKey:void 0},CD=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],eT=n=>Object.prototype.hasOwnProperty.call(Xo,n),tT=n=>SD.indexOf(n)!==-1,nT=n=>AD[n],jD=n=>{eT(n)||En(`Unknown parameter "${n}"`)},RD=n=>{CD.includes(n)&&En(`The parameter "${n}" is incompatible with toasts`)},ID=n=>{const e=nT(n);e&&wE(n,e)},sT=n=>{n.backdrop===!1&&n.allowOutsideClick&&En('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),n.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(n.theme)&&En(`Invalid theme "${n.theme}"`);for(const e in n)jD(e),n.toast&&RD(e),ID(e)};function rT(n){const e=Tn(),t=Ke(),i=dt.innerParams.get(this);if(!t||jr(t,i.hideClass.popup)){En("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const o=kD(n),u=Object.assign({},i,o);sT(u),e.dataset.swal2Theme=u.theme,OE(this,u),dt.innerParams.set(this,u),Object.defineProperties(this,{params:{value:Object.assign({},this.params,n),writable:!1,enumerable:!0}})}const kD=n=>{const e={};return Object.keys(n).forEach(t=>{tT(t)?e[t]=n[t]:En(`Invalid parameter to update: ${t}`)}),e};function iT(){const n=dt.domCache.get(this),e=dt.innerParams.get(this);if(!e){aT(this);return}n.popup&&Ee.swalCloseEventFinishedCallback&&(Ee.swalCloseEventFinishedCallback(),delete Ee.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),Ee.eventEmitter.emit("didDestroy"),DD(this)}const DD=n=>{aT(n),delete n.params,delete Ee.keydownHandler,delete Ee.keydownTarget,delete Ee.currentInstance},aT=n=>{n.isAwaitingPromise?(Kp(dt,n),n.isAwaitingPromise=!0):(Kp(al,n),Kp(dt,n),delete n.isAwaitingPromise,delete n.disableButtons,delete n.enableButtons,delete n.getInput,delete n.disableInput,delete n.enableInput,delete n.hideLoading,delete n.disableLoading,delete n.showValidationMessage,delete n.resetValidationMessage,delete n.close,delete n.closePopup,delete n.closeModal,delete n.closeToast,delete n.rejectPromise,delete n.update,delete n._destroy)},Kp=(n,e)=>{for(const t in n)n[t].delete(e)};var OD=Object.freeze({__proto__:null,_destroy:iT,close:Ci,closeModal:Ci,closePopup:Ci,closeToast:Ci,disableButtons:QE,disableInput:WE,disableLoading:Ph,enableButtons:YE,enableInput:XE,getInput:$E,handleAwaitingPromise:Eu,hideLoading:Ph,rejectPromise:zE,resetValidationMessage:JE,showValidationMessage:ZE,update:rT});const PD=(n,e,t)=>{n.toast?MD(n,e,t):(LD(e),UD(e),BD(n,e,t))},MD=(n,e,t)=>{e.popup.onclick=()=>{n&&(VD(n)||n.timer||n.input)||t(El.close)}},VD=n=>!!(n.showConfirmButton||n.showDenyButton||n.showCancelButton||n.showCloseButton);let Mh=!1;const LD=n=>{n.popup.onmousedown=()=>{n.container.onmouseup=function(e){n.container.onmouseup=()=>{},e.target===n.container&&(Mh=!0)}}},UD=n=>{n.container.onmousedown=e=>{e.target===n.container&&e.preventDefault(),n.popup.onmouseup=function(t){n.popup.onmouseup=()=>{},(t.target===n.popup||t.target instanceof HTMLElement&&n.popup.contains(t.target))&&(Mh=!0)}}},BD=(n,e,t)=>{e.container.onclick=i=>{if(Mh){Mh=!1;return}i.target===e.container&&xf(n.allowOutsideClick)&&t(El.backdrop)}},zD=n=>typeof n=="object"&&n.jquery,n2=n=>n instanceof Element||zD(n),qD=n=>{const e={};return typeof n[0]=="object"&&!n2(n[0])?Object.assign(e,n[0]):["title","html","icon"].forEach((t,i)=>{const o=n[i];typeof o=="string"||n2(o)?e[t]=o:o!==void 0&&Ya(`Unexpected type of ${t}! Expected "string" or "Element", got ${typeof o}`)}),e};function HD(...n){return new this(...n)}function FD(n){class e extends this{_main(i,o){return super._main(i,Object.assign({},n,o))}}return e}const $D=()=>Ee.timeout&&Ee.timeout.getTimerLeft(),oT=()=>{if(Ee.timeout)return e6(),Ee.timeout.stop()},lT=()=>{if(Ee.timeout){const n=Ee.timeout.start();return Py(n),n}},GD=()=>{const n=Ee.timeout;return n&&(n.running?oT():lT())},KD=n=>{if(Ee.timeout){const e=Ee.timeout.increase(n);return Py(e,!0),e}},YD=()=>!!(Ee.timeout&&Ee.timeout.isRunning());let s2=!1;const Tg={};function QD(n="data-swal-template"){Tg[n]=this,s2||(document.body.addEventListener("click",XD),s2=!0)}const XD=n=>{for(let e=n.target;e&&e!==document;e=e.parentNode)for(const t in Tg){const i=e.getAttribute(t);if(i){Tg[t].fire({template:i});return}}};class WD{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,t){const i=this._getHandlersByEventName(e);i.includes(t)||i.push(t)}once(e,t){const i=(...o)=>{this.removeListener(e,i),t.apply(this,o)};this.on(e,i)}emit(e,...t){this._getHandlersByEventName(e).forEach(i=>{try{i.apply(this,t)}catch(o){console.error(o)}})}removeListener(e,t){const i=this._getHandlersByEventName(e),o=i.indexOf(t);o>-1&&i.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}Ee.eventEmitter=new WD;const ZD=(n,e)=>{Ee.eventEmitter.on(n,e)},JD=(n,e)=>{Ee.eventEmitter.once(n,e)},eO=(n,e)=>{if(!n){Ee.eventEmitter.reset();return}e?Ee.eventEmitter.removeListener(n,e):Ee.eventEmitter.removeAllListeners(n)};var tO=Object.freeze({__proto__:null,argsToParams:qD,bindClickHandler:QD,clickCancel:q6,clickConfirm:PE,clickDeny:z6,enableLoading:ol,fire:HD,getActions:wu,getCancelButton:xl,getCloseButton:Iy,getConfirmButton:Js,getContainer:Tn,getDenyButton:Qa,getFocusableElements:ky,getFooter:EE,getHtmlContainer:jy,getIcon:wl,getIconContent:K5,getImage:_E,getInputLabel:Y5,getLoader:_l,getPopup:Ke,getProgressSteps:Ry,getTimerLeft:$D,getTimerProgressBar:Ef,getTitle:xE,getValidationMessage:_f,increaseTimer:KD,isDeprecatedParameter:nT,isLoading:X5,isTimerRunning:YD,isUpdatableParameter:tT,isValidParameter:eT,isVisible:B6,mixin:FD,off:eO,on:ZD,once:JD,resumeTimer:lT,showLoading:ol,stopTimer:oT,toggleTimer:GD});class nO{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const cT=["swal-title","swal-html","swal-footer"],sO=n=>{const e=typeof n.template=="string"?document.querySelector(n.template):n.template;if(!e)return{};const t=e.content;return dO(t),Object.assign(rO(t),iO(t),aO(t),oO(t),lO(t),cO(t),uO(t,cT))},rO=n=>{const e={};return Array.from(n.querySelectorAll("swal-param")).forEach(i=>{Fa(i,["name","value"]);const o=i.getAttribute("name"),u=i.getAttribute("value");!o||!u||(typeof Xo[o]=="boolean"?e[o]=u!=="false":typeof Xo[o]=="object"?e[o]=JSON.parse(u):e[o]=u)}),e},iO=n=>{const e={};return Array.from(n.querySelectorAll("swal-function-param")).forEach(i=>{const o=i.getAttribute("name"),u=i.getAttribute("value");!o||!u||(e[o]=new Function(`return ${u}`)())}),e},aO=n=>{const e={};return Array.from(n.querySelectorAll("swal-button")).forEach(i=>{Fa(i,["type","color","aria-label"]);const o=i.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=i.innerHTML,e[`show${Sy(o)}Button`]=!0,i.hasAttribute("color")&&(e[`${o}ButtonColor`]=i.getAttribute("color")),i.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=i.getAttribute("aria-label")))}),e},oO=n=>{const e={},t=n.querySelector("swal-image");return t&&(Fa(t,["src","width","height","alt"]),t.hasAttribute("src")&&(e.imageUrl=t.getAttribute("src")||void 0),t.hasAttribute("width")&&(e.imageWidth=t.getAttribute("width")||void 0),t.hasAttribute("height")&&(e.imageHeight=t.getAttribute("height")||void 0),t.hasAttribute("alt")&&(e.imageAlt=t.getAttribute("alt")||void 0)),e},lO=n=>{const e={},t=n.querySelector("swal-icon");return t&&(Fa(t,["type","color"]),t.hasAttribute("type")&&(e.icon=t.getAttribute("type")),t.hasAttribute("color")&&(e.iconColor=t.getAttribute("color")),e.iconHtml=t.innerHTML),e},cO=n=>{const e={},t=n.querySelector("swal-input");t&&(Fa(t,["type","label","placeholder","value"]),e.input=t.getAttribute("type")||"text",t.hasAttribute("label")&&(e.inputLabel=t.getAttribute("label")),t.hasAttribute("placeholder")&&(e.inputPlaceholder=t.getAttribute("placeholder")),t.hasAttribute("value")&&(e.inputValue=t.getAttribute("value")));const i=Array.from(n.querySelectorAll("swal-input-option"));return i.length&&(e.inputOptions={},i.forEach(o=>{Fa(o,["value"]);const u=o.getAttribute("value");if(!u)return;const h=o.innerHTML;e.inputOptions[u]=h})),e},uO=(n,e)=>{const t={};for(const i in e){const o=e[i],u=n.querySelector(o);u&&(Fa(u,[]),t[o.replace(/^swal-/,"")]=u.innerHTML.trim())}return t},dO=n=>{const e=cT.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(n.children).forEach(t=>{const i=t.tagName.toLowerCase();e.includes(i)||En(`Unrecognized element <${i}>`)})},Fa=(n,e)=>{Array.from(n.attributes).forEach(t=>{e.indexOf(t.name)===-1&&En([`Unrecognized attribute "${t.name}" on <${n.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},uT=10,hO=n=>{const e=Tn(),t=Ke();typeof n.willOpen=="function"&&n.willOpen(t),Ee.eventEmitter.emit("willOpen",t);const o=window.getComputedStyle(document.body).overflowY;pO(e,t,n),setTimeout(()=>{fO(e,t)},uT),Dy()&&(mO(e,n.scrollbarPadding,o),X6()),!Tf()&&!Ee.previousActiveElement&&(Ee.previousActiveElement=document.activeElement),typeof n.didOpen=="function"&&setTimeout(()=>n.didOpen(t)),Ee.eventEmitter.emit("didOpen",t),hs(e,W["no-transition"])},Vh=n=>{const e=Ke();if(n.target!==e)return;const t=Tn();e.removeEventListener("animationend",Vh),e.removeEventListener("transitionend",Vh),t.style.overflowY="auto"},fO=(n,e)=>{SE(e)?(n.style.overflowY="hidden",e.addEventListener("animationend",Vh),e.addEventListener("transitionend",Vh)):n.style.overflowY="auto"},mO=(n,e,t)=>{W6(),e&&t!=="hidden"&&rD(t),setTimeout(()=>{n.scrollTop=0})},pO=(n,e,t)=>{Qe(n,t.showClass.backdrop),t.animation?(e.style.setProperty("opacity","0","important"),en(e,"grid"),setTimeout(()=>{Qe(e,t.showClass.popup),e.style.removeProperty("opacity")},uT)):en(e,"grid"),Qe([document.documentElement,document.body],W.shown),t.heightAuto&&t.backdrop&&!t.toast&&Qe([document.documentElement,document.body],W["height-auto"])};var r2={email:(n,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(n)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(n,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(n)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function gO(n){n.inputValidator||(n.input==="email"&&(n.inputValidator=r2.email),n.input==="url"&&(n.inputValidator=r2.url))}function yO(n){(!n.target||typeof n.target=="string"&&!document.querySelector(n.target)||typeof n.target!="string"&&!n.target.appendChild)&&(En('Target parameter is not valid, defaulting to "body"'),n.target="body")}function vO(n){gO(n),n.showLoaderOnConfirm&&!n.preConfirm&&En(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),yO(n),typeof n.title=="string"&&(n.title=n.title.split(`
`).join("<br />")),l6(n)}let Gs;var Xd=new WeakMap;class jt{constructor(...e){if(U5(this,Xd,void 0),typeof window>"u")return;Gs=this;const t=Object.freeze(this.constructor.argsToParams(e));this.params=t,this.isAwaitingPromise=!1,B5(Xd,this,this._main(Gs.params))}_main(e,t={}){if(sT(Object.assign({},t,e)),Ee.currentInstance){const u=al.swalPromiseResolve.get(Ee.currentInstance),{isAwaitingPromise:h}=Ee.currentInstance;Ee.currentInstance._destroy(),h||u({isDismissed:!0}),Dy()&&LE()}Ee.currentInstance=Gs;const i=wO(e,t);vO(i),Object.freeze(i),Ee.timeout&&(Ee.timeout.stop(),delete Ee.timeout),clearTimeout(Ee.restoreFocusTimeout);const o=xO(Gs);return OE(Gs,i),dt.innerParams.set(Gs,i),bO(Gs,o,i)}then(e){return Yx(Xd,this).then(e)}finally(e){return Yx(Xd,this).finally(e)}}const bO=(n,e,t)=>new Promise((i,o)=>{const u=h=>{n.close({isDismissed:!0,dismiss:h})};al.swalPromiseResolve.set(n,i),al.swalPromiseReject.set(n,o),e.confirmButton.onclick=()=>{xD(n)},e.denyButton.onclick=()=>{_D(n)},e.cancelButton.onclick=()=>{ED(n,u)},e.closeButton.onclick=()=>{u(El.close)},PD(t,e,u),H6(Ee,t,u),hD(n,t),hO(t),_O(Ee,t,u),EO(e,t),setTimeout(()=>{e.container.scrollTop=0})}),wO=(n,e)=>{const t=sO(n),i=Object.assign({},Xo,e,t,n);return i.showClass=Object.assign({},Xo.showClass,i.showClass),i.hideClass=Object.assign({},Xo.hideClass,i.hideClass),i.animation===!1&&(i.showClass={backdrop:"swal2-noanimation"},i.hideClass={}),i},xO=n=>{const e={popup:Ke(),container:Tn(),actions:wu(),confirmButton:Js(),denyButton:Qa(),cancelButton:xl(),loader:_l(),closeButton:Iy(),validationMessage:_f(),progressSteps:Ry()};return dt.domCache.set(n,e),e},_O=(n,e,t)=>{const i=Ef();gn(i),e.timer&&(n.timeout=new nO(()=>{t("timer"),delete n.timeout},e.timer),e.timerProgressBar&&(en(i),Gn(i,e,"timerProgressBar"),setTimeout(()=>{n.timeout&&n.timeout.running&&Py(e.timer)})))},EO=(n,e)=>{if(!e.toast){if(!xf(e.allowEnterKey)){wE("allowEnterKey"),SO();return}TO(n)||NO(n,e)||Eg(-1,1)}},TO=n=>{const e=Array.from(n.popup.querySelectorAll("[autofocus]"));for(const t of e)if(t instanceof HTMLElement&&On(t))return t.focus(),!0;return!1},NO=(n,e)=>e.focusDeny&&On(n.denyButton)?(n.denyButton.focus(),!0):e.focusCancel&&On(n.cancelButton)?(n.cancelButton.focus(),!0):e.focusConfirm&&On(n.confirmButton)?(n.confirmButton.focus(),!0):!1,SO=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};jt.prototype.disableButtons=QE;jt.prototype.enableButtons=YE;jt.prototype.getInput=$E;jt.prototype.disableInput=WE;jt.prototype.enableInput=XE;jt.prototype.hideLoading=Ph;jt.prototype.disableLoading=Ph;jt.prototype.showValidationMessage=ZE;jt.prototype.resetValidationMessage=JE;jt.prototype.close=Ci;jt.prototype.closePopup=Ci;jt.prototype.closeModal=Ci;jt.prototype.closeToast=Ci;jt.prototype.rejectPromise=zE;jt.prototype.update=rT;jt.prototype._destroy=iT;Object.assign(jt,tO);Object.keys(OD).forEach(n=>{jt[n]=function(...e){return Gs&&Gs[n]?Gs[n](...e):null}});jt.DismissReason=El;jt.version="11.23.0";const fe=jt;fe.default=fe;typeof document<"u"&&(function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const AO=()=>{const n=qi(),[e,t]=I.useState(!1),[i,o]=I.useState(!1),[u,h]=I.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),[p,g]=I.useState(!1),y=()=>{t(!e)},w=()=>{o(!i)},_=M=>{const{name:D,value:K}=M.target;h(L=>({...L,[D]:K}))},S=async M=>{M.preventDefault();const{firstName:D,lastName:K,email:L,password:Z,confirmPassword:z}=u;if(!D||!K||!L||!Z||!z)return fe.fire("Error","Todos los campos son obligatorios","error");if(Z.length<6)return fe.fire("Error","La contrasea debe tener al menos 6 caracteres","error");if(Z!==z)return fe.fire("Error","Las contraseas no coinciden","error");g(!0);try{const F=L.toLowerCase(),se=(await p_(Ft,F,Z)).user;await wf(mn(Vt,"usuarios",se.uid),{uid:se.uid,firstName:D,lastName:K,email:F,estado:"activo",rol:"usuario",creado:new Date,metodo:"password"}),fe.fire("xito!","Cuenta creada exitosamente","success"),h({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),n("/Dashboard")}catch(F){console.error("Error completo en registro:",F),console.error("Cdigo del error:",F.code),console.error("Mensaje del error:",F.message),F.code==="auth/email-already-in-use"?fe.fire("Error","Este correo electrnico ya est registrado","error"):F.code==="auth/weak-password"?fe.fire("Error","La contrasea es muy dbil","error"):F.code==="auth/invalid-email"?fe.fire("Error","Correo electrnico invlido","error"):F.code==="auth/operation-not-allowed"?fe.fire("Error","El registro con email/contrasea no est habilitado","error"):F.code==="auth/network-request-failed"?fe.fire("Error","Error de conexin. Verifica tu internet","error"):fe.fire({title:"Error en registro",text:`Cdigo: ${F.code}
Mensaje: ${F.message}`,icon:"error",confirmButtonText:"OK"})}finally{g(!1)}};return l.jsxs("div",{className:"fixed inset-0 bg-gradient-to-br from-purple-600 via-pink-500 to-orange-400 flex overflow-y-auto ",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[l.jsx("div",{className:"absolute top-20 left-20 w-20 h-20 bg-white/10 rounded-full blur-xl"}),l.jsx("div",{className:"absolute top-40 right-32 w-32 h-32 bg-white/5 rounded-full blur-2xl"}),l.jsx("div",{className:"absolute bottom-32 left-40 w-24 h-24 bg-white/10 rounded-full blur-xl"}),l.jsx("div",{className:"absolute bottom-20 right-20 w-16 h-16 bg-white/15 rounded-full blur-lg"})]}),l.jsxs("div",{className:"relative mx-auto w-full flex bg-white/95 backdrop-blur-sm shadow-2xl overflow-hidden",children:[l.jsxs("div",{className:"hidden lg:flex lg:w-2/5 bg-gradient-to-br from-purple-600 to-pink-500 p-12 flex-col justify-center items-center relative",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-600/90 to-pink-500/90"}),l.jsxs("div",{className:"relative text-center",children:[l.jsx("div",{className:"w-48 h-48 mx-auto mb-8 relative",children:l.jsx("div",{className:"w-full h-full bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm",children:l.jsx("div",{className:"text-8xl",children:""})})}),l.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Join Learn Flow"}),l.jsx("p",{className:"text-white/90 text-lg mb-8",children:"Start your English learning journey today"}),l.jsxs("div",{className:"space-y-4 text-white/80",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx(ka,{className:"w-5 h-5"}),l.jsx("span",{children:"Free to Start"})]}),l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx(C2,{className:"w-5 h-5"}),l.jsx("span",{children:"AI-Powered Learning"})]})]})]}),l.jsx("div",{className:"absolute top-20 left-10 w-6 h-6 bg-white/20 rounded-full animate-bounce",style:{animationDelay:"0s"}}),l.jsx("div",{className:"absolute top-32 right-16 w-4 h-4 bg-white/30 rounded-full animate-bounce",style:{animationDelay:"0.5s"}}),l.jsx("div",{className:"absolute bottom-32 left-16 w-8 h-8 bg-white/15 rounded-full animate-bounce",style:{animationDelay:"1s"}}),l.jsx("div",{className:"absolute bottom-20 right-10 w-5 h-5 bg-white/25 rounded-full animate-bounce",style:{animationDelay:"1.5s"}})]}),l.jsx("div",{className:"w-full lg:w-3/5 p-8 lg:p-12 flex flex-col justify-center",children:l.jsxs("div",{className:"max-w-md mx-auto w-full",children:[l.jsxs("div",{className:"lg:hidden text-center mb-8",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 text-purple-600 mb-4",children:[l.jsx(Hh,{className:"w-8 h-8"}),l.jsx("span",{className:"text-2xl font-bold",children:"Learn Flow"})]}),l.jsx("p",{className:"text-gray-600",children:"Start your English learning journey"})]}),l.jsx("form",{onSubmit:S,className:"register-form",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),l.jsxs("div",{className:"relative",children:[l.jsx(Es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"text",name:"firstName",value:u.firstName,onChange:_,className:"w-full pl-12 pr-4 py-3 border border-gray-300 text-black rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white",placeholder:"First name",required:!0,disabled:p})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),l.jsxs("div",{className:"relative",children:[l.jsx(Es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"text",name:"lastName",value:u.lastName,onChange:_,className:"w-full pl-12 pr-4 py-3 border border-gray-300 text-black rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white",placeholder:"Last name",required:!0,disabled:p})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(Oi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"email",name:"email",value:u.email,onChange:_,className:"w-full pl-12 pr-4 py-3 border border-gray-300 text-black rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white",placeholder:"Enter your email",required:!0,disabled:p})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(Nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:e?"text":"password",name:"password",value:u.password,onChange:_,className:"w-full pl-12 pr-12 py-3 border border-gray-300 text-black rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white",placeholder:"Create password (min. 6 characters)",required:!0,minLength:"6",disabled:p}),l.jsx("button",{type:"button",onClick:y,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",disabled:p,children:e?l.jsx(Ma,{className:"w-5 h-5"}):l.jsx(Va,{className:"w-5 h-5"})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(Nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:i?"text":"password",name:"confirmPassword",value:u.confirmPassword,onChange:_,className:"w-full pl-12 pr-12 py-3 border text-black border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white",placeholder:"Confirm your password",required:!0,disabled:p}),l.jsx("button",{type:"button",onClick:w,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",disabled:p,children:i?l.jsx(Ma,{className:"w-5 h-5"}):l.jsx(Va,{className:"w-5 h-5"})})]})]}),l.jsx("button",{type:"submit",disabled:p,className:"w-full bg-gradient-to-r from-purple-600 to-pink-500 text-white py-3 rounded-xl font-semibold text-lg hover:from-purple-700 hover:to-pink-600 transform hover:scale-[1.02] transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:p?l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Creating Account..."]}):"Create Account"})]})}),l.jsxs("div",{className:"mt-8 text-center",children:[l.jsxs("span",{className:"text-gray-600",children:["Already have an account?"," "]}),l.jsx("a",{href:"/Login",className:"text-purple-600 hover:text-purple-700 font-semibold transition-colors",children:"Sign in"})]})]})})]})]})},CO=()=>{const[n,e]=I.useState([]),[t,i]=I.useState(!0),[o,u]=I.useState(!1),[h,p]=I.useState(!1),[g,y]=I.useState(null),[w,_]=I.useState(!1),[S,M]=I.useState({title:"",description:"",status:"pendiente",language:"ingles",level:"principiante"}),D=qi(),K=[{value:"ingles",label:"Ingls",flag:""},{value:"frances",label:"Francs",flag:""},{value:"aleman",label:"Alemn",flag:""},{value:"italiano",label:"Italiano",flag:""},{value:"portugues",label:"Portugus",flag:""},{value:"chino",label:"Chino",flag:""},{value:"japones",label:"Japons",flag:""},{value:"coreano",label:"Coreano",flag:""},{value:"ruso",label:"Ruso",flag:""},{value:"arabe",label:"rabe",flag:""}],L=[{value:"principiante",label:"Principiante (A1-A2)",color:"bg-green-100 text-green-800"},{value:"intermedio",label:"Intermedio (B1-B2)",color:"bg-yellow-100 text-yellow-800"},{value:"avanzado",label:"Avanzado (C1-C2)",color:"bg-red-100 text-red-800"}],Z=async()=>{try{i(!0),console.log("Cargando lecciones desde Firebase...");const ce=await bf(il(Vt,"lecciones")),G=[];ce.forEach(le=>{G.push({id:le.id,...le.data()})}),G.sort((le,ge)=>{const ke=le.createdAt?.toDate()||new Date(0);return(ge.createdAt?.toDate()||new Date(0))-ke}),console.log("Lecciones cargadas:",G.length),e(G)}catch(ce){console.error("Error loading lessons:",ce),fe.fire("Error","No se pudieron cargar las lecciones","error")}finally{i(!1)}};I.useEffect(()=>{Z()},[]);const z=()=>{p(!1),y(null),M({title:"",description:"",status:"pendiente",language:"ingles",level:"principiante"}),u(!0)},F=ce=>{p(!0),y(ce),M({title:ce.title,description:ce.description,status:ce.status,language:ce.language,level:ce.level}),u(!0)},oe=()=>{u(!1),p(!1),y(null),M({title:"",description:"",status:"pendiente",language:"ingles",level:"principiante"})},se=ce=>{const{name:G,value:le}=ce.target;M(ge=>({...ge,[G]:le}))},ue=async ce=>{if(ce.preventDefault(),!S.title.trim())return fe.fire("Error","El ttulo es obligatorio","error");_(!0);try{if(h&&g){const G=mn(Vt,"lecciones",g.id);await js(G,{...S,updatedAt:In()}),e(n.map(le=>le.id===g.id?{...le,...S,updatedAt:new Date}:le)),fe.fire("xito!","Leccin actualizada correctamente","success")}else{const le={id:(await Ty(il(Vt,"lecciones"),{...S,createdAt:In(),updatedAt:In()})).id,...S,createdAt:new Date,updatedAt:new Date};e([le,...n]),fe.fire("xito!","Leccin creada correctamente","success")}oe()}catch(G){console.error("Error saving lesson:",G),fe.fire("Error",`No se pudo guardar la leccin: ${G.message}`,"error")}finally{_(!1)}},N=async(ce,G)=>{if((await fe.fire({title:"Ests seguro?",text:`Quieres eliminar la leccin "${G}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, eliminar",cancelButtonText:"Cancelar"})).isConfirmed)try{await Ey(mn(Vt,"lecciones",ce)),e(n.filter(ge=>ge.id!==ce)),fe.fire("Eliminada","Leccin eliminada exitosamente","success")}catch(ge){console.error("Error deleting lesson:",ge),fe.fire("Error","No se pudo eliminar la leccin","error")}},A=async(ce,G)=>{const ge={pendiente:"en-progreso","en-progreso":"completada",completada:"pendiente"}[G]||"pendiente";try{const ke=mn(Vt,"lecciones",ce);await js(ke,{status:ge,updatedAt:In()}),e(n.map(k=>k.id===ce?{...k,status:ge}:k)),fe.fire({icon:"success",title:"Estado actualizado",text:`Ahora est: ${O(ge)}`,timer:1500,showConfirmButton:!1})}catch(ke){console.error("Error updating status:",ke),fe.fire("Error","No se pudo actualizar el estado","error")}},C=ce=>{switch(ce){case"completada":return"bg-green-100 text-green-800 border-green-200";case"en-progreso":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-yellow-100 text-yellow-800 border-yellow-200"}},O=ce=>{switch(ce){case"completada":return"Dominada";case"en-progreso":return"Estudiando";default:return"Por Estudiar"}},P=ce=>{const G=L.find(le=>le.value===ce);return G?G.color:"bg-gray-100 text-gray-800"},B=ce=>{const G=K.find(le=>le.value===ce);return G?G.flag:""},R=ce=>{const G=K.find(le=>le.value===ce);return G?G.label:ce},at=()=>{D("/dashboard")};return l.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-indigo-600 via-gray-700 to-blue-400 overflow-y-auto",children:l.jsxs("div",{className:"w-4/5 h-full mx-auto my-[2%] p-5 md:p-6 lg:p-8 ",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:at,className:"bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white p-2 rounded-lg transition-all duration-200",children:l.jsx(qh,{className:"w-5 h-5"})}),l.jsxs("div",{className:"flex items-center gap-3 text-white",children:[l.jsx(gw,{className:"w-8 h-8"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Gestin de Lecciones"}),l.jsx("p",{className:"text-white/80",children:"Administra tu aprendizaje de idiomas"})]})]})]}),l.jsxs("div",{className:"flex items-center ml-4 gap-4",children:[l.jsxs("button",{onClick:z,className:"bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white px-4 py-2 rounded-lg transition-all duration-200 flex items-center gap-2",children:[l.jsx(mC,{className:"w-5 h-5"}),"Nueva Leccin"]}),l.jsxs("div",{className:"text-white text-right",children:[l.jsx("div",{className:"text-2xl text-center font-bold",children:n.length}),l.jsx("div",{className:"text-white/80 text-sm",children:"Total lecciones"})]})]})]}),l.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl p-6 mb-6 shadow-xl",children:l.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:n.filter(ce=>ce.status==="pendiente").length}),l.jsx("div",{className:"text-sm text-gray-600",children:"Por Estudiar"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-3xl font-bold text-blue-600",children:n.filter(ce=>ce.status==="en-progreso").length}),l.jsx("div",{className:"text-sm text-gray-600",children:"Estudiando"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-3xl font-bold text-green-600",children:n.filter(ce=>ce.status==="completada").length}),l.jsx("div",{className:"text-sm text-gray-600",children:"Dominadas"})]})]})}),l.jsx("div",{className:"mb-6",children:l.jsx("button",{onClick:Z,className:"bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white px-4 py-2 rounded-lg transition-all duration-200",children:"Actualizar Lista"})}),t?l.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl p-12 text-center shadow-xl",children:[l.jsx(gw,{className:"w-16 h-16 text-gray-400 mx-auto mb-4 animate-pulse"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"Cargando lecciones..."}),l.jsx("p",{className:"text-gray-500",children:"Por favor espera un momento"})]}):n.length===0?l.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl p-12 text-center shadow-xl",children:[l.jsx(Hh,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No hay lecciones"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"Crea tu primera leccin de idiomas para empezar"}),l.jsx("button",{onClick:z,className:"bg-gradient-to-r from-indigo-500 to-purple-500 text-white px-6 py-3 rounded-lg hover:from-indigo-600 hover:to-purple-600 transition-all duration-200",children:"Crear Primera Leccin"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(ce=>l.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[l.jsx("div",{className:"flex items-start justify-between mb-4",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:"text-2xl",children:B(ce.language)}),l.jsx("h3",{className:"text-lg font-bold text-gray-800",children:ce.title})]}),l.jsx("p",{className:"text-sm text-gray-600 mb-3",children:ce.description}),l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold border ${C(ce.status)}`,children:O(ce.status)}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${P(ce.level)}`,children:L.find(G=>G.value===ce.level)?.label.split(" ")[0]}),l.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-medium",children:R(ce.language)})]})]})}),l.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t border-gray-200",children:[l.jsxs("button",{onClick:()=>A(ce.id,ce.status),className:"flex-1 px-3 py-2 bg-indigo-100 text-white rounded-lg hover:bg-indigo-200 transition-all text-sm font-medium",children:[l.jsx(ka,{className:"w-4 h-4 inline mr-1"}),"Estado"]}),l.jsx("button",{onClick:()=>F(ce),className:"px-3 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-all",children:l.jsx(A2,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>N(ce.id,ce.title),className:"px-3 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-all",children:l.jsx(j2,{className:"w-4 h-4"})})]})]},ce.id))}),o&&l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:l.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:h?"Editar Leccin":"Nueva Leccin"}),l.jsx("button",{onClick:oe,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:w,children:l.jsx(jC,{className:"w-6 h-6"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ttulo de la leccin *"}),l.jsx("input",{type:"text",name:"title",value:S.title,onChange:se,className:"w-full text-black px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Ej: Vocabulario de viajes",required:!0,disabled:w})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripcin"}),l.jsx("textarea",{name:"description",value:S.description,onChange:se,rows:3,className:"w-full text-black px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Qu vas a estudiar en esta leccin?",disabled:w})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Idioma"}),l.jsx("select",{name:"language",value:S.language,onChange:se,className:"w-full text-black px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",disabled:w,children:K.map(ce=>l.jsxs("option",{value:ce.value,children:[ce.flag," ",ce.label]},ce.value))})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nivel"}),l.jsx("select",{name:"level",value:S.level,onChange:se,className:"w-full text-black px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",disabled:w,children:L.map(ce=>l.jsx("option",{value:ce.value,children:ce.label},ce.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado"}),l.jsxs("select",{name:"status",value:S.status,onChange:se,className:"w-full text-black px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",disabled:w,children:[l.jsx("option",{value:"pendiente",children:"Por Estudiar"}),l.jsx("option",{value:"en-progreso",children:"Estudiando"}),l.jsx("option",{value:"completada",children:"Dominada"})]})]})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:oe,className:"flex-1 text-white px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-medium",disabled:w,children:"Cancelar"}),l.jsx("button",{type:"button",onClick:ue,disabled:w,className:"flex-1 px-4 py-2 bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded-lg hover:from-indigo-600 hover:to-purple-600 transition-all duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:w?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Guardando..."]}):h?"Actualizar":"Crear"})]})]})]})})})]})})},jO=async n=>{try{await g_(Ft),fe.fire("Sesin cerrada","Hasta pronto ","success"),n("/login")}catch{fe.fire("Error","No se pudo cerrar sesin","error")}},RO=()=>{const n=qi(),[e,t]=I.useState(null),i=u=>{console.log(`Clicked on ${u} module`)},o=()=>{n("/profile")};return l.jsxs("div",{className:"fixed inset-0 bg-gradient-to-br from-purple-600 via-pink-500 to-orange-400 overflow-y-auto p-5",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[l.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-white/5 rounded-full blur-3xl"}),l.jsx("div",{className:"absolute bottom-32 right-40 w-40 h-40 bg-white/5 rounded-full blur-3xl"}),l.jsx("div",{className:"absolute top-1/2 left-1/2 w-24 h-24 bg-white/10 rounded-full blur-2xl"})]}),l.jsxs("div",{className:"relative mx-auto w-full max-w-5xl",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsxs("div",{className:"inline-flex items-center gap-3 text-white mb-4",children:[l.jsx(Hh,{className:"w-10 h-10"}),l.jsx("span",{className:"text-5xl font-bold",children:"Learn Flow Dashboard"})]}),l.jsx("p",{className:"text-white/90 text-xl",children:"Gestiona tu plataforma de aprendizaje"}),l.jsxs("div",{className:"mt-6 flex justify-center gap-4",children:[l.jsxs("button",{onClick:o,className:"inline-flex items-center gap-2 bg-purple-600 text-white px-5 py-2 rounded-lg hover:bg-purple-700 transition-all duration-200 transform hover:scale-105",children:[l.jsx(Es,{size:18}),"Mi Perfil"]}),l.jsxs("button",{onClick:()=>jO(n),className:"inline-flex items-center gap-2 bg-red-600 text-white px-5 py-2 rounded-lg hover:bg-red-700 transition-all duration-200 transform hover:scale-105",children:[l.jsx(N2,{size:18}),"Cerrar sesin"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto",children:[l.jsxs("div",{className:`group relative bg-white/90 backdrop-blur-sm rounded-3xl p-8 cursor-pointer transition-all duration-300 transform ${e==="usuarios"?"scale-105 bg-white/95":"hover:scale-102"} shadow-2xl`,onMouseEnter:()=>t("usuarios"),onMouseLeave:()=>t(null),onClick:()=>i("users"),children:[l.jsx("div",{className:"absolute top-6 right-6 w-3 h-3 bg-blue-400/40 rounded-full"}),l.jsx("div",{className:"absolute top-12 right-12 w-2 h-2 bg-purple-400/30 rounded-full"}),l.jsx("div",{className:"absolute bottom-8 left-8 w-4 h-4 bg-blue-300/20 rounded-full"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:`w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center mb-6 transition-all duration-300 ${e==="usuarios"?"rotate-3 scale-110":""}`,children:l.jsx(Vc,{className:"w-8 h-8 text-white"})}),l.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Usuarios"}),l.jsx("p",{className:"text-gray-600 text-lg mb-8 leading-relaxed",children:"Gestiona todos los usuarios de tu plataforma. Crea, edita y administra perfiles, roles y permisos de manera intuitiva."}),l.jsxs("div",{className:"space-y-3 mb-8",children:[l.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[l.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),l.jsx("span",{className:"text-sm",children:"Gestin completa de usuarios"})]}),l.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[l.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),l.jsx("span",{className:"text-sm",children:"Control de roles y permisos"})]})]}),l.jsx("div",{className:`transition-all duration-300 ${e==="usuarios"?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:l.jsx("a",{href:"/users",children:l.jsx("button",{className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-xl font-semibold hover:from-blue-600 hover:to-purple-700 transition-all duration-200 shadow-lg",children:"Gestionar Usuarios"})})})]})]}),l.jsxs("div",{className:`group relative bg-white/90 backdrop-blur-sm rounded-3xl p-8 cursor-pointer transition-all duration-300 transform ${e==="lessons"?"scale-105 bg-white/95":"hover:scale-102"} shadow-2xl`,onMouseEnter:()=>t("lessons"),onMouseLeave:()=>t(null),onClick:()=>i("lessons"),children:[l.jsx("div",{className:"absolute top-6 right-6 w-3 h-3 bg-emerald-400/40 rounded-full"}),l.jsx("div",{className:"absolute top-12 right-12 w-2 h-2 bg-teal-400/30 rounded-full"}),l.jsx("div",{className:"absolute bottom-8 left-8 w-4 h-4 bg-emerald-300/20 rounded-full"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:`w-16 h-16 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center mb-6 transition-all duration-300 ${e==="lessons"?"rotate-3 scale-110":""}`,children:l.jsx(T2,{className:"w-8 h-8 text-white"})}),l.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Lessons"}),l.jsx("p",{className:"text-gray-600 text-lg mb-8 leading-relaxed",children:"Administra el contenido educativo. Crea nuevas lecciones, organiza por categoras y gestiona el material de aprendizaje."}),l.jsxs("div",{className:"space-y-3 mb-8",children:[l.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[l.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),l.jsx("span",{className:"text-sm",children:"Contenido interactivo"})]}),l.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[l.jsx("div",{className:"w-2 h-2 bg-teal-500 rounded-full"}),l.jsx("span",{className:"text-sm",children:"Seguimiento de progreso"})]})]}),l.jsx("div",{className:`transition-all duration-300 ${e==="lessons"?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:l.jsx("a",{href:"/Lessons",children:l.jsx("button",{className:"w-full bg-gradient-to-r from-emerald-500 to-teal-600 text-white py-3 rounded-xl font-semibold hover:from-emerald-600 hover:to-teal-700 transition-all duration-200 shadow-lg",children:"Gestionar Lessons"})})})]})]}),l.jsxs("div",{className:`group relative bg-white/90 backdrop-blur-sm rounded-3xl p-8 cursor-pointer transition-all duration-300 transform ${e==="historial"?"scale-105 bg-white/95":"hover:scale-102"} shadow-2xl`,onMouseEnter:()=>t("historial"),onMouseLeave:()=>t(null),onClick:()=>n("/session"),children:[l.jsx("div",{className:"absolute top-6 right-6 w-3 h-3 bg-orange-400/40 rounded-full"}),l.jsx("div",{className:"absolute top-12 right-12 w-2 h-2 bg-red-400/30 rounded-full"}),l.jsx("div",{className:"absolute bottom-8 left-8 w-4 h-4 bg-orange-300/20 rounded-full"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:`w-16 h-16 bg-gradient-to-br from-orange-500 to-red-600 rounded-2xl flex items-center justify-center mb-6 transition-all duration-300 ${e==="historial"?"rotate-3 scale-110":""}`,children:l.jsx(Xp,{className:"w-8 h-8 text-white"})}),l.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Historial"}),l.jsx("p",{className:"text-gray-600 text-lg mb-8 leading-relaxed",children:"Monitorea todos los accesos y sesiones del sistema en tiempo real. Control completo de la actividad de usuarios."}),l.jsxs("div",{className:"space-y-3 mb-8",children:[l.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[l.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),l.jsx("span",{className:"text-sm",children:"Seguimiento de sesiones"})]}),l.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[l.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),l.jsx("span",{className:"text-sm",children:"Anlisis de actividad"})]})]}),l.jsx("div",{className:`transition-all duration-300 ${e==="historial"?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:l.jsx("button",{className:"w-full bg-gradient-to-r from-orange-500 to-red-600 text-white py-3 rounded-xl font-semibold hover:from-orange-600 hover:to-red-700 transition-all duration-200 shadow-lg",children:"Ver Historial"})})]})]})]}),l.jsx("div",{className:"text-center mt-8",children:l.jsx("p",{className:"text-white/80",children:"Haz clic en cualquier mdulo para acceder a sus funcionalidades"})})]})]})},IO=()=>{const[n,e]=I.useState([]),[t,i]=I.useState(!0),[o,u]=I.useState(""),[h,p]=I.useState("all"),[g,y]=I.useState("all"),[w,_]=I.useState(!1),[S,M]=I.useState(!1),[D,K]=I.useState(!1),[L,Z]=I.useState(!1),[z,F]=I.useState(!1),[oe,se]=I.useState(!1),[ue,N]=I.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",role:"usuario"}),[A,C]=I.useState({id:"",firstName:"",lastName:"",email:"",role:"usuario",estado:"activo"}),O=qi(),P=()=>{O("/dashboard")},B=async ne=>{ne.preventDefault();const{firstName:De,lastName:_e,email:$e,password:Rt,confirmPassword:Nn,role:Sn}=ue;if(!De||!_e||!$e||!Rt||!Nn)return fe.fire("Error","Todos los campos son obligatorios","error");if(Rt.length<6)return fe.fire("Error","La contrasea debe tener al menos 6 caracteres","error");if(Rt!==Nn)return fe.fire("Error","Las contraseas no coinciden","error");if(!(Sn==="admin"&&!(await fe.fire({title:"Crear usuario administrador?",text:"Esta accin crear un usuario con privilegios de administrador",icon:"question",showCancelButton:!0,confirmButtonText:"S, crear admin",cancelButtonText:"Cancelar"})).isConfirmed)){K(!0);try{const It=$e.toLowerCase(),Qn=(await p_(Ft,It,Rt)).user;await wf(mn(Vt,"usuarios",Qn.uid),{uid:Qn.uid,firstName:De,lastName:_e,email:It,estado:"activo",rol:Sn,creado:new Date,metodo:"password",creadoPor:"admin-interface"});const Ki={id:Qn.uid,uid:Qn.uid,firstName:De,lastName:_e,email:It,estado:"activo",rol:Sn,creado:new Date,metodo:"password"};e([Ki,...n]),fe.fire("xito!",`Usuario ${Sn} creado exitosamente`,"success"),N({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",role:"usuario"}),_(!1)}catch(It){console.error("Error creando usuario:",It),It.code==="auth/email-already-in-use"?fe.fire("Error","Este correo electrnico ya est registrado","error"):It.code==="auth/weak-password"?fe.fire("Error","La contrasea es muy dbil","error"):It.code==="auth/invalid-email"?fe.fire("Error","Correo electrnico invlido","error"):fe.fire("Error",`No se pudo crear el usuario: ${It.message}`,"error")}finally{K(!1)}}},R=ne=>{C({id:ne.id,firstName:ne.firstName||"",lastName:ne.lastName||"",email:ne.email||"",role:ne.rol||"usuario",estado:ne.estado||"activo"}),M(!0)},at=async ne=>{ne.preventDefault();const{id:De,firstName:_e,lastName:$e,email:Rt,role:Nn,estado:Sn}=A;if(!_e||!$e||!Rt)return fe.fire("Error","Nombre, apellido y email son obligatorios","error");const It=n.find(yn=>yn.id===De);if(!(Nn==="admin"&&It?.rol!=="admin"&&!(await fe.fire({title:"Cambiar a administrador?",text:"Esta accin dar privilegios de administrador a este usuario",icon:"question",showCancelButton:!0,confirmButtonText:"S, cambiar rol",cancelButtonText:"Cancelar"})).isConfirmed)){Z(!0);try{const yn=mn(Vt,"usuarios",De);await js(yn,{firstName:_e,lastName:$e,email:Rt.toLowerCase(),rol:Nn,estado:Sn,actualizado:new Date}),e(n.map(Qn=>Qn.id===De?{...Qn,firstName:_e,lastName:$e,email:Rt.toLowerCase(),rol:Nn,estado:Sn}:Qn)),fe.fire({title:"Actualizado!",text:"Usuario actualizado exitosamente",icon:"success",timer:1500,showConfirmButton:!1}),M(!1),C({id:"",firstName:"",lastName:"",email:"",role:"usuario",estado:"activo"})}catch(yn){console.error("Error actualizando usuario:",yn),fe.fire("Error",`No se pudo actualizar el usuario: ${yn.message}`,"error")}finally{Z(!1)}}},ce=ne=>{const{name:De,value:_e}=ne.target;N($e=>({...$e,[De]:_e}))},G=ne=>{const{name:De,value:_e}=ne.target;C($e=>({...$e,[De]:_e}))},le=()=>{_(!1),N({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",role:"usuario"}),F(!1),se(!1)},ge=()=>{M(!1),C({id:"",firstName:"",lastName:"",email:"",role:"usuario",estado:"activo"})},ke=async()=>{try{i(!0);const ne=await bf(il(Vt,"usuarios")),De=[];ne.forEach(_e=>{De.push({id:_e.id,..._e.data()})}),De.sort((_e,$e)=>{const Rt=_e.creado?.toDate()||new Date(0);return($e.creado?.toDate()||new Date(0))-Rt}),e(De)}catch(ne){console.error("Error loading users:",ne),fe.fire("Error",`No se pudieron cargar los usuarios: ${ne.message}`,"error")}finally{i(!1)}};I.useEffect(()=>{const ne=setTimeout(()=>{i(!1),fe.fire("Error","La carga de usuarios tard demasiado. Verifica tu conexin.","warning")},1e4);ke().finally(()=>{clearTimeout(ne)})},[]);const k=n.filter(ne=>{const De=ne.firstName?.toLowerCase().includes(o.toLowerCase())||ne.lastName?.toLowerCase().includes(o.toLowerCase())||ne.email?.toLowerCase().includes(o.toLowerCase()),_e=h==="all"||ne.rol===h,$e=g==="all"||ne.estado===g;return De&&_e&&$e}),ae=async(ne,De)=>{try{const _e=De==="activo"?"inactivo":"activo",$e=mn(Vt,"usuarios",ne);await js($e,{estado:_e}),e(n.map(Rt=>Rt.id===ne?{...Rt,estado:_e}:Rt)),fe.fire("Actualizado",`Usuario ${_e==="activo"?"activado":"desactivado"} exitosamente`,"success")}catch(_e){console.error("Error updating user status:",_e),fe.fire("Error","No se pudo actualizar el estado del usuario","error")}},pe=async(ne,De)=>{if((await fe.fire({title:"Ests seguro?",text:`Quieres eliminar al usuario ${De}?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, eliminar",cancelButtonText:"Cancelar"})).isConfirmed)try{await Ey(mn(Vt,"usuarios",ne)),e(n.filter($e=>$e.id!==ne)),fe.fire("Eliminado","Usuario eliminado exitosamente","success")}catch($e){console.error("Error deleting user:",$e),fe.fire("Error","No se pudo eliminar el usuario","error")}},he=ne=>{switch(ne){case"admin":return l.jsx(XA,{className:"w-4 h-4"});case"moderador":return l.jsx(Mc,{className:"w-4 h-4"});default:return l.jsx(Es,{className:"w-4 h-4"})}},be=ne=>{switch(ne){case"admin":return"bg-purple-100 text-purple-800 border-purple-200";case"moderador":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},Me=(ne,De)=>`${ne?.charAt(0)||""}${De?.charAt(0)||""}`.toUpperCase();return l.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-green-800 via-emerald-800 to-green-400 overflow-y-auto p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:P,className:"bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white p-2 rounded-lg transition-all duration-200",children:l.jsx(qh,{className:"w-5 h-5"})}),l.jsxs("div",{className:"flex items-center gap-3 text-white",children:[l.jsx(Vc,{className:"w-8 h-8"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold",children:"Gestin de Usuarios"}),l.jsx("p",{className:"text-white/80",children:"Administra todos los usuarios de la plataforma"})]})]})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("button",{onClick:()=>_(!0),className:"bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white px-4 py-2 rounded-lg transition-all duration-200 flex items-center gap-2",children:[l.jsx(EC,{className:"w-5 h-5"}),"Crear Usuario"]}),l.jsxs("div",{className:"text-white text-right",children:[l.jsx("div",{className:"text-2xl font-bold",children:n.length}),l.jsx("div",{className:"text-white/80 text-sm",children:"Total usuarios"})]})]})]}),l.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl p-6 mb-6 shadow-xl",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(S2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"Buscar usuarios...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-black",value:o,onChange:ne=>u(ne.target.value)})]}),l.jsxs("select",{className:"px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-black",value:h,onChange:ne=>p(ne.target.value),children:[l.jsx("option",{value:"all",children:"Todos los roles"}),l.jsx("option",{value:"usuario",children:"Usuario"}),l.jsx("option",{value:"admin",children:"Admin"}),l.jsx("option",{value:"moderador",children:"Moderador"})]}),l.jsxs("select",{className:"px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-black",value:g,onChange:ne=>y(ne.target.value),children:[l.jsx("option",{value:"all",children:"Todos los estados"}),l.jsx("option",{value:"activo",children:"Activo"}),l.jsx("option",{value:"inactivo",children:"Inactivo"})]}),l.jsx("button",{onClick:ke,className:"bg-gradient-to-r from-green-700 to-green-800 text-white px-4 py-2 rounded-lg transition-all duration-200",children:"Actualizar"})]})}),t?l.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl p-12 text-center shadow-xl",children:[l.jsx(Vc,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"Cargando usuarios..."}),l.jsx("p",{className:"text-gray-500",children:"Por favor espera un momento"})]}):k.length===0?l.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl p-12 text-center shadow-xl",children:[l.jsx(Vc,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No se encontraron usuarios"}),l.jsx("p",{className:"text-gray-500",children:"Intenta cambiar los filtros de bsqueda"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(ne=>l.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl p-6 shadow-xl hover:shadow-2xl transition-all duration-300",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-700 to-green-800 rounded-full flex items-center justify-center text-white font-semibold",children:Me(ne.firstName,ne.lastName)}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("h3",{className:"font-semibold text-gray-800",children:[ne.firstName," ",ne.lastName]}),l.jsx("p",{className:"text-sm text-gray-600",children:ne.email})]})]}),l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold border ${ne.estado==="activo"?"bg-green-100 text-green-800 border-green-200":"bg-red-100 text-red-800 border-red-200"}`,children:ne.estado==="activo"?"Activo":"Inactivo"}),l.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-semibold border flex items-center gap-1 ${be(ne.rol)}`,children:[he(ne.rol),ne.rol?.charAt(0).toUpperCase()+ne.rol?.slice(1)]})]}),l.jsxs("div",{className:"space-y-2 mb-4 text-sm text-gray-600",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Creado:"})," "," ",ne.creado?.toDate()?.toLocaleDateString()||"N/A"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium",children:"Mtodo:"})," ",ne.metodo||"N/A"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>ae(ne.id,ne.estado),className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${ne.estado==="activo"?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:ne.estado==="activo"?l.jsxs(l.Fragment,{children:[l.jsx(NC,{className:"w-4 h-4 inline mr-1"}),"Desactivar"]}):l.jsxs(l.Fragment,{children:[l.jsx(xC,{className:"w-4 h-4 inline mr-1"}),"Activar"]})}),l.jsx("button",{onClick:()=>R(ne),className:"px-3 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-all duration-200",title:"Editar usuario",children:l.jsx(A2,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>pe(ne.id,ne.email),className:"px-3 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-all duration-200",title:"Eliminar usuario",children:l.jsx(j2,{className:"w-4 h-4"})})]})]},ne.id))}),w&&l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:l.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Crear Nuevo Usuario"}),l.jsx("button",{onClick:le,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:D,children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsxs("form",{onSubmit:B,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rol"}),l.jsxs("select",{name:"role",value:ue.role,onChange:ce,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-800",required:!0,disabled:D,children:[l.jsx("option",{value:"usuario",children:"Usuario"}),l.jsx("option",{value:"moderador",children:"Moderador"}),l.jsx("option",{value:"admin",children:"Administrador"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre"}),l.jsxs("div",{className:"relative",children:[l.jsx(Es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx("input",{type:"text",name:"firstName",value:ue.firstName,onChange:ce,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-800",placeholder:"Nombre",required:!0,disabled:D})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Apellido"}),l.jsxs("div",{className:"relative",children:[l.jsx(Es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx("input",{type:"text",name:"lastName",value:ue.lastName,onChange:ce,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-800",placeholder:"Apellido",required:!0,disabled:D})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(Oi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx("input",{type:"email",name:"email",value:ue.email,onChange:ce,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-800",placeholder:"correo@ejemplo.com",required:!0,disabled:D})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),l.jsxs("div",{className:"relative",children:[l.jsx(Nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx("input",{type:z?"text":"password",name:"password",value:ue.password,onChange:ce,className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-800",placeholder:"Mnimo 6 caracteres",required:!0,minLength:"6",disabled:D}),l.jsx("button",{type:"button",onClick:()=>F(!z),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:D,children:z?l.jsx(Ma,{className:"w-4 h-4"}):l.jsx(Va,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar Contrasea"}),l.jsxs("div",{className:"relative",children:[l.jsx(Nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx("input",{type:oe?"text":"password",name:"confirmPassword",value:ue.confirmPassword,onChange:ce,className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-800",placeholder:"Confirmar contrasea",required:!0,disabled:D}),l.jsx("button",{type:"button",onClick:()=>se(!oe),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:D,children:oe?l.jsx(Ma,{className:"w-4 h-4"}):l.jsx(Va,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:le,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",disabled:D,children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:D,className:"flex-1 px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:D?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creando..."]}):"Crear Usuario"})]})]})]})})}),S&&l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:l.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Editar Usuario"}),l.jsx("button",{onClick:ge,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:L,children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsxs("form",{onSubmit:at,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado"}),l.jsxs("select",{name:"estado",value:A.estado,onChange:G,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-800",required:!0,disabled:L,children:[l.jsx("option",{value:"activo",children:"Activo"}),l.jsx("option",{value:"inactivo",children:"Inactivo"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rol"}),l.jsxs("select",{name:"role",value:A.role,onChange:G,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-800",required:!0,disabled:L,children:[l.jsx("option",{value:"usuario",children:"Usuario"}),l.jsx("option",{value:"moderador",children:"Moderador"}),l.jsx("option",{value:"admin",children:"Administrador"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre"}),l.jsxs("div",{className:"relative",children:[l.jsx(Es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx("input",{type:"text",name:"firstName",value:A.firstName,onChange:G,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-800",placeholder:"Nombre",required:!0,disabled:L})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Apellido"}),l.jsxs("div",{className:"relative",children:[l.jsx(Es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx("input",{type:"text",name:"lastName",value:A.lastName,onChange:G,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-800",placeholder:"Apellido",required:!0,disabled:L})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(Oi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx("input",{type:"email",name:"email",value:A.email,onChange:G,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-800",placeholder:"correo@ejemplo.com",required:!0,disabled:L})]})]}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[l.jsx("strong",{children:"Nota:"}),' Por razones de seguridad, el cambio de contrasea debe ser realizado por el usuario mediante la opcin "Olvid mi contrasea" en el login.']})}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:ge,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",disabled:L,children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:L,className:"flex-1 px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:L?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Actualizando..."]}):"Guardar Cambios"})]})]})]})})})]})})},i2=()=>{const[n,e]=I.useState(!1),[t,i]=I.useState(""),[o,u]=I.useState(""),[h,p]=I.useState(!1),g=qi(),y=()=>e(!n),w=async(z,F)=>{try{const oe={userId:z.uid,email:z.email,displayName:z.displayName||"Sin nombre",photoURL:z.photoURL||null,provider:F.providerId,loginTime:In(),userAgent:navigator.userAgent,platform:navigator.platform};await Ty(il(Vt,"session_logs"),oe),console.log("Sesin registrada correctamente")}catch(oe){console.error("Error al registrar sesin:",oe)}},_=async(z,F)=>{const oe=mn(Vt,"usuarios",z.uid),se=await _y(oe),ue=F.providerId;se.exists()?(se.data().providers||[]).includes(ue)?await js(oe,{authProvider:ue,lastLogin:In(),updatedAt:In()}):await js(oe,{providers:Yo(ue),authProvider:ue,lastLogin:In(),updatedAt:In()}):await wf(oe,{uid:z.uid,email:z.email,displayName:z.displayName||"Sin nombre",photoURL:z.photoURL||null,lastLogin:In(),isOnline:!0,providers:[ue],authProvider:ue,updatedAt:In(),createdAt:In()}),await w(z,F)},S=async(z,F,oe)=>{const{value:se}=await fe.fire({title:"Cuenta existente",text:`Este email ya est registrado. Introduce tu contrasea para vincular ${oe} a tu cuenta.`,input:"password",inputPlaceholder:"Tu contrasea actual",showCancelButton:!0,confirmButtonText:"Vincular cuenta",cancelButtonText:"Cancelar",inputValidator:ue=>{if(!ue)return"La contrasea es requerida"}});if(!se)return null;try{const N=(await Uw(Ft,z,se)).user;return await uI(N,F),await js(mn(Vt,"usuarios",N.uid),{providers:Yo(F.providerId),updatedAt:In()}),N}catch(ue){return ue.code==="auth/wrong-password"?fe.fire("Error","Contrasea incorrecta","error"):fe.fire("Error",ue.message,"error"),null}},M=async(z,F)=>{p(!0);try{const oe=await OI(Ft,z),se=oe.user,ue=se.email;if(!ue){const{value:A}=await fe.fire({title:"Email requerido",input:"email",inputPlaceholder:"tu@email.com",showCancelButton:!0,confirmButtonText:"Continuar",cancelButtonText:"Cancelar"});if(!A){p(!1);return}}const N=F==="Google"?Ks.credentialFromResult(oe):F==="GitHub"?ls.credentialFromResult(oe):Ts.credentialFromResult(oe);try{const A=await hI(Ft,ue);if(A.includes("password")&&F!=="password")if(await S(ue,N,F)){fe.fire(" xito",`${F} vinculado a tu cuenta`,"success"),g("/dashboard");return}else{p(!1);return}if(A.length>0&&!A.includes(N.providerId)){const{isConfirmed:C}=await fe.fire({icon:"warning",title:"Conflicto de cuentas",text:"Este email ya est registrado con otro mtodo. Quieres iniciar sesin con ese mtodo en su lugar?",showCancelButton:!0,confirmButtonText:"S, usar mtodo existente",cancelButtonText:"Cancelar"});C&&fe.fire("Info","Por favor usa el mtodo con el que te registraste originalmente","info"),p(!1);return}}catch{console.log("Email no registrado previamente")}await _(se,se.providerData[0]),fe.fire("Bienvenido!",`Has iniciado sesin con ${F}`,"success"),g("/dashboard")}catch(oe){if(console.error("Error en login social:",oe),oe.code==="auth/popup-closed-by-user")return;oe.code==="auth/account-exists-with-different-credential"?fe.fire({icon:"warning",title:"Cuenta existente",text:"Este email ya est registrado con otro mtodo de autenticacin. Por favor inicia sesin con el mtodo original y luego vincula este proveedor desde tu perfil.",confirmButtonText:"Entendido"}):oe.code==="auth/email-already-in-use"?fe.fire("Error","Este email ya est en uso con otra cuenta","error"):fe.fire("Error",oe.message,"error")}finally{p(!1)}},D=async z=>{if(z.preventDefault(),!t||!o)return fe.fire("Error","Completa todos los campos","error");p(!0);try{const oe=(await Uw(Ft,t.toLowerCase(),o)).user;await _(oe,oe.providerData[0]),fe.fire("Bienvenido!","Has iniciado sesin","success"),g("/dashboard")}catch(F){const oe={"auth/user-not-found":"No existe una cuenta con este correo","auth/wrong-password":"Contrasea incorrecta","auth/invalid-email":"Correo invlido","auth/user-disabled":"Cuenta deshabilitada","auth/too-many-requests":"Demasiados intentos fallidos","auth/network-request-failed":"Error de conexin","auth/invalid-credential":"Credenciales invlidas"};fe.fire("Error",oe[F.code]||F.message,"error")}finally{p(!1)}},K=()=>M(Ny,"Google"),L=()=>{const z=new Ts;z.setCustomParameters({auth_type:"reauthenticate",display:"popup"}),M(z,"Facebook")},Z=()=>{const z=new ls;z.addScope("user:email"),z.setCustomParameters({allow_signup:"true",prompt:"select_account",login:"",auth_type:"reauthenticate"}),M(z,"GitHub")};return l.jsxs("div",{className:"fixed inset-0 bg-gradient-to-br from-purple-600 via-pink-500 to-orange-400 flex overflow-y-auto",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[l.jsx("div",{className:"absolute top-20 left-20 w-20 h-20 bg-white/10 rounded-full blur-xl"}),l.jsx("div",{className:"absolute top-40 right-32 w-32 h-32 bg-white/5 rounded-full blur-2xl"}),l.jsx("div",{className:"absolute bottom-32 left-40 w-24 h-24 bg-white/10 rounded-full blur-xl"}),l.jsx("div",{className:"absolute bottom-20 right-20 w-16 h-16 bg-white/15 rounded-full blur-lg"})]}),l.jsxs("div",{className:"relative mx-auto w-full flex bg-white/95 backdrop-blur-sm shadow-2xl overflow-hidden",children:[l.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-purple-600 to-pink-500 p-12 flex-col justify-center items-center relative",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-600/90 to-pink-500/90"}),l.jsxs("div",{className:"relative z-10 text-center",children:[l.jsx("div",{className:"w-48 h-48 mx-auto mb-8 relative",children:l.jsx("div",{className:"w-full h-full bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm",children:l.jsx("div",{className:"text-8xl",children:""})})}),l.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Learn Flow"}),l.jsx("p",{className:"text-white/90 text-lg mb-8",children:"Master English with AI-powered learning"}),l.jsxs("div",{className:"space-y-4 text-white/80",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx(T2,{className:"w-5 h-5"}),l.jsx("span",{children:"Interactive Lessons"})]}),l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx(C2,{className:"w-5 h-5"}),l.jsx("span",{children:"Personalized Progress"})]})]})]})]}),l.jsx("div",{className:"w-full lg:w-1/2 p-8 lg:p-12 flex flex-col justify-center",children:l.jsxs("div",{className:"max-w-md mx-auto w-full",children:[l.jsxs("div",{className:"lg:hidden text-center mb-8",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 text-purple-600 mb-4",children:[l.jsx(Hh,{className:"w-8 h-8"}),l.jsx("span",{className:"text-2xl font-bold",children:"Learn Flow"})]}),l.jsx("p",{className:"text-gray-600",children:"Master English with AI-powered learning"})]}),l.jsxs("form",{onSubmit:D,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(Oi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"email",value:t,onChange:z=>i(z.target.value),className:"w-full pl-12 pr-4 py-3 border text-black border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white",placeholder:"Enter your email",required:!0,disabled:h})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(Nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:n?"text":"password",value:o,onChange:z=>u(z.target.value),className:"w-full pl-12 pr-12 py-3 border text-black border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white",placeholder:"Enter your password",required:!0,disabled:h}),l.jsx("button",{type:"button",onClick:y,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",disabled:h,children:n?l.jsx(Ma,{className:"w-5 h-5"}):l.jsx(Va,{className:"w-5 h-5"})})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500",disabled:h}),l.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Remember me"})]}),l.jsx(ch,{to:"/ForgotPassword",className:"text-sm text-purple-600 hover:text-purple-700 transition-colors",children:"Forgot password?"})]}),l.jsx("button",{type:"submit",disabled:h,className:"w-full bg-gradient-to-r from-purple-600 to-pink-500 text-white py-3 rounded-xl font-semibold text-lg hover:from-purple-700 hover:to-pink-600 transform hover:scale-[1.02] transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:h?l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Signing In..."]}):"Sign In"})]}),l.jsxs("div",{className:"mt-8",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-gray-300"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),l.jsxs("div",{className:"mt-6 grid grid-cols-3 gap-4",children:[l.jsx("button",{onClick:K,disabled:h,className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Google",children:l.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l.jsx("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})}),l.jsx("button",{onClick:L,disabled:h,className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Facebook",children:l.jsx("svg",{className:"w-5 h-5",fill:"#1877f2",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),l.jsx("button",{onClick:Z,disabled:h,className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed hover:border-gray-400",title:"GitHub",children:l.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})})})]})]}),l.jsxs("div",{className:"mt-8 text-center",children:[l.jsx("span",{className:"text-gray-600",children:"Don't have an account? "}),l.jsx(ch,{to:"/register",className:"text-purple-600 hover:text-purple-700 font-semibold transition-colors",children:"Register"})]})]})})]})]})},kO=()=>{const[n,e]=I.useState(""),[t,i]=I.useState(!1),[o,u]=I.useState(!1),h=async g=>{if(g.preventDefault(),!n.trim()){alert("Por favor ingresa tu correo electrnico");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)){alert("Por favor ingresa un correo electrnico vlido");return}i(!0);try{await new Promise(w=>setTimeout(w,1500)),u(!0),console.log("Email de recuperacin enviado a:",n)}catch(w){console.error("Error:",w),w.code==="auth/user-not-found"?alert("No existe una cuenta con este correo electrnico"):w.code==="auth/invalid-email"?alert("Correo electrnico invlido"):alert("Error al enviar el correo. Por favor intenta de nuevo.")}finally{i(!1)}},p=()=>{window.history.back()};return o?l.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-blue-600 via-purple-500 to-pink-500 flex items-center justify-center p-6",children:l.jsx("div",{className:"bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx(Oi,{className:"w-10 h-10 text-green-600"})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Correo Enviado!"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Hemos enviado un enlace de recuperacin a:"}),l.jsx("p",{className:"text-lg font-semibold text-gray-800 mb-6",children:n}),l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 text-left",children:[l.jsx("p",{className:"text-sm text-gray-700 mb-2",children:l.jsx("strong",{children:"Instrucciones:"})}),l.jsxs("ol",{className:"text-sm text-gray-600 space-y-1 list-decimal list-inside",children:[l.jsx("li",{children:"Revisa tu bandeja de entrada"}),l.jsx("li",{children:"Haz clic en el enlace del correo"}),l.jsx("li",{children:"Crea tu nueva contrasea"}),l.jsx("li",{children:"Inicia sesin con tu nueva contrasea"})]})]}),l.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"No recibes el correo? Revisa tu carpeta de spam o correo no deseado."}),l.jsx("button",{onClick:p,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 text-white py-3 rounded-xl font-semibold hover:from-blue-600 hover:to-purple-600 transition-all duration-200 shadow-lg",children:"Volver al inicio"})]})})}):l.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-blue-600 via-purple-500 to-pink-500 flex items-center justify-center p-6",children:l.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 w-2/3 ",children:[l.jsxs("button",{onClick:p,className:"flex items-center gap-2 text-white hover:text-gray-800 mb-6 transition-colors",children:[l.jsx(qh,{className:"w-5 h-5"}),l.jsx("span",{children:"Volver"})]}),l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Nr,{className:"w-10 h-10 text-blue-600"})}),l.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Olvidaste tu contrasea?"}),l.jsx("p",{className:"text-gray-600",children:"No te preocupes, te enviaremos un enlace para recuperarla"})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),l.jsxs("div",{className:"relative",children:[l.jsx(Oi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-black w-5 h-5"}),l.jsx("input",{type:"email",value:n,onChange:g=>e(g.target.value),placeholder:"tucorreo@ejemplo.com",className:"w-full pl-11 text-black pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",disabled:t,autoFocus:!0})]})]}),l.jsx("button",{onClick:h,disabled:t,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 text-white py-3 rounded-xl font-semibold hover:from-blue-600 hover:to-purple-600 transition-all duration-200 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:t?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Enviando..."]}):"Enviar enlace de recuperacin"}),l.jsx("div",{className:"text-center",children:l.jsx("button",{onClick:p,className:"text-blue-600 hover:text-blue-700 font-medium transition-colors",children:"Regresar al inicio de sesin"})})]}),l.jsx("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:l.jsx("p",{className:"text-xs text-gray-600 text-center",children:"Por seguridad, el enlace de recuperacin expirar en 1 hora."})})]})})},DO=()=>{const[n,e]=I.useState(""),[t,i]=I.useState(""),[o,u]=I.useState(!1),[h,p]=I.useState(!1),[g,y]=I.useState(!1),[w,_]=I.useState(!1),[S,M]=I.useState(""),[D,K]=I.useState(!0),[L,Z]=I.useState(!1),[z,F]=I.useState({length:!1,uppercase:!1,lowercase:!1,number:!1});I.useEffect(()=>{const A=new URLSearchParams(window.location.search).get("oobCode");A?(M(A),oe()):(K(!1),Z(!1))},[]),I.useEffect(()=>{F({length:n.length>=8,uppercase:/[A-Z]/.test(n),lowercase:/[a-z]/.test(n),number:/[0-9]/.test(n)})},[n]);const oe=async N=>{try{await new Promise(A=>setTimeout(A,1e3)),Z(!0)}catch(A){console.error("Error validando cdigo:",A),Z(!1)}finally{K(!1)}},se=async N=>{if(N.preventDefault(),!n.trim()||!t.trim()){alert("Por favor completa todos los campos");return}if(n.length<8){alert("La contrasea debe tener al menos 8 caracteres");return}if(n!==t){alert("Las contraseas no coinciden");return}if(!Object.values(z).every(C=>C)){alert("La contrasea debe cumplir con todos los requisitos de seguridad");return}y(!0);try{await new Promise(C=>setTimeout(C,1500)),_(!0),console.log("Contrasea actualizada exitosamente")}catch(C){console.error("Error:",C),C.code==="auth/expired-action-code"?alert("El enlace ha expirado. Solicita uno nuevo."):C.code==="auth/invalid-action-code"?alert("El enlace es invlido. Solicita uno nuevo."):C.code==="auth/weak-password"?alert("La contrasea es muy dbil. Usa una contrasea ms segura."):alert("Error al restablecer la contrasea. Intenta de nuevo.")}finally{y(!1)}},ue=()=>{window.location.href="/"};return D?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-600 via-purple-500 to-pink-500 flex items-center justify-center p-6",children:l.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-indigo-600 mx-auto mb-4"}),l.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Validando enlace..."}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Por favor espera"})]})}):L?w?l.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-indigo-600 via-purple-500 to-pink-500 flex items-center justify-center p-6",children:l.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md text-center",children:[l.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx(ka,{className:"w-10 h-10 text-green-600"})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Contrasea Actualizada!"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Tu contrasea ha sido restablecida exitosamente. Ahora puedes iniciar sesin con tu nueva contrasea."}),l.jsx("button",{onClick:ue,className:"w-full bg-gradient-to-r from-indigo-500 to-purple-500 text-white py-3 rounded-xl font-semibold hover:from-indigo-600 hover:to-purple-600 transition-all duration-200 shadow-lg",children:"Ir a Iniciar Sesin"})]})}):l.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-indigo-600 via-purple-500 to-pink-500 flex items-center justify-center p-6",children:l.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"w-20 h-20 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Mc,{className:"w-10 h-10 text-indigo-600"})}),l.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Restablecer Contrasea"}),l.jsx("p",{className:"text-gray-600",children:"Crea una contrasea nueva y segura"})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nueva Contrasea"}),l.jsxs("div",{className:"relative",children:[l.jsx(Nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:o?"text":"password",value:n,onChange:N=>e(N.target.value),placeholder:"Mnimo 8 caracteres",className:"w-full pl-11 text-black pr-11 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",disabled:g}),l.jsx("button",{type:"button",onClick:()=>u(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o?l.jsx(Ma,{className:"w-5 h-5"}):l.jsx(Va,{className:"w-5 h-5"})})]})]}),n&&l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Requisitos de seguridad:"}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:`flex items-center gap-2 text-sm ${z.length?"text-green-600":"text-gray-500"}`,children:[l.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center ${z.length?"bg-green-100":"bg-gray-200"}`,children:z.length&&l.jsx(ka,{className:"w-3 h-3"})}),"Mnimo 8 caracteres"]}),l.jsxs("div",{className:`flex items-center gap-2 text-sm ${z.uppercase?"text-green-600":"text-gray-500"}`,children:[l.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center ${z.uppercase?"bg-green-100":"bg-gray-200"}`,children:z.uppercase&&l.jsx(ka,{className:"w-3 h-3"})}),"Una letra mayscula"]}),l.jsxs("div",{className:`flex items-center gap-2 text-sm ${z.lowercase?"text-green-600":"text-gray-500"}`,children:[l.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center ${z.lowercase?"bg-green-100":"bg-gray-200"}`,children:z.lowercase&&l.jsx(ka,{className:"w-3 h-3"})}),"Una letra minscula"]}),l.jsxs("div",{className:`flex items-center gap-2 text-sm ${z.number?"text-green-600":"text-gray-500"}`,children:[l.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center ${z.number?"bg-green-100":"bg-gray-200"}`,children:z.number&&l.jsx(ka,{className:"w-3 h-3"})}),"Un nmero"]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar Contrasea"}),l.jsxs("div",{className:"relative",children:[l.jsx(Nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:h?"text":"password",value:t,onChange:N=>i(N.target.value),placeholder:"Repite tu contrasea",className:"w-full text-black pl-11 pr-11 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",disabled:g}),l.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:h?l.jsx(Ma,{className:"w-5 h-5"}):l.jsx(Va,{className:"w-5 h-5"})})]}),t&&n!==t&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Las contraseas no coinciden"})]}),l.jsx("button",{onClick:se,disabled:g||n!==t||!Object.values(z).every(N=>N),className:"w-full bg-gradient-to-r from-indigo-500 to-purple-500 text-black py-3 rounded-xl font-semibold hover:from-indigo-600 hover:to-purple-600 transition-all duration-200 shadow-lg  disabled:cursor-not-allowed flex items-center justify-center",children:g?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Actualizando..."]}):"Restablecer Contrasea"}),l.jsx("div",{className:"text-center",children:l.jsx("button",{onClick:ue,className:"text-indigo-600 hover:text-indigo-700 font-medium transition-colors",children:"Volver al inicio de sesin"})})]})]})}):l.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-indigo-600 via-purple-500 to-pink-500 flex items-center justify-center p-6",children:l.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md text-center",children:[l.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx(Nr,{className:"w-10 h-10 text-red-600"})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Enlace Invlido o Expirado"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"El enlace de recuperacin no es vlido o ya ha sido utilizado."}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:()=>window.location.href="/ForgotPassword",className:"w-full bg-gradient-to-r from-indigo-500 to-purple-500 text-white py-3 rounded-xl font-semibold hover:from-indigo-600 hover:to-purple-600 transition-all duration-200 shadow-lg",children:"Solicitar nuevo enlace"}),l.jsx("button",{onClick:ue,className:"w-full bg-gray-100 text-gray-700 py-3 rounded-xl font-semibold hover:bg-gray-200 transition-all duration-200",children:"Volver al inicio"})]})]})})},OO=()=>l.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[l.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Poltica de Privacidad"}),l.jsx("p",{className:"mb-4",children:"En ArchitecturaOS, respetamos tu privacidad y nos comprometemos a proteger tus datos personales."}),l.jsx("h2",{className:"text-2xl font-bold mt-6 mb-3",children:"Informacin que recopilamos"}),l.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[l.jsx("li",{children:"Nombre y correo electrnico (al registrarte)"}),l.jsx("li",{children:"Informacin de perfil de redes sociales (si usas login social)"}),l.jsx("li",{children:"Datos de uso de la aplicacin"})]}),l.jsx("h2",{className:"text-2xl font-bold mt-6 mb-3",children:"Cmo usamos tu informacin"}),l.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[l.jsx("li",{children:"Proporcionar y mejorar nuestros servicios"}),l.jsx("li",{children:"Personalizar tu experiencia de aprendizaje"}),l.jsx("li",{children:"Comunicarnos contigo sobre actualizaciones"})]}),l.jsx("h2",{className:"text-2xl font-bold mt-6 mb-3",children:"Contacto"}),l.jsx("p",{children:"Para preguntas sobre esta poltica: daniloww27@gmail.com"})]}),PO=()=>l.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[l.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Trminos del Servicio"}),l.jsx("h2",{className:"text-2xl font-bold mt-6 mb-3",children:"Aceptacin de los trminos"}),l.jsx("p",{className:"mb-4",children:"Al acceder y usar ArchitecturaOS, aceptas estar sujeto a estos trminos."}),l.jsx("h2",{className:"text-2xl font-bold mt-6 mb-3",children:"Uso del servicio"}),l.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[l.jsx("li",{children:"Debes ser mayor de 13 aos para usar este servicio"}),l.jsx("li",{children:"Eres responsable de mantener la seguridad de tu cuenta"}),l.jsx("li",{children:"No puedes usar el servicio para fines ilegales"})]}),l.jsx("h2",{className:"text-2xl font-bold mt-6 mb-3",children:"Propiedad intelectual"}),l.jsx("p",{className:"mb-4",children:"Todo el contenido de la plataforma es propiedad de ArchitecturaOS."}),l.jsx("h2",{className:"text-2xl font-bold mt-6 mb-3",children:"Contacto"}),l.jsx("p",{children:"Para preguntas: daniloww27@gmail.com"})]}),MO=()=>l.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[l.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Eliminacin de Datos de Usuario"}),l.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 mb-6",children:l.jsx("p",{className:"text-blue-700",children:"En ArchitecturaOS respetamos tu privacidad y tu derecho a eliminar tus datos."})}),l.jsx("h2",{className:"text-2xl font-bold mt-6 mb-4",children:"Qu datos se eliminan?"}),l.jsxs("ul",{className:"list-disc ml-6 mb-6 space-y-2",children:[l.jsx("li",{children:"Tu informacin de perfil (nombre, email, foto)"}),l.jsx("li",{children:"Tu historial de progreso y lecciones"}),l.jsx("li",{children:"Tus preferencias y configuraciones"}),l.jsx("li",{children:"Cualquier contenido que hayas creado"})]}),l.jsx("h2",{className:"text-2xl font-bold mt-6 mb-4",children:"Cmo solicitar la eliminacin de tus datos"}),l.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg mb-6",children:[l.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Mtodo 1: Desde la aplicacin"}),l.jsxs("ol",{className:"list-decimal ml-6 space-y-2",children:[l.jsx("li",{children:"Inicia sesin en tu cuenta"}),l.jsxs("li",{children:["Ve a ",l.jsx("strong",{children:"Configuracin  Mi Cuenta"})]}),l.jsxs("li",{children:["Desplzate hasta ",l.jsx("strong",{children:'"Eliminar mi cuenta"'})]}),l.jsx("li",{children:"Confirma la eliminacin"})]}),l.jsx("p",{className:"mt-3 text-sm text-gray-600",children:" Tus datos sern eliminados inmediatamente y de forma permanente."})]}),l.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg mb-6",children:[l.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Mtodo 2: Por correo electrnico"}),l.jsx("p",{className:"mb-3",children:"Si no puedes acceder a tu cuenta, contctanos:"}),l.jsxs("div",{className:"flex items-center gap-2 bg-white p-4 rounded border",children:[l.jsx(Oi,{className:"w-5 h-5 text-purple-600"}),l.jsx("a",{href:"mailto:daniloww27@gmail.com",className:"text-purple-600 hover:underline",children:"daniloww27@gmail.com"})]}),l.jsx("p",{className:"mt-3 text-sm text-gray-600",children:"Incluye en tu mensaje:"}),l.jsxs("ul",{className:"list-disc ml-6 mt-2 text-sm text-gray-600",children:[l.jsx("li",{children:"Tu correo electrnico registrado"}),l.jsx("li",{children:'Asunto: "Solicitud de eliminacin de datos"'})]}),l.jsx("p",{className:"mt-3 text-sm text-gray-600",children:" Procesaremos tu solicitud en un plazo de 30 das."})]}),l.jsx("h2",{className:"text-2xl font-bold mt-8 mb-4",children:"Datos que permanecen"}),l.jsx("p",{className:"mb-3",children:"Por razones legales y de seguridad, podemos retener:"}),l.jsxs("ul",{className:"list-disc ml-6 mb-6 space-y-2 text-gray-700",children:[l.jsx("li",{children:"Registros de transacciones (si aplica)"}),l.jsx("li",{children:"Informacin requerida por ley durante el perodo de retencin legal"}),l.jsx("li",{children:"Datos anonimizados para anlisis estadsticos"})]}),l.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 p-4 mt-6",children:l.jsxs("p",{className:"text-yellow-800",children:[l.jsx("strong",{children:" Advertencia:"})," La eliminacin de datos es permanente e irreversible. No podremos recuperar tu cuenta ni tu progreso despus de la eliminacin."]})}),l.jsx("h2",{className:"text-2xl font-bold mt-8 mb-4",children:"Preguntas frecuentes"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Cunto tiempo toma eliminar mis datos?"}),l.jsx("p",{className:"text-gray-700",children:"Si lo haces desde la aplicacin, es inmediato. Por correo, hasta 30 das."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Puedo recuperar mi cuenta despus?"}),l.jsx("p",{className:"text-gray-700",children:"No. La eliminacin es permanente. Debers crear una nueva cuenta si deseas volver."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Se eliminarn mis datos de Facebook?"}),l.jsx("p",{className:"text-gray-700",children:"Esta accin solo elimina datos de ArchitecturaOS. Para eliminar datos de Facebook, debes hacerlo desde tu cuenta de Facebook."})]})]}),l.jsxs("div",{className:"mt-8 p-6 bg-purple-50 rounded-lg",children:[l.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Necesitas ayuda?"}),l.jsxs("p",{className:"text-gray-700",children:["Contctanos en: ",l.jsx("a",{href:"mailto:daniloww27@gmail.com",className:"text-purple-600 hover:underline",children:"daniloww27@gmail.com"})]})]})]}),VO="modulepreload",LO=function(n){return"/"+n},a2={},UO=function(e,t,i){let o=Promise.resolve();if(t&&t.length>0){let y=function(w){return Promise.all(w.map(_=>Promise.resolve(_).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};var h=y;document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),g=p?.nonce||p?.getAttribute("nonce");o=y(t.map(w=>{if(w=LO(w),w in a2)return;a2[w]=!0;const _=w.endsWith(".css"),S=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${w}"]${S}`))return;const M=document.createElement("link");if(M.rel=_?"stylesheet":VO,_||(M.as="script"),M.crossOrigin="",M.href=w,g&&M.setAttribute("nonce",g),document.head.appendChild(M),_)return new Promise((D,K)=>{M.addEventListener("load",D),M.addEventListener("error",()=>K(new Error(`Unable to preload CSS for ${w}`)))})}))}function u(p){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=p,window.dispatchEvent(g),!g.defaultPrevented)throw p}return o.then(p=>{for(const g of p||[])g.status==="rejected"&&u(g.reason);return e().catch(u)})},BO=()=>{const[n,e]=I.useState(null),[t,i]=I.useState([]),[o,u]=I.useState(!0),[h,p]=I.useState(!1),g=qi();I.useEffect(()=>{(async()=>{const K=Ft.currentUser;if(!K)return g("/login");try{const L=await _y(mn(Vt,"usuarios",K.uid));L.exists()&&e(L.data()),i(K.providerData.map(Z=>Z.providerId))}catch(L){console.error("Error fetching user:",L)}finally{u(!1)}})()},[g]);const y=async(D,K,L)=>{try{const{collection:Z,addDoc:z,serverTimestamp:F}=await UO(async()=>{const{collection:se,addDoc:ue,serverTimestamp:N}=await Promise.resolve().then(()=>P5);return{collection:se,addDoc:ue,serverTimestamp:N}},[]),oe={userId:D.uid,email:D.email,displayName:D.displayName||"Sin nombre",photoURL:D.photoURL||null,provider:K,loginTime:F(),userAgent:navigator.userAgent,platform:navigator.platform,isLinkAction:!0};await z(Z(Vt,"session_logs"),oe),console.log(`Sesin de vinculacin registrada: ${L}`)}catch(Z){console.error("Error al registrar sesin de vinculacin:",Z)}},w=async()=>{p(!0);try{const D=await Lp(Ft.currentUser,Ny);await js(mn(Vt,"usuarios",Ft.currentUser.uid),{providers:Yo("google.com"),updatedAt:new Date}),await y(D.user,"google.com","Google"),i(K=>[...new Set([...K,"google.com"])]),fe.fire(" Vinculado","Google vinculado exitosamente","success")}catch(D){console.error("Error linking Google:",D),D.code==="auth/provider-already-linked"?(fe.fire("","Google ya est vinculado a tu cuenta","info"),i(K=>[...new Set([...K,"google.com"])])):D.code==="auth/credential-already-in-use"?fe.fire(" Error","Estas credenciales de Google ya estn en uso con otra cuenta","error"):D.code==="auth/popup-closed-by-user"||fe.fire(" Error",D.message,"error")}finally{p(!1)}},_=async()=>{p(!0);try{const D=await Lp(Ft.currentUser,V5);await js(mn(Vt,"usuarios",Ft.currentUser.uid),{providers:Yo("facebook.com"),updatedAt:new Date}),await y(D.user,"facebook.com","Facebook"),i(K=>[...new Set([...K,"facebook.com"])]),fe.fire(" Vinculado","Facebook vinculado exitosamente","success")}catch(D){console.error("Error linking Facebook:",D),D.code==="auth/provider-already-linked"?(fe.fire("","Facebook ya est vinculado a tu cuenta","info"),i(K=>[...new Set([...K,"facebook.com"])])):D.code==="auth/credential-already-in-use"?fe.fire(" Error","Estas credenciales de Facebook ya estn en uso con otra cuenta","error"):D.code==="auth/popup-closed-by-user"||fe.fire(" Error",D.message,"error")}finally{p(!1)}},S=async()=>{p(!0);try{if(!Ft.currentUser)throw new Error("No hay usuario autenticado");const D=new ls;D.addScope("user:email"),D.setCustomParameters({allow_signup:"false",prompt:"consent",login:Ft.currentUser.email});const L=(await Lp(Ft.currentUser,D)).user;let Z=L.email||Ft.currentUser.email;await js(mn(Vt,"usuarios",Ft.currentUser.uid),{providers:Yo("github.com"),email:Z,updatedAt:new Date}),await y(L,"github.com","GitHub"),i(z=>[...new Set([...z,"github.com"])]),fe.fire({icon:"success",title:" Vinculado",text:`GitHub vinculado exitosamente a ${Z}`,timer:3e3})}catch(D){console.error("Error linking GitHub:",D),D.code==="auth/provider-already-linked"?(fe.fire("","GitHub ya est vinculado a tu cuenta","info"),i(K=>[...new Set([...K,"github.com"])])):D.code==="auth/email-already-in-use"?fe.fire({icon:"error",title:"Email en uso",text:"Este email de GitHub ya est asociado a otra cuenta. No se puede vincular."}):D.code==="auth/credential-already-in-use"?fe.fire(" Error","Estas credenciales de GitHub ya estn en uso con otra cuenta","error"):D.code==="auth/popup-closed-by-user"||(D.code==="auth/requires-recent-login"?fe.fire({icon:"warning",title:"Reautenticacin requerida",text:"Por favor inicia sesin nuevamente para vincular GitHub"}):fe.fire({icon:"error",title:"Error",text:D.message||"Error al vincular GitHub"}))}finally{p(!1)}},M=async()=>{try{await g_(Ft),g("/login")}catch{fe.fire(" Error","Error al cerrar sesin","error")}};return o?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-orange-400 flex items-center justify-center",children:l.jsxs("div",{className:"text-white text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),l.jsx("p",{children:"Cargando perfil..."})]})}):l.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-purple-600 via-pink-500 to-orange-400 overflow-y-auto p-4",children:l.jsxs("div",{className:"max-w-2xl mx-auto bg-white/90 backdrop-blur-sm rounded-3xl mt-10 p-6 shadow-2xl",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-8",children:[l.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 flex items-center gap-3",children:[l.jsx(Es,{className:"w-8 h-8"})," Mi Perfil"]}),l.jsxs("button",{onClick:M,className:"flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-xl transition-colors font-semibold",children:[l.jsx(N2,{className:"w-5 h-5"})," Cerrar sesin"]})]}),l.jsxs("div",{className:"space-y-4 mb-8 p-4 bg-gray-50 rounded-2xl",children:[l.jsxs("div",{className:"flex items-center gap-3 text-lg text-gray-700",children:[l.jsx(Oi,{className:"w-5 h-5"}),l.jsxs("div",{children:[l.jsx("strong",{children:"Email:"})," ",n?.email||Ft.currentUser?.email]})]}),l.jsxs("div",{className:"flex items-center gap-3 text-lg text-gray-700",children:[l.jsx(Es,{className:"w-5 h-5"}),l.jsxs("div",{children:[l.jsx("strong",{children:"Nombre:"})," ",n?.displayName||n?.firstName||"No especificado"," ",n?.lastName||""]})]})]}),l.jsxs("div",{className:"mb-8",children:[l.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[l.jsx(yw,{className:"w-6 h-6"})," Proveedores vinculados"]}),l.jsx("div",{className:"space-y-3",children:[{id:"google.com",name:"Google",icon:l.jsx($A,{className:"w-5 h-5"}),color:"hover:bg-red-50 border-red-200",action:w},{id:"facebook.com",name:"Facebook",icon:l.jsx(nC,{className:"w-5 h-5"}),color:"hover:bg-blue-50 border-blue-200",action:_},{id:"github.com",name:"GitHub",icon:l.jsx(aC,{className:"w-5 h-5"}),color:"hover:bg-gray-50 border-gray-200",action:S}].map(D=>l.jsxs("div",{className:`flex items-center justify-between border-2 rounded-xl p-4 transition-all duration-200 ${D.color}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[D.icon,l.jsx("span",{className:"font-medium text-gray-800",children:D.name})]}),t.includes(D.id)?l.jsx("span",{className:"text-green-600 font-semibold bg-green-100 px-3 py-1 rounded-full text-sm",children:" Vinculado"}):l.jsx("button",{onClick:D.action,disabled:h,className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:h?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Vinculando..."]}):l.jsxs(l.Fragment,{children:[l.jsx(yw,{className:"w-4 h-4"})," Vincular"]})})]},D.id))})]}),l.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-2xl p-4 mb-6",children:[l.jsx("h3",{className:"font-semibold text-purple-800 mb-2",children:" Informacin importante"}),l.jsxs("ul",{className:"text-purple-700 text-sm space-y-1",children:[l.jsx("li",{children:" Al vincular un proveedor, se registrar en el historial de sesiones"}),l.jsx("li",{children:" Podrs iniciar sesin con cualquier proveedor vinculado"}),l.jsx("li",{children:" Todos los proveedores comparten el mismo perfil y progreso"}),l.jsx("li",{children:" El historial muestra cada vinculacin y cada inicio de sesin"})]})]}),l.jsx("div",{className:"text-center",children:l.jsx("button",{onClick:()=>g("/dashboard"),className:"inline-flex items-center gap-2 bg-white/50 hover:bg-white/70 text-purple-800 font-semibold px-6 py-2 rounded-xl transition-colors",children:" Volver al Dashboard"})})]})})},zO=()=>{const n=qi(),[e,t]=I.useState([]),[i,o]=I.useState(!0),[u,h]=I.useState(""),[p,g]=I.useState("all"),[y,w]=I.useState({totalSessions:0,uniqueUsers:0,activeToday:0,mostUsedProvider:""});I.useEffect(()=>{_()},[]);const _=async()=>{try{o(!0);const F=il(Vt,"session_logs"),oe=lE(F,cE("loginTime","desc"),uE(100)),ue=(await bf(oe)).docs.map(N=>({id:N.id,...N.data(),loginTime:N.data().loginTime?.toDate()||new Date}));t(ue),S(ue)}catch(F){console.error("Error fetching sessions:",F)}finally{o(!1)}},S=F=>{const oe=new Date;oe.setHours(0,0,0,0);const se=F.filter(C=>{const O=new Date(C.loginTime);return O.setHours(0,0,0,0),O.getTime()===oe.getTime()}).length,ue=new Set(F.map(C=>C.userId)),N={};F.forEach(C=>{let O=C.provider||"password";O==="email"&&(O="password"),N[O]=(N[O]||0)+1});const A=Object.keys(N).length>0?Object.keys(N).reduce((C,O)=>N[C]>N[O]?C:O):"password";w({totalSessions:F.length,uniqueUsers:ue.size,activeToday:se,mostUsedProvider:A})},M=F=>{switch(F){case"google.com":return l.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l.jsx("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]});case"facebook.com":return l.jsx("svg",{className:"w-5 h-5",fill:"#1877f2",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})});case"github.com":return l.jsx("svg",{className:"w-5 h-5",fill:"#181717",viewBox:"0 0 24 24",children:l.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})});case"password":case"email":return l.jsx(Mc,{className:"w-5 h-5 text-purple-600"});default:return l.jsx(Mc,{className:"w-5 h-5 text-gray-600"})}},D=F=>({"google.com":"Google","facebook.com":"Facebook","github.com":"GitHub",password:"Email/Password",email:"Email/Password"})[F]||"Email/Password",K=F=>{const oe={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(F).toLocaleDateString("es-ES",oe)},L=F=>{const oe=Math.floor((new Date-new Date(F))/1e3);let se=oe/31536e3;return se>1?Math.floor(se)+" aos":(se=oe/2592e3,se>1?Math.floor(se)+" meses":(se=oe/86400,se>1?Math.floor(se)+" das":(se=oe/3600,se>1?Math.floor(se)+" horas":(se=oe/60,se>1?Math.floor(se)+" minutos":"Hace un momento"))))},Z=e.filter(F=>{const oe=F.email?.toLowerCase().includes(u.toLowerCase())||F.displayName?.toLowerCase().includes(u.toLowerCase()),se=F.provider||"password";let ue=!1;return p==="all"?ue=!0:p==="password"||p==="email"?ue=se==="password"||se==="email":ue=se===p,oe&&ue}),z=()=>{const F=[["Email","Nombre","Proveedor","Fecha Login","Hora"].join(","),...Z.map(N=>[N.email,N.displayName,D(N.provider),K(N.loginTime),new Date(N.loginTime).toLocaleTimeString("es-ES")].join(","))].join(`
`),oe=new Blob([F],{type:"text/csv;charset=utf-8;"}),se=window.URL.createObjectURL(oe),ue=document.createElement("a");ue.href=se,ue.download=`historial-sesiones-${new Date().toISOString().split("T")[0]}.csv`,ue.click()};return l.jsxs("div",{className:"fixed inset-0 bg-gradient-to-br from-purple-600 via-pink-500 to-orange-400 overflow-y-auto",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[l.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-white/5 rounded-full blur-3xl"}),l.jsx("div",{className:"absolute bottom-32 right-40 w-40 h-40 bg-white/5 rounded-full blur-3xl"}),l.jsx("div",{className:"absolute top-1/2 left-1/2 w-24 h-24 bg-white/10 rounded-full blur-2xl"})]}),l.jsx("div",{className:"relative min-h-screen p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"mb-8",children:[l.jsxs("button",{onClick:()=>n("/dashboard"),className:"inline-flex items-center gap-2 text-white hover:text-white/80 transition-colors mb-4",children:[l.jsx(qh,{className:"w-5 h-5"}),l.jsx("span",{className:"font-semibold",children:"Volver al Dashboard"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Historial de Sesiones"}),l.jsx("p",{className:"text-white/90",children:"Control y monitoreo de accesos al sistema"})]}),l.jsx(Xp,{className:"w-12 h-12 text-white/80"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[l.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-xl",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Vc,{className:"w-8 h-8 text-blue-600"}),l.jsx("span",{className:"text-3xl font-bold text-gray-800",children:y.totalSessions})]}),l.jsx("p",{className:"text-gray-600 font-medium",children:"Sesiones Totales"})]}),l.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-xl",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Es,{className:"w-8 h-8 text-purple-600"}),l.jsx("span",{className:"text-3xl font-bold text-gray-800",children:y.uniqueUsers})]}),l.jsx("p",{className:"text-gray-600 font-medium",children:"Usuarios nicos"})]}),l.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-xl",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Xp,{className:"w-8 h-8 text-green-600"}),l.jsx("span",{className:"text-3xl font-bold text-gray-800",children:y.activeToday})]}),l.jsx("p",{className:"text-gray-600 font-medium",children:"Activos Hoy"})]}),l.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-xl",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(Mc,{className:"w-8 h-8 text-orange-600"}),l.jsx("span",{className:"text-xl font-bold text-gray-800",children:D(y.mostUsedProvider)})]}),l.jsx("p",{className:"text-gray-600 font-medium",children:"Mtodo Ms Usado"})]})]}),l.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-xl mb-6",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(S2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"Buscar por email o nombre...",value:u,onChange:F=>h(F.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white"})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(rC,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsxs("select",{value:p,onChange:F=>g(F.target.value),className:"pl-12 pr-8 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white appearance-none cursor-pointer",children:[l.jsx("option",{value:"all",children:"Todos los proveedores"}),l.jsx("option",{value:"google.com",children:"Google"}),l.jsx("option",{value:"facebook.com",children:"Facebook"}),l.jsx("option",{value:"github.com",children:"GitHub"}),l.jsx("option",{value:"password",children:"Email/Password"}),l.jsx("option",{value:"email",children:"Email/Password"})]})]}),l.jsxs("button",{onClick:z,className:"inline-flex items-center gap-2 bg-gradient-to-r from-purple-600 to-pink-500 text-white px-6 py-3 rounded-xl font-semibold hover:from-purple-700 hover:to-pink-600 transition-all duration-200 shadow-lg",children:[l.jsx(ZA,{className:"w-5 h-5"}),"Exportar CSV"]})]})]})}),l.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gradient-to-r from-purple-600 to-pink-500 text-white",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Usuario"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Proveedor"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Fecha y Hora"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold",children:"Hace"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200",children:i?l.jsx("tr",{children:l.jsx("td",{colSpan:"4",className:"px-6 py-12 text-center",children:l.jsxs("div",{className:"flex items-center justify-center gap-3",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}),l.jsx("span",{className:"text-gray-600 font-medium",children:"Cargando historial..."})]})})}):Z.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"4",className:"px-6 py-12 text-center text-gray-500",children:e.length===0?"No hay sesiones registradas an. Inicia sesin para crear el primer registro.":"No se encontraron sesiones que coincidan con tu bsqueda"})}):Z.map(F=>l.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[F.photoURL?l.jsx("img",{src:F.photoURL,alt:F.displayName,className:"w-10 h-10 rounded-full"}):l.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-400 to-pink-400 flex items-center justify-center text-white font-semibold",children:F.displayName?.charAt(0)||F.email?.charAt(0).toUpperCase()}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-gray-800",children:F.displayName||"Sin nombre"}),l.jsx("p",{className:"text-sm text-gray-500",children:F.email})]})]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[M(F.provider),l.jsx("span",{className:"text-gray-700",children:D(F.provider)})]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[l.jsx(YA,{className:"w-4 h-4"}),l.jsx("div",{children:l.jsx("p",{className:"text-sm font-medium",children:K(F.loginTime)})})]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:"text-sm text-gray-600",children:L(F.loginTime)})})]},F.id))})]})})}),l.jsx("div",{className:"mt-6 text-center text-white/80",children:i?l.jsx("p",{children:"Cargando datos..."}):l.jsxs("p",{children:["Mostrando ",Z.length," de ",e.length," sesiones registradas"]})})]})})]})};function qO(){return l.jsx(oA,{children:l.jsxs(LS,{children:[l.jsx(Ot,{path:"/",element:l.jsx(i2,{})}),l.jsx(Ot,{path:"/useEffect",element:l.jsx(vA,{})}),l.jsx(Ot,{path:"/useState",element:l.jsx(YN,{})}),l.jsx(Ot,{path:"/useNavigate",element:l.jsx(yA,{})}),l.jsx(Ot,{path:"/useContext",element:l.jsx(AA,{})}),l.jsx(Ot,{path:"/useReducer",element:l.jsx(kA,{})}),l.jsx(Ot,{path:"/useCallback",element:l.jsx(PA,{})}),l.jsx(Ot,{path:"/Register",element:l.jsx(AO,{})}),l.jsx(Ot,{path:"/Lessons",element:l.jsx(CO,{})}),l.jsx(Ot,{path:"/Dashboard",element:l.jsx(RO,{})}),l.jsx(Ot,{path:"/Users",element:l.jsx(IO,{})}),l.jsx(Ot,{path:"/Login",element:l.jsx(i2,{})}),l.jsx(Ot,{path:"/ForgotPassword",element:l.jsx(kO,{})}),l.jsx(Ot,{path:"/ResetPassword",element:l.jsx(DO,{})}),l.jsx(Ot,{path:"/privacy",element:l.jsx(OO,{})}),l.jsx(Ot,{path:"/terms",element:l.jsx(PO,{})}),l.jsx(Ot,{path:"/data-deletion",element:l.jsx(MO,{})}),l.jsx(Ot,{path:"/profile",element:l.jsx(BO,{})}),l.jsx(Ot,{path:"/session",element:l.jsx(zO,{})})]})})}KN.createRoot(document.getElementById("root")).render(l.jsx(I.StrictMode,{children:l.jsx(qO,{})}));
