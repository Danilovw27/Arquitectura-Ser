(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var cp={exports:{}},wc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ub;function mN(){if(Ub)return wc;Ub=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:n,type:i,key:h,ref:o!==void 0?o:null,props:u}}return wc.Fragment=e,wc.jsx=t,wc.jsxs=t,wc}var Bb;function pN(){return Bb||(Bb=1,cp.exports=mN()),cp.exports}var c=pN(),up={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zb;function gN(){if(zb)return Oe;zb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),E=Symbol.iterator;function N(D){return D===null||typeof D!="object"?null:(D=E&&D[E]||D["@@iterator"],typeof D=="function"?D:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,Q={};function L(D,re,de){this.props=D,this.context=re,this.refs=Q,this.updater=de||k}L.prototype.isReactComponent={},L.prototype.setState=function(D,re){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,re,"setState")},L.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function X(){}X.prototype=L.prototype;function $(D,re,de){this.props=D,this.context=re,this.refs=Q,this.updater=de||k}var Z=$.prototype=new X;Z.constructor=$,B(Z,L.prototype),Z.isPureReactComponent=!0;var pe=Array.isArray,oe={H:null,A:null,T:null,S:null,V:null},ye=Object.prototype.hasOwnProperty;function S(D,re,de,ue,be,Me){return de=Me.ref,{$$typeof:n,type:D,key:re,ref:de!==void 0?de:null,props:Me}}function A(D,re){return S(D.type,re,void 0,void 0,void 0,D.props)}function C(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function M(D){var re={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(de){return re[de]})}var O=/\/+/g;function U(D,re){return typeof D=="object"&&D!==null&&D.key!=null?M(""+D.key):re.toString(36)}function R(){}function at(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function(re){D.status==="pending"&&(D.status="fulfilled",D.value=re)},function(re){D.status==="pending"&&(D.status="rejected",D.reason=re)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function le(D,re,de,ue,be){var Me=typeof D;(Me==="undefined"||Me==="boolean")&&(D=null);var te=!1;if(D===null)te=!0;else switch(Me){case"bigint":case"string":case"number":te=!0;break;case"object":switch(D.$$typeof){case n:case e:te=!0;break;case x:return te=D._init,le(te(D._payload),re,de,ue,be)}}if(te)return be=be(D),te=ue===""?"."+U(D,0):ue,pe(be)?(de="",te!=null&&(de=te.replace(O,"$&/")+"/"),le(be,re,de,"",function($e){return $e})):be!=null&&(C(be)&&(be=A(be,de+(be.key==null||D&&D.key===be.key?"":(""+be.key).replace(O,"$&/")+"/")+te)),re.push(be)),1;te=0;var De=ue===""?".":ue+":";if(pe(D))for(var xe=0;xe<D.length;xe++)ue=D[xe],Me=De+U(ue,xe),te+=le(ue,re,de,Me,be);else if(xe=N(D),typeof xe=="function")for(D=xe.call(D),xe=0;!(ue=D.next()).done;)ue=ue.value,Me=De+U(ue,xe++),te+=le(ue,re,de,Me,be);else if(Me==="object"){if(typeof D.then=="function")return le(at(D),re,de,ue,be);throw re=String(D),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return te}function F(D,re,de){if(D==null)return D;var ue=[],be=0;return le(D,ue,"","",function(Me){return re.call(de,Me,be++)}),ue}function ae(D){if(D._status===-1){var re=D._result;re=re(),re.then(function(de){(D._status===0||D._status===-1)&&(D._status=1,D._result=de)},function(de){(D._status===0||D._status===-1)&&(D._status=2,D._result=de)}),D._status===-1&&(D._status=0,D._result=re)}if(D._status===1)return D._result.default;throw D._result}var fe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function ke(){}return Oe.Children={map:F,forEach:function(D,re,de){F(D,function(){re.apply(this,arguments)},de)},count:function(D){var re=0;return F(D,function(){re++}),re},toArray:function(D){return F(D,function(re){return re})||[]},only:function(D){if(!C(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Oe.Component=L,Oe.Fragment=t,Oe.Profiler=o,Oe.PureComponent=$,Oe.StrictMode=i,Oe.Suspense=g,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(D){return oe.H.useMemoCache(D)}},Oe.cache=function(D){return function(){return D.apply(null,arguments)}},Oe.cloneElement=function(D,re,de){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ue=B({},D.props),be=D.key,Me=void 0;if(re!=null)for(te in re.ref!==void 0&&(Me=void 0),re.key!==void 0&&(be=""+re.key),re)!ye.call(re,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&re.ref===void 0||(ue[te]=re[te]);var te=arguments.length-2;if(te===1)ue.children=de;else if(1<te){for(var De=Array(te),xe=0;xe<te;xe++)De[xe]=arguments[xe+2];ue.children=De}return S(D.type,be,void 0,void 0,Me,ue)},Oe.createContext=function(D){return D={$$typeof:h,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Oe.createElement=function(D,re,de){var ue,be={},Me=null;if(re!=null)for(ue in re.key!==void 0&&(Me=""+re.key),re)ye.call(re,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(be[ue]=re[ue]);var te=arguments.length-2;if(te===1)be.children=de;else if(1<te){for(var De=Array(te),xe=0;xe<te;xe++)De[xe]=arguments[xe+2];be.children=De}if(D&&D.defaultProps)for(ue in te=D.defaultProps,te)be[ue]===void 0&&(be[ue]=te[ue]);return S(D,Me,void 0,void 0,null,be)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(D){return{$$typeof:p,render:D}},Oe.isValidElement=C,Oe.lazy=function(D){return{$$typeof:x,_payload:{_status:-1,_result:D},_init:ae}},Oe.memo=function(D,re){return{$$typeof:y,type:D,compare:re===void 0?null:re}},Oe.startTransition=function(D){var re=oe.T,de={};oe.T=de;try{var ue=D(),be=oe.S;be!==null&&be(de,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(ke,fe)}catch(Me){fe(Me)}finally{oe.T=re}},Oe.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},Oe.use=function(D){return oe.H.use(D)},Oe.useActionState=function(D,re,de){return oe.H.useActionState(D,re,de)},Oe.useCallback=function(D,re){return oe.H.useCallback(D,re)},Oe.useContext=function(D){return oe.H.useContext(D)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(D,re){return oe.H.useDeferredValue(D,re)},Oe.useEffect=function(D,re,de){var ue=oe.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ue.useEffect(D,re)},Oe.useId=function(){return oe.H.useId()},Oe.useImperativeHandle=function(D,re,de){return oe.H.useImperativeHandle(D,re,de)},Oe.useInsertionEffect=function(D,re){return oe.H.useInsertionEffect(D,re)},Oe.useLayoutEffect=function(D,re){return oe.H.useLayoutEffect(D,re)},Oe.useMemo=function(D,re){return oe.H.useMemo(D,re)},Oe.useOptimistic=function(D,re){return oe.H.useOptimistic(D,re)},Oe.useReducer=function(D,re,de){return oe.H.useReducer(D,re,de)},Oe.useRef=function(D){return oe.H.useRef(D)},Oe.useState=function(D){return oe.H.useState(D)},Oe.useSyncExternalStore=function(D,re,de){return oe.H.useSyncExternalStore(D,re,de)},Oe.useTransition=function(){return oe.H.useTransition()},Oe.version="19.1.1",Oe}var Hb;function ug(){return Hb||(Hb=1,up.exports=gN()),up.exports}var I=ug(),dp={exports:{}},xc={},hp={exports:{}},fp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qb;function yN(){return qb||(qb=1,(function(n){function e(F,ae){var fe=F.length;F.push(ae);e:for(;0<fe;){var ke=fe-1>>>1,D=F[ke];if(0<o(D,ae))F[ke]=ae,F[fe]=D,fe=ke;else break e}}function t(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var ae=F[0],fe=F.pop();if(fe!==ae){F[0]=fe;e:for(var ke=0,D=F.length,re=D>>>1;ke<re;){var de=2*(ke+1)-1,ue=F[de],be=de+1,Me=F[be];if(0>o(ue,fe))be<D&&0>o(Me,ue)?(F[ke]=Me,F[be]=fe,ke=be):(F[ke]=ue,F[de]=fe,ke=de);else if(be<D&&0>o(Me,fe))F[ke]=Me,F[be]=fe,ke=be;else break e}}return ae}function o(F,ae){var fe=F.sortIndex-ae.sortIndex;return fe!==0?fe:F.id-ae.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var h=Date,p=h.now();n.unstable_now=function(){return h.now()-p}}var g=[],y=[],x=1,E=null,N=3,k=!1,B=!1,Q=!1,L=!1,X=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function pe(F){for(var ae=t(y);ae!==null;){if(ae.callback===null)i(y);else if(ae.startTime<=F)i(y),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=t(y)}}function oe(F){if(Q=!1,pe(F),!B)if(t(g)!==null)B=!0,ye||(ye=!0,U());else{var ae=t(y);ae!==null&&le(oe,ae.startTime-F)}}var ye=!1,S=-1,A=5,C=-1;function M(){return L?!0:!(n.unstable_now()-C<A)}function O(){if(L=!1,ye){var F=n.unstable_now();C=F;var ae=!0;try{e:{B=!1,Q&&(Q=!1,$(S),S=-1),k=!0;var fe=N;try{t:{for(pe(F),E=t(g);E!==null&&!(E.expirationTime>F&&M());){var ke=E.callback;if(typeof ke=="function"){E.callback=null,N=E.priorityLevel;var D=ke(E.expirationTime<=F);if(F=n.unstable_now(),typeof D=="function"){E.callback=D,pe(F),ae=!0;break t}E===t(g)&&i(g),pe(F)}else i(g);E=t(g)}if(E!==null)ae=!0;else{var re=t(y);re!==null&&le(oe,re.startTime-F),ae=!1}}break e}finally{E=null,N=fe,k=!1}ae=void 0}}finally{ae?U():ye=!1}}}var U;if(typeof Z=="function")U=function(){Z(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,at=R.port2;R.port1.onmessage=O,U=function(){at.postMessage(null)}}else U=function(){X(O,0)};function le(F,ae){S=X(function(){F(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return N},n.unstable_next=function(F){switch(N){case 1:case 2:case 3:var ae=3;break;default:ae=N}var fe=N;N=ae;try{return F()}finally{N=fe}},n.unstable_requestPaint=function(){L=!0},n.unstable_runWithPriority=function(F,ae){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var fe=N;N=F;try{return ae()}finally{N=fe}},n.unstable_scheduleCallback=function(F,ae,fe){var ke=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?ke+fe:ke):fe=ke,F){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=fe+D,F={id:x++,callback:ae,priorityLevel:F,startTime:fe,expirationTime:D,sortIndex:-1},fe>ke?(F.sortIndex=fe,e(y,F),t(g)===null&&F===t(y)&&(Q?($(S),S=-1):Q=!0,le(oe,fe-ke))):(F.sortIndex=D,e(g,F),B||k||(B=!0,ye||(ye=!0,U()))),F},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(F){var ae=N;return function(){var fe=N;N=ae;try{return F.apply(this,arguments)}finally{N=fe}}}})(fp)),fp}var Fb;function vN(){return Fb||(Fb=1,hp.exports=yN()),hp.exports}var mp={exports:{}},un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $b;function bN(){if($b)return un;$b=1;var n=ug();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,x){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:g,containerInfo:y,implementation:x}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,un.createPortal=function(g,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,x)},un.flushSync=function(g){var y=h.T,x=i.p;try{if(h.T=null,i.p=2,g)return g()}finally{h.T=y,i.p=x,i.d.f()}},un.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(g,y))},un.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},un.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var x=y.as,E=p(x,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,k=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?i.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:N,fetchPriority:k}):x==="script"&&i.d.X(g,{crossOrigin:E,integrity:N,fetchPriority:k,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},un.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=p(y.as,y.crossOrigin);i.d.M(g,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(g)},un.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,E=p(x,y.crossOrigin);i.d.L(g,x,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},un.preloadModule=function(g,y){if(typeof g=="string")if(y){var x=p(y.as,y.crossOrigin);i.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(g)},un.requestFormReset=function(g){i.d.r(g)},un.unstable_batchedUpdates=function(g,y){return g(y)},un.useFormState=function(g,y,x){return h.H.useFormState(g,y,x)},un.useFormStatus=function(){return h.H.useHostTransitionStatus()},un.version="19.1.1",un}var Gb;function wN(){if(Gb)return mp.exports;Gb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),mp.exports=bN(),mp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kb;function xN(){if(Kb)return xc;Kb=1;var n=vN(),e=ug(),t=wN();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function u(s){var r=s,a=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(a=r.return),s=r.return;while(s)}return r.tag===3?a:null}function h(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function p(s){if(u(s)!==s)throw Error(i(188))}function g(s){var r=s.alternate;if(!r){if(r=u(s),r===null)throw Error(i(188));return r!==s?null:s}for(var a=s,l=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return p(f),s;if(m===l)return p(f),r;m=m.sibling}throw Error(i(188))}if(a.return!==l.return)a=f,l=m;else{for(var w=!1,_=f.child;_;){if(_===a){w=!0,a=f,l=m;break}if(_===l){w=!0,l=f,a=m;break}_=_.sibling}if(!w){for(_=m.child;_;){if(_===a){w=!0,a=m,l=f;break}if(_===l){w=!0,l=m,a=f;break}_=_.sibling}if(!w)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?s:r}function y(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=y(s),r!==null)return r;s=s.sibling}return null}var x=Object.assign,E=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=O&&s[O]||s["@@iterator"],typeof s=="function"?s:null)}var R=Symbol.for("react.client.reference");function at(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===R?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case B:return"Fragment";case L:return"Profiler";case Q:return"StrictMode";case oe:return"Suspense";case ye:return"SuspenseList";case C:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case k:return"Portal";case Z:return(s.displayName||"Context")+".Provider";case $:return(s._context.displayName||"Context")+".Consumer";case pe:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case S:return r=s.displayName||null,r!==null?r:at(s.type)||"Memo";case A:r=s._payload,s=s._init;try{return at(s(r))}catch{}}return null}var le=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},ke=[],D=-1;function re(s){return{current:s}}function de(s){0>D||(s.current=ke[D],ke[D]=null,D--)}function ue(s,r){D++,ke[D]=s.current,s.current=r}var be=re(null),Me=re(null),te=re(null),De=re(null);function xe(s,r){switch(ue(te,r),ue(Me,s),ue(be,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?fb(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=fb(r),s=mb(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}de(be),ue(be,s)}function $e(){de(be),de(Me),de(te)}function jt(s){s.memoizedState!==null&&ue(De,s);var r=be.current,a=mb(r,s.type);r!==a&&(ue(Me,s),ue(be,a))}function Nn(s){Me.current===s&&(de(be),de(Me)),De.current===s&&(de(De),pc._currentValue=fe)}var Sn=Object.prototype.hasOwnProperty,Rt=n.unstable_scheduleCallback,gn=n.unstable_cancelCallback,Kn=n.unstable_shouldYield,qi=n.unstable_requestPaint,An=n.unstable_now,pu=n.unstable_getCurrentPriorityLevel,Mt=n.unstable_ImmediatePriority,$t=n.unstable_UserBlockingPriority,tr=n.unstable_NormalPriority,df=n.unstable_LowPriority,gl=n.unstable_IdlePriority,hf=n.log,Fi=n.unstable_setDisableYieldValue,Lr=null,on=null;function Yn(s){if(typeof hf=="function"&&Fi(s),on&&typeof on.setStrictMode=="function")try{on.setStrictMode(Lr,s)}catch{}}var yn=Math.clz32?Math.clz32:yu,ff=Math.log,gu=Math.LN2;function yu(s){return s>>>=0,s===0?32:31-(ff(s)/gu|0)|0}var Ss=256,Ur=4194304;function hs(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Qn(s,r,a){var l=s.pendingLanes;if(l===0)return 0;var f=0,m=s.suspendedLanes,w=s.pingedLanes;s=s.warmLanes;var _=l&134217727;return _!==0?(l=_&~m,l!==0?f=hs(l):(w&=_,w!==0?f=hs(w):a||(a=_&~s,a!==0&&(f=hs(a))))):(_=l&~m,_!==0?f=hs(_):w!==0?f=hs(w):a||(a=l&~s,a!==0&&(f=hs(a)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,a=r&-r,m>=a||m===32&&(a&4194048)!==0)?r:f}function Br(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Ka(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yl(){var s=Ss;return Ss<<=1,(Ss&4194048)===0&&(Ss=256),s}function zr(){var s=Ur;return Ur<<=1,(Ur&62914560)===0&&(Ur=4194304),s}function Ya(s){for(var r=[],a=0;31>a;a++)r.push(s);return r}function wt(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function vu(s,r,a,l,f,m){var w=s.pendingLanes;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=a,s.entangledLanes&=a,s.errorRecoveryDisabledLanes&=a,s.shellSuspendCounter=0;var _=s.entanglements,j=s.expirationTimes,q=s.hiddenUpdates;for(a=w&~a;0<a;){var J=31-yn(a),ne=1<<J;_[J]=0,j[J]=-1;var G=q[J];if(G!==null)for(q[J]=null,J=0;J<G.length;J++){var K=G[J];K!==null&&(K.lane&=-536870913)}a&=~ne}l!==0&&Hr(s,l,0),m!==0&&f===0&&s.tag!==0&&(s.suspendedLanes|=m&~(w&~r))}function Hr(s,r,a){s.pendingLanes|=r,s.suspendedLanes&=~r;var l=31-yn(r);s.entangledLanes|=r,s.entanglements[l]=s.entanglements[l]|1073741824|a&4194090}function qr(s,r){var a=s.entangledLanes|=r;for(s=s.entanglements;a;){var l=31-yn(a),f=1<<l;f&r|s[l]&r&&(s[l]|=r),a&=~f}}function vl(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function bl(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function nr(){var s=ae.p;return s!==0?s:(s=window.event,s===void 0?32:Db(s.type))}function mf(s,r){var a=ae.p;try{return ae.p=s,r()}finally{ae.p=a}}var As=Math.random().toString(36).slice(2),xt="__reactFiber$"+As,Zt="__reactProps$"+As,sr="__reactContainer$"+As,$i="__reactEvents$"+As,Gi="__reactListeners$"+As,pf="__reactHandles$"+As,fs="__reactResources$"+As,Fr="__reactMarker$"+As;function Qa(s){delete s[xt],delete s[Zt],delete s[$i],delete s[Gi],delete s[pf]}function Cs(s){var r=s[xt];if(r)return r;for(var a=s.parentNode;a;){if(r=a[sr]||a[xt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(s=vb(s);s!==null;){if(a=s[xt])return a;s=vb(s)}return r}s=a,a=s.parentNode}return null}function js(s){if(s=s[xt]||s[sr]){var r=s.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return s}return null}function $r(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Gr(s){var r=s[fs];return r||(r=s[fs]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function _t(s){s[Fr]=!0}var bu=new Set,Ki={};function Rs(s,r){Is(s,r),Is(s+"Capture",r)}function Is(s,r){for(Ki[s]=r,s=0;s<r.length;s++)bu.add(r[s])}var Yi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ks={},Xa={};function gf(s){return Sn.call(Xa,s)?!0:Sn.call(ks,s)?!1:Yi.test(s)?Xa[s]=!0:(ks[s]=!0,!1)}function Qi(s,r,a){if(gf(r))if(a===null)s.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+a)}}function Xi(s,r,a){if(a===null)s.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+a)}}function Xn(s,r,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttributeNS(r,a,""+l)}}var Wi,Wa;function rr(s){if(Wi===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Wi=r&&r[1]||"",Wa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wi+s+Wa}var Za=!1;function Ja(s,r){if(!s||Za)return"";Za=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(K){var G=K}Reflect.construct(s,[],ne)}else{try{ne.call()}catch(K){G=K}s.call(ne.prototype)}}else{try{throw Error()}catch(K){G=K}(ne=s())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),w=m[0],_=m[1];if(w&&_){var j=w.split(`
`),q=_.split(`
`);for(f=l=0;l<j.length&&!j[l].includes("DetermineComponentFrameRoot");)l++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(l===j.length||f===q.length)for(l=j.length-1,f=q.length-1;1<=l&&0<=f&&j[l]!==q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(j[l]!==q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||j[l]!==q[f]){var J=`
`+j[l].replace(" at new "," at ");return s.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",s.displayName)),J}while(1<=l&&0<=f);break}}}finally{Za=!1,Error.prepareStackTrace=a}return(a=s?s.displayName||s.name:"")?rr(a):""}function yf(s){switch(s.tag){case 26:case 27:case 5:return rr(s.type);case 16:return rr("Lazy");case 13:return rr("Suspense");case 19:return rr("SuspenseList");case 0:case 15:return Ja(s.type,!1);case 11:return Ja(s.type.render,!1);case 1:return Ja(s.type,!0);case 31:return rr("Activity");default:return""}}function ms(s){try{var r="";do r+=yf(s),s=s.return;while(s);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function mt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Kr(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Zi(s){var r=Kr(s)?"checked":"value",a=Object.getOwnPropertyDescriptor(s.constructor.prototype,r),l=""+s[r];if(!s.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return f.call(this)},set:function(w){l=""+w,m.call(this,w)}}),Object.defineProperty(s,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function Yr(s){s._valueTracker||(s._valueTracker=Zi(s))}function et(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return s&&(l=Kr(s)?s.checked?"true":"false":s.value),s=l,s!==a?(r.setValue(s),!0):!1}function ir(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Ji=/[\n"\\]/g;function Gt(s){return s.replace(Ji,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function wl(s,r,a,l,f,m,w,_){s.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.type=w:s.removeAttribute("type"),r!=null?w==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+mt(r)):s.value!==""+mt(r)&&(s.value=""+mt(r)):w!=="submit"&&w!=="reset"||s.removeAttribute("value"),r!=null?_l(s,w,mt(r)):a!=null?_l(s,w,mt(a)):l!=null&&s.removeAttribute("value"),f==null&&m!=null&&(s.defaultChecked=!!m),f!=null&&(s.checked=f&&typeof f!="function"&&typeof f!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?s.name=""+mt(_):s.removeAttribute("name")}function xl(s,r,a,l,f,m,w,_){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(s.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;a=a!=null?""+mt(a):"",r=r!=null?""+mt(r):a,_||r===s.value||(s.value=r),s.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,s.checked=_?s.checked:!!l,s.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.name=w)}function _l(s,r,a){r==="number"&&ir(s.ownerDocument)===s||s.defaultValue===""+a||(s.defaultValue=""+a)}function Qr(s,r,a,l){if(s=s.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<s.length;a++)f=r.hasOwnProperty("$"+s[a].value),s[a].selected!==f&&(s[a].selected=f),f&&l&&(s[a].defaultSelected=!0)}else{for(a=""+mt(a),r=null,f=0;f<s.length;f++){if(s[f].value===a){s[f].selected=!0,l&&(s[f].defaultSelected=!0);return}r!==null||s[f].disabled||(r=s[f])}r!==null&&(r.selected=!0)}}function wu(s,r,a){if(r!=null&&(r=""+mt(r),r!==s.value&&(s.value=r),a==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=a!=null?""+mt(a):""}function xu(s,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(i(92));if(le(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=mt(r),s.defaultValue=a,l=s.textContent,l===a&&l!==""&&l!==null&&(s.value=l)}function Wn(s,r){if(r){var a=s.firstChild;if(a&&a===s.lastChild&&a.nodeType===3){a.nodeValue=r;return}}s.textContent=r}var ar=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function El(s,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":l?s.setProperty(r,a):typeof a!="number"||a===0||ar.has(r)?r==="float"?s.cssFloat=a:s[r]=(""+a).trim():s[r]=a+"px"}function Tl(s,r,a){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&El(s,f,l)}else for(var m in r)r.hasOwnProperty(m)&&El(s,m,r[m])}function eo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _u=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Eu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ps(s){return Eu.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Nl=null;function Sl(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Xr=null,vn=null;function Tu(s){var r=js(s);if(r&&(s=r.stateNode)){var a=s[Zt]||null;e:switch(s=r.stateNode,r.type){case"input":if(wl(s,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=s;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Gt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==s&&l.form===s.form){var f=l[Zt]||null;if(!f)throw Error(i(90));wl(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===s.form&&et(l)}break e;case"textarea":wu(s,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Qr(s,!!a.multiple,r,!1)}}}var ea=!1;function ta(s,r,a){if(ea)return s(r,a);ea=!0;try{var l=s(r);return l}finally{if(ea=!1,(Xr!==null||vn!==null)&&(fd(),Xr&&(r=Xr,s=vn,vn=Xr=null,Tu(r),s)))for(r=0;r<s.length;r++)Tu(s[r])}}function Wr(s,r){var a=s.stateNode;if(a===null)return null;var l=a[Zt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(s=s.type,l=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!l;break e;default:s=!1}if(s)return null;if(a&&typeof a!="function")throw Error(i(231,r,typeof a));return a}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),or=!1;if(bn)try{var Zr={};Object.defineProperty(Zr,"passive",{get:function(){or=!0}}),window.addEventListener("test",Zr,Zr),window.removeEventListener("test",Zr,Zr)}catch{or=!1}var Zn=null,ot=null,to=null;function Nu(){if(to)return to;var s,r=ot,a=r.length,l,f="value"in Zn?Zn.value:Zn.textContent,m=f.length;for(s=0;s<a&&r[s]===f[s];s++);var w=a-s;for(l=1;l<=w&&r[a-l]===f[m-l];l++);return to=f.slice(s,1<l?1-l:void 0)}function na(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function sa(){return!0}function Al(){return!1}function Vt(s){function r(a,l,f,m,w){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var _ in s)s.hasOwnProperty(_)&&(a=s[_],this[_]=a?a(m):m[_]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?sa:Al,this.isPropagationStopped=Al,this}return x(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=sa)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=sa)},persist:function(){},isPersistent:sa}),r}var ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ra=Vt(ln),ia=x({},ln,{view:0,detail:0}),aa=Vt(ia),no,oa,Ds,la=x({},ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:io,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ds&&(Ds&&s.type==="mousemove"?(no=s.screenX-Ds.screenX,oa=s.screenY-Ds.screenY):oa=no=0,Ds=s),no)},movementY:function(s){return"movementY"in s?s.movementY:oa}}),ca=Vt(la),vf=x({},la,{dataTransfer:0}),Su=Vt(vf),ua=x({},ia,{relatedTarget:0}),so=Vt(ua),Au=x({},ln,{animationName:0,elapsedTime:0,pseudoElement:0}),Cl=Vt(Au),jl=x({},ln,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Cu=Vt(jl),ro=x({},ln,{data:0}),Rl=Vt(ro),ju={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iu(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Ru[s])?!!r[s]:!1}function io(){return Iu}var ku=x({},ia,{key:function(s){if(s.key){var r=ju[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=na(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?lr[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:io,charCode:function(s){return s.type==="keypress"?na(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?na(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),ao=Vt(ku),wn=x({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Il=Vt(wn),Du=x({},ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:io}),Jr=Vt(Du),d=x({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),v=Vt(d),b=x({},la,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),T=Vt(b),H=x({},ln,{newState:0,oldState:0}),Y=Vt(H),ce=[9,13,27,32],Re=bn&&"CompositionEvent"in window,ut=null;bn&&"documentMode"in document&&(ut=document.documentMode);var We=bn&&"TextEvent"in window&&!ut,Et=bn&&(!Re||ut&&8<ut&&11>=ut),On=" ",Os=!1;function gs(s,r){switch(s){case"keyup":return ce.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ys(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var vs=!1;function kl(s,r){switch(s){case"compositionend":return ys(r);case"keypress":return r.which!==32?null:(Os=!0,On);case"textInput":return s=r.data,s===On&&Os?null:s;default:return null}}function z1(s,r){if(vs)return s==="compositionend"||!Re&&gs(s,r)?(s=Nu(),to=ot=Zn=null,vs=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Et&&r.locale!=="ko"?null:r.data;default:return null}}var H1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ay(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!H1[s.type]:r==="textarea"}function Cy(s,r,a,l){Xr?vn?vn.push(l):vn=[l]:Xr=l,r=bd(r,"onChange"),0<r.length&&(a=new ra("onChange","change",null,a,l),s.push({event:a,listeners:r}))}var Dl=null,Ol=null;function q1(s){lb(s,0)}function Ou(s){var r=$r(s);if(et(r))return s}function jy(s,r){if(s==="change")return r}var Ry=!1;if(bn){var bf;if(bn){var wf="oninput"in document;if(!wf){var Iy=document.createElement("div");Iy.setAttribute("oninput","return;"),wf=typeof Iy.oninput=="function"}bf=wf}else bf=!1;Ry=bf&&(!document.documentMode||9<document.documentMode)}function ky(){Dl&&(Dl.detachEvent("onpropertychange",Dy),Ol=Dl=null)}function Dy(s){if(s.propertyName==="value"&&Ou(Ol)){var r=[];Cy(r,Ol,s,Sl(s)),ta(q1,r)}}function F1(s,r,a){s==="focusin"?(ky(),Dl=r,Ol=a,Dl.attachEvent("onpropertychange",Dy)):s==="focusout"&&ky()}function $1(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ou(Ol)}function G1(s,r){if(s==="click")return Ou(r)}function K1(s,r){if(s==="input"||s==="change")return Ou(r)}function Y1(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var Pn=typeof Object.is=="function"?Object.is:Y1;function Pl(s,r){if(Pn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var a=Object.keys(s),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Sn.call(r,f)||!Pn(s[f],r[f]))return!1}return!0}function Oy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Py(s,r){var a=Oy(s);s=0;for(var l;a;){if(a.nodeType===3){if(l=s+a.textContent.length,s<=r&&l>=r)return{node:a,offset:r-s};s=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Oy(a)}}function My(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?My(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function Vy(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=ir(s.document);r instanceof s.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)s=r.contentWindow;else break;r=ir(s.document)}return r}function xf(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var Q1=bn&&"documentMode"in document&&11>=document.documentMode,oo=null,_f=null,Ml=null,Ef=!1;function Ly(s,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ef||oo==null||oo!==ir(l)||(l=oo,"selectionStart"in l&&xf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ml&&Pl(Ml,l)||(Ml=l,l=bd(_f,"onSelect"),0<l.length&&(r=new ra("onSelect","select",null,r,a),s.push({event:r,listeners:l}),r.target=oo)))}function da(s,r){var a={};return a[s.toLowerCase()]=r.toLowerCase(),a["Webkit"+s]="webkit"+r,a["Moz"+s]="moz"+r,a}var lo={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},Tf={},Uy={};bn&&(Uy=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function ha(s){if(Tf[s])return Tf[s];if(!lo[s])return s;var r=lo[s],a;for(a in r)if(r.hasOwnProperty(a)&&a in Uy)return Tf[s]=r[a];return s}var By=ha("animationend"),zy=ha("animationiteration"),Hy=ha("animationstart"),X1=ha("transitionrun"),W1=ha("transitionstart"),Z1=ha("transitioncancel"),qy=ha("transitionend"),Fy=new Map,Nf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nf.push("scrollEnd");function bs(s,r){Fy.set(s,r),Rs(r,[s])}var $y=new WeakMap;function Jn(s,r){if(typeof s=="object"&&s!==null){var a=$y.get(s);return a!==void 0?a:(r={value:s,source:r,stack:ms(r)},$y.set(s,r),r)}return{value:s,source:r,stack:ms(r)}}var es=[],co=0,Sf=0;function Pu(){for(var s=co,r=Sf=co=0;r<s;){var a=es[r];es[r++]=null;var l=es[r];es[r++]=null;var f=es[r];es[r++]=null;var m=es[r];if(es[r++]=null,l!==null&&f!==null){var w=l.pending;w===null?f.next=f:(f.next=w.next,w.next=f),l.pending=f}m!==0&&Gy(a,f,m)}}function Mu(s,r,a,l){es[co++]=s,es[co++]=r,es[co++]=a,es[co++]=l,Sf|=l,s.lanes|=l,s=s.alternate,s!==null&&(s.lanes|=l)}function Af(s,r,a,l){return Mu(s,r,a,l),Vu(s)}function uo(s,r){return Mu(s,null,null,r),Vu(s)}function Gy(s,r,a){s.lanes|=a;var l=s.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=s.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(s=m.stateNode,s===null||s._visibility&1||(f=!0)),s=m,m=m.return;return s.tag===3?(m=s.stateNode,f&&r!==null&&(f=31-yn(a),s=m.hiddenUpdates,l=s[f],l===null?s[f]=[r]:l.push(r),r.lane=a|536870912),m):null}function Vu(s){if(50<oc)throw oc=0,Dm=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var ho={};function J1(s,r,a,l){this.tag=s,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(s,r,a,l){return new J1(s,r,a,l)}function Cf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function cr(s,r){var a=s.alternate;return a===null?(a=Mn(s.tag,r,s.key,s.mode),a.elementType=s.elementType,a.type=s.type,a.stateNode=s.stateNode,a.alternate=s,s.alternate=a):(a.pendingProps=r,a.type=s.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=s.flags&65011712,a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,r=s.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=s.sibling,a.index=s.index,a.ref=s.ref,a.refCleanup=s.refCleanup,a}function Ky(s,r){s.flags&=65011714;var a=s.alternate;return a===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,r=a.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Lu(s,r,a,l,f,m){var w=0;if(l=s,typeof s=="function")Cf(s)&&(w=1);else if(typeof s=="string")w=tN(s,a,be.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case C:return s=Mn(31,a,r,f),s.elementType=C,s.lanes=m,s;case B:return fa(a.children,f,m,r);case Q:w=8,f|=24;break;case L:return s=Mn(12,a,r,f|2),s.elementType=L,s.lanes=m,s;case oe:return s=Mn(13,a,r,f),s.elementType=oe,s.lanes=m,s;case ye:return s=Mn(19,a,r,f),s.elementType=ye,s.lanes=m,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case X:case Z:w=10;break e;case $:w=9;break e;case pe:w=11;break e;case S:w=14;break e;case A:w=16,l=null;break e}w=29,a=Error(i(130,s===null?"null":typeof s,"")),l=null}return r=Mn(w,a,r,f),r.elementType=s,r.type=l,r.lanes=m,r}function fa(s,r,a,l){return s=Mn(7,s,l,r),s.lanes=a,s}function jf(s,r,a){return s=Mn(6,s,null,r),s.lanes=a,s}function Rf(s,r,a){return r=Mn(4,s.children!==null?s.children:[],s.key,r),r.lanes=a,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var fo=[],mo=0,Uu=null,Bu=0,ts=[],ns=0,ma=null,ur=1,dr="";function pa(s,r){fo[mo++]=Bu,fo[mo++]=Uu,Uu=s,Bu=r}function Yy(s,r,a){ts[ns++]=ur,ts[ns++]=dr,ts[ns++]=ma,ma=s;var l=ur;s=dr;var f=32-yn(l)-1;l&=~(1<<f),a+=1;var m=32-yn(r)+f;if(30<m){var w=f-f%5;m=(l&(1<<w)-1).toString(32),l>>=w,f-=w,ur=1<<32-yn(r)+f|a<<f|l,dr=m+s}else ur=1<<m|a<<f|l,dr=s}function If(s){s.return!==null&&(pa(s,1),Yy(s,1,0))}function kf(s){for(;s===Uu;)Uu=fo[--mo],fo[mo]=null,Bu=fo[--mo],fo[mo]=null;for(;s===ma;)ma=ts[--ns],ts[ns]=null,dr=ts[--ns],ts[ns]=null,ur=ts[--ns],ts[ns]=null}var xn=null,vt=null,Ye=!1,ga=null,Ps=!1,Df=Error(i(519));function ya(s){var r=Error(i(418,""));throw Ul(Jn(r,s)),Df}function Qy(s){var r=s.stateNode,a=s.type,l=s.memoizedProps;switch(r[xt]=s,r[Zt]=l,a){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(a=0;a<cc.length;a++)Ue(cc[a],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":Ue("invalid",r),xl(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Yr(r);break;case"select":Ue("invalid",r);break;case"textarea":Ue("invalid",r),xu(r,l.value,l.defaultValue,l.children),Yr(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||hb(r.textContent,a)?(l.popover!=null&&(Ue("beforetoggle",r),Ue("toggle",r)),l.onScroll!=null&&Ue("scroll",r),l.onScrollEnd!=null&&Ue("scrollend",r),l.onClick!=null&&(r.onclick=wd),r=!0):r=!1,r||ya(s)}function Xy(s){for(xn=s.return;xn;)switch(xn.tag){case 5:case 13:Ps=!1;return;case 27:case 3:Ps=!0;return;default:xn=xn.return}}function Vl(s){if(s!==xn)return!1;if(!Ye)return Xy(s),Ye=!0,!1;var r=s.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=s.type,a=!(a!=="form"&&a!=="button")||Qm(s.type,s.memoizedProps)),a=!a),a&&vt&&ya(s),Xy(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,r=0;s;){if(s.nodeType===8)if(a=s.data,a==="/$"){if(r===0){vt=xs(s.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;s=s.nextSibling}vt=null}}else r===27?(r=vt,pi(s.type)?(s=Jm,Jm=null,vt=s):vt=r):vt=xn?xs(s.stateNode.nextSibling):null;return!0}function Ll(){vt=xn=null,Ye=!1}function Wy(){var s=ga;return s!==null&&(Rn===null?Rn=s:Rn.push.apply(Rn,s),ga=null),s}function Ul(s){ga===null?ga=[s]:ga.push(s)}var Of=re(null),va=null,hr=null;function ei(s,r,a){ue(Of,r._currentValue),r._currentValue=a}function fr(s){s._currentValue=Of.current,de(Of)}function Pf(s,r,a){for(;s!==null;){var l=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),s===a)break;s=s.return}}function Mf(s,r,a,l){var f=s.child;for(f!==null&&(f.return=s);f!==null;){var m=f.dependencies;if(m!==null){var w=f.child;m=m.firstContext;e:for(;m!==null;){var _=m;m=f;for(var j=0;j<r.length;j++)if(_.context===r[j]){m.lanes|=a,_=m.alternate,_!==null&&(_.lanes|=a),Pf(m.return,a,s),l||(w=null);break e}m=_.next}}else if(f.tag===18){if(w=f.return,w===null)throw Error(i(341));w.lanes|=a,m=w.alternate,m!==null&&(m.lanes|=a),Pf(w,a,s),w=null}else w=f.child;if(w!==null)w.return=f;else for(w=f;w!==null;){if(w===s){w=null;break}if(f=w.sibling,f!==null){f.return=w.return,w=f;break}w=w.return}f=w}}function Bl(s,r,a,l){s=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var w=f.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var _=f.type;Pn(f.pendingProps.value,w.value)||(s!==null?s.push(_):s=[_])}}else if(f===De.current){if(w=f.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(s!==null?s.push(pc):s=[pc])}f=f.return}s!==null&&Mf(r,s,a,l),r.flags|=262144}function zu(s){for(s=s.firstContext;s!==null;){if(!Pn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ba(s){va=s,hr=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function cn(s){return Zy(va,s)}function Hu(s,r){return va===null&&ba(s),Zy(s,r)}function Zy(s,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},hr===null){if(s===null)throw Error(i(308));hr=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else hr=hr.next=r;return a}var eT=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(a,l){s.push(l)}};this.abort=function(){r.aborted=!0,s.forEach(function(a){return a()})}},tT=n.unstable_scheduleCallback,nT=n.unstable_NormalPriority,Lt={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vf(){return{controller:new eT,data:new Map,refCount:0}}function zl(s){s.refCount--,s.refCount===0&&tT(nT,function(){s.controller.abort()})}var Hl=null,Lf=0,po=0,go=null;function sT(s,r){if(Hl===null){var a=Hl=[];Lf=0,po=Bm(),go={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Lf++,r.then(Jy,Jy),r}function Jy(){if(--Lf===0&&Hl!==null){go!==null&&(go.status="fulfilled");var s=Hl;Hl=null,po=0,go=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function rT(s,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return s.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var ev=F.S;F.S=function(s,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&sT(s,r),ev!==null&&ev(s,r)};var wa=re(null);function Uf(){var s=wa.current;return s!==null?s:lt.pooledCache}function qu(s,r){r===null?ue(wa,wa.current):ue(wa,r.pool)}function tv(){var s=Uf();return s===null?null:{parent:Lt._currentValue,pool:s}}var ql=Error(i(460)),nv=Error(i(474)),Fu=Error(i(542)),Bf={then:function(){}};function sv(s){return s=s.status,s==="fulfilled"||s==="rejected"}function $u(){}function rv(s,r,a){switch(a=s[a],a===void 0?s.push(r):a!==r&&(r.then($u,$u),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,av(s),s;default:if(typeof r.status=="string")r.then($u,$u);else{if(s=lt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,av(s),s}throw Fl=r,ql}}var Fl=null;function iv(){if(Fl===null)throw Error(i(459));var s=Fl;return Fl=null,s}function av(s){if(s===ql||s===Fu)throw Error(i(483))}var ti=!1;function zf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hf(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ni(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function si(s,r,a){var l=s.updateQueue;if(l===null)return null;if(l=l.shared,(Ze&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Vu(s),Gy(s,null,a),r}return Mu(s,l,r,a),Vu(s)}function $l(s,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=s.pendingLanes,a|=l,r.lanes=a,qr(s,a)}}function qf(s,r){var a=s.updateQueue,l=s.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var w={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=w:m=m.next=w,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},s.updateQueue=a;return}s=a.lastBaseUpdate,s===null?a.firstBaseUpdate=r:s.next=r,a.lastBaseUpdate=r}var Ff=!1;function Gl(){if(Ff){var s=go;if(s!==null)throw s}}function Kl(s,r,a,l){Ff=!1;var f=s.updateQueue;ti=!1;var m=f.firstBaseUpdate,w=f.lastBaseUpdate,_=f.shared.pending;if(_!==null){f.shared.pending=null;var j=_,q=j.next;j.next=null,w===null?m=q:w.next=q,w=j;var J=s.alternate;J!==null&&(J=J.updateQueue,_=J.lastBaseUpdate,_!==w&&(_===null?J.firstBaseUpdate=q:_.next=q,J.lastBaseUpdate=j))}if(m!==null){var ne=f.baseState;w=0,J=q=j=null,_=m;do{var G=_.lane&-536870913,K=G!==_.lane;if(K?(qe&G)===G:(l&G)===G){G!==0&&G===po&&(Ff=!0),J!==null&&(J=J.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var Ce=s,Te=_;G=r;var st=a;switch(Te.tag){case 1:if(Ce=Te.payload,typeof Ce=="function"){ne=Ce.call(st,ne,G);break e}ne=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Te.payload,G=typeof Ce=="function"?Ce.call(st,ne,G):Ce,G==null)break e;ne=x({},ne,G);break e;case 2:ti=!0}}G=_.callback,G!==null&&(s.flags|=64,K&&(s.flags|=8192),K=f.callbacks,K===null?f.callbacks=[G]:K.push(G))}else K={lane:G,tag:_.tag,payload:_.payload,callback:_.callback,next:null},J===null?(q=J=K,j=ne):J=J.next=K,w|=G;if(_=_.next,_===null){if(_=f.shared.pending,_===null)break;K=_,_=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);J===null&&(j=ne),f.baseState=j,f.firstBaseUpdate=q,f.lastBaseUpdate=J,m===null&&(f.shared.lanes=0),di|=w,s.lanes=w,s.memoizedState=ne}}function ov(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function lv(s,r){var a=s.callbacks;if(a!==null)for(s.callbacks=null,s=0;s<a.length;s++)ov(a[s],r)}var yo=re(null),Gu=re(0);function cv(s,r){s=wr,ue(Gu,s),ue(yo,r),wr=s|r.baseLanes}function $f(){ue(Gu,wr),ue(yo,yo.current)}function Gf(){wr=Gu.current,de(yo),de(Gu)}var ri=0,Pe=null,tt=null,It=null,Ku=!1,vo=!1,xa=!1,Yu=0,Yl=0,bo=null,iT=0;function Tt(){throw Error(i(321))}function Kf(s,r){if(r===null)return!1;for(var a=0;a<r.length&&a<s.length;a++)if(!Pn(s[a],r[a]))return!1;return!0}function Yf(s,r,a,l,f,m){return ri=m,Pe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,F.H=s===null||s.memoizedState===null?Gv:Kv,xa=!1,m=a(l,f),xa=!1,vo&&(m=dv(r,a,l,f)),uv(s),m}function uv(s){F.H=ed;var r=tt!==null&&tt.next!==null;if(ri=0,It=tt=Pe=null,Ku=!1,Yl=0,bo=null,r)throw Error(i(300));s===null||Kt||(s=s.dependencies,s!==null&&zu(s)&&(Kt=!0))}function dv(s,r,a,l){Pe=s;var f=0;do{if(vo&&(bo=null),Yl=0,vo=!1,25<=f)throw Error(i(301));if(f+=1,It=tt=null,s.updateQueue!=null){var m=s.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}F.H=hT,m=r(a,l)}while(vo);return m}function aT(){var s=F.H,r=s.useState()[0];return r=typeof r.then=="function"?Ql(r):r,s=s.useState()[0],(tt!==null?tt.memoizedState:null)!==s&&(Pe.flags|=1024),r}function Qf(){var s=Yu!==0;return Yu=0,s}function Xf(s,r,a){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~a}function Wf(s){if(Ku){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Ku=!1}ri=0,It=tt=Pe=null,vo=!1,Yl=Yu=0,bo=null}function Cn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Pe.memoizedState=It=s:It=It.next=s,It}function kt(){if(tt===null){var s=Pe.alternate;s=s!==null?s.memoizedState:null}else s=tt.next;var r=It===null?Pe.memoizedState:It.next;if(r!==null)It=r,tt=s;else{if(s===null)throw Pe.alternate===null?Error(i(467)):Error(i(310));tt=s,s={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},It===null?Pe.memoizedState=It=s:It=It.next=s}return It}function Zf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ql(s){var r=Yl;return Yl+=1,bo===null&&(bo=[]),s=rv(bo,s,r),r=Pe,(It===null?r.memoizedState:It.next)===null&&(r=r.alternate,F.H=r===null||r.memoizedState===null?Gv:Kv),s}function Qu(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Ql(s);if(s.$$typeof===Z)return cn(s)}throw Error(i(438,String(s)))}function Jf(s){var r=null,a=Pe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Pe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Zf(),Pe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(s),l=0;l<s;l++)a[l]=M;return r.index++,a}function mr(s,r){return typeof r=="function"?r(s):r}function Xu(s){var r=kt();return em(r,tt,s)}function em(s,r,a){var l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var f=s.baseQueue,m=l.pending;if(m!==null){if(f!==null){var w=f.next;f.next=m.next,m.next=w}r.baseQueue=f=m,l.pending=null}if(m=s.baseState,f===null)s.memoizedState=m;else{r=f.next;var _=w=null,j=null,q=r,J=!1;do{var ne=q.lane&-536870913;if(ne!==q.lane?(qe&ne)===ne:(ri&ne)===ne){var G=q.revertLane;if(G===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ne===po&&(J=!0);else if((ri&G)===G){q=q.next,G===po&&(J=!0);continue}else ne={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},j===null?(_=j=ne,w=m):j=j.next=ne,Pe.lanes|=G,di|=G;ne=q.action,xa&&a(m,ne),m=q.hasEagerState?q.eagerState:a(m,ne)}else G={lane:ne,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},j===null?(_=j=G,w=m):j=j.next=G,Pe.lanes|=ne,di|=ne;q=q.next}while(q!==null&&q!==r);if(j===null?w=m:j.next=_,!Pn(m,s.memoizedState)&&(Kt=!0,J&&(a=go,a!==null)))throw a;s.memoizedState=m,s.baseState=w,s.baseQueue=j,l.lastRenderedState=m}return f===null&&(l.lanes=0),[s.memoizedState,l.dispatch]}function tm(s){var r=kt(),a=r.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=s;var l=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var w=f=f.next;do m=s(m,w.action),w=w.next;while(w!==f);Pn(m,r.memoizedState)||(Kt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function hv(s,r,a){var l=Pe,f=kt(),m=Ye;if(m){if(a===void 0)throw Error(i(407));a=a()}else a=r();var w=!Pn((tt||f).memoizedState,a);w&&(f.memoizedState=a,Kt=!0),f=f.queue;var _=pv.bind(null,l,f,s);if(Xl(2048,8,_,[s]),f.getSnapshot!==r||w||It!==null&&It.memoizedState.tag&1){if(l.flags|=2048,wo(9,Wu(),mv.bind(null,l,f,a,r),null),lt===null)throw Error(i(349));m||(ri&124)!==0||fv(l,r,a)}return a}function fv(s,r,a){s.flags|=16384,s={getSnapshot:r,value:a},r=Pe.updateQueue,r===null?(r=Zf(),Pe.updateQueue=r,r.stores=[s]):(a=r.stores,a===null?r.stores=[s]:a.push(s))}function mv(s,r,a,l){r.value=a,r.getSnapshot=l,gv(r)&&yv(s)}function pv(s,r,a){return a(function(){gv(r)&&yv(s)})}function gv(s){var r=s.getSnapshot;s=s.value;try{var a=r();return!Pn(s,a)}catch{return!0}}function yv(s){var r=uo(s,2);r!==null&&zn(r,s,2)}function nm(s){var r=Cn();if(typeof s=="function"){var a=s;if(s=a(),xa){Yn(!0);try{a()}finally{Yn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mr,lastRenderedState:s},r}function vv(s,r,a,l){return s.baseState=a,em(s,tt,typeof l=="function"?l:mr)}function oT(s,r,a,l,f){if(Ju(s))throw Error(i(485));if(s=r.action,s!==null){var m={payload:f,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){m.listeners.push(w)}};F.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,bv(r,m)):(m.next=a.next,r.pending=a.next=m)}}function bv(s,r){var a=r.action,l=r.payload,f=s.state;if(r.isTransition){var m=F.T,w={};F.T=w;try{var _=a(f,l),j=F.S;j!==null&&j(w,_),wv(s,r,_)}catch(q){sm(s,r,q)}finally{F.T=m}}else try{m=a(f,l),wv(s,r,m)}catch(q){sm(s,r,q)}}function wv(s,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){xv(s,r,l)},function(l){return sm(s,r,l)}):xv(s,r,a)}function xv(s,r,a){r.status="fulfilled",r.value=a,_v(r),s.state=a,r=s.pending,r!==null&&(a=r.next,a===r?s.pending=null:(a=a.next,r.next=a,bv(s,a)))}function sm(s,r,a){var l=s.pending;if(s.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,_v(r),r=r.next;while(r!==l)}s.action=null}function _v(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function Ev(s,r){return r}function Tv(s,r){if(Ye){var a=lt.formState;if(a!==null){e:{var l=Pe;if(Ye){if(vt){t:{for(var f=vt,m=Ps;f.nodeType!==8;){if(!m){f=null;break t}if(f=xs(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){vt=xs(f.nextSibling),l=f.data==="F!";break e}}ya(l)}l=!1}l&&(r=a[0])}}return a=Cn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ev,lastRenderedState:r},a.queue=l,a=qv.bind(null,Pe,l),l.dispatch=a,l=nm(!1),m=lm.bind(null,Pe,!1,l.queue),l=Cn(),f={state:r,dispatch:null,action:s,pending:null},l.queue=f,a=oT.bind(null,Pe,f,m,a),f.dispatch=a,l.memoizedState=s,[r,a,!1]}function Nv(s){var r=kt();return Sv(r,tt,s)}function Sv(s,r,a){if(r=em(s,r,Ev)[0],s=Xu(mr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Ql(r)}catch(w){throw w===ql?Fu:w}else l=r;r=kt();var f=r.queue,m=f.dispatch;return a!==r.memoizedState&&(Pe.flags|=2048,wo(9,Wu(),lT.bind(null,f,a),null)),[l,m,s]}function lT(s,r){s.action=r}function Av(s){var r=kt(),a=tt;if(a!==null)return Sv(r,a,s);kt(),r=r.memoizedState,a=kt();var l=a.queue.dispatch;return a.memoizedState=s,[r,l,!1]}function wo(s,r,a,l){return s={tag:s,create:a,deps:l,inst:r,next:null},r=Pe.updateQueue,r===null&&(r=Zf(),Pe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=s.next=s:(l=a.next,a.next=s,s.next=l,r.lastEffect=s),s}function Wu(){return{destroy:void 0,resource:void 0}}function Cv(){return kt().memoizedState}function Zu(s,r,a,l){var f=Cn();l=l===void 0?null:l,Pe.flags|=s,f.memoizedState=wo(1|r,Wu(),a,l)}function Xl(s,r,a,l){var f=kt();l=l===void 0?null:l;var m=f.memoizedState.inst;tt!==null&&l!==null&&Kf(l,tt.memoizedState.deps)?f.memoizedState=wo(r,m,a,l):(Pe.flags|=s,f.memoizedState=wo(1|r,m,a,l))}function jv(s,r){Zu(8390656,8,s,r)}function Rv(s,r){Xl(2048,8,s,r)}function Iv(s,r){return Xl(4,2,s,r)}function kv(s,r){return Xl(4,4,s,r)}function Dv(s,r){if(typeof r=="function"){s=s();var a=r(s);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function Ov(s,r,a){a=a!=null?a.concat([s]):null,Xl(4,4,Dv.bind(null,r,s),a)}function rm(){}function Pv(s,r){var a=kt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Kf(r,l[1])?l[0]:(a.memoizedState=[s,r],s)}function Mv(s,r){var a=kt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Kf(r,l[1]))return l[0];if(l=s(),xa){Yn(!0);try{s()}finally{Yn(!1)}}return a.memoizedState=[l,r],l}function im(s,r,a){return a===void 0||(ri&1073741824)!==0?s.memoizedState=r:(s.memoizedState=a,s=U0(),Pe.lanes|=s,di|=s,a)}function Vv(s,r,a,l){return Pn(a,r)?a:yo.current!==null?(s=im(s,a,l),Pn(s,r)||(Kt=!0),s):(ri&42)===0?(Kt=!0,s.memoizedState=a):(s=U0(),Pe.lanes|=s,di|=s,r)}function Lv(s,r,a,l,f){var m=ae.p;ae.p=m!==0&&8>m?m:8;var w=F.T,_={};F.T=_,lm(s,!1,r,a);try{var j=f(),q=F.S;if(q!==null&&q(_,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var J=rT(j,l);Wl(s,r,J,Bn(s))}else Wl(s,r,l,Bn(s))}catch(ne){Wl(s,r,{then:function(){},status:"rejected",reason:ne},Bn())}finally{ae.p=m,F.T=w}}function cT(){}function am(s,r,a,l){if(s.tag!==5)throw Error(i(476));var f=Uv(s).queue;Lv(s,f,r,fe,a===null?cT:function(){return Bv(s),a(l)})}function Uv(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mr,lastRenderedState:fe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mr,lastRenderedState:a},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function Bv(s){var r=Uv(s).next.queue;Wl(s,r,{},Bn())}function om(){return cn(pc)}function zv(){return kt().memoizedState}function Hv(){return kt().memoizedState}function uT(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var a=Bn();s=ni(a);var l=si(r,s,a);l!==null&&(zn(l,r,a),$l(l,r,a)),r={cache:Vf()},s.payload=r;return}r=r.return}}function dT(s,r,a){var l=Bn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ju(s)?Fv(r,a):(a=Af(s,r,a,l),a!==null&&(zn(a,s,l),$v(a,r,l)))}function qv(s,r,a){var l=Bn();Wl(s,r,a,l)}function Wl(s,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ju(s))Fv(r,f);else{var m=s.alternate;if(s.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var w=r.lastRenderedState,_=m(w,a);if(f.hasEagerState=!0,f.eagerState=_,Pn(_,w))return Mu(s,r,f,0),lt===null&&Pu(),!1}catch{}finally{}if(a=Af(s,r,f,l),a!==null)return zn(a,s,l),$v(a,r,l),!0}return!1}function lm(s,r,a,l){if(l={lane:2,revertLane:Bm(),action:l,hasEagerState:!1,eagerState:null,next:null},Ju(s)){if(r)throw Error(i(479))}else r=Af(s,a,l,2),r!==null&&zn(r,s,2)}function Ju(s){var r=s.alternate;return s===Pe||r!==null&&r===Pe}function Fv(s,r){vo=Ku=!0;var a=s.pending;a===null?r.next=r:(r.next=a.next,a.next=r),s.pending=r}function $v(s,r,a){if((a&4194048)!==0){var l=r.lanes;l&=s.pendingLanes,a|=l,r.lanes=a,qr(s,a)}}var ed={readContext:cn,use:Qu,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt},Gv={readContext:cn,use:Qu,useCallback:function(s,r){return Cn().memoizedState=[s,r===void 0?null:r],s},useContext:cn,useEffect:jv,useImperativeHandle:function(s,r,a){a=a!=null?a.concat([s]):null,Zu(4194308,4,Dv.bind(null,r,s),a)},useLayoutEffect:function(s,r){return Zu(4194308,4,s,r)},useInsertionEffect:function(s,r){Zu(4,2,s,r)},useMemo:function(s,r){var a=Cn();r=r===void 0?null:r;var l=s();if(xa){Yn(!0);try{s()}finally{Yn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(s,r,a){var l=Cn();if(a!==void 0){var f=a(r);if(xa){Yn(!0);try{a(r)}finally{Yn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:f},l.queue=s,s=s.dispatch=dT.bind(null,Pe,s),[l.memoizedState,s]},useRef:function(s){var r=Cn();return s={current:s},r.memoizedState=s},useState:function(s){s=nm(s);var r=s.queue,a=qv.bind(null,Pe,r);return r.dispatch=a,[s.memoizedState,a]},useDebugValue:rm,useDeferredValue:function(s,r){var a=Cn();return im(a,s,r)},useTransition:function(){var s=nm(!1);return s=Lv.bind(null,Pe,s.queue,!0,!1),Cn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,a){var l=Pe,f=Cn();if(Ye){if(a===void 0)throw Error(i(407));a=a()}else{if(a=r(),lt===null)throw Error(i(349));(qe&124)!==0||fv(l,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,jv(pv.bind(null,l,m,s),[s]),l.flags|=2048,wo(9,Wu(),mv.bind(null,l,m,a,r),null),a},useId:function(){var s=Cn(),r=lt.identifierPrefix;if(Ye){var a=dr,l=ur;a=(l&~(1<<32-yn(l)-1)).toString(32)+a,r=""+r+"R"+a,a=Yu++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=iT++,r=""+r+"r"+a.toString(32)+"";return s.memoizedState=r},useHostTransitionStatus:om,useFormState:Tv,useActionState:Tv,useOptimistic:function(s){var r=Cn();r.memoizedState=r.baseState=s;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=lm.bind(null,Pe,!0,a),a.dispatch=r,[s,r]},useMemoCache:Jf,useCacheRefresh:function(){return Cn().memoizedState=uT.bind(null,Pe)}},Kv={readContext:cn,use:Qu,useCallback:Pv,useContext:cn,useEffect:Rv,useImperativeHandle:Ov,useInsertionEffect:Iv,useLayoutEffect:kv,useMemo:Mv,useReducer:Xu,useRef:Cv,useState:function(){return Xu(mr)},useDebugValue:rm,useDeferredValue:function(s,r){var a=kt();return Vv(a,tt.memoizedState,s,r)},useTransition:function(){var s=Xu(mr)[0],r=kt().memoizedState;return[typeof s=="boolean"?s:Ql(s),r]},useSyncExternalStore:hv,useId:zv,useHostTransitionStatus:om,useFormState:Nv,useActionState:Nv,useOptimistic:function(s,r){var a=kt();return vv(a,tt,s,r)},useMemoCache:Jf,useCacheRefresh:Hv},hT={readContext:cn,use:Qu,useCallback:Pv,useContext:cn,useEffect:Rv,useImperativeHandle:Ov,useInsertionEffect:Iv,useLayoutEffect:kv,useMemo:Mv,useReducer:tm,useRef:Cv,useState:function(){return tm(mr)},useDebugValue:rm,useDeferredValue:function(s,r){var a=kt();return tt===null?im(a,s,r):Vv(a,tt.memoizedState,s,r)},useTransition:function(){var s=tm(mr)[0],r=kt().memoizedState;return[typeof s=="boolean"?s:Ql(s),r]},useSyncExternalStore:hv,useId:zv,useHostTransitionStatus:om,useFormState:Av,useActionState:Av,useOptimistic:function(s,r){var a=kt();return tt!==null?vv(a,tt,s,r):(a.baseState=s,[s,a.queue.dispatch])},useMemoCache:Jf,useCacheRefresh:Hv},xo=null,Zl=0;function td(s){var r=Zl;return Zl+=1,xo===null&&(xo=[]),rv(xo,s,r)}function Jl(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function nd(s,r){throw r.$$typeof===E?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function Yv(s){var r=s._init;return r(s._payload)}function Qv(s){function r(V,P){if(s){var z=V.deletions;z===null?(V.deletions=[P],V.flags|=16):z.push(P)}}function a(V,P){if(!s)return null;for(;P!==null;)r(V,P),P=P.sibling;return null}function l(V){for(var P=new Map;V!==null;)V.key!==null?P.set(V.key,V):P.set(V.index,V),V=V.sibling;return P}function f(V,P){return V=cr(V,P),V.index=0,V.sibling=null,V}function m(V,P,z){return V.index=z,s?(z=V.alternate,z!==null?(z=z.index,z<P?(V.flags|=67108866,P):z):(V.flags|=67108866,P)):(V.flags|=1048576,P)}function w(V){return s&&V.alternate===null&&(V.flags|=67108866),V}function _(V,P,z,ee){return P===null||P.tag!==6?(P=jf(z,V.mode,ee),P.return=V,P):(P=f(P,z),P.return=V,P)}function j(V,P,z,ee){var ge=z.type;return ge===B?J(V,P,z.props.children,ee,z.key):P!==null&&(P.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===A&&Yv(ge)===P.type)?(P=f(P,z.props),Jl(P,z),P.return=V,P):(P=Lu(z.type,z.key,z.props,null,V.mode,ee),Jl(P,z),P.return=V,P)}function q(V,P,z,ee){return P===null||P.tag!==4||P.stateNode.containerInfo!==z.containerInfo||P.stateNode.implementation!==z.implementation?(P=Rf(z,V.mode,ee),P.return=V,P):(P=f(P,z.children||[]),P.return=V,P)}function J(V,P,z,ee,ge){return P===null||P.tag!==7?(P=fa(z,V.mode,ee,ge),P.return=V,P):(P=f(P,z),P.return=V,P)}function ne(V,P,z){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=jf(""+P,V.mode,z),P.return=V,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case N:return z=Lu(P.type,P.key,P.props,null,V.mode,z),Jl(z,P),z.return=V,z;case k:return P=Rf(P,V.mode,z),P.return=V,P;case A:var ee=P._init;return P=ee(P._payload),ne(V,P,z)}if(le(P)||U(P))return P=fa(P,V.mode,z,null),P.return=V,P;if(typeof P.then=="function")return ne(V,td(P),z);if(P.$$typeof===Z)return ne(V,Hu(V,P),z);nd(V,P)}return null}function G(V,P,z,ee){var ge=P!==null?P.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ge!==null?null:_(V,P,""+z,ee);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case N:return z.key===ge?j(V,P,z,ee):null;case k:return z.key===ge?q(V,P,z,ee):null;case A:return ge=z._init,z=ge(z._payload),G(V,P,z,ee)}if(le(z)||U(z))return ge!==null?null:J(V,P,z,ee,null);if(typeof z.then=="function")return G(V,P,td(z),ee);if(z.$$typeof===Z)return G(V,P,Hu(V,z),ee);nd(V,z)}return null}function K(V,P,z,ee,ge){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return V=V.get(z)||null,_(P,V,""+ee,ge);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case N:return V=V.get(ee.key===null?z:ee.key)||null,j(P,V,ee,ge);case k:return V=V.get(ee.key===null?z:ee.key)||null,q(P,V,ee,ge);case A:var Ve=ee._init;return ee=Ve(ee._payload),K(V,P,z,ee,ge)}if(le(ee)||U(ee))return V=V.get(z)||null,J(P,V,ee,ge,null);if(typeof ee.then=="function")return K(V,P,z,td(ee),ge);if(ee.$$typeof===Z)return K(V,P,z,Hu(P,ee),ge);nd(P,ee)}return null}function Ce(V,P,z,ee){for(var ge=null,Ve=null,we=P,Ne=P=0,Qt=null;we!==null&&Ne<z.length;Ne++){we.index>Ne?(Qt=we,we=null):Qt=we.sibling;var Ge=G(V,we,z[Ne],ee);if(Ge===null){we===null&&(we=Qt);break}s&&we&&Ge.alternate===null&&r(V,we),P=m(Ge,P,Ne),Ve===null?ge=Ge:Ve.sibling=Ge,Ve=Ge,we=Qt}if(Ne===z.length)return a(V,we),Ye&&pa(V,Ne),ge;if(we===null){for(;Ne<z.length;Ne++)we=ne(V,z[Ne],ee),we!==null&&(P=m(we,P,Ne),Ve===null?ge=we:Ve.sibling=we,Ve=we);return Ye&&pa(V,Ne),ge}for(we=l(we);Ne<z.length;Ne++)Qt=K(we,V,Ne,z[Ne],ee),Qt!==null&&(s&&Qt.alternate!==null&&we.delete(Qt.key===null?Ne:Qt.key),P=m(Qt,P,Ne),Ve===null?ge=Qt:Ve.sibling=Qt,Ve=Qt);return s&&we.forEach(function(wi){return r(V,wi)}),Ye&&pa(V,Ne),ge}function Te(V,P,z,ee){if(z==null)throw Error(i(151));for(var ge=null,Ve=null,we=P,Ne=P=0,Qt=null,Ge=z.next();we!==null&&!Ge.done;Ne++,Ge=z.next()){we.index>Ne?(Qt=we,we=null):Qt=we.sibling;var wi=G(V,we,Ge.value,ee);if(wi===null){we===null&&(we=Qt);break}s&&we&&wi.alternate===null&&r(V,we),P=m(wi,P,Ne),Ve===null?ge=wi:Ve.sibling=wi,Ve=wi,we=Qt}if(Ge.done)return a(V,we),Ye&&pa(V,Ne),ge;if(we===null){for(;!Ge.done;Ne++,Ge=z.next())Ge=ne(V,Ge.value,ee),Ge!==null&&(P=m(Ge,P,Ne),Ve===null?ge=Ge:Ve.sibling=Ge,Ve=Ge);return Ye&&pa(V,Ne),ge}for(we=l(we);!Ge.done;Ne++,Ge=z.next())Ge=K(we,V,Ne,Ge.value,ee),Ge!==null&&(s&&Ge.alternate!==null&&we.delete(Ge.key===null?Ne:Ge.key),P=m(Ge,P,Ne),Ve===null?ge=Ge:Ve.sibling=Ge,Ve=Ge);return s&&we.forEach(function(fN){return r(V,fN)}),Ye&&pa(V,Ne),ge}function st(V,P,z,ee){if(typeof z=="object"&&z!==null&&z.type===B&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case N:e:{for(var ge=z.key;P!==null;){if(P.key===ge){if(ge=z.type,ge===B){if(P.tag===7){a(V,P.sibling),ee=f(P,z.props.children),ee.return=V,V=ee;break e}}else if(P.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===A&&Yv(ge)===P.type){a(V,P.sibling),ee=f(P,z.props),Jl(ee,z),ee.return=V,V=ee;break e}a(V,P);break}else r(V,P);P=P.sibling}z.type===B?(ee=fa(z.props.children,V.mode,ee,z.key),ee.return=V,V=ee):(ee=Lu(z.type,z.key,z.props,null,V.mode,ee),Jl(ee,z),ee.return=V,V=ee)}return w(V);case k:e:{for(ge=z.key;P!==null;){if(P.key===ge)if(P.tag===4&&P.stateNode.containerInfo===z.containerInfo&&P.stateNode.implementation===z.implementation){a(V,P.sibling),ee=f(P,z.children||[]),ee.return=V,V=ee;break e}else{a(V,P);break}else r(V,P);P=P.sibling}ee=Rf(z,V.mode,ee),ee.return=V,V=ee}return w(V);case A:return ge=z._init,z=ge(z._payload),st(V,P,z,ee)}if(le(z))return Ce(V,P,z,ee);if(U(z)){if(ge=U(z),typeof ge!="function")throw Error(i(150));return z=ge.call(z),Te(V,P,z,ee)}if(typeof z.then=="function")return st(V,P,td(z),ee);if(z.$$typeof===Z)return st(V,P,Hu(V,z),ee);nd(V,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,P!==null&&P.tag===6?(a(V,P.sibling),ee=f(P,z),ee.return=V,V=ee):(a(V,P),ee=jf(z,V.mode,ee),ee.return=V,V=ee),w(V)):a(V,P)}return function(V,P,z,ee){try{Zl=0;var ge=st(V,P,z,ee);return xo=null,ge}catch(we){if(we===ql||we===Fu)throw we;var Ve=Mn(29,we,null,V.mode);return Ve.lanes=ee,Ve.return=V,Ve}finally{}}}var _o=Qv(!0),Xv=Qv(!1),ss=re(null),Ms=null;function ii(s){var r=s.alternate;ue(Ut,Ut.current&1),ue(ss,s),Ms===null&&(r===null||yo.current!==null||r.memoizedState!==null)&&(Ms=s)}function Wv(s){if(s.tag===22){if(ue(Ut,Ut.current),ue(ss,s),Ms===null){var r=s.alternate;r!==null&&r.memoizedState!==null&&(Ms=s)}}else ai()}function ai(){ue(Ut,Ut.current),ue(ss,ss.current)}function pr(s){de(ss),Ms===s&&(Ms=null),de(Ut)}var Ut=re(0);function sd(s){for(var r=s;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Zm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function cm(s,r,a,l){r=s.memoizedState,a=a(l,r),a=a==null?r:x({},r,a),s.memoizedState=a,s.lanes===0&&(s.updateQueue.baseState=a)}var um={enqueueSetState:function(s,r,a){s=s._reactInternals;var l=Bn(),f=ni(l);f.payload=r,a!=null&&(f.callback=a),r=si(s,f,l),r!==null&&(zn(r,s,l),$l(r,s,l))},enqueueReplaceState:function(s,r,a){s=s._reactInternals;var l=Bn(),f=ni(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=si(s,f,l),r!==null&&(zn(r,s,l),$l(r,s,l))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var a=Bn(),l=ni(a);l.tag=2,r!=null&&(l.callback=r),r=si(s,l,a),r!==null&&(zn(r,s,a),$l(r,s,a))}};function Zv(s,r,a,l,f,m,w){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(l,m,w):r.prototype&&r.prototype.isPureReactComponent?!Pl(a,l)||!Pl(f,m):!0}function Jv(s,r,a,l){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==s&&um.enqueueReplaceState(r,r.state,null)}function _a(s,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(s=s.defaultProps){a===r&&(a=x({},a));for(var f in s)a[f]===void 0&&(a[f]=s[f])}return a}var rd=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function e0(s){rd(s)}function t0(s){console.error(s)}function n0(s){rd(s)}function id(s,r){try{var a=s.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function s0(s,r,a){try{var l=s.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function dm(s,r,a){return a=ni(a),a.tag=3,a.payload={element:null},a.callback=function(){id(s,r)},a}function r0(s){return s=ni(s),s.tag=3,s}function i0(s,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;s.payload=function(){return f(m)},s.callback=function(){s0(r,a,l)}}var w=a.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(s.callback=function(){s0(r,a,l),typeof f!="function"&&(hi===null?hi=new Set([this]):hi.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function fT(s,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Bl(r,a,f,!0),a=ss.current,a!==null){switch(a.tag){case 13:return Ms===null?Pm():a.alternate===null&&bt===0&&(bt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Bf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Vm(s,l,f)),!1;case 22:return a.flags|=65536,l===Bf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Vm(s,l,f)),!1}throw Error(i(435,a.tag))}return Vm(s,l,f),Pm(),!1}if(Ye)return r=ss.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Df&&(s=Error(i(422),{cause:l}),Ul(Jn(s,a)))):(l!==Df&&(r=Error(i(423),{cause:l}),Ul(Jn(r,a))),s=s.current.alternate,s.flags|=65536,f&=-f,s.lanes|=f,l=Jn(l,a),f=dm(s.stateNode,l,f),qf(s,f),bt!==4&&(bt=2)),!1;var m=Error(i(520),{cause:l});if(m=Jn(m,a),ac===null?ac=[m]:ac.push(m),bt!==4&&(bt=2),r===null)return!0;l=Jn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,s=f&-f,a.lanes|=s,s=dm(a.stateNode,l,s),qf(a,s),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(hi===null||!hi.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=r0(f),i0(f,s,a,l),qf(a,f),!1}a=a.return}while(a!==null);return!1}var a0=Error(i(461)),Kt=!1;function Jt(s,r,a,l){r.child=s===null?Xv(r,null,a,l):_o(r,s.child,a,l)}function o0(s,r,a,l,f){a=a.render;var m=r.ref;if("ref"in l){var w={};for(var _ in l)_!=="ref"&&(w[_]=l[_])}else w=l;return ba(r),l=Yf(s,r,a,w,m,f),_=Qf(),s!==null&&!Kt?(Xf(s,r,f),gr(s,r,f)):(Ye&&_&&If(r),r.flags|=1,Jt(s,r,l,f),r.child)}function l0(s,r,a,l,f){if(s===null){var m=a.type;return typeof m=="function"&&!Cf(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,c0(s,r,m,l,f)):(s=Lu(a.type,null,l,r,r.mode,f),s.ref=r.ref,s.return=r,r.child=s)}if(m=s.child,!bm(s,f)){var w=m.memoizedProps;if(a=a.compare,a=a!==null?a:Pl,a(w,l)&&s.ref===r.ref)return gr(s,r,f)}return r.flags|=1,s=cr(m,l),s.ref=r.ref,s.return=r,r.child=s}function c0(s,r,a,l,f){if(s!==null){var m=s.memoizedProps;if(Pl(m,l)&&s.ref===r.ref)if(Kt=!1,r.pendingProps=l=m,bm(s,f))(s.flags&131072)!==0&&(Kt=!0);else return r.lanes=s.lanes,gr(s,r,f)}return hm(s,r,a,l,f)}function u0(s,r,a){var l=r.pendingProps,f=l.children,m=s!==null?s.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,s!==null){for(f=r.child=s.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;r.childLanes=m&~l}else r.childLanes=0,r.child=null;return d0(s,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&qu(r,m!==null?m.cachePool:null),m!==null?cv(r,m):$f(),Wv(r);else return r.lanes=r.childLanes=536870912,d0(s,r,m!==null?m.baseLanes|a:a,a)}else m!==null?(qu(r,m.cachePool),cv(r,m),ai(),r.memoizedState=null):(s!==null&&qu(r,null),$f(),ai());return Jt(s,r,f,a),r.child}function d0(s,r,a,l){var f=Uf();return f=f===null?null:{parent:Lt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},s!==null&&qu(r,null),$f(),Wv(r),s!==null&&Bl(s,r,l,!0),null}function ad(s,r){var a=r.ref;if(a===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(s===null||s.ref!==a)&&(r.flags|=4194816)}}function hm(s,r,a,l,f){return ba(r),a=Yf(s,r,a,l,void 0,f),l=Qf(),s!==null&&!Kt?(Xf(s,r,f),gr(s,r,f)):(Ye&&l&&If(r),r.flags|=1,Jt(s,r,a,f),r.child)}function h0(s,r,a,l,f,m){return ba(r),r.updateQueue=null,a=dv(r,l,a,f),uv(s),l=Qf(),s!==null&&!Kt?(Xf(s,r,m),gr(s,r,m)):(Ye&&l&&If(r),r.flags|=1,Jt(s,r,a,m),r.child)}function f0(s,r,a,l,f){if(ba(r),r.stateNode===null){var m=ho,w=a.contextType;typeof w=="object"&&w!==null&&(m=cn(w)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=um,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},zf(r),w=a.contextType,m.context=typeof w=="object"&&w!==null?cn(w):ho,m.state=r.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(cm(r,a,w,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(w=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),w!==m.state&&um.enqueueReplaceState(m,m.state,null),Kl(r,l,m,f),Gl(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(s===null){m=r.stateNode;var _=r.memoizedProps,j=_a(a,_);m.props=j;var q=m.context,J=a.contextType;w=ho,typeof J=="object"&&J!==null&&(w=cn(J));var ne=a.getDerivedStateFromProps;J=typeof ne=="function"||typeof m.getSnapshotBeforeUpdate=="function",_=r.pendingProps!==_,J||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_||q!==w)&&Jv(r,m,l,w),ti=!1;var G=r.memoizedState;m.state=G,Kl(r,l,m,f),Gl(),q=r.memoizedState,_||G!==q||ti?(typeof ne=="function"&&(cm(r,a,ne,l),q=r.memoizedState),(j=ti||Zv(r,a,j,l,G,q,w))?(J||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),m.props=l,m.state=q,m.context=w,l=j):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,Hf(s,r),w=r.memoizedProps,J=_a(a,w),m.props=J,ne=r.pendingProps,G=m.context,q=a.contextType,j=ho,typeof q=="object"&&q!==null&&(j=cn(q)),_=a.getDerivedStateFromProps,(q=typeof _=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w!==ne||G!==j)&&Jv(r,m,l,j),ti=!1,G=r.memoizedState,m.state=G,Kl(r,l,m,f),Gl();var K=r.memoizedState;w!==ne||G!==K||ti||s!==null&&s.dependencies!==null&&zu(s.dependencies)?(typeof _=="function"&&(cm(r,a,_,l),K=r.memoizedState),(J=ti||Zv(r,a,J,l,G,K,j)||s!==null&&s.dependencies!==null&&zu(s.dependencies))?(q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,K,j),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,K,j)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||w===s.memoizedProps&&G===s.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&G===s.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),m.props=l,m.state=K,m.context=j,l=J):(typeof m.componentDidUpdate!="function"||w===s.memoizedProps&&G===s.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&G===s.memoizedState||(r.flags|=1024),l=!1)}return m=l,ad(s,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,s!==null&&l?(r.child=_o(r,s.child,null,f),r.child=_o(r,null,a,f)):Jt(s,r,a,f),r.memoizedState=m.state,s=r.child):s=gr(s,r,f),s}function m0(s,r,a,l){return Ll(),r.flags|=256,Jt(s,r,a,l),r.child}var fm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mm(s){return{baseLanes:s,cachePool:tv()}}function pm(s,r,a){return s=s!==null?s.childLanes&~a:0,r&&(s|=rs),s}function p0(s,r,a){var l=r.pendingProps,f=!1,m=(r.flags&128)!==0,w;if((w=m)||(w=s!==null&&s.memoizedState===null?!1:(Ut.current&2)!==0),w&&(f=!0,r.flags&=-129),w=(r.flags&32)!==0,r.flags&=-33,s===null){if(Ye){if(f?ii(r):ai(),Ye){var _=vt,j;if(j=_){e:{for(j=_,_=Ps;j.nodeType!==8;){if(!_){_=null;break e}if(j=xs(j.nextSibling),j===null){_=null;break e}}_=j}_!==null?(r.memoizedState={dehydrated:_,treeContext:ma!==null?{id:ur,overflow:dr}:null,retryLane:536870912,hydrationErrors:null},j=Mn(18,null,null,0),j.stateNode=_,j.return=r,r.child=j,xn=r,vt=null,j=!0):j=!1}j||ya(r)}if(_=r.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return Zm(_)?r.lanes=32:r.lanes=536870912,null;pr(r)}return _=l.children,l=l.fallback,f?(ai(),f=r.mode,_=od({mode:"hidden",children:_},f),l=fa(l,f,a,null),_.return=r,l.return=r,_.sibling=l,r.child=_,f=r.child,f.memoizedState=mm(a),f.childLanes=pm(s,w,a),r.memoizedState=fm,l):(ii(r),gm(r,_))}if(j=s.memoizedState,j!==null&&(_=j.dehydrated,_!==null)){if(m)r.flags&256?(ii(r),r.flags&=-257,r=ym(s,r,a)):r.memoizedState!==null?(ai(),r.child=s.child,r.flags|=128,r=null):(ai(),f=l.fallback,_=r.mode,l=od({mode:"visible",children:l.children},_),f=fa(f,_,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,_o(r,s.child,null,a),l=r.child,l.memoizedState=mm(a),l.childLanes=pm(s,w,a),r.memoizedState=fm,r=f);else if(ii(r),Zm(_)){if(w=_.nextSibling&&_.nextSibling.dataset,w)var q=w.dgst;w=q,l=Error(i(419)),l.stack="",l.digest=w,Ul({value:l,source:null,stack:null}),r=ym(s,r,a)}else if(Kt||Bl(s,r,a,!1),w=(a&s.childLanes)!==0,Kt||w){if(w=lt,w!==null&&(l=a&-a,l=(l&42)!==0?1:vl(l),l=(l&(w.suspendedLanes|a))!==0?0:l,l!==0&&l!==j.retryLane))throw j.retryLane=l,uo(s,l),zn(w,s,l),a0;_.data==="$?"||Pm(),r=ym(s,r,a)}else _.data==="$?"?(r.flags|=192,r.child=s.child,r=null):(s=j.treeContext,vt=xs(_.nextSibling),xn=r,Ye=!0,ga=null,Ps=!1,s!==null&&(ts[ns++]=ur,ts[ns++]=dr,ts[ns++]=ma,ur=s.id,dr=s.overflow,ma=r),r=gm(r,l.children),r.flags|=4096);return r}return f?(ai(),f=l.fallback,_=r.mode,j=s.child,q=j.sibling,l=cr(j,{mode:"hidden",children:l.children}),l.subtreeFlags=j.subtreeFlags&65011712,q!==null?f=cr(q,f):(f=fa(f,_,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,_=s.child.memoizedState,_===null?_=mm(a):(j=_.cachePool,j!==null?(q=Lt._currentValue,j=j.parent!==q?{parent:q,pool:q}:j):j=tv(),_={baseLanes:_.baseLanes|a,cachePool:j}),f.memoizedState=_,f.childLanes=pm(s,w,a),r.memoizedState=fm,l):(ii(r),a=s.child,s=a.sibling,a=cr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,s!==null&&(w=r.deletions,w===null?(r.deletions=[s],r.flags|=16):w.push(s)),r.child=a,r.memoizedState=null,a)}function gm(s,r){return r=od({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function od(s,r){return s=Mn(22,s,null,r),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function ym(s,r,a){return _o(r,s.child,null,a),s=gm(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function g0(s,r,a){s.lanes|=r;var l=s.alternate;l!==null&&(l.lanes|=r),Pf(s.return,r,a)}function vm(s,r,a,l,f){var m=s.memoizedState;m===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=f)}function y0(s,r,a){var l=r.pendingProps,f=l.revealOrder,m=l.tail;if(Jt(s,r,l.children,a),l=Ut.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&g0(s,a,r);else if(s.tag===19)g0(s,a,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}l&=1}switch(ue(Ut,l),f){case"forwards":for(a=r.child,f=null;a!==null;)s=a.alternate,s!==null&&sd(s)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),vm(r,!1,f,a,m);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(s=f.alternate,s!==null&&sd(s)===null){r.child=f;break}s=f.sibling,f.sibling=a,a=f,f=s}vm(r,!0,a,null,m);break;case"together":vm(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function gr(s,r,a){if(s!==null&&(r.dependencies=s.dependencies),di|=r.lanes,(a&r.childLanes)===0)if(s!==null){if(Bl(s,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,a=cr(s,s.pendingProps),r.child=a,a.return=r;s.sibling!==null;)s=s.sibling,a=a.sibling=cr(s,s.pendingProps),a.return=r;a.sibling=null}return r.child}function bm(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&zu(s)))}function mT(s,r,a){switch(r.tag){case 3:xe(r,r.stateNode.containerInfo),ei(r,Lt,s.memoizedState.cache),Ll();break;case 27:case 5:jt(r);break;case 4:xe(r,r.stateNode.containerInfo);break;case 10:ei(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(ii(r),r.flags|=128,null):(a&r.child.childLanes)!==0?p0(s,r,a):(ii(r),s=gr(s,r,a),s!==null?s.sibling:null);ii(r);break;case 19:var f=(s.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Bl(s,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return y0(s,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(Ut,Ut.current),l)break;return null;case 22:case 23:return r.lanes=0,u0(s,r,a);case 24:ei(r,Lt,s.memoizedState.cache)}return gr(s,r,a)}function v0(s,r,a){if(s!==null)if(s.memoizedProps!==r.pendingProps)Kt=!0;else{if(!bm(s,a)&&(r.flags&128)===0)return Kt=!1,mT(s,r,a);Kt=(s.flags&131072)!==0}else Kt=!1,Ye&&(r.flags&1048576)!==0&&Yy(r,Bu,r.index);switch(r.lanes=0,r.tag){case 16:e:{s=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Cf(l)?(s=_a(l,s),r.tag=1,r=f0(null,r,l,s,a)):(r.tag=0,r=hm(null,r,l,s,a));else{if(l!=null){if(f=l.$$typeof,f===pe){r.tag=11,r=o0(null,r,l,s,a);break e}else if(f===S){r.tag=14,r=l0(null,r,l,s,a);break e}}throw r=at(l)||l,Error(i(306,r,""))}}return r;case 0:return hm(s,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=_a(l,r.pendingProps),f0(s,r,l,f,a);case 3:e:{if(xe(r,r.stateNode.containerInfo),s===null)throw Error(i(387));l=r.pendingProps;var m=r.memoizedState;f=m.element,Hf(s,r),Kl(r,l,null,a);var w=r.memoizedState;if(l=w.cache,ei(r,Lt,l),l!==m.cache&&Mf(r,[Lt],a,!0),Gl(),l=w.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:w.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=m0(s,r,l,a);break e}else if(l!==f){f=Jn(Error(i(424)),r),Ul(f),r=m0(s,r,l,a);break e}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(vt=xs(s.firstChild),xn=r,Ye=!0,ga=null,Ps=!0,a=Xv(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ll(),l===f){r=gr(s,r,a);break e}Jt(s,r,l,a)}r=r.child}return r;case 26:return ad(s,r),s===null?(a=_b(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ye||(a=r.type,s=r.pendingProps,l=xd(te.current).createElement(a),l[xt]=r,l[Zt]=s,tn(l,a,s),_t(l),r.stateNode=l):r.memoizedState=_b(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return jt(r),s===null&&Ye&&(l=r.stateNode=bb(r.type,r.pendingProps,te.current),xn=r,Ps=!0,f=vt,pi(r.type)?(Jm=f,vt=xs(l.firstChild)):vt=f),Jt(s,r,r.pendingProps.children,a),ad(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Ye&&((f=l=vt)&&(l=HT(l,r.type,r.pendingProps,Ps),l!==null?(r.stateNode=l,xn=r,vt=xs(l.firstChild),Ps=!1,f=!0):f=!1),f||ya(r)),jt(r),f=r.type,m=r.pendingProps,w=s!==null?s.memoizedProps:null,l=m.children,Qm(f,m)?l=null:w!==null&&Qm(f,w)&&(r.flags|=32),r.memoizedState!==null&&(f=Yf(s,r,aT,null,null,a),pc._currentValue=f),ad(s,r),Jt(s,r,l,a),r.child;case 6:return s===null&&Ye&&((s=a=vt)&&(a=qT(a,r.pendingProps,Ps),a!==null?(r.stateNode=a,xn=r,vt=null,s=!0):s=!1),s||ya(r)),null;case 13:return p0(s,r,a);case 4:return xe(r,r.stateNode.containerInfo),l=r.pendingProps,s===null?r.child=_o(r,null,l,a):Jt(s,r,l,a),r.child;case 11:return o0(s,r,r.type,r.pendingProps,a);case 7:return Jt(s,r,r.pendingProps,a),r.child;case 8:return Jt(s,r,r.pendingProps.children,a),r.child;case 12:return Jt(s,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,ei(r,r.type,l.value),Jt(s,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,ba(r),f=cn(f),l=l(f),r.flags|=1,Jt(s,r,l,a),r.child;case 14:return l0(s,r,r.type,r.pendingProps,a);case 15:return c0(s,r,r.type,r.pendingProps,a);case 19:return y0(s,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},s===null?(a=od(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=cr(s.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return u0(s,r,a);case 24:return ba(r),l=cn(Lt),s===null?(f=Uf(),f===null&&(f=lt,m=Vf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:l,cache:f},zf(r),ei(r,Lt,f)):((s.lanes&a)!==0&&(Hf(s,r),Kl(r,null,null,a),Gl()),f=s.memoizedState,m=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),ei(r,Lt,l)):(l=m.cache,ei(r,Lt,l),l!==f.cache&&Mf(r,[Lt],a,!0))),Jt(s,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function yr(s){s.flags|=4}function b0(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Ab(r)){if(r=ss.current,r!==null&&((qe&4194048)===qe?Ms!==null:(qe&62914560)!==qe&&(qe&536870912)===0||r!==Ms))throw Fl=Bf,nv;s.flags|=8192}}function ld(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?zr():536870912,s.lanes|=r,So|=r)}function ec(s,r){if(!Ye)switch(s.tailMode){case"hidden":r=s.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?s.tail=null:a.sibling=null;break;case"collapsed":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:l.sibling=null}}function pt(s){var r=s.alternate!==null&&s.alternate.child===s.child,a=0,l=0;if(r)for(var f=s.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=s,f=f.sibling;else for(f=s.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=s,f=f.sibling;return s.subtreeFlags|=l,s.childLanes=a,r}function pT(s,r,a){var l=r.pendingProps;switch(kf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(r),null;case 1:return pt(r),null;case 3:return a=r.stateNode,l=null,s!==null&&(l=s.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),fr(Lt),$e(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(s===null||s.child===null)&&(Vl(r)?yr(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Wy())),pt(r),null;case 26:return a=r.memoizedState,s===null?(yr(r),a!==null?(pt(r),b0(r,a)):(pt(r),r.flags&=-16777217)):a?a!==s.memoizedState?(yr(r),pt(r),b0(r,a)):(pt(r),r.flags&=-16777217):(s.memoizedProps!==l&&yr(r),pt(r),r.flags&=-16777217),null;case 27:Nn(r),a=te.current;var f=r.type;if(s!==null&&r.stateNode!=null)s.memoizedProps!==l&&yr(r);else{if(!l){if(r.stateNode===null)throw Error(i(166));return pt(r),null}s=be.current,Vl(r)?Qy(r):(s=bb(f,l,a),r.stateNode=s,yr(r))}return pt(r),null;case 5:if(Nn(r),a=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==l&&yr(r);else{if(!l){if(r.stateNode===null)throw Error(i(166));return pt(r),null}if(s=be.current,Vl(r))Qy(r);else{switch(f=xd(te.current),s){case 1:s=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:s=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":s=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":s=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":s=f.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?s.multiple=!0:l.size&&(s.size=l.size);break;default:s=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}s[xt]=r,s[Zt]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)s.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=s;e:switch(tn(s,a,l),a){case"button":case"input":case"select":case"textarea":s=!!l.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&yr(r)}}return pt(r),r.flags&=-16777217,null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==l&&yr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(i(166));if(s=te.current,Vl(r)){if(s=r.stateNode,a=r.memoizedProps,l=null,f=xn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}s[xt]=r,s=!!(s.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||hb(s.nodeValue,a)),s||ya(r)}else s=xd(s).createTextNode(l),s[xt]=r,r.stateNode=s}return pt(r),null;case 13:if(l=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(f=Vl(r),l!==null&&l.dehydrated!==null){if(s===null){if(!f)throw Error(i(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[xt]=r}else Ll(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;pt(r),f=!1}else f=Wy(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(pr(r),r):(pr(r),null)}if(pr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,s=s!==null&&s.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return a!==s&&a&&(r.child.flags|=8192),ld(r,r.updateQueue),pt(r),null;case 4:return $e(),s===null&&Fm(r.stateNode.containerInfo),pt(r),null;case 10:return fr(r.type),pt(r),null;case 19:if(de(Ut),f=r.memoizedState,f===null)return pt(r),null;if(l=(r.flags&128)!==0,m=f.rendering,m===null)if(l)ec(f,!1);else{if(bt!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(m=sd(s),m!==null){for(r.flags|=128,ec(f,!1),s=m.updateQueue,r.updateQueue=s,ld(r,s),r.subtreeFlags=0,s=a,a=r.child;a!==null;)Ky(a,s),a=a.sibling;return ue(Ut,Ut.current&1|2),r.child}s=s.sibling}f.tail!==null&&An()>dd&&(r.flags|=128,l=!0,ec(f,!1),r.lanes=4194304)}else{if(!l)if(s=sd(m),s!==null){if(r.flags|=128,l=!0,s=s.updateQueue,r.updateQueue=s,ld(r,s),ec(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Ye)return pt(r),null}else 2*An()-f.renderingStartTime>dd&&a!==536870912&&(r.flags|=128,l=!0,ec(f,!1),r.lanes=4194304);f.isBackwards?(m.sibling=r.child,r.child=m):(s=f.last,s!==null?s.sibling=m:r.child=m,f.last=m)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=An(),r.sibling=null,s=Ut.current,ue(Ut,l?s&1|2:s&1),r):(pt(r),null);case 22:case 23:return pr(r),Gf(),l=r.memoizedState!==null,s!==null?s.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(pt(r),r.subtreeFlags&6&&(r.flags|=8192)):pt(r),a=r.updateQueue,a!==null&&ld(r,a.retryQueue),a=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),s!==null&&de(wa),null;case 24:return a=null,s!==null&&(a=s.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),fr(Lt),pt(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function gT(s,r){switch(kf(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return fr(Lt),$e(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return Nn(r),null;case 13:if(pr(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Ll()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return de(Ut),null;case 4:return $e(),null;case 10:return fr(r.type),null;case 22:case 23:return pr(r),Gf(),s!==null&&de(wa),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return fr(Lt),null;case 25:return null;default:return null}}function w0(s,r){switch(kf(r),r.tag){case 3:fr(Lt),$e();break;case 26:case 27:case 5:Nn(r);break;case 4:$e();break;case 13:pr(r);break;case 19:de(Ut);break;case 10:fr(r.type);break;case 22:case 23:pr(r),Gf(),s!==null&&de(wa);break;case 24:fr(Lt)}}function tc(s,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&s)===s){l=void 0;var m=a.create,w=a.inst;l=m(),w.destroy=l}a=a.next}while(a!==f)}}catch(_){rt(r,r.return,_)}}function oi(s,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&s)===s){var w=l.inst,_=w.destroy;if(_!==void 0){w.destroy=void 0,f=r;var j=a,q=_;try{q()}catch(J){rt(f,j,J)}}}l=l.next}while(l!==m)}}catch(J){rt(r,r.return,J)}}function x0(s){var r=s.updateQueue;if(r!==null){var a=s.stateNode;try{lv(r,a)}catch(l){rt(s,s.return,l)}}}function _0(s,r,a){a.props=_a(s.type,s.memoizedProps),a.state=s.memoizedState;try{a.componentWillUnmount()}catch(l){rt(s,r,l)}}function nc(s,r){try{var a=s.ref;if(a!==null){switch(s.tag){case 26:case 27:case 5:var l=s.stateNode;break;case 30:l=s.stateNode;break;default:l=s.stateNode}typeof a=="function"?s.refCleanup=a(l):a.current=l}}catch(f){rt(s,r,f)}}function Vs(s,r){var a=s.ref,l=s.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){rt(s,r,f)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){rt(s,r,f)}else a.current=null}function E0(s){var r=s.type,a=s.memoizedProps,l=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){rt(s,s.return,f)}}function wm(s,r,a){try{var l=s.stateNode;VT(l,s.type,a,r),l[Zt]=r}catch(f){rt(s,s.return,f)}}function T0(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&pi(s.type)||s.tag===4}function xm(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||T0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&pi(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function _m(s,r,a){var l=s.tag;if(l===5||l===6)s=s.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(s,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(s),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=wd));else if(l!==4&&(l===27&&pi(s.type)&&(a=s.stateNode,r=null),s=s.child,s!==null))for(_m(s,r,a),s=s.sibling;s!==null;)_m(s,r,a),s=s.sibling}function cd(s,r,a){var l=s.tag;if(l===5||l===6)s=s.stateNode,r?a.insertBefore(s,r):a.appendChild(s);else if(l!==4&&(l===27&&pi(s.type)&&(a=s.stateNode),s=s.child,s!==null))for(cd(s,r,a),s=s.sibling;s!==null;)cd(s,r,a),s=s.sibling}function N0(s){var r=s.stateNode,a=s.memoizedProps;try{for(var l=s.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);tn(r,l,a),r[xt]=s,r[Zt]=a}catch(m){rt(s,s.return,m)}}var vr=!1,Nt=!1,Em=!1,S0=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function yT(s,r){if(s=s.containerInfo,Km=Ad,s=Vy(s),xf(s)){if("selectionStart"in s)var a={start:s.selectionStart,end:s.selectionEnd};else e:{a=(a=s.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var w=0,_=-1,j=-1,q=0,J=0,ne=s,G=null;t:for(;;){for(var K;ne!==a||f!==0&&ne.nodeType!==3||(_=w+f),ne!==m||l!==0&&ne.nodeType!==3||(j=w+l),ne.nodeType===3&&(w+=ne.nodeValue.length),(K=ne.firstChild)!==null;)G=ne,ne=K;for(;;){if(ne===s)break t;if(G===a&&++q===f&&(_=w),G===m&&++J===l&&(j=w),(K=ne.nextSibling)!==null)break;ne=G,G=ne.parentNode}ne=K}a=_===-1||j===-1?null:{start:_,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ym={focusedElem:s,selectionRange:a},Ad=!1,Yt=r;Yt!==null;)if(r=Yt,s=r.child,(r.subtreeFlags&1024)!==0&&s!==null)s.return=r,Yt=s;else for(;Yt!==null;){switch(r=Yt,m=r.alternate,s=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&m!==null){s=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Ce=_a(a.type,f,a.elementType===a.type);s=l.getSnapshotBeforeUpdate(Ce,m),l.__reactInternalSnapshotBeforeUpdate=s}catch(Te){rt(a,a.return,Te)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,a=s.nodeType,a===9)Wm(s);else if(a===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Wm(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Yt=s;break}Yt=r.return}}function A0(s,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:li(s,a),l&4&&tc(5,a);break;case 1:if(li(s,a),l&4)if(s=a.stateNode,r===null)try{s.componentDidMount()}catch(w){rt(a,a.return,w)}else{var f=_a(a.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(f,r,s.__reactInternalSnapshotBeforeUpdate)}catch(w){rt(a,a.return,w)}}l&64&&x0(a),l&512&&nc(a,a.return);break;case 3:if(li(s,a),l&64&&(s=a.updateQueue,s!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{lv(s,r)}catch(w){rt(a,a.return,w)}}break;case 27:r===null&&l&4&&N0(a);case 26:case 5:li(s,a),r===null&&l&4&&E0(a),l&512&&nc(a,a.return);break;case 12:li(s,a);break;case 13:li(s,a),l&4&&R0(s,a),l&64&&(s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(a=ST.bind(null,a),FT(s,a))));break;case 22:if(l=a.memoizedState!==null||vr,!l){r=r!==null&&r.memoizedState!==null||Nt,f=vr;var m=Nt;vr=l,(Nt=r)&&!m?ci(s,a,(a.subtreeFlags&8772)!==0):li(s,a),vr=f,Nt=m}break;case 30:break;default:li(s,a)}}function C0(s){var r=s.alternate;r!==null&&(s.alternate=null,C0(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&Qa(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ft=null,jn=!1;function br(s,r,a){for(a=a.child;a!==null;)j0(s,r,a),a=a.sibling}function j0(s,r,a){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Lr,a)}catch{}switch(a.tag){case 26:Nt||Vs(a,r),br(s,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||Vs(a,r);var l=ft,f=jn;pi(a.type)&&(ft=a.stateNode,jn=!1),br(s,r,a),dc(a.stateNode),ft=l,jn=f;break;case 5:Nt||Vs(a,r);case 6:if(l=ft,f=jn,ft=null,br(s,r,a),ft=l,jn=f,ft!==null)if(jn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(a.stateNode)}catch(m){rt(a,r,m)}else try{ft.removeChild(a.stateNode)}catch(m){rt(a,r,m)}break;case 18:ft!==null&&(jn?(s=ft,yb(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.stateNode),bc(s)):yb(ft,a.stateNode));break;case 4:l=ft,f=jn,ft=a.stateNode.containerInfo,jn=!0,br(s,r,a),ft=l,jn=f;break;case 0:case 11:case 14:case 15:Nt||oi(2,a,r),Nt||oi(4,a,r),br(s,r,a);break;case 1:Nt||(Vs(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&_0(a,r,l)),br(s,r,a);break;case 21:br(s,r,a);break;case 22:Nt=(l=Nt)||a.memoizedState!==null,br(s,r,a),Nt=l;break;default:br(s,r,a)}}function R0(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{bc(s)}catch(a){rt(r,r.return,a)}}function vT(s){switch(s.tag){case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new S0),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new S0),r;default:throw Error(i(435,s.tag))}}function Tm(s,r){var a=vT(s);r.forEach(function(l){var f=AT.bind(null,s,l);a.has(l)||(a.add(l),l.then(f,f))})}function Vn(s,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=s,w=r,_=w;e:for(;_!==null;){switch(_.tag){case 27:if(pi(_.type)){ft=_.stateNode,jn=!1;break e}break;case 5:ft=_.stateNode,jn=!1;break e;case 3:case 4:ft=_.stateNode.containerInfo,jn=!0;break e}_=_.return}if(ft===null)throw Error(i(160));j0(m,w,f),ft=null,jn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)I0(r,s),r=r.sibling}var ws=null;function I0(s,r){var a=s.alternate,l=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Vn(r,s),Ln(s),l&4&&(oi(3,s,s.return),tc(3,s),oi(5,s,s.return));break;case 1:Vn(r,s),Ln(s),l&512&&(Nt||a===null||Vs(a,a.return)),l&64&&vr&&(s=s.updateQueue,s!==null&&(l=s.callbacks,l!==null&&(a=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ws;if(Vn(r,s),Ln(s),l&512&&(Nt||a===null||Vs(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=s.memoizedState,a===null)if(l===null)if(s.stateNode===null){e:{l=s.type,a=s.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Fr]||m[xt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),tn(m,l,a),m[xt]=s,_t(m),l=m;break e;case"link":var w=Nb("link","href",f).get(l+(a.href||""));if(w){for(var _=0;_<w.length;_++)if(m=w[_],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){w.splice(_,1);break t}}m=f.createElement(l),tn(m,l,a),f.head.appendChild(m);break;case"meta":if(w=Nb("meta","content",f).get(l+(a.content||""))){for(_=0;_<w.length;_++)if(m=w[_],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){w.splice(_,1);break t}}m=f.createElement(l),tn(m,l,a),f.head.appendChild(m);break;default:throw Error(i(468,l))}m[xt]=s,_t(m),l=m}s.stateNode=l}else Sb(f,s.type,s.stateNode);else s.stateNode=Tb(f,l,s.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?Sb(f,s.type,s.stateNode):Tb(f,l,s.memoizedProps)):l===null&&s.stateNode!==null&&wm(s,s.memoizedProps,a.memoizedProps)}break;case 27:Vn(r,s),Ln(s),l&512&&(Nt||a===null||Vs(a,a.return)),a!==null&&l&4&&wm(s,s.memoizedProps,a.memoizedProps);break;case 5:if(Vn(r,s),Ln(s),l&512&&(Nt||a===null||Vs(a,a.return)),s.flags&32){f=s.stateNode;try{Wn(f,"")}catch(K){rt(s,s.return,K)}}l&4&&s.stateNode!=null&&(f=s.memoizedProps,wm(s,f,a!==null?a.memoizedProps:f)),l&1024&&(Em=!0);break;case 6:if(Vn(r,s),Ln(s),l&4){if(s.stateNode===null)throw Error(i(162));l=s.memoizedProps,a=s.stateNode;try{a.nodeValue=l}catch(K){rt(s,s.return,K)}}break;case 3:if(Td=null,f=ws,ws=_d(r.containerInfo),Vn(r,s),ws=f,Ln(s),l&4&&a!==null&&a.memoizedState.isDehydrated)try{bc(r.containerInfo)}catch(K){rt(s,s.return,K)}Em&&(Em=!1,k0(s));break;case 4:l=ws,ws=_d(s.stateNode.containerInfo),Vn(r,s),Ln(s),ws=l;break;case 12:Vn(r,s),Ln(s);break;case 13:Vn(r,s),Ln(s),s.child.flags&8192&&s.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Rm=An()),l&4&&(l=s.updateQueue,l!==null&&(s.updateQueue=null,Tm(s,l)));break;case 22:f=s.memoizedState!==null;var j=a!==null&&a.memoizedState!==null,q=vr,J=Nt;if(vr=q||f,Nt=J||j,Vn(r,s),Nt=J,vr=q,Ln(s),l&8192)e:for(r=s.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||j||vr||Nt||Ea(s)),a=null,r=s;;){if(r.tag===5||r.tag===26){if(a===null){j=a=r;try{if(m=j.stateNode,f)w=m.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{_=j.stateNode;var ne=j.memoizedProps.style,G=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;_.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(K){rt(j,j.return,K)}}}else if(r.tag===6){if(a===null){j=r;try{j.stateNode.nodeValue=f?"":j.memoizedProps}catch(K){rt(j,j.return,K)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=s.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Tm(s,a))));break;case 19:Vn(r,s),Ln(s),l&4&&(l=s.updateQueue,l!==null&&(s.updateQueue=null,Tm(s,l)));break;case 30:break;case 21:break;default:Vn(r,s),Ln(s)}}function Ln(s){var r=s.flags;if(r&2){try{for(var a,l=s.return;l!==null;){if(T0(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var f=a.stateNode,m=xm(s);cd(s,m,f);break;case 5:var w=a.stateNode;a.flags&32&&(Wn(w,""),a.flags&=-33);var _=xm(s);cd(s,_,w);break;case 3:case 4:var j=a.stateNode.containerInfo,q=xm(s);_m(s,q,j);break;default:throw Error(i(161))}}catch(J){rt(s,s.return,J)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function k0(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;k0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function li(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)A0(s,r.alternate,r),r=r.sibling}function Ea(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:oi(4,r,r.return),Ea(r);break;case 1:Vs(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&_0(r,r.return,a),Ea(r);break;case 27:dc(r.stateNode);case 26:case 5:Vs(r,r.return),Ea(r);break;case 22:r.memoizedState===null&&Ea(r);break;case 30:Ea(r);break;default:Ea(r)}s=s.sibling}}function ci(s,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=s,m=r,w=m.flags;switch(m.tag){case 0:case 11:case 15:ci(f,m,a),tc(4,m);break;case 1:if(ci(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){rt(l,l.return,q)}if(l=m,f=l.updateQueue,f!==null){var _=l.stateNode;try{var j=f.shared.hiddenCallbacks;if(j!==null)for(f.shared.hiddenCallbacks=null,f=0;f<j.length;f++)ov(j[f],_)}catch(q){rt(l,l.return,q)}}a&&w&64&&x0(m),nc(m,m.return);break;case 27:N0(m);case 26:case 5:ci(f,m,a),a&&l===null&&w&4&&E0(m),nc(m,m.return);break;case 12:ci(f,m,a);break;case 13:ci(f,m,a),a&&w&4&&R0(f,m);break;case 22:m.memoizedState===null&&ci(f,m,a),nc(m,m.return);break;case 30:break;default:ci(f,m,a)}r=r.sibling}}function Nm(s,r){var a=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==a&&(s!=null&&s.refCount++,a!=null&&zl(a))}function Sm(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&zl(s))}function Ls(s,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)D0(s,r,a,l),r=r.sibling}function D0(s,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ls(s,r,a,l),f&2048&&tc(9,r);break;case 1:Ls(s,r,a,l);break;case 3:Ls(s,r,a,l),f&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&zl(s)));break;case 12:if(f&2048){Ls(s,r,a,l),s=r.stateNode;try{var m=r.memoizedProps,w=m.id,_=m.onPostCommit;typeof _=="function"&&_(w,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(j){rt(r,r.return,j)}}else Ls(s,r,a,l);break;case 13:Ls(s,r,a,l);break;case 23:break;case 22:m=r.stateNode,w=r.alternate,r.memoizedState!==null?m._visibility&2?Ls(s,r,a,l):sc(s,r):m._visibility&2?Ls(s,r,a,l):(m._visibility|=2,Eo(s,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&Nm(w,r);break;case 24:Ls(s,r,a,l),f&2048&&Sm(r.alternate,r);break;default:Ls(s,r,a,l)}}function Eo(s,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=s,w=r,_=a,j=l,q=w.flags;switch(w.tag){case 0:case 11:case 15:Eo(m,w,_,j,f),tc(8,w);break;case 23:break;case 22:var J=w.stateNode;w.memoizedState!==null?J._visibility&2?Eo(m,w,_,j,f):sc(m,w):(J._visibility|=2,Eo(m,w,_,j,f)),f&&q&2048&&Nm(w.alternate,w);break;case 24:Eo(m,w,_,j,f),f&&q&2048&&Sm(w.alternate,w);break;default:Eo(m,w,_,j,f)}r=r.sibling}}function sc(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=s,l=r,f=l.flags;switch(l.tag){case 22:sc(a,l),f&2048&&Nm(l.alternate,l);break;case 24:sc(a,l),f&2048&&Sm(l.alternate,l);break;default:sc(a,l)}r=r.sibling}}var rc=8192;function To(s){if(s.subtreeFlags&rc)for(s=s.child;s!==null;)O0(s),s=s.sibling}function O0(s){switch(s.tag){case 26:To(s),s.flags&rc&&s.memoizedState!==null&&sN(ws,s.memoizedState,s.memoizedProps);break;case 5:To(s);break;case 3:case 4:var r=ws;ws=_d(s.stateNode.containerInfo),To(s),ws=r;break;case 22:s.memoizedState===null&&(r=s.alternate,r!==null&&r.memoizedState!==null?(r=rc,rc=16777216,To(s),rc=r):To(s));break;default:To(s)}}function P0(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function ic(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Yt=l,V0(l,s)}P0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)M0(s),s=s.sibling}function M0(s){switch(s.tag){case 0:case 11:case 15:ic(s),s.flags&2048&&oi(9,s,s.return);break;case 3:ic(s);break;case 12:ic(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,ud(s)):ic(s);break;default:ic(s)}}function ud(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Yt=l,V0(l,s)}P0(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:oi(8,r,r.return),ud(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,ud(r));break;default:ud(r)}s=s.sibling}}function V0(s,r){for(;Yt!==null;){var a=Yt;switch(a.tag){case 0:case 11:case 15:oi(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:zl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Yt=l;else e:for(a=s;Yt!==null;){l=Yt;var f=l.sibling,m=l.return;if(C0(l),l===a){Yt=null;break e}if(f!==null){f.return=m,Yt=f;break e}Yt=m}}}var bT={getCacheForType:function(s){var r=cn(Lt),a=r.data.get(s);return a===void 0&&(a=s(),r.data.set(s,a)),a}},wT=typeof WeakMap=="function"?WeakMap:Map,Ze=0,lt=null,Le=null,qe=0,Je=0,Un=null,ui=!1,No=!1,Am=!1,wr=0,bt=0,di=0,Ta=0,Cm=0,rs=0,So=0,ac=null,Rn=null,jm=!1,Rm=0,dd=1/0,hd=null,hi=null,en=0,fi=null,Ao=null,Co=0,Im=0,km=null,L0=null,oc=0,Dm=null;function Bn(){if((Ze&2)!==0&&qe!==0)return qe&-qe;if(F.T!==null){var s=po;return s!==0?s:Bm()}return nr()}function U0(){rs===0&&(rs=(qe&536870912)===0||Ye?yl():536870912);var s=ss.current;return s!==null&&(s.flags|=32),rs}function zn(s,r,a){(s===lt&&(Je===2||Je===9)||s.cancelPendingCommit!==null)&&(jo(s,0),mi(s,qe,rs,!1)),wt(s,a),((Ze&2)===0||s!==lt)&&(s===lt&&((Ze&2)===0&&(Ta|=a),bt===4&&mi(s,qe,rs,!1)),Us(s))}function B0(s,r,a){if((Ze&6)!==0)throw Error(i(327));var l=!a&&(r&124)===0&&(r&s.expiredLanes)===0||Br(s,r),f=l?ET(s,r):Mm(s,r,!0),m=l;do{if(f===0){No&&!l&&mi(s,r,0,!1);break}else{if(a=s.current.alternate,m&&!xT(a)){f=Mm(s,r,!1),m=!1;continue}if(f===2){if(m=r,s.errorRecoveryDisabledLanes&m)var w=0;else w=s.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){r=w;e:{var _=s;f=ac;var j=_.current.memoizedState.isDehydrated;if(j&&(jo(_,w).flags|=256),w=Mm(_,w,!1),w!==2){if(Am&&!j){_.errorRecoveryDisabledLanes|=m,Ta|=m,f=4;break e}m=Rn,Rn=f,m!==null&&(Rn===null?Rn=m:Rn.push.apply(Rn,m))}f=w}if(m=!1,f!==2)continue}}if(f===1){jo(s,0),mi(s,r,0,!0);break}e:{switch(l=s,m=f,m){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:mi(l,r,rs,!ui);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(f=Rm+300-An(),10<f)){if(mi(l,r,rs,!ui),Qn(l,0,!0)!==0)break e;l.timeoutHandle=pb(z0.bind(null,l,a,Rn,hd,jm,r,rs,Ta,So,ui,m,2,-0,0),f);break e}z0(l,a,Rn,hd,jm,r,rs,Ta,So,ui,m,0,-0,0)}}break}while(!0);Us(s)}function z0(s,r,a,l,f,m,w,_,j,q,J,ne,G,K){if(s.timeoutHandle=-1,ne=r.subtreeFlags,(ne&8192||(ne&16785408)===16785408)&&(mc={stylesheets:null,count:0,unsuspend:nN},O0(r),ne=rN(),ne!==null)){s.cancelPendingCommit=ne(Y0.bind(null,s,r,m,a,l,f,w,_,j,J,1,G,K)),mi(s,m,w,!q);return}Y0(s,r,m,a,l,f,w,_,j)}function xT(s){for(var r=s;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!Pn(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function mi(s,r,a,l){r&=~Cm,r&=~Ta,s.suspendedLanes|=r,s.pingedLanes&=~r,l&&(s.warmLanes|=r),l=s.expirationTimes;for(var f=r;0<f;){var m=31-yn(f),w=1<<m;l[m]=-1,f&=~w}a!==0&&Hr(s,a,r)}function fd(){return(Ze&6)===0?(lc(0),!1):!0}function Om(){if(Le!==null){if(Je===0)var s=Le.return;else s=Le,hr=va=null,Wf(s),xo=null,Zl=0,s=Le;for(;s!==null;)w0(s.alternate,s),s=s.return;Le=null}}function jo(s,r){var a=s.timeoutHandle;a!==-1&&(s.timeoutHandle=-1,UT(a)),a=s.cancelPendingCommit,a!==null&&(s.cancelPendingCommit=null,a()),Om(),lt=s,Le=a=cr(s.current,null),qe=r,Je=0,Un=null,ui=!1,No=Br(s,r),Am=!1,So=rs=Cm=Ta=di=bt=0,Rn=ac=null,jm=!1,(r&8)!==0&&(r|=r&32);var l=s.entangledLanes;if(l!==0)for(s=s.entanglements,l&=r;0<l;){var f=31-yn(l),m=1<<f;r|=s[f],l&=~m}return wr=r,Pu(),a}function H0(s,r){Pe=null,F.H=ed,r===ql||r===Fu?(r=iv(),Je=3):r===nv?(r=iv(),Je=4):Je=r===a0?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Un=r,Le===null&&(bt=1,id(s,Jn(r,s.current)))}function q0(){var s=F.H;return F.H=ed,s===null?ed:s}function F0(){var s=F.A;return F.A=bT,s}function Pm(){bt=4,ui||(qe&4194048)!==qe&&ss.current!==null||(No=!0),(di&134217727)===0&&(Ta&134217727)===0||lt===null||mi(lt,qe,rs,!1)}function Mm(s,r,a){var l=Ze;Ze|=2;var f=q0(),m=F0();(lt!==s||qe!==r)&&(hd=null,jo(s,r)),r=!1;var w=bt;e:do try{if(Je!==0&&Le!==null){var _=Le,j=Un;switch(Je){case 8:Om(),w=6;break e;case 3:case 2:case 9:case 6:ss.current===null&&(r=!0);var q=Je;if(Je=0,Un=null,Ro(s,_,j,q),a&&No){w=0;break e}break;default:q=Je,Je=0,Un=null,Ro(s,_,j,q)}}_T(),w=bt;break}catch(J){H0(s,J)}while(!0);return r&&s.shellSuspendCounter++,hr=va=null,Ze=l,F.H=f,F.A=m,Le===null&&(lt=null,qe=0,Pu()),w}function _T(){for(;Le!==null;)$0(Le)}function ET(s,r){var a=Ze;Ze|=2;var l=q0(),f=F0();lt!==s||qe!==r?(hd=null,dd=An()+500,jo(s,r)):No=Br(s,r);e:do try{if(Je!==0&&Le!==null){r=Le;var m=Un;t:switch(Je){case 1:Je=0,Un=null,Ro(s,r,m,1);break;case 2:case 9:if(sv(m)){Je=0,Un=null,G0(r);break}r=function(){Je!==2&&Je!==9||lt!==s||(Je=7),Us(s)},m.then(r,r);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:sv(m)?(Je=0,Un=null,G0(r)):(Je=0,Un=null,Ro(s,r,m,7));break;case 5:var w=null;switch(Le.tag){case 26:w=Le.memoizedState;case 5:case 27:var _=Le;if(!w||Ab(w)){Je=0,Un=null;var j=_.sibling;if(j!==null)Le=j;else{var q=_.return;q!==null?(Le=q,md(q)):Le=null}break t}}Je=0,Un=null,Ro(s,r,m,5);break;case 6:Je=0,Un=null,Ro(s,r,m,6);break;case 8:Om(),bt=6;break e;default:throw Error(i(462))}}TT();break}catch(J){H0(s,J)}while(!0);return hr=va=null,F.H=l,F.A=f,Ze=a,Le!==null?0:(lt=null,qe=0,Pu(),bt)}function TT(){for(;Le!==null&&!Kn();)$0(Le)}function $0(s){var r=v0(s.alternate,s,wr);s.memoizedProps=s.pendingProps,r===null?md(s):Le=r}function G0(s){var r=s,a=r.alternate;switch(r.tag){case 15:case 0:r=h0(a,r,r.pendingProps,r.type,void 0,qe);break;case 11:r=h0(a,r,r.pendingProps,r.type.render,r.ref,qe);break;case 5:Wf(r);default:w0(a,r),r=Le=Ky(r,wr),r=v0(a,r,wr)}s.memoizedProps=s.pendingProps,r===null?md(s):Le=r}function Ro(s,r,a,l){hr=va=null,Wf(r),xo=null,Zl=0;var f=r.return;try{if(fT(s,f,r,a,qe)){bt=1,id(s,Jn(a,s.current)),Le=null;return}}catch(m){if(f!==null)throw Le=f,m;bt=1,id(s,Jn(a,s.current)),Le=null;return}r.flags&32768?(Ye||l===1?s=!0:No||(qe&536870912)!==0?s=!1:(ui=s=!0,(l===2||l===9||l===3||l===6)&&(l=ss.current,l!==null&&l.tag===13&&(l.flags|=16384))),K0(r,s)):md(r)}function md(s){var r=s;do{if((r.flags&32768)!==0){K0(r,ui);return}s=r.return;var a=pT(r.alternate,r,wr);if(a!==null){Le=a;return}if(r=r.sibling,r!==null){Le=r;return}Le=r=s}while(r!==null);bt===0&&(bt=5)}function K0(s,r){do{var a=gT(s.alternate,s);if(a!==null){a.flags&=32767,Le=a;return}if(a=s.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(s=s.sibling,s!==null)){Le=s;return}Le=s=a}while(s!==null);bt=6,Le=null}function Y0(s,r,a,l,f,m,w,_,j){s.cancelPendingCommit=null;do pd();while(en!==0);if((Ze&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(m=r.lanes|r.childLanes,m|=Sf,vu(s,a,m,w,_,j),s===lt&&(Le=lt=null,qe=0),Ao=r,fi=s,Co=a,Im=m,km=f,L0=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,CT(tr,function(){return J0(),null})):(s.callbackNode=null,s.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,f=ae.p,ae.p=2,w=Ze,Ze|=4;try{yT(s,r,a)}finally{Ze=w,ae.p=f,F.T=l}}en=1,Q0(),X0(),W0()}}function Q0(){if(en===1){en=0;var s=fi,r=Ao,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=ae.p;ae.p=2;var f=Ze;Ze|=4;try{I0(r,s);var m=Ym,w=Vy(s.containerInfo),_=m.focusedElem,j=m.selectionRange;if(w!==_&&_&&_.ownerDocument&&My(_.ownerDocument.documentElement,_)){if(j!==null&&xf(_)){var q=j.start,J=j.end;if(J===void 0&&(J=q),"selectionStart"in _)_.selectionStart=q,_.selectionEnd=Math.min(J,_.value.length);else{var ne=_.ownerDocument||document,G=ne&&ne.defaultView||window;if(G.getSelection){var K=G.getSelection(),Ce=_.textContent.length,Te=Math.min(j.start,Ce),st=j.end===void 0?Te:Math.min(j.end,Ce);!K.extend&&Te>st&&(w=st,st=Te,Te=w);var V=Py(_,Te),P=Py(_,st);if(V&&P&&(K.rangeCount!==1||K.anchorNode!==V.node||K.anchorOffset!==V.offset||K.focusNode!==P.node||K.focusOffset!==P.offset)){var z=ne.createRange();z.setStart(V.node,V.offset),K.removeAllRanges(),Te>st?(K.addRange(z),K.extend(P.node,P.offset)):(z.setEnd(P.node,P.offset),K.addRange(z))}}}}for(ne=[],K=_;K=K.parentNode;)K.nodeType===1&&ne.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<ne.length;_++){var ee=ne[_];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Ad=!!Km,Ym=Km=null}finally{Ze=f,ae.p=l,F.T=a}}s.current=r,en=2}}function X0(){if(en===2){en=0;var s=fi,r=Ao,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=ae.p;ae.p=2;var f=Ze;Ze|=4;try{A0(s,r.alternate,r)}finally{Ze=f,ae.p=l,F.T=a}}en=3}}function W0(){if(en===4||en===3){en=0,qi();var s=fi,r=Ao,a=Co,l=L0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?en=5:(en=0,Ao=fi=null,Z0(s,s.pendingLanes));var f=s.pendingLanes;if(f===0&&(hi=null),bl(a),r=r.stateNode,on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Lr,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=F.T,f=ae.p,ae.p=2,F.T=null;try{for(var m=s.onRecoverableError,w=0;w<l.length;w++){var _=l[w];m(_.value,{componentStack:_.stack})}}finally{F.T=r,ae.p=f}}(Co&3)!==0&&pd(),Us(s),f=s.pendingLanes,(a&4194090)!==0&&(f&42)!==0?s===Dm?oc++:(oc=0,Dm=s):oc=0,lc(0)}}function Z0(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,zl(r)))}function pd(s){return Q0(),X0(),W0(),J0()}function J0(){if(en!==5)return!1;var s=fi,r=Im;Im=0;var a=bl(Co),l=F.T,f=ae.p;try{ae.p=32>a?32:a,F.T=null,a=km,km=null;var m=fi,w=Co;if(en=0,Ao=fi=null,Co=0,(Ze&6)!==0)throw Error(i(331));var _=Ze;if(Ze|=4,M0(m.current),D0(m,m.current,w,a),Ze=_,lc(0,!1),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Lr,m)}catch{}return!0}finally{ae.p=f,F.T=l,Z0(s,r)}}function eb(s,r,a){r=Jn(a,r),r=dm(s.stateNode,r,2),s=si(s,r,2),s!==null&&(wt(s,2),Us(s))}function rt(s,r,a){if(s.tag===3)eb(s,s,a);else for(;r!==null;){if(r.tag===3){eb(r,s,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(hi===null||!hi.has(l))){s=Jn(a,s),a=r0(2),l=si(r,a,2),l!==null&&(i0(a,l,r,s),wt(l,2),Us(l));break}}r=r.return}}function Vm(s,r,a){var l=s.pingCache;if(l===null){l=s.pingCache=new wT;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Am=!0,f.add(a),s=NT.bind(null,s,r,a),r.then(s,s))}function NT(s,r,a){var l=s.pingCache;l!==null&&l.delete(r),s.pingedLanes|=s.suspendedLanes&a,s.warmLanes&=~a,lt===s&&(qe&a)===a&&(bt===4||bt===3&&(qe&62914560)===qe&&300>An()-Rm?(Ze&2)===0&&jo(s,0):Cm|=a,So===qe&&(So=0)),Us(s)}function tb(s,r){r===0&&(r=zr()),s=uo(s,r),s!==null&&(wt(s,r),Us(s))}function ST(s){var r=s.memoizedState,a=0;r!==null&&(a=r.retryLane),tb(s,a)}function AT(s,r){var a=0;switch(s.tag){case 13:var l=s.stateNode,f=s.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=s.stateNode;break;case 22:l=s.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(r),tb(s,a)}function CT(s,r){return Rt(s,r)}var gd=null,Io=null,Lm=!1,yd=!1,Um=!1,Na=0;function Us(s){s!==Io&&s.next===null&&(Io===null?gd=Io=s:Io=Io.next=s),yd=!0,Lm||(Lm=!0,RT())}function lc(s,r){if(!Um&&yd){Um=!0;do for(var a=!1,l=gd;l!==null;){if(s!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var w=l.suspendedLanes,_=l.pingedLanes;m=(1<<31-yn(42|s)+1)-1,m&=f&~(w&~_),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,ib(l,m))}else m=qe,m=Qn(l,l===lt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Br(l,m)||(a=!0,ib(l,m));l=l.next}while(a);Um=!1}}function jT(){nb()}function nb(){yd=Lm=!1;var s=0;Na!==0&&(LT()&&(s=Na),Na=0);for(var r=An(),a=null,l=gd;l!==null;){var f=l.next,m=sb(l,r);m===0?(l.next=null,a===null?gd=f:a.next=f,f===null&&(Io=a)):(a=l,(s!==0||(m&3)!==0)&&(yd=!0)),l=f}lc(s)}function sb(s,r){for(var a=s.suspendedLanes,l=s.pingedLanes,f=s.expirationTimes,m=s.pendingLanes&-62914561;0<m;){var w=31-yn(m),_=1<<w,j=f[w];j===-1?((_&a)===0||(_&l)!==0)&&(f[w]=Ka(_,r)):j<=r&&(s.expiredLanes|=_),m&=~_}if(r=lt,a=qe,a=Qn(s,s===r?a:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),l=s.callbackNode,a===0||s===r&&(Je===2||Je===9)||s.cancelPendingCommit!==null)return l!==null&&l!==null&&gn(l),s.callbackNode=null,s.callbackPriority=0;if((a&3)===0||Br(s,a)){if(r=a&-a,r===s.callbackPriority)return r;switch(l!==null&&gn(l),bl(a)){case 2:case 8:a=$t;break;case 32:a=tr;break;case 268435456:a=gl;break;default:a=tr}return l=rb.bind(null,s),a=Rt(a,l),s.callbackPriority=r,s.callbackNode=a,r}return l!==null&&l!==null&&gn(l),s.callbackPriority=2,s.callbackNode=null,2}function rb(s,r){if(en!==0&&en!==5)return s.callbackNode=null,s.callbackPriority=0,null;var a=s.callbackNode;if(pd()&&s.callbackNode!==a)return null;var l=qe;return l=Qn(s,s===lt?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),l===0?null:(B0(s,l,r),sb(s,An()),s.callbackNode!=null&&s.callbackNode===a?rb.bind(null,s):null)}function ib(s,r){if(pd())return null;B0(s,r,!0)}function RT(){BT(function(){(Ze&6)!==0?Rt(Mt,jT):nb()})}function Bm(){return Na===0&&(Na=yl()),Na}function ab(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:ps(""+s)}function ob(s,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,s.id&&a.setAttribute("form",s.id),r.parentNode.insertBefore(a,r),s=new FormData(s),a.parentNode.removeChild(a),s}function IT(s,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var m=ab((f[Zt]||null).action),w=l.submitter;w&&(r=(r=w[Zt]||null)?ab(r.formAction):w.getAttribute("formAction"),r!==null&&(m=r,w=null));var _=new ra("action","action",null,l,f);s.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Na!==0){var j=w?ob(f,w):new FormData(f);am(a,{pending:!0,data:j,method:f.method,action:m},null,j)}}else typeof m=="function"&&(_.preventDefault(),j=w?ob(f,w):new FormData(f),am(a,{pending:!0,data:j,method:f.method,action:m},m,j))},currentTarget:f}]})}}for(var zm=0;zm<Nf.length;zm++){var Hm=Nf[zm],kT=Hm.toLowerCase(),DT=Hm[0].toUpperCase()+Hm.slice(1);bs(kT,"on"+DT)}bs(By,"onAnimationEnd"),bs(zy,"onAnimationIteration"),bs(Hy,"onAnimationStart"),bs("dblclick","onDoubleClick"),bs("focusin","onFocus"),bs("focusout","onBlur"),bs(X1,"onTransitionRun"),bs(W1,"onTransitionStart"),bs(Z1,"onTransitionCancel"),bs(qy,"onTransitionEnd"),Is("onMouseEnter",["mouseout","mouseover"]),Is("onMouseLeave",["mouseout","mouseover"]),Is("onPointerEnter",["pointerout","pointerover"]),Is("onPointerLeave",["pointerout","pointerover"]),Rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cc));function lb(s,r){r=(r&4)!==0;for(var a=0;a<s.length;a++){var l=s[a],f=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var w=l.length-1;0<=w;w--){var _=l[w],j=_.instance,q=_.currentTarget;if(_=_.listener,j!==m&&f.isPropagationStopped())break e;m=_,f.currentTarget=q;try{m(f)}catch(J){rd(J)}f.currentTarget=null,m=j}else for(w=0;w<l.length;w++){if(_=l[w],j=_.instance,q=_.currentTarget,_=_.listener,j!==m&&f.isPropagationStopped())break e;m=_,f.currentTarget=q;try{m(f)}catch(J){rd(J)}f.currentTarget=null,m=j}}}}function Ue(s,r){var a=r[$i];a===void 0&&(a=r[$i]=new Set);var l=s+"__bubble";a.has(l)||(cb(r,s,2,!1),a.add(l))}function qm(s,r,a){var l=0;r&&(l|=4),cb(a,s,l,r)}var vd="_reactListening"+Math.random().toString(36).slice(2);function Fm(s){if(!s[vd]){s[vd]=!0,bu.forEach(function(a){a!=="selectionchange"&&(OT.has(a)||qm(a,!1,s),qm(a,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[vd]||(r[vd]=!0,qm("selectionchange",!1,r))}}function cb(s,r,a,l){switch(Db(r)){case 2:var f=oN;break;case 8:f=lN;break;default:f=rp}a=f.bind(null,r,a,s),f=void 0,!or||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?s.addEventListener(r,a,{capture:!0,passive:f}):s.addEventListener(r,a,!0):f!==void 0?s.addEventListener(r,a,{passive:f}):s.addEventListener(r,a,!1)}function $m(s,r,a,l,f){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var _=l.stateNode.containerInfo;if(_===f)break;if(w===4)for(w=l.return;w!==null;){var j=w.tag;if((j===3||j===4)&&w.stateNode.containerInfo===f)return;w=w.return}for(;_!==null;){if(w=Cs(_),w===null)return;if(j=w.tag,j===5||j===6||j===26||j===27){l=m=w;continue e}_=_.parentNode}}l=l.return}ta(function(){var q=m,J=Sl(a),ne=[];e:{var G=Fy.get(s);if(G!==void 0){var K=ra,Ce=s;switch(s){case"keypress":if(na(a)===0)break e;case"keydown":case"keyup":K=ao;break;case"focusin":Ce="focus",K=so;break;case"focusout":Ce="blur",K=so;break;case"beforeblur":case"afterblur":K=so;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=ca;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Jr;break;case By:case zy:case Hy:K=Cl;break;case qy:K=v;break;case"scroll":case"scrollend":K=aa;break;case"wheel":K=T;break;case"copy":case"cut":case"paste":K=Cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Il;break;case"toggle":case"beforetoggle":K=Y}var Te=(r&4)!==0,st=!Te&&(s==="scroll"||s==="scrollend"),V=Te?G!==null?G+"Capture":null:G;Te=[];for(var P=q,z;P!==null;){var ee=P;if(z=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||z===null||V===null||(ee=Wr(P,V),ee!=null&&Te.push(uc(P,ee,z))),st)break;P=P.return}0<Te.length&&(G=new K(G,Ce,null,a,J),ne.push({event:G,listeners:Te}))}}if((r&7)===0){e:{if(G=s==="mouseover"||s==="pointerover",K=s==="mouseout"||s==="pointerout",G&&a!==Nl&&(Ce=a.relatedTarget||a.fromElement)&&(Cs(Ce)||Ce[sr]))break e;if((K||G)&&(G=J.window===J?J:(G=J.ownerDocument)?G.defaultView||G.parentWindow:window,K?(Ce=a.relatedTarget||a.toElement,K=q,Ce=Ce?Cs(Ce):null,Ce!==null&&(st=u(Ce),Te=Ce.tag,Ce!==st||Te!==5&&Te!==27&&Te!==6)&&(Ce=null)):(K=null,Ce=q),K!==Ce)){if(Te=ca,ee="onMouseLeave",V="onMouseEnter",P="mouse",(s==="pointerout"||s==="pointerover")&&(Te=Il,ee="onPointerLeave",V="onPointerEnter",P="pointer"),st=K==null?G:$r(K),z=Ce==null?G:$r(Ce),G=new Te(ee,P+"leave",K,a,J),G.target=st,G.relatedTarget=z,ee=null,Cs(J)===q&&(Te=new Te(V,P+"enter",Ce,a,J),Te.target=z,Te.relatedTarget=st,ee=Te),st=ee,K&&Ce)t:{for(Te=K,V=Ce,P=0,z=Te;z;z=ko(z))P++;for(z=0,ee=V;ee;ee=ko(ee))z++;for(;0<P-z;)Te=ko(Te),P--;for(;0<z-P;)V=ko(V),z--;for(;P--;){if(Te===V||V!==null&&Te===V.alternate)break t;Te=ko(Te),V=ko(V)}Te=null}else Te=null;K!==null&&ub(ne,G,K,Te,!1),Ce!==null&&st!==null&&ub(ne,st,Ce,Te,!0)}}e:{if(G=q?$r(q):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var ge=jy;else if(Ay(G))if(Ry)ge=K1;else{ge=$1;var Ve=F1}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?q&&eo(q.elementType)&&(ge=jy):ge=G1;if(ge&&(ge=ge(s,q))){Cy(ne,ge,a,J);break e}Ve&&Ve(s,G,q),s==="focusout"&&q&&G.type==="number"&&q.memoizedProps.value!=null&&_l(G,"number",G.value)}switch(Ve=q?$r(q):window,s){case"focusin":(Ay(Ve)||Ve.contentEditable==="true")&&(oo=Ve,_f=q,Ml=null);break;case"focusout":Ml=_f=oo=null;break;case"mousedown":Ef=!0;break;case"contextmenu":case"mouseup":case"dragend":Ef=!1,Ly(ne,a,J);break;case"selectionchange":if(Q1)break;case"keydown":case"keyup":Ly(ne,a,J)}var we;if(Re)e:{switch(s){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else vs?gs(s,a)&&(Ne="onCompositionEnd"):s==="keydown"&&a.keyCode===229&&(Ne="onCompositionStart");Ne&&(Et&&a.locale!=="ko"&&(vs||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&vs&&(we=Nu()):(Zn=J,ot="value"in Zn?Zn.value:Zn.textContent,vs=!0)),Ve=bd(q,Ne),0<Ve.length&&(Ne=new Rl(Ne,s,null,a,J),ne.push({event:Ne,listeners:Ve}),we?Ne.data=we:(we=ys(a),we!==null&&(Ne.data=we)))),(we=We?kl(s,a):z1(s,a))&&(Ne=bd(q,"onBeforeInput"),0<Ne.length&&(Ve=new Rl("onBeforeInput","beforeinput",null,a,J),ne.push({event:Ve,listeners:Ne}),Ve.data=we)),IT(ne,s,q,a,J)}lb(ne,r)})}function uc(s,r,a){return{instance:s,listener:r,currentTarget:a}}function bd(s,r){for(var a=r+"Capture",l=[];s!==null;){var f=s,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Wr(s,a),f!=null&&l.unshift(uc(s,f,m)),f=Wr(s,r),f!=null&&l.push(uc(s,f,m))),s.tag===3)return l;s=s.return}return[]}function ko(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function ub(s,r,a,l,f){for(var m=r._reactName,w=[];a!==null&&a!==l;){var _=a,j=_.alternate,q=_.stateNode;if(_=_.tag,j!==null&&j===l)break;_!==5&&_!==26&&_!==27||q===null||(j=q,f?(q=Wr(a,m),q!=null&&w.unshift(uc(a,q,j))):f||(q=Wr(a,m),q!=null&&w.push(uc(a,q,j)))),a=a.return}w.length!==0&&s.push({event:r,listeners:w})}var PT=/\r\n?/g,MT=/\u0000|\uFFFD/g;function db(s){return(typeof s=="string"?s:""+s).replace(PT,`
`).replace(MT,"")}function hb(s,r){return r=db(r),db(s)===r}function wd(){}function nt(s,r,a,l,f,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Wn(s,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Wn(s,""+l);break;case"className":Xi(s,"class",l);break;case"tabIndex":Xi(s,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Xi(s,a,l);break;case"style":Tl(s,l,m);break;case"data":if(r!=="object"){Xi(s,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){s.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){s.removeAttribute(a);break}l=ps(""+l),s.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){s.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&nt(s,r,"name",f.name,f,null),nt(s,r,"formEncType",f.formEncType,f,null),nt(s,r,"formMethod",f.formMethod,f,null),nt(s,r,"formTarget",f.formTarget,f,null)):(nt(s,r,"encType",f.encType,f,null),nt(s,r,"method",f.method,f,null),nt(s,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){s.removeAttribute(a);break}l=ps(""+l),s.setAttribute(a,l);break;case"onClick":l!=null&&(s.onclick=wd);break;case"onScroll":l!=null&&Ue("scroll",s);break;case"onScrollEnd":l!=null&&Ue("scrollend",s);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(i(60));s.innerHTML=a}}break;case"multiple":s.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":s.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){s.removeAttribute("xlink:href");break}a=ps(""+l),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?s.setAttribute(a,""+l):s.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?s.setAttribute(a,""):s.removeAttribute(a);break;case"capture":case"download":l===!0?s.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?s.setAttribute(a,l):s.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?s.setAttribute(a,l):s.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?s.removeAttribute(a):s.setAttribute(a,l);break;case"popover":Ue("beforetoggle",s),Ue("toggle",s),Qi(s,"popover",l);break;case"xlinkActuate":Xn(s,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Xn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Xn(s,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Xn(s,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Xn(s,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Xn(s,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Xn(s,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Xn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Xn(s,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Qi(s,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=_u.get(a)||a,Qi(s,a,l))}}function Gm(s,r,a,l,f,m){switch(a){case"style":Tl(s,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(i(60));s.innerHTML=a}}break;case"children":typeof l=="string"?Wn(s,l):(typeof l=="number"||typeof l=="bigint")&&Wn(s,""+l);break;case"onScroll":l!=null&&Ue("scroll",s);break;case"onScrollEnd":l!=null&&Ue("scrollend",s);break;case"onClick":l!=null&&(s.onclick=wd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ki.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=s[Zt]||null,m=m!=null?m[a]:null,typeof m=="function"&&s.removeEventListener(r,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in s?s[a]=null:s.hasAttribute(a)&&s.removeAttribute(a)),s.addEventListener(r,l,f);break e}a in s?s[a]=l:l===!0?s.setAttribute(a,""):Qi(s,a,l)}}}function tn(s,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",s),Ue("load",s);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var w=a[m];if(w!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:nt(s,r,m,w,a,null)}}f&&nt(s,r,"srcSet",a.srcSet,a,null),l&&nt(s,r,"src",a.src,a,null);return;case"input":Ue("invalid",s);var _=m=w=f=null,j=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":f=J;break;case"type":w=J;break;case"checked":j=J;break;case"defaultChecked":q=J;break;case"value":m=J;break;case"defaultValue":_=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,r));break;default:nt(s,r,l,J,a,null)}}xl(s,m,_,j,q,w,f,!1),Yr(s);return;case"select":Ue("invalid",s),l=w=m=null;for(f in a)if(a.hasOwnProperty(f)&&(_=a[f],_!=null))switch(f){case"value":m=_;break;case"defaultValue":w=_;break;case"multiple":l=_;default:nt(s,r,f,_,a,null)}r=m,a=w,s.multiple=!!l,r!=null?Qr(s,!!l,r,!1):a!=null&&Qr(s,!!l,a,!0);return;case"textarea":Ue("invalid",s),m=f=l=null;for(w in a)if(a.hasOwnProperty(w)&&(_=a[w],_!=null))switch(w){case"value":l=_;break;case"defaultValue":f=_;break;case"children":m=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:nt(s,r,w,_,a,null)}xu(s,l,f,m),Yr(s);return;case"option":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"selected":s.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:nt(s,r,j,l,a,null)}return;case"dialog":Ue("beforetoggle",s),Ue("toggle",s),Ue("cancel",s),Ue("close",s);break;case"iframe":case"object":Ue("load",s);break;case"video":case"audio":for(l=0;l<cc.length;l++)Ue(cc[l],s);break;case"image":Ue("error",s),Ue("load",s);break;case"details":Ue("toggle",s);break;case"embed":case"source":case"link":Ue("error",s),Ue("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:nt(s,r,q,l,a,null)}return;default:if(eo(r)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&Gm(s,r,J,l,a,void 0));return}}for(_ in a)a.hasOwnProperty(_)&&(l=a[_],l!=null&&nt(s,r,_,l,a,null))}function VT(s,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,w=null,_=null,j=null,q=null,J=null;for(K in a){var ne=a[K];if(a.hasOwnProperty(K)&&ne!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":j=ne;default:l.hasOwnProperty(K)||nt(s,r,K,null,l,ne)}}for(var G in l){var K=l[G];if(ne=a[G],l.hasOwnProperty(G)&&(K!=null||ne!=null))switch(G){case"type":m=K;break;case"name":f=K;break;case"checked":q=K;break;case"defaultChecked":J=K;break;case"value":w=K;break;case"defaultValue":_=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,r));break;default:K!==ne&&nt(s,r,G,K,l,ne)}}wl(s,w,_,j,q,J,m,f);return;case"select":K=w=_=G=null;for(m in a)if(j=a[m],a.hasOwnProperty(m)&&j!=null)switch(m){case"value":break;case"multiple":K=j;default:l.hasOwnProperty(m)||nt(s,r,m,null,l,j)}for(f in l)if(m=l[f],j=a[f],l.hasOwnProperty(f)&&(m!=null||j!=null))switch(f){case"value":G=m;break;case"defaultValue":_=m;break;case"multiple":w=m;default:m!==j&&nt(s,r,f,m,l,j)}r=_,a=w,l=K,G!=null?Qr(s,!!a,G,!1):!!l!=!!a&&(r!=null?Qr(s,!!a,r,!0):Qr(s,!!a,a?[]:"",!1));return;case"textarea":K=G=null;for(_ in a)if(f=a[_],a.hasOwnProperty(_)&&f!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:nt(s,r,_,null,l,f)}for(w in l)if(f=l[w],m=a[w],l.hasOwnProperty(w)&&(f!=null||m!=null))switch(w){case"value":G=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==m&&nt(s,r,w,f,l,m)}wu(s,G,K);return;case"option":for(var Ce in a)if(G=a[Ce],a.hasOwnProperty(Ce)&&G!=null&&!l.hasOwnProperty(Ce))switch(Ce){case"selected":s.selected=!1;break;default:nt(s,r,Ce,null,l,G)}for(j in l)if(G=l[j],K=a[j],l.hasOwnProperty(j)&&G!==K&&(G!=null||K!=null))switch(j){case"selected":s.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:nt(s,r,j,G,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in a)G=a[Te],a.hasOwnProperty(Te)&&G!=null&&!l.hasOwnProperty(Te)&&nt(s,r,Te,null,l,G);for(q in l)if(G=l[q],K=a[q],l.hasOwnProperty(q)&&G!==K&&(G!=null||K!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,r));break;default:nt(s,r,q,G,l,K)}return;default:if(eo(r)){for(var st in a)G=a[st],a.hasOwnProperty(st)&&G!==void 0&&!l.hasOwnProperty(st)&&Gm(s,r,st,void 0,l,G);for(J in l)G=l[J],K=a[J],!l.hasOwnProperty(J)||G===K||G===void 0&&K===void 0||Gm(s,r,J,G,l,K);return}}for(var V in a)G=a[V],a.hasOwnProperty(V)&&G!=null&&!l.hasOwnProperty(V)&&nt(s,r,V,null,l,G);for(ne in l)G=l[ne],K=a[ne],!l.hasOwnProperty(ne)||G===K||G==null&&K==null||nt(s,r,ne,G,l,K)}var Km=null,Ym=null;function xd(s){return s.nodeType===9?s:s.ownerDocument}function fb(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mb(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Qm(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Xm=null;function LT(){var s=window.event;return s&&s.type==="popstate"?s===Xm?!1:(Xm=s,!0):(Xm=null,!1)}var pb=typeof setTimeout=="function"?setTimeout:void 0,UT=typeof clearTimeout=="function"?clearTimeout:void 0,gb=typeof Promise=="function"?Promise:void 0,BT=typeof queueMicrotask=="function"?queueMicrotask:typeof gb<"u"?function(s){return gb.resolve(null).then(s).catch(zT)}:pb;function zT(s){setTimeout(function(){throw s})}function pi(s){return s==="head"}function yb(s,r){var a=r,l=0,f=0;do{var m=a.nextSibling;if(s.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var w=s.ownerDocument;if(a&1&&dc(w.documentElement),a&2&&dc(w.body),a&4)for(a=w.head,dc(a),w=a.firstChild;w;){var _=w.nextSibling,j=w.nodeName;w[Fr]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&w.rel.toLowerCase()==="stylesheet"||a.removeChild(w),w=_}}if(f===0){s.removeChild(m),bc(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);bc(r)}function Wm(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Wm(a),Qa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}s.removeChild(a)}}function HT(s,r,a,l){for(;s.nodeType===1;){var f=a;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(l){if(!s[Fr])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(m=s.getAttribute("rel"),m==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(m!==f.rel||s.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||s.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||s.getAttribute("title")!==(f.title==null?null:f.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(m=s.getAttribute("src"),(m!==(f.src==null?null:f.src)||s.getAttribute("type")!==(f.type==null?null:f.type)||s.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&s.getAttribute("name")===m)return s}else return s;if(s=xs(s.nextSibling),s===null)break}return null}function qT(s,r,a){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=xs(s.nextSibling),s===null))return null;return s}function Zm(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function FT(s,r){var a=s.ownerDocument;if(s.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),s._reactRetry=l}}function xs(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return s}var Jm=null;function vb(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var a=s.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return s;r--}else a==="/$"&&r++}s=s.previousSibling}return null}function bb(s,r,a){switch(r=xd(a),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function dc(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);Qa(s)}var is=new Map,wb=new Set;function _d(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var xr=ae.d;ae.d={f:$T,r:GT,D:KT,C:YT,L:QT,m:XT,X:ZT,S:WT,M:JT};function $T(){var s=xr.f(),r=fd();return s||r}function GT(s){var r=js(s);r!==null&&r.tag===5&&r.type==="form"?Bv(r):xr.r(s)}var Do=typeof document>"u"?null:document;function xb(s,r,a){var l=Do;if(l&&typeof r=="string"&&r){var f=Gt(r);f='link[rel="'+s+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),wb.has(f)||(wb.add(f),s={rel:s,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),tn(r,"link",s),_t(r),l.head.appendChild(r)))}}function KT(s){xr.D(s),xb("dns-prefetch",s,null)}function YT(s,r){xr.C(s,r),xb("preconnect",s,r)}function QT(s,r,a){xr.L(s,r,a);var l=Do;if(l&&s&&r){var f='link[rel="preload"][as="'+Gt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Gt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Gt(a.imageSizes)+'"]')):f+='[href="'+Gt(s)+'"]';var m=f;switch(r){case"style":m=Oo(s);break;case"script":m=Po(s)}is.has(m)||(s=x({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:s,as:r},a),is.set(m,s),l.querySelector(f)!==null||r==="style"&&l.querySelector(hc(m))||r==="script"&&l.querySelector(fc(m))||(r=l.createElement("link"),tn(r,"link",s),_t(r),l.head.appendChild(r)))}}function XT(s,r){xr.m(s,r);var a=Do;if(a&&s){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Gt(l)+'"][href="'+Gt(s)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Po(s)}if(!is.has(m)&&(s=x({rel:"modulepreload",href:s},r),is.set(m,s),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(fc(m)))return}l=a.createElement("link"),tn(l,"link",s),_t(l),a.head.appendChild(l)}}}function WT(s,r,a){xr.S(s,r,a);var l=Do;if(l&&s){var f=Gr(l).hoistableStyles,m=Oo(s);r=r||"default";var w=f.get(m);if(!w){var _={loading:0,preload:null};if(w=l.querySelector(hc(m)))_.loading=5;else{s=x({rel:"stylesheet",href:s,"data-precedence":r},a),(a=is.get(m))&&ep(s,a);var j=w=l.createElement("link");_t(j),tn(j,"link",s),j._p=new Promise(function(q,J){j.onload=q,j.onerror=J}),j.addEventListener("load",function(){_.loading|=1}),j.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Ed(w,r,l)}w={type:"stylesheet",instance:w,count:1,state:_},f.set(m,w)}}}function ZT(s,r){xr.X(s,r);var a=Do;if(a&&s){var l=Gr(a).hoistableScripts,f=Po(s),m=l.get(f);m||(m=a.querySelector(fc(f)),m||(s=x({src:s,async:!0},r),(r=is.get(f))&&tp(s,r),m=a.createElement("script"),_t(m),tn(m,"link",s),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function JT(s,r){xr.M(s,r);var a=Do;if(a&&s){var l=Gr(a).hoistableScripts,f=Po(s),m=l.get(f);m||(m=a.querySelector(fc(f)),m||(s=x({src:s,async:!0,type:"module"},r),(r=is.get(f))&&tp(s,r),m=a.createElement("script"),_t(m),tn(m,"link",s),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function _b(s,r,a,l){var f=(f=te.current)?_d(f):null;if(!f)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Oo(a.href),a=Gr(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){s=Oo(a.href);var m=Gr(f).hoistableStyles,w=m.get(s);if(w||(f=f.ownerDocument||f,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(s,w),(m=f.querySelector(hc(s)))&&!m._p&&(w.instance=m,w.state.loading=5),is.has(s)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},is.set(s,a),m||eN(f,s,a,w.state))),r&&l===null)throw Error(i(528,""));return w}if(r&&l!==null)throw Error(i(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Po(a),a=Gr(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Oo(s){return'href="'+Gt(s)+'"'}function hc(s){return'link[rel="stylesheet"]['+s+"]"}function Eb(s){return x({},s,{"data-precedence":s.precedence,precedence:null})}function eN(s,r,a,l){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=s.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),tn(r,"link",a),_t(r),s.head.appendChild(r))}function Po(s){return'[src="'+Gt(s)+'"]'}function fc(s){return"script[async]"+s}function Tb(s,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=s.querySelector('style[data-href~="'+Gt(a.href)+'"]');if(l)return r.instance=l,_t(l),l;var f=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(s.ownerDocument||s).createElement("style"),_t(l),tn(l,"style",f),Ed(l,a.precedence,s),r.instance=l;case"stylesheet":f=Oo(a.href);var m=s.querySelector(hc(f));if(m)return r.state.loading|=4,r.instance=m,_t(m),m;l=Eb(a),(f=is.get(f))&&ep(l,f),m=(s.ownerDocument||s).createElement("link"),_t(m);var w=m;return w._p=new Promise(function(_,j){w.onload=_,w.onerror=j}),tn(m,"link",l),r.state.loading|=4,Ed(m,a.precedence,s),r.instance=m;case"script":return m=Po(a.src),(f=s.querySelector(fc(m)))?(r.instance=f,_t(f),f):(l=a,(f=is.get(m))&&(l=x({},a),tp(l,f)),s=s.ownerDocument||s,f=s.createElement("script"),_t(f),tn(f,"link",l),s.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Ed(l,a.precedence,s));return r.instance}function Ed(s,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,w=0;w<l.length;w++){var _=l[w];if(_.dataset.precedence===r)m=_;else if(m!==f)break}m?m.parentNode.insertBefore(s,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(s,r.firstChild))}function ep(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function tp(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var Td=null;function Nb(s,r,a){if(Td===null){var l=new Map,f=Td=new Map;f.set(a,l)}else f=Td,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(s))return l;for(l.set(s,null),a=a.getElementsByTagName(s),f=0;f<a.length;f++){var m=a[f];if(!(m[Fr]||m[xt]||s==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var w=m.getAttribute(r)||"";w=s+w;var _=l.get(w);_?_.push(m):l.set(w,[m])}}return l}function Sb(s,r,a){s=s.ownerDocument||s,s.head.insertBefore(a,r==="title"?s.querySelector("head > title"):null)}function tN(s,r,a){if(a===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Ab(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var mc=null;function nN(){}function sN(s,r,a){if(mc===null)throw Error(i(475));var l=mc;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Oo(a.href),m=s.querySelector(hc(f));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(l.count++,l=Nd.bind(l),s.then(l,l)),r.state.loading|=4,r.instance=m,_t(m);return}m=s.ownerDocument||s,a=Eb(a),(f=is.get(f))&&ep(a,f),m=m.createElement("link"),_t(m);var w=m;w._p=new Promise(function(_,j){w.onload=_,w.onerror=j}),tn(m,"link",a),r.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Nd.bind(l),s.addEventListener("load",r),s.addEventListener("error",r))}}function rN(){if(mc===null)throw Error(i(475));var s=mc;return s.stylesheets&&s.count===0&&np(s,s.stylesheets),0<s.count?function(r){var a=setTimeout(function(){if(s.stylesheets&&np(s,s.stylesheets),s.unsuspend){var l=s.unsuspend;s.unsuspend=null,l()}},6e4);return s.unsuspend=r,function(){s.unsuspend=null,clearTimeout(a)}}:null}function Nd(){if(this.count--,this.count===0){if(this.stylesheets)np(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Sd=null;function np(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Sd=new Map,r.forEach(iN,s),Sd=null,Nd.call(s))}function iN(s,r){if(!(r.state.loading&4)){var a=Sd.get(s);if(a)var l=a.get(null);else{a=new Map,Sd.set(s,a);for(var f=s.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var w=f[m];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(a.set(w.dataset.precedence,w),l=w)}l&&a.set(null,l)}f=r.instance,w=f.getAttribute("data-precedence"),m=a.get(w)||l,m===l&&a.set(null,f),a.set(w,f),this.count++,l=Nd.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(f,s.firstChild)),r.state.loading|=4}}var pc={$$typeof:Z,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function aN(s,r,a,l,f,m,w,_){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ya(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ya(0),this.hiddenUpdates=Ya(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Cb(s,r,a,l,f,m,w,_,j,q,J,ne){return s=new aN(s,r,a,w,_,j,q,ne),r=1,m===!0&&(r|=24),m=Mn(3,null,null,r),s.current=m,m.stateNode=s,r=Vf(),r.refCount++,s.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},zf(m),s}function jb(s){return s?(s=ho,s):ho}function Rb(s,r,a,l,f,m){f=jb(f),l.context===null?l.context=f:l.pendingContext=f,l=ni(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=si(s,l,r),a!==null&&(zn(a,s,r),$l(a,s,r))}function Ib(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var a=s.retryLane;s.retryLane=a!==0&&a<r?a:r}}function sp(s,r){Ib(s,r),(s=s.alternate)&&Ib(s,r)}function kb(s){if(s.tag===13){var r=uo(s,67108864);r!==null&&zn(r,s,67108864),sp(s,67108864)}}var Ad=!0;function oN(s,r,a,l){var f=F.T;F.T=null;var m=ae.p;try{ae.p=2,rp(s,r,a,l)}finally{ae.p=m,F.T=f}}function lN(s,r,a,l){var f=F.T;F.T=null;var m=ae.p;try{ae.p=8,rp(s,r,a,l)}finally{ae.p=m,F.T=f}}function rp(s,r,a,l){if(Ad){var f=ip(l);if(f===null)$m(s,r,l,Cd,a),Ob(s,l);else if(uN(f,s,r,a,l))l.stopPropagation();else if(Ob(s,l),r&4&&-1<cN.indexOf(s)){for(;f!==null;){var m=js(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var w=hs(m.pendingLanes);if(w!==0){var _=m;for(_.pendingLanes|=2,_.entangledLanes|=2;w;){var j=1<<31-yn(w);_.entanglements[1]|=j,w&=~j}Us(m),(Ze&6)===0&&(dd=An()+500,lc(0))}}break;case 13:_=uo(m,2),_!==null&&zn(_,m,2),fd(),sp(m,2)}if(m=ip(l),m===null&&$m(s,r,l,Cd,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else $m(s,r,l,null,a)}}function ip(s){return s=Sl(s),ap(s)}var Cd=null;function ap(s){if(Cd=null,s=Cs(s),s!==null){var r=u(s);if(r===null)s=null;else{var a=r.tag;if(a===13){if(s=h(r),s!==null)return s;s=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return Cd=s,null}function Db(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pu()){case Mt:return 2;case $t:return 8;case tr:case df:return 32;case gl:return 268435456;default:return 32}default:return 32}}var op=!1,gi=null,yi=null,vi=null,gc=new Map,yc=new Map,bi=[],cN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ob(s,r){switch(s){case"focusin":case"focusout":gi=null;break;case"dragenter":case"dragleave":yi=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":gc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":yc.delete(r.pointerId)}}function vc(s,r,a,l,f,m){return s===null||s.nativeEvent!==m?(s={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},r!==null&&(r=js(r),r!==null&&kb(r)),s):(s.eventSystemFlags|=l,r=s.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),s)}function uN(s,r,a,l,f){switch(r){case"focusin":return gi=vc(gi,s,r,a,l,f),!0;case"dragenter":return yi=vc(yi,s,r,a,l,f),!0;case"mouseover":return vi=vc(vi,s,r,a,l,f),!0;case"pointerover":var m=f.pointerId;return gc.set(m,vc(gc.get(m)||null,s,r,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,yc.set(m,vc(yc.get(m)||null,s,r,a,l,f)),!0}return!1}function Pb(s){var r=Cs(s.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){s.blockedOn=r,mf(s.priority,function(){if(a.tag===13){var l=Bn();l=vl(l);var f=uo(a,l);f!==null&&zn(f,a,l),sp(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){s.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}s.blockedOn=null}function jd(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var a=ip(s.nativeEvent);if(a===null){a=s.nativeEvent;var l=new a.constructor(a.type,a);Nl=l,a.target.dispatchEvent(l),Nl=null}else return r=js(a),r!==null&&kb(r),s.blockedOn=a,!1;r.shift()}return!0}function Mb(s,r,a){jd(s)&&a.delete(r)}function dN(){op=!1,gi!==null&&jd(gi)&&(gi=null),yi!==null&&jd(yi)&&(yi=null),vi!==null&&jd(vi)&&(vi=null),gc.forEach(Mb),yc.forEach(Mb)}function Rd(s,r){s.blockedOn===r&&(s.blockedOn=null,op||(op=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,dN)))}var Id=null;function Vb(s){Id!==s&&(Id=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Id===s&&(Id=null);for(var r=0;r<s.length;r+=3){var a=s[r],l=s[r+1],f=s[r+2];if(typeof l!="function"){if(ap(l||a)===null)continue;break}var m=js(a);m!==null&&(s.splice(r,3),r-=3,am(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function bc(s){function r(j){return Rd(j,s)}gi!==null&&Rd(gi,s),yi!==null&&Rd(yi,s),vi!==null&&Rd(vi,s),gc.forEach(r),yc.forEach(r);for(var a=0;a<bi.length;a++){var l=bi[a];l.blockedOn===s&&(l.blockedOn=null)}for(;0<bi.length&&(a=bi[0],a.blockedOn===null);)Pb(a),a.blockedOn===null&&bi.shift();if(a=(s.ownerDocument||s).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],w=f[Zt]||null;if(typeof m=="function")w||Vb(a);else if(w){var _=null;if(m&&m.hasAttribute("formAction")){if(f=m,w=m[Zt]||null)_=w.formAction;else if(ap(f)!==null)continue}else _=w.action;typeof _=="function"?a[l+1]=_:(a.splice(l,3),l-=3),Vb(a)}}}function lp(s){this._internalRoot=s}kd.prototype.render=lp.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var a=r.current,l=Bn();Rb(a,l,s,r,null,null)},kd.prototype.unmount=lp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;Rb(s.current,2,null,s,null,null),fd(),r[sr]=null}};function kd(s){this._internalRoot=s}kd.prototype.unstable_scheduleHydration=function(s){if(s){var r=nr();s={blockedOn:null,target:s,priority:r};for(var a=0;a<bi.length&&r!==0&&r<bi[a].priority;a++);bi.splice(a,0,s),a===0&&Pb(s)}};var Lb=e.version;if(Lb!=="19.1.1")throw Error(i(527,Lb,"19.1.1"));ae.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=g(r),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var hN={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dd.isDisabled&&Dd.supportsFiber)try{Lr=Dd.inject(hN),on=Dd}catch{}}return xc.createRoot=function(s,r){if(!o(s))throw Error(i(299));var a=!1,l="",f=e0,m=t0,w=n0,_=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(_=r.unstable_transitionCallbacks)),r=Cb(s,1,!1,null,null,a,l,f,m,w,_,null),s[sr]=r.current,Fm(s),new lp(r)},xc.hydrateRoot=function(s,r,a){if(!o(s))throw Error(i(299));var l=!1,f="",m=e0,w=t0,_=n0,j=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(j=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),r=Cb(s,1,!0,r,a??null,l,f,m,w,_,j,q),r.context=jb(null),a=r.current,l=Bn(),l=vl(l),f=ni(l),f.callback=null,si(a,f,l),a=l,r.current.lanes=a,wt(r,a),Us(r),s[sr]=r.current,Fm(s),new kd(r)},xc.version="19.1.1",xc}var Yb;function _N(){if(Yb)return dp.exports;Yb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),dp.exports=xN(),dp.exports}var EN=_N();function TN(){const[n,e]=I.useState(0),[t,i]=I.useState(1),[o,u]=I.useState(""),h=()=>{e(E=>E+t)},p=()=>{e(E=>E-t)},g=()=>{e(0)},y=E=>{const N=parseInt(E.target.value)||1;i(N)},x=E=>{u(E.target.value)};return c.jsx("div",{className:"container mt-4",children:c.jsx("div",{className:"row justify-content-center",children:c.jsxs("div",{className:"col-lg-8",children:[c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("h1",{className:"display-4 text-primary",children:" useState Hook"}),c.jsx("p",{className:"lead text-muted",children:"Manejo de estado local en componentes funcionales"})]}),c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-primary text-white",children:c.jsx("h5",{className:"mb-0",children:" Contador con Pasos Variables"})}),c.jsxs("div",{className:"card-body text-center",children:[c.jsx("h2",{className:"display-3 text-primary mb-4",children:n}),c.jsxs("div",{className:"row mb-3",children:[c.jsxs("div",{className:"col-md-6",children:[c.jsx("label",{className:"form-label",children:"Tamao del paso:"}),c.jsx("input",{type:"number",className:"form-control",value:t,onChange:y,min:"1",max:"10"})]}),c.jsx("div",{className:"col-md-6 d-flex align-items-end",children:c.jsx("div",{className:"text-muted",children:c.jsxs("small",{children:["Incremento actual: +",t]})})})]}),c.jsxs("div",{className:"btn-group mb-3",role:"group",children:[c.jsxs("button",{onClick:p,className:"btn btn-warning",disabled:n<=0,children:[" Disminuir (",t,")"]}),c.jsx("button",{onClick:g,className:"btn btn-secondary",children:" Reset"}),c.jsxs("button",{onClick:h,className:"btn btn-success",children:[" Aumentar (",t,")"]})]}),c.jsx("div",{className:"progress mb-3",children:c.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${Math.min(n/100*100,100)}%`},children:n>0?`${Math.min(n,100)}%`:""})})]})]}),c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-success text-white",children:c.jsx("h5",{className:"mb-0",children:" Input Controlado"})}),c.jsxs("div",{className:"card-body",children:[c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"Escribe tu nombre:"}),c.jsx("input",{type:"text",className:"form-control",value:o,onChange:x,placeholder:"Tu nombre aqu..."})]}),o&&c.jsxs("div",{className:"alert alert-success",children:[c.jsxs("h5",{children:["Hola, ",o,"! "]}),c.jsxs("p",{children:["Has escrito ",o.length," caracteres."]}),o.length>10&&c.jsx("small",{className:"text-muted",children:"Wow, tienes un nombre largo!"})]})]})]}),c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-info text-white",children:c.jsx("h5",{className:"mb-0",children:" Cmo funciona useState?"})}),c.jsxs("div",{className:"card-body",children:[c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-md-6",children:[c.jsx("h6",{className:"text-primary",children:"Sintaxis:"}),c.jsx("pre",{className:"bg-light p-2 rounded",children:c.jsx("code",{children:"const [state, setState] = useState(initialValue);"})})]}),c.jsxs("div",{className:"col-md-6",children:[c.jsx("h6",{className:"text-primary",children:"Caractersticas:"}),c.jsxs("ul",{className:"list-unstyled",children:[c.jsx("li",{children:" Estado local del componente"}),c.jsx("li",{children:" Preserva valor entre renders"}),c.jsx("li",{children:" Trigger de re-renderizado"}),c.jsx("li",{children:" Puede ser cualquier tipo de dato"})]})]})]}),c.jsxs("div",{className:"mt-3",children:[c.jsx("h6",{className:"text-primary",children:"Ejemplos en este componente:"}),c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-md-4",children:c.jsx("div",{className:"card bg-light",children:c.jsx("div",{className:"card-body p-2",children:c.jsxs("small",{children:[c.jsx("strong",{children:"Contador:"}),c.jsx("br",{}),c.jsx("code",{children:"useState(0)"}),c.jsx("br",{}),c.jsx("span",{className:"text-muted",children:"Nmero inicial: 0"})]})})})}),c.jsx("div",{className:"col-md-4",children:c.jsx("div",{className:"card bg-light",children:c.jsx("div",{className:"card-body p-2",children:c.jsxs("small",{children:[c.jsx("strong",{children:"Paso:"}),c.jsx("br",{}),c.jsx("code",{children:"useState(1)"}),c.jsx("br",{}),c.jsx("span",{className:"text-muted",children:"Nmero inicial: 1"})]})})})}),c.jsx("div",{className:"col-md-4",children:c.jsx("div",{className:"card bg-light",children:c.jsx("div",{className:"card-body p-2",children:c.jsxs("small",{children:[c.jsx("strong",{children:"Nombre:"}),c.jsx("br",{}),c.jsx("code",{children:"useState('')"}),c.jsx("br",{}),c.jsx("span",{className:"text-muted",children:"String vaco inicial"})]})})})})]})]})]})]}),c.jsx("div",{className:"text-center",children:c.jsx("a",{href:"/",className:"btn btn-secondary btn-lg",children:" Volver al Home"})})]})})})}/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Qb="popstate";function NN(n={}){function e(i,o){let{pathname:u,search:h,hash:p}=i.location;return Dp("",{pathname:u,search:h,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:Mc(o)}return AN(e,t,null,n)}function gt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Xs(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SN(){return Math.random().toString(36).substring(2,10)}function Xb(n,e){return{usr:n.state,key:n.key,idx:e}}function Dp(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?sl(e):e,state:t,key:e&&e.key||i||SN()}}function Mc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function sl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function AN(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:u=!1}=i,h=o.history,p="POP",g=null,y=x();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function x(){return(h.state||{idx:null}).idx}function E(){p="POP";let L=x(),X=L==null?null:L-y;y=L,g&&g({action:p,location:Q.location,delta:X})}function N(L,X){p="PUSH";let $=Dp(Q.location,L,X);y=x()+1;let Z=Xb($,y),pe=Q.createHref($);try{h.pushState(Z,"",pe)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;o.location.assign(pe)}u&&g&&g({action:p,location:Q.location,delta:1})}function k(L,X){p="REPLACE";let $=Dp(Q.location,L,X);y=x();let Z=Xb($,y),pe=Q.createHref($);h.replaceState(Z,"",pe),u&&g&&g({action:p,location:Q.location,delta:0})}function B(L){return CN(L)}let Q={get action(){return p},get location(){return n(o,h)},listen(L){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Qb,E),g=L,()=>{o.removeEventListener(Qb,E),g=null}},createHref(L){return e(o,L)},createURL:B,encodeLocation(L){let X=B(L);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:N,replace:k,go(L){return h.go(L)}};return Q}function CN(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),gt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Mc(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function qx(n,e,t="/"){return jN(n,e,t,!1)}function jN(n,e,t,i){let o=typeof e=="string"?sl(e):e,u=jr(o.pathname||"/",t);if(u==null)return null;let h=Fx(n);RN(h);let p=null;for(let g=0;p==null&&g<h.length;++g){let y=zN(u);p=UN(h[g],y,i)}return p}function Fx(n,e=[],t=[],i="",o=!1){let u=(h,p,g=o,y)=>{let x={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(i)&&g)return;gt(x.relativePath.startsWith(i),`Absolute route path "${x.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(i.length)}let E=Tr([i,x.relativePath]),N=t.concat(x);h.children&&h.children.length>0&&(gt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),Fx(h.children,e,N,E,g)),!(h.path==null&&!h.index)&&e.push({path:E,score:VN(E,h.index),routesMeta:N})};return n.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))u(h,p);else for(let g of $x(h.path))u(h,p,!0,g)}),e}function $x(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(i.length===0)return o?[u,""]:[u];let h=$x(i.join("/")),p=[];return p.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&p.push(...h),p.map(g=>n.startsWith("/")&&g===""?"/":g)}function RN(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:LN(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var IN=/^:[\w-]+$/,kN=3,DN=2,ON=1,PN=10,MN=-2,Wb=n=>n==="*";function VN(n,e){let t=n.split("/"),i=t.length;return t.some(Wb)&&(i+=MN),e&&(i+=DN),t.filter(o=>!Wb(o)).reduce((o,u)=>o+(IN.test(u)?kN:u===""?ON:PN),i)}function LN(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function UN(n,e,t=!1){let{routesMeta:i}=n,o={},u="/",h=[];for(let p=0;p<i.length;++p){let g=i[p],y=p===i.length-1,x=u==="/"?e:e.slice(u.length)||"/",E=th({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},x),N=g.route;if(!E&&y&&t&&!i[i.length-1].route.index&&(E=th({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},x)),!E)return null;Object.assign(o,E.params),h.push({params:o,pathname:Tr([u,E.pathname]),pathnameBase:$N(Tr([u,E.pathnameBase])),route:N}),E.pathnameBase!=="/"&&(u=Tr([u,E.pathnameBase]))}return h}function th(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=BN(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:i.reduce((y,{paramName:x,isOptional:E},N)=>{if(x==="*"){let B=p[N]||"";h=u.slice(0,u.length-B.length).replace(/(.)\/+$/,"$1")}const k=p[N];return E&&!k?y[x]=void 0:y[x]=(k||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:n}}function BN(n,e=!1,t=!0){Xs(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,g)=>(i.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function zN(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xs(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function jr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function HN(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?sl(n):n;return{pathname:t?t.startsWith("/")?t:qN(t,e):e,search:GN(i),hash:KN(o)}}function qN(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function pp(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function FN(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Gx(n){let e=FN(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Kx(n,e,t,i=!1){let o;typeof n=="string"?o=sl(n):(o={...n},gt(!o.pathname||!o.pathname.includes("?"),pp("?","pathname","search",o)),gt(!o.pathname||!o.pathname.includes("#"),pp("#","pathname","hash",o)),gt(!o.search||!o.search.includes("#"),pp("#","search","hash",o)));let u=n===""||o.pathname==="",h=u?"/":o.pathname,p;if(h==null)p=t;else{let E=e.length-1;if(!i&&h.startsWith("..")){let N=h.split("/");for(;N[0]==="..";)N.shift(),E-=1;o.pathname=N.join("/")}p=E>=0?e[E]:"/"}let g=HN(o,p),y=h&&h!=="/"&&h.endsWith("/"),x=(u||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(y||x)&&(g.pathname+="/"),g}var Tr=n=>n.join("/").replace(/\/\/+/g,"/"),$N=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),GN=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,KN=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function YN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Yx=["POST","PUT","PATCH","DELETE"];new Set(Yx);var QN=["GET",...Yx];new Set(QN);var rl=I.createContext(null);rl.displayName="DataRouter";var Ih=I.createContext(null);Ih.displayName="DataRouterState";I.createContext(!1);var Qx=I.createContext({isTransitioning:!1});Qx.displayName="ViewTransition";var XN=I.createContext(new Map);XN.displayName="Fetchers";var WN=I.createContext(null);WN.displayName="Await";var er=I.createContext(null);er.displayName="Navigation";var Kc=I.createContext(null);Kc.displayName="Location";var Or=I.createContext({outlet:null,matches:[],isDataRoute:!1});Or.displayName="Route";var dg=I.createContext(null);dg.displayName="RouteError";function ZN(n,{relative:e}={}){gt(Yc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=I.useContext(er),{hash:o,pathname:u,search:h}=Qc(n,{relative:e}),p=u;return t!=="/"&&(p=u==="/"?t:Tr([t,u])),i.createHref({pathname:p,search:h,hash:o})}function Yc(){return I.useContext(Kc)!=null}function Ba(){return gt(Yc(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(Kc).location}var Xx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Wx(n){I.useContext(er).static||I.useLayoutEffect(n)}function za(){let{isDataRoute:n}=I.useContext(Or);return n?dS():JN()}function JN(){gt(Yc(),"useNavigate() may be used only in the context of a <Router> component.");let n=I.useContext(rl),{basename:e,navigator:t}=I.useContext(er),{matches:i}=I.useContext(Or),{pathname:o}=Ba(),u=JSON.stringify(Gx(i)),h=I.useRef(!1);return Wx(()=>{h.current=!0}),I.useCallback((g,y={})=>{if(Xs(h.current,Xx),!h.current)return;if(typeof g=="number"){t.go(g);return}let x=Kx(g,JSON.parse(u),o,y.relative==="path");n==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Tr([e,x.pathname])),(y.replace?t.replace:t.push)(x,y.state,y)},[e,t,u,o,n])}I.createContext(null);function Qc(n,{relative:e}={}){let{matches:t}=I.useContext(Or),{pathname:i}=Ba(),o=JSON.stringify(Gx(t));return I.useMemo(()=>Kx(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function eS(n,e){return Zx(n,e)}function Zx(n,e,t,i,o){gt(Yc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=I.useContext(er),{matches:h}=I.useContext(Or),p=h[h.length-1],g=p?p.params:{},y=p?p.pathname:"/",x=p?p.pathnameBase:"/",E=p&&p.route;{let $=E&&E.path||"";Jx(y,!E||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let N=Ba(),k;if(e){let $=typeof e=="string"?sl(e):e;gt(x==="/"||$.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${$.pathname}" was given in the \`location\` prop.`),k=$}else k=N;let B=k.pathname||"/",Q=B;if(x!=="/"){let $=x.replace(/^\//,"").split("/");Q="/"+B.replace(/^\//,"").split("/").slice($.length).join("/")}let L=qx(n,{pathname:Q});Xs(E||L!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Xs(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=iS(L&&L.map($=>Object.assign({},$,{params:Object.assign({},g,$.params),pathname:Tr([x,u.encodeLocation?u.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?x:Tr([x,u.encodeLocation?u.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),h,t,i,o);return e&&X?I.createElement(Kc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},X):X}function tS(){let n=uS(),e=YN(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:u},"ErrorBoundary")," or"," ",I.createElement("code",{style:u},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),t?I.createElement("pre",{style:o},t):null,h)}var nS=I.createElement(tS,null),sS=class extends I.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?I.createElement(Or.Provider,{value:this.props.routeContext},I.createElement(dg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rS({routeContext:n,match:e,children:t}){let i=I.useContext(rl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(Or.Provider,{value:n},t)}function iS(n,e=[],t=null,i=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let u=n,h=t?.errors;if(h!=null){let y=u.findIndex(x=>x.route.id&&h?.[x.route.id]!==void 0);gt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let p=!1,g=-1;if(t)for(let y=0;y<u.length;y++){let x=u[y];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(g=y),x.route.id){let{loaderData:E,errors:N}=t,k=x.route.loader&&!E.hasOwnProperty(x.route.id)&&(!N||N[x.route.id]===void 0);if(x.route.lazy||k){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((y,x,E)=>{let N,k=!1,B=null,Q=null;t&&(N=h&&x.route.id?h[x.route.id]:void 0,B=x.route.errorElement||nS,p&&(g<0&&E===0?(Jx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,Q=null):g===E&&(k=!0,Q=x.route.hydrateFallbackElement||null)));let L=e.concat(u.slice(0,E+1)),X=()=>{let $;return N?$=B:k?$=Q:x.route.Component?$=I.createElement(x.route.Component,null):x.route.element?$=x.route.element:$=y,I.createElement(rS,{match:x,routeContext:{outlet:y,matches:L,isDataRoute:t!=null},children:$})};return t&&(x.route.ErrorBoundary||x.route.errorElement||E===0)?I.createElement(sS,{location:t.location,revalidation:t.revalidation,component:B,error:N,children:X(),routeContext:{outlet:null,matches:L,isDataRoute:!0},unstable_onError:i}):X()},null)}function hg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aS(n){let e=I.useContext(rl);return gt(e,hg(n)),e}function oS(n){let e=I.useContext(Ih);return gt(e,hg(n)),e}function lS(n){let e=I.useContext(Or);return gt(e,hg(n)),e}function fg(n){let e=lS(n),t=e.matches[e.matches.length-1];return gt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function cS(){return fg("useRouteId")}function uS(){let n=I.useContext(dg),e=oS("useRouteError"),t=fg("useRouteError");return n!==void 0?n:e.errors?.[t]}function dS(){let{router:n}=aS("useNavigate"),e=fg("useNavigate"),t=I.useRef(!1);return Wx(()=>{t.current=!0}),I.useCallback(async(o,u={})=>{Xs(t.current,Xx),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...u}))},[n,e])}var Zb={};function Jx(n,e,t){!e&&!Zb[n]&&(Zb[n]=!0,Xs(!1,t))}I.memo(hS);function hS({routes:n,future:e,state:t,unstable_onError:i}){return Zx(n,void 0,t,i,e)}function Bt(n){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fS({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:u=!1}){gt(!Yc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),p=I.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=sl(t));let{pathname:g="/",search:y="",hash:x="",state:E=null,key:N="default"}=t,k=I.useMemo(()=>{let B=jr(g,h);return B==null?null:{location:{pathname:B,search:y,hash:x,state:E,key:N},navigationType:i}},[h,g,y,x,E,N,i]);return Xs(k!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${x}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:I.createElement(er.Provider,{value:p},I.createElement(Kc.Provider,{children:e,value:k}))}function mS({children:n,location:e}){return eS(Op(n),e)}function Op(n,e=[]){let t=[];return I.Children.forEach(n,(i,o)=>{if(!I.isValidElement(i))return;let u=[...e,o];if(i.type===I.Fragment){t.push.apply(t,Op(i.props.children,u));return}gt(i.type===Bt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=Op(i.props.children,u)),t.push(h)}),t}var Hd="get",qd="application/x-www-form-urlencoded";function kh(n){return n!=null&&typeof n.tagName=="string"}function pS(n){return kh(n)&&n.tagName.toLowerCase()==="button"}function gS(n){return kh(n)&&n.tagName.toLowerCase()==="form"}function yS(n){return kh(n)&&n.tagName.toLowerCase()==="input"}function vS(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function bS(n,e){return n.button===0&&(!e||e==="_self")&&!vS(n)}var Od=null;function wS(){if(Od===null)try{new FormData(document.createElement("form"),0),Od=!1}catch{Od=!0}return Od}var xS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gp(n){return n!=null&&!xS.has(n)?(Xs(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qd}"`),null):n}function _S(n,e){let t,i,o,u,h;if(gS(n)){let p=n.getAttribute("action");i=p?jr(p,e):null,t=n.getAttribute("method")||Hd,o=gp(n.getAttribute("enctype"))||qd,u=new FormData(n)}else if(pS(n)||yS(n)&&(n.type==="submit"||n.type==="image")){let p=n.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||p.getAttribute("action");if(i=g?jr(g,e):null,t=n.getAttribute("formmethod")||p.getAttribute("method")||Hd,o=gp(n.getAttribute("formenctype"))||gp(p.getAttribute("enctype"))||qd,u=new FormData(p,n),!wS()){let{name:y,type:x,value:E}=n;if(x==="image"){let N=y?`${y}.`:"";u.append(`${N}x`,"0"),u.append(`${N}y`,"0")}else y&&u.append(y,E)}}else{if(kh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Hd,i=null,o=qd,h=n}return u&&o==="text/plain"&&(h=u,u=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function mg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ES(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&jr(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function TS(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function NS(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function SS(n,e,t){let i=await Promise.all(n.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await TS(u,t);return h.links?h.links():[]}return[]}));return RS(i.flat(1).filter(NS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Jb(n,e,t,i,o,u){let h=(g,y)=>t[y]?g.route.id!==t[y].route.id:!0,p=(g,y)=>t[y].pathname!==g.pathname||t[y].route.path?.endsWith("*")&&t[y].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,y)=>h(g,y)||p(g,y)):u==="data"?e.filter((g,y)=>{let x=i.routes[g.route.id];if(!x||!x.hasLoader)return!1;if(h(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let E=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function AS(n,e,{includeHydrateFallback:t}={}){return CS(n.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function CS(n){return[...new Set(n)]}function jS(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function RS(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let u=JSON.stringify(jS(o));return t.has(u)||(t.add(u),i.push({key:u,link:o})),i},[])}function e_(){let n=I.useContext(rl);return mg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function IS(){let n=I.useContext(Ih);return mg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var pg=I.createContext(void 0);pg.displayName="FrameworkContext";function t_(){let n=I.useContext(pg);return mg(n,"You must render this element inside a <HydratedRouter> element"),n}function kS(n,e){let t=I.useContext(pg),[i,o]=I.useState(!1),[u,h]=I.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:x,onTouchStart:E}=e,N=I.useRef(null);I.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let Q=X=>{X.forEach($=>{h($.isIntersecting)})},L=new IntersectionObserver(Q,{threshold:.5});return N.current&&L.observe(N.current),()=>{L.disconnect()}}},[n]),I.useEffect(()=>{if(i){let Q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Q)}}},[i]);let k=()=>{o(!0)},B=()=>{o(!1),h(!1)};return t?n!=="intent"?[u,N,{}]:[u,N,{onFocus:_c(p,k),onBlur:_c(g,B),onMouseEnter:_c(y,k),onMouseLeave:_c(x,B),onTouchStart:_c(E,k)}]:[!1,N,{}]}function _c(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function DS({page:n,...e}){let{router:t}=e_(),i=I.useMemo(()=>qx(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?I.createElement(PS,{page:n,matches:i,...e}):null}function OS(n){let{manifest:e,routeModules:t}=t_(),[i,o]=I.useState([]);return I.useEffect(()=>{let u=!1;return SS(n,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[n,e,t]),i}function PS({page:n,matches:e,...t}){let i=Ba(),{manifest:o,routeModules:u}=t_(),{basename:h}=e_(),{loaderData:p,matches:g}=IS(),y=I.useMemo(()=>Jb(n,e,g,o,i,"data"),[n,e,g,o,i]),x=I.useMemo(()=>Jb(n,e,g,o,i,"assets"),[n,e,g,o,i]),E=I.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let B=new Set,Q=!1;if(e.forEach(X=>{let $=o.routes[X.route.id];!$||!$.hasLoader||(!y.some(Z=>Z.route.id===X.route.id)&&X.route.id in p&&u[X.route.id]?.shouldRevalidate||$.hasClientLoader?Q=!0:B.add(X.route.id))}),B.size===0)return[];let L=ES(n,h,"data");return Q&&B.size>0&&L.searchParams.set("_routes",e.filter(X=>B.has(X.route.id)).map(X=>X.route.id).join(",")),[L.pathname+L.search]},[h,p,i,o,y,e,n,u]),N=I.useMemo(()=>AS(x,o),[x,o]),k=OS(x);return I.createElement(I.Fragment,null,E.map(B=>I.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...t})),N.map(B=>I.createElement("link",{key:B,rel:"modulepreload",href:B,...t})),k.map(({key:B,link:Q})=>I.createElement("link",{key:B,nonce:t.nonce,...Q})))}function MS(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var n_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{n_&&(window.__reactRouterVersion="7.8.2")}catch{}function VS({basename:n,children:e,window:t}){let i=I.useRef();i.current==null&&(i.current=NN({window:t,v5Compat:!0}));let o=i.current,[u,h]=I.useState({action:o.action,location:o.location}),p=I.useCallback(g=>{I.startTransition(()=>h(g))},[h]);return I.useLayoutEffect(()=>o.listen(p),[o,p]),I.createElement(fS,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:o})}var s_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nh=I.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:u,replace:h,state:p,target:g,to:y,preventScrollReset:x,viewTransition:E,...N},k){let{basename:B}=I.useContext(er),Q=typeof y=="string"&&s_.test(y),L,X=!1;if(typeof y=="string"&&Q&&(L=y,n_))try{let C=new URL(window.location.href),M=y.startsWith("//")?new URL(C.protocol+y):new URL(y),O=jr(M.pathname,B);M.origin===C.origin&&O!=null?y=O+M.search+M.hash:X=!0}catch{Xs(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=ZN(y,{relative:o}),[Z,pe,oe]=kS(i,N),ye=zS(y,{replace:h,state:p,target:g,preventScrollReset:x,relative:o,viewTransition:E});function S(C){e&&e(C),C.defaultPrevented||ye(C)}let A=I.createElement("a",{...N,...oe,href:L||$,onClick:X||u?e:S,ref:MS(k,pe),target:g,"data-discover":!Q&&t==="render"?"true":void 0});return Z&&!Q?I.createElement(I.Fragment,null,A,I.createElement(DS,{page:$})):A});nh.displayName="Link";var LS=I.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:u,to:h,viewTransition:p,children:g,...y},x){let E=Qc(h,{relative:y.relative}),N=Ba(),k=I.useContext(Ih),{navigator:B,basename:Q}=I.useContext(er),L=k!=null&&GS(E)&&p===!0,X=B.encodeLocation?B.encodeLocation(E).pathname:E.pathname,$=N.pathname,Z=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;t||($=$.toLowerCase(),Z=Z?Z.toLowerCase():null,X=X.toLowerCase()),Z&&Q&&(Z=jr(Z,Q)||Z);const pe=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let oe=$===X||!o&&$.startsWith(X)&&$.charAt(pe)==="/",ye=Z!=null&&(Z===X||!o&&Z.startsWith(X)&&Z.charAt(X.length)==="/"),S={isActive:oe,isPending:ye,isTransitioning:L},A=oe?e:void 0,C;typeof i=="function"?C=i(S):C=[i,oe?"active":null,ye?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(S):u;return I.createElement(nh,{...y,"aria-current":A,className:C,ref:x,style:M,to:h,viewTransition:p},typeof g=="function"?g(S):g)});LS.displayName="NavLink";var US=I.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:u,method:h=Hd,action:p,onSubmit:g,relative:y,preventScrollReset:x,viewTransition:E,...N},k)=>{let B=FS(),Q=$S(p,{relative:y}),L=h.toLowerCase()==="get"?"get":"post",X=typeof p=="string"&&s_.test(p),$=Z=>{if(g&&g(Z),Z.defaultPrevented)return;Z.preventDefault();let pe=Z.nativeEvent.submitter,oe=pe?.getAttribute("formmethod")||h;B(pe||Z.currentTarget,{fetcherKey:e,method:oe,navigate:t,replace:o,state:u,relative:y,preventScrollReset:x,viewTransition:E})};return I.createElement("form",{ref:k,method:L,action:Q,onSubmit:i?g:$,...N,"data-discover":!X&&n==="render"?"true":void 0})});US.displayName="Form";function BS(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r_(n){let e=I.useContext(rl);return gt(e,BS(n)),e}function zS(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:u,viewTransition:h}={}){let p=za(),g=Ba(),y=Qc(n,{relative:u});return I.useCallback(x=>{if(bS(x,e)){x.preventDefault();let E=t!==void 0?t:Mc(g)===Mc(y);p(n,{replace:E,state:i,preventScrollReset:o,relative:u,viewTransition:h})}},[g,p,y,t,i,e,n,o,u,h])}var HS=0,qS=()=>`__${String(++HS)}__`;function FS(){let{router:n}=r_("useSubmit"),{basename:e}=I.useContext(er),t=cS();return I.useCallback(async(i,o={})=>{let{action:u,method:h,encType:p,formData:g,body:y}=_S(i,e);if(o.navigate===!1){let x=o.fetcherKey||qS();await n.fetch(x,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||p,flushSync:o.flushSync})}else await n.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function $S(n,{relative:e}={}){let{basename:t}=I.useContext(er),i=I.useContext(Or);gt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),u={...Qc(n||".",{relative:e})},h=Ba();if(n==null){u.search=h.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(x=>x==="")){p.delete("index"),g.filter(E=>E).forEach(E=>p.append("index",E));let x=p.toString();u.search=x?`?${x}`:""}}return(!n||n===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:Tr([t,u.pathname])),Mc(u)}function GS(n,{relative:e}={}){let t=I.useContext(Qx);gt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=r_("useViewTransitionState"),o=Qc(n,{relative:e});if(!t.isTransitioning)return!1;let u=jr(t.currentLocation.pathname,i)||t.currentLocation.pathname,h=jr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return th(o.pathname,h)!=null||th(o.pathname,u)!=null}function KS(){const[n,e]=I.useState(window.location.pathname),[t,i]=I.useState(""),[o,u]=I.useState([]),h=E=>{console.log(`Navegando a: ${E}`),e(E),u(N=>[...N,{path:E,timestamp:new Date().toLocaleTimeString()}]),window.history.pushState({},"",E)},p=()=>{window.history.back(),u(E=>[...E,{path:"BACK",timestamp:new Date().toLocaleTimeString()}])},g=()=>{window.history.forward(),u(E=>[...E,{path:"FORWARD",timestamp:new Date().toLocaleTimeString()}])},y=()=>{t.trim()&&(h(t),i(""))},x=[{path:"/home",name:" Home",description:"Pgina principal"},{path:"/profile",name:" Perfil",description:"Perfil de usuario"},{path:"/settings",name:" Configuracin",description:"Ajustes de la aplicacin"},{path:"/about",name:" Acerca de",description:"Informacin del sitio"},{path:"/contact",name:" Contacto",description:"Formulario de contacto"}];return c.jsx("div",{className:"container mt-4",children:c.jsx("div",{className:"row justify-content-center",children:c.jsxs("div",{className:"col-lg-10",children:[c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("h1",{className:"display-4 text-primary",children:" useNavigate Hook"}),c.jsx("p",{className:"lead text-muted",children:"Navegacin programtica con React Router"}),c.jsxs("div",{className:"badge bg-info fs-6",children:["Ruta actual: ",c.jsx("code",{children:n})]})]}),c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-lg-8",children:[c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-primary text-white",children:c.jsx("h5",{className:"mb-0",children:" Rutas Predefinidas"})}),c.jsx("div",{className:"card-body",children:c.jsx("div",{className:"row",children:x.map((E,N)=>c.jsx("div",{className:"col-md-6 mb-3",children:c.jsx("div",{className:"card h-100 border-light",children:c.jsxs("div",{className:"card-body d-flex flex-column",children:[c.jsx("h6",{className:"card-title",children:E.name}),c.jsx("p",{className:"card-text text-muted small flex-grow-1",children:E.description}),c.jsx("button",{onClick:()=>h(E.path),className:`btn btn-sm ${n===E.path?"btn-success":"btn-outline-primary"}`,children:n===E.path?" Actual":" Ir"})]})})},N))})})]}),c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-success text-white",children:c.jsx("h5",{className:"mb-0",children:" Navegacin Personalizada"})}),c.jsxs("div",{className:"card-body",children:[c.jsxs("div",{className:"input-group mb-3",children:[c.jsx("span",{className:"input-group-text",children:""}),c.jsx("input",{type:"text",className:"form-control",placeholder:"Escribe una ruta (ej: /mi-pagina)",value:t,onChange:E=>i(E.target.value),onKeyPress:E=>E.key==="Enter"&&y()}),c.jsx("button",{className:"btn btn-success",onClick:y,disabled:!t.trim(),children:"Navegar"})]}),c.jsx("small",{className:"text-muted",children:'Tip: Las rutas deben empezar con "/" (ej: /productos, /usuario/123)'})]})]}),c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-warning text-dark",children:c.jsx("h5",{className:"mb-0",children:" Controles de Historial"})}),c.jsx("div",{className:"card-body",children:c.jsxs("div",{className:"btn-group w-100",role:"group",children:[c.jsx("button",{className:"btn btn-outline-secondary",onClick:p,children:" Atrs"}),c.jsx("button",{className:"btn btn-outline-secondary",onClick:g,children:" Adelante"}),c.jsx("button",{className:"btn btn-outline-danger",onClick:()=>u([]),children:" Limpiar Historial"})]})})]})]}),c.jsxs("div",{className:"col-lg-4",children:[c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-info text-white",children:c.jsx("h6",{className:"mb-0",children:" Historial de Navegacin"})}),c.jsx("div",{className:"card-body",children:o.length===0?c.jsx("p",{className:"text-muted small mb-0",children:"No hay navegacin registrada"}):c.jsx("div",{className:"overflow-auto",style:{maxHeight:"200px"},children:o.slice(-10).reverse().map((E,N)=>c.jsxs("div",{className:"border-bottom pb-2 mb-2 small",children:[c.jsx("div",{className:"fw-bold",children:E.path}),c.jsx("div",{className:"text-muted",children:E.timestamp})]},N))})})]}),c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"card-header bg-secondary text-white",children:c.jsx("h6",{className:"mb-0",children:" useNavigate Info"})}),c.jsxs("div",{className:"card-body",children:[c.jsxs("div",{className:"mb-3",children:[c.jsx("strong",{className:"text-primary",children:"Sintaxis:"}),c.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:c.jsx("code",{children:"const navigate = useNavigate();"})})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("strong",{className:"text-primary",children:"Uso bsico:"}),c.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:c.jsx("code",{children:`navigate('/ruta');
navigate(-1); // atrs
navigate(1);  // adelante`})})]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-primary",children:"Caractersticas:"}),c.jsxs("ul",{className:"list-unstyled mt-2 small",children:[c.jsx("li",{children:" Navegacin programtica"}),c.jsx("li",{children:" Reemplazo de history.push"}),c.jsx("li",{children:" Compatible con historial"}),c.jsx("li",{children:" Funciona con estado"})]})]})]})]})]})]}),c.jsx("div",{className:"text-center mt-4",children:c.jsx("a",{href:"/",className:"btn btn-secondary btn-lg",children:" Volver al Home"})})]})})})}function YS(){const[n,e]=I.useState(0),[t,i]=I.useState(window.innerWidth),[o,u]=I.useState(0),[h,p]=I.useState(!1),[g,y]=I.useState({x:0,y:0});I.useEffect(()=>{document.title=`Contador: ${n}`,console.log("El componente se renderiz. Count:",n)}),I.useEffect(()=>(console.log("Componente montado"),()=>{console.log("Componente se va a desmontar")}),[]),I.useEffect(()=>{console.log(`El contador cambi a: ${n}`),n>=10&&alert("Has llegado a 10!")},[n]),I.useEffect(()=>{const B=()=>{i(window.innerWidth)},Q=L=>{y({x:L.clientX,y:L.clientY})};return window.addEventListener("resize",B),window.addEventListener("mousemove",Q),()=>{window.removeEventListener("resize",B),window.removeEventListener("mousemove",Q)}},[]),I.useEffect(()=>{let B;return h&&(B=setInterval(()=>{u(Q=>Q+1)},1e3)),()=>{B&&clearInterval(B)}},[h]);const x=()=>p(!0),E=()=>p(!1),N=()=>{p(!1),u(0)},k=B=>{const Q=Math.floor(B/60),L=B%60;return`${Q.toString().padStart(2,"0")}:${L.toString().padStart(2,"0")}`};return c.jsx("div",{className:"container mt-4",children:c.jsx("div",{className:"row justify-content-center",children:c.jsxs("div",{className:"col-lg-10",children:[c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("h1",{className:"display-4 text-primary",children:" useEffect Hook"}),c.jsx("p",{className:"lead text-muted",children:"Efectos secundarios en componentes funcionales"})]}),c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-lg-8",children:[c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-primary text-white",children:c.jsx("h5",{className:"mb-0",children:" Effect en Cada Render"})}),c.jsxs("div",{className:"card-body text-center",children:[c.jsx("h2",{className:"display-4 text-primary mb-3",children:n}),c.jsx("p",{className:"text-muted mb-3",children:"Observa cmo el ttulo de la pgina cambia con cada click"}),c.jsxs("div",{className:"btn-group",children:[c.jsx("button",{className:"btn btn-outline-danger",onClick:()=>e(n-1),children:" Decrementar"}),c.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>e(0),children:" Reset"}),c.jsx("button",{className:"btn btn-outline-success",onClick:()=>e(n+1),children:" Incrementar"})]})]})]}),c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-success text-white",children:c.jsx("h5",{className:"mb-0",children:" Timer con Effect"})}),c.jsxs("div",{className:"card-body text-center",children:[c.jsx("h3",{className:"display-5 text-success mb-3 font-monospace",children:k(o)}),c.jsxs("div",{className:"btn-group",children:[c.jsx("button",{className:"btn btn-success",onClick:x,disabled:h,children:" Start"}),c.jsx("button",{className:"btn btn-warning",onClick:E,disabled:!h,children:" Pause"}),c.jsx("button",{className:"btn btn-secondary",onClick:N,children:" Reset"})]}),c.jsx("div",{className:"mt-3",children:c.jsx("span",{className:`badge ${h?"bg-success":"bg-secondary"}`,children:h?" Corriendo":" Detenido"})})]})]}),c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-info text-white",children:c.jsx("h5",{className:"mb-0",children:" Event Listeners"})}),c.jsx("div",{className:"card-body",children:c.jsxs("div",{className:"row text-center",children:[c.jsxs("div",{className:"col-md-6",children:[c.jsx("h6",{className:"text-primary",children:"Tamao de Ventana"}),c.jsxs("p",{className:"fs-4 text-info",children:[t,"px"]}),c.jsx("small",{className:"text-muted",children:"Redimensiona la ventana"})]}),c.jsxs("div",{className:"col-md-6",children:[c.jsx("h6",{className:"text-primary",children:"Posicin del Mouse"}),c.jsxs("p",{className:"fs-4 text-info",children:["X: ",g.x,", Y: ",g.y]}),c.jsx("small",{className:"text-muted",children:"Mueve el cursor"})]})]})})]})]}),c.jsxs("div",{className:"col-lg-4",children:[c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-warning text-dark",children:c.jsx("h6",{className:"mb-0",children:" Tipos de useEffect"})}),c.jsxs("div",{className:"card-body",children:[c.jsxs("div",{className:"mb-3",children:[c.jsx("strong",{className:"text-primary",children:"Sin dependencias:"}),c.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:c.jsx("code",{children:`useEffect(() => {
  // Se ejecuta en cada render
});`})})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("strong",{className:"text-primary",children:"Array vaco:"}),c.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:c.jsx("code",{children:`useEffect(() => {
  // Solo una vez (mount)
}, []);`})})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("strong",{className:"text-primary",children:"Con dependencias:"}),c.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:c.jsx("code",{children:`useEffect(() => {
  // Cuando cambia 'count'
}, [count]);`})})]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-primary",children:"Con cleanup:"}),c.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:c.jsx("code",{children:`useEffect(() => {
  // Setup
  return () => {
    // Cleanup
  };
}, []);`})})]})]})]}),c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-secondary text-white",children:c.jsx("h6",{className:"mb-0",children:" Casos de Uso Comunes"})}),c.jsx("div",{className:"card-body",children:c.jsxs("ul",{className:"list-unstyled small",children:[c.jsxs("li",{className:"mb-2",children:[c.jsx("strong",{children:" API Calls:"}),c.jsx("br",{}),"Fetch data cuando se monta"]}),c.jsxs("li",{className:"mb-2",children:[c.jsx("strong",{children:" DOM Updates:"}),c.jsx("br",{}),"Cambiar ttulo, focus, etc."]}),c.jsxs("li",{className:"mb-2",children:[c.jsx("strong",{children:" Timers:"}),c.jsx("br",{}),"setInterval, setTimeout"]}),c.jsxs("li",{className:"mb-2",children:[c.jsx("strong",{children:" Event Listeners:"}),c.jsx("br",{}),"Scroll, resize, mouse, etc."]}),c.jsxs("li",{children:[c.jsx("strong",{children:" Cleanup:"}),c.jsx("br",{}),"Limpiar subscripciones"]})]})})]}),c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"card-header bg-dark text-white",children:c.jsx("h6",{className:"mb-0",children:" Estado Actual"})}),c.jsx("div",{className:"card-body",children:c.jsx("table",{className:"table table-sm",children:c.jsxs("tbody",{children:[c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("strong",{children:"Contador:"})}),c.jsx("td",{children:n})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("strong",{children:"Timer:"})}),c.jsx("td",{children:k(o)})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("strong",{children:"Ventana:"})}),c.jsxs("td",{children:[t,"px"]})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("strong",{children:"Mouse X:"})}),c.jsx("td",{children:g.x})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("strong",{children:"Mouse Y:"})}),c.jsx("td",{children:g.y})]}),c.jsxs("tr",{children:[c.jsx("td",{children:c.jsx("strong",{children:"Timer activo:"})}),c.jsx("td",{children:c.jsx("span",{className:`badge ${h?"bg-success":"bg-secondary"}`,children:h?"S":"No"})})]})]})})})]})]})]}),c.jsxs("div",{className:"card mt-4",children:[c.jsx("div",{className:"card-header bg-danger text-white",children:c.jsx("h5",{className:"mb-0",children:" Consideraciones Importantes"})}),c.jsx("div",{className:"card-body",children:c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-md-6",children:[c.jsx("h6",{className:"text-danger",children:" Errores Comunes:"}),c.jsxs("ul",{className:"small",children:[c.jsx("li",{children:"Olvidar el array de dependencias"}),c.jsx("li",{children:"No hacer cleanup de timers"}),c.jsx("li",{children:"No remover event listeners"}),c.jsx("li",{children:"Infinite loops por dependencias"}),c.jsx("li",{children:"Memory leaks por no limpiar"})]})]}),c.jsxs("div",{className:"col-md-6",children:[c.jsx("h6",{className:"text-success",children:" Buenas Prcticas:"}),c.jsxs("ul",{className:"small",children:[c.jsx("li",{children:"Siempre incluir dependencias"}),c.jsx("li",{children:"Usar cleanup cuando sea necesario"}),c.jsx("li",{children:"Separar effects por responsabilidad"}),c.jsx("li",{children:"Usar custom hooks para lgica compleja"}),c.jsx("li",{children:"Testear el comportamiento"})]})]})]})})]}),c.jsx("div",{className:"text-center mt-4",children:c.jsx("a",{href:"/",className:"btn btn-secondary btn-lg",children:" Volver al Home"})})]})})})}const Dh=I.createContext(),gg=I.createContext(),Oh=I.createContext();function QS({children:n}){const[e,t]=I.useState("light"),i=()=>{t(u=>u==="light"?"dark":"light")},o={light:{backgroundColor:"#ffffff",color:"#000000",borderColor:"#dee2e6"},dark:{backgroundColor:"#343a40",color:"#ffffff",borderColor:"#495057"}};return c.jsx(Dh.Provider,{value:{theme:e,toggleTheme:i,styles:o[e]},children:n})}function XS({children:n}){const[e,t]=I.useState({name:"Juan Prez",email:"juan@example.com",role:"admin",preferences:{language:"es",notifications:!0}}),i=u=>{t(h=>({...h,...u}))},o=u=>{t(h=>({...h,preferences:{...h.preferences,...u}}))};return c.jsx(gg.Provider,{value:{user:e,updateUser:i,updatePreferences:o},children:n})}function WS({children:n}){const[e,t]=I.useState(0),i=()=>t(h=>h+1),o=()=>t(h=>h-1),u=()=>t(0);return c.jsx(Oh.Provider,{value:{count:e,increment:i,decrement:o,reset:u},children:n})}function ZS(){const{theme:n,toggleTheme:e,styles:t}=I.useContext(Dh);return c.jsx("div",{className:"card mb-3",style:{backgroundColor:t.backgroundColor,color:t.color,borderColor:t.borderColor},children:c.jsxs("div",{className:"card-body",children:[c.jsx("h6",{className:"card-title",children:" Control de Tema"}),c.jsxs("p",{className:"card-text",children:["Tema actual: ",c.jsx("strong",{children:n})]}),c.jsxs("button",{className:`btn ${n==="light"?"btn-dark":"btn-light"}`,onClick:e,children:["Cambiar a ",n==="light"?"Oscuro":"Claro"]})]})})}function JS(){const{user:n,updateUser:e,updatePreferences:t}=I.useContext(gg),i=h=>{e({name:h.target.value})},o=h=>{e({email:h.target.value})},u=()=>{t({notifications:!n.preferences.notifications})};return c.jsxs("div",{className:"card mb-3",children:[c.jsx("div",{className:"card-header bg-info text-white",children:c.jsx("h6",{className:"mb-0",children:" Perfil de Usuario"})}),c.jsx("div",{className:"card-body",children:c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-md-6",children:[c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"Nombre:"}),c.jsx("input",{type:"text",className:"form-control",value:n.name,onChange:i})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"Email:"}),c.jsx("input",{type:"email",className:"form-control",value:n.email,onChange:o})]})]}),c.jsxs("div",{className:"col-md-6",children:[c.jsxs("div",{className:"mb-3",children:[c.jsx("strong",{children:"Rol:"}),c.jsx("span",{className:"badge bg-primary ms-2",children:n.role})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("strong",{children:"Idioma:"}),c.jsx("span",{className:"badge bg-secondary ms-2",children:n.preferences.language})]}),c.jsxs("div",{className:"form-check",children:[c.jsx("input",{className:"form-check-input",type:"checkbox",checked:n.preferences.notifications,onChange:u}),c.jsx("label",{className:"form-check-label",children:"Recibir notificaciones"})]})]})]})})]})}function eA(){const{count:n}=I.useContext(Oh);return c.jsxs("div",{className:"text-center mb-3",children:[c.jsx("h2",{className:"display-4 text-primary",children:n}),c.jsx("p",{className:"text-muted",children:"Contador global"})]})}function tA(){const{increment:n,decrement:e,reset:t}=I.useContext(Oh);return c.jsx("div",{className:"text-center mb-3",children:c.jsxs("div",{className:"btn-group",children:[c.jsx("button",{className:"btn btn-outline-danger",onClick:e,children:" Decrementar"}),c.jsx("button",{className:"btn btn-outline-secondary",onClick:t,children:" Reset"}),c.jsx("button",{className:"btn btn-outline-success",onClick:n,children:" Incrementar"})]})})}function nA(){const{theme:n,styles:e}=I.useContext(Dh),{user:t}=I.useContext(gg),{count:i}=I.useContext(Oh);return c.jsx("div",{className:"card",style:{backgroundColor:e.backgroundColor,color:e.color,borderColor:e.borderColor},children:c.jsxs("div",{className:"card-body",children:[c.jsx("h6",{className:"card-title",children:" Componente Anidado Profundo"}),c.jsx("p",{className:"card-text small",children:"Este componente est muy anidado pero puede acceder fcilmente a todos los contextos:"}),c.jsxs("ul",{className:"list-unstyled small",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Tema:"})," ",n]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Usuario:"})," ",t.name," (",t.role,")"]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Contador:"})," ",i]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Notificaciones:"})," ",t.preferences.notifications?"Activas":"Inactivas"]})]})]})})}function sA(){return c.jsx(QS,{children:c.jsx(XS,{children:c.jsx(WS,{children:c.jsx(rA,{})})})})}function rA(){const{styles:n}=I.useContext(Dh);return c.jsx("div",{className:"container mt-4",style:{backgroundColor:n.backgroundColor,color:n.color,minHeight:"100vh"},children:c.jsx("div",{className:"row justify-content-center",children:c.jsxs("div",{className:"col-lg-10",children:[c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("h1",{className:"display-4 text-primary",children:" useContext Hook"}),c.jsx("p",{className:"lead text-muted",children:"Comparte datos entre componentes sin prop drilling"})]}),c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-lg-8",children:[c.jsx(ZS,{}),c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-success text-white",children:c.jsx("h5",{className:"mb-0",children:" Contador Global"})}),c.jsxs("div",{className:"card-body",children:[c.jsx(eA,{}),c.jsx(tA,{})]})]}),c.jsx(JS,{}),c.jsx(nA,{})]}),c.jsxs("div",{className:"col-lg-4",children:[c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-primary text-white",children:c.jsx("h6",{className:"mb-0",children:" Sintaxis useContext"})}),c.jsxs("div",{className:"card-body",children:[c.jsxs("div",{className:"mb-3",children:[c.jsx("strong",{children:"1. Crear contexto:"}),c.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:c.jsx("code",{children:"const MyContext = createContext();"})})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("strong",{children:"2. Proveer valor:"}),c.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:c.jsx("code",{children:`<MyContext.Provider value={data}>
  {children}
</MyContext.Provider>`})})]}),c.jsxs("div",{children:[c.jsx("strong",{children:"3. Consumir:"}),c.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:c.jsx("code",{children:"const data = useContext(MyContext);"})})]})]})]}),c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-success text-white",children:c.jsx("h6",{className:"mb-0",children:" Ventajas"})}),c.jsx("div",{className:"card-body",children:c.jsxs("ul",{className:"list-unstyled small",children:[c.jsxs("li",{className:"mb-2",children:[c.jsx("strong",{children:" Sin Prop Drilling:"}),c.jsx("br",{}),"No pasar props por mltiples niveles"]}),c.jsxs("li",{className:"mb-2",children:[c.jsx("strong",{children:" Estado Global:"}),c.jsx("br",{}),"Compartir datos entre componentes"]}),c.jsxs("li",{className:"mb-2",children:[c.jsx("strong",{children:" Cdigo Limpio:"}),c.jsx("br",{}),"Menos props innecesarias"]}),c.jsxs("li",{children:[c.jsx("strong",{children:" Performance:"}),c.jsx("br",{}),"Solo re-renderiza cuando cambia"]})]})})]}),c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-warning text-dark",children:c.jsx("h6",{className:"mb-0",children:" Casos de Uso"})}),c.jsx("div",{className:"card-body",children:c.jsxs("ul",{className:"list-unstyled small",children:[c.jsxs("li",{className:"mb-2",children:[c.jsx("strong",{children:" Temas:"})," Dark/Light mode"]}),c.jsxs("li",{className:"mb-2",children:[c.jsx("strong",{children:" Autenticacin:"})," Usuario actual"]}),c.jsxs("li",{className:"mb-2",children:[c.jsx("strong",{children:" Idioma:"})," i18n/Localizacin"]}),c.jsxs("li",{className:"mb-2",children:[c.jsx("strong",{children:" Carrito:"})," E-commerce state"]}),c.jsxs("li",{children:[c.jsx("strong",{children:" Configuracin:"})," App settings"]})]})})]}),c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"card-header bg-danger text-white",children:c.jsx("h6",{className:"mb-0",children:" Consideraciones"})}),c.jsx("div",{className:"card-body",children:c.jsxs("ul",{className:"list-unstyled small",children:[c.jsxs("li",{className:"mb-2",children:[c.jsx("strong",{children:" No abuses:"}),c.jsx("br",{}),"Solo para datos realmente globales"]}),c.jsxs("li",{className:"mb-2",children:[c.jsx("strong",{children:" Re-renders:"}),c.jsx("br",{}),"Todo hijo re-renderiza si cambia"]}),c.jsxs("li",{children:[c.jsx("strong",{children:" Testing:"}),c.jsx("br",{}),"Necesitas wrapers para testing"]})]})})]})]})]}),c.jsx("div",{className:"text-center mt-4",children:c.jsx("a",{href:"/",className:"btn btn-secondary btn-lg",children:" Volver al Home"})})]})})})}const iA=(n,e)=>{switch(e.type){case"INCREMENT":return{count:n.count+(e.payload||1)};case"DECREMENT":return{count:n.count-(e.payload||1)};case"RESET":return{count:0};case"SET":return{count:e.payload};default:throw new Error(`Unknown action: ${e.type}`)}},aA=(n,e)=>{switch(e.type){case"ADD_TODO":return[...n,{id:Date.now(),text:e.payload,completed:!1,createdAt:new Date().toISOString()}];case"TOGGLE_TODO":return n.map(t=>t.id===e.payload?{...t,completed:!t.completed}:t);case"DELETE_TODO":return n.filter(t=>t.id!==e.payload);case"CLEAR_COMPLETED":return n.filter(t=>!t.completed);case"CLEAR_ALL":return[];default:return n}},oA=(n,e)=>{switch(e.type){case"SET_FIELD":return{...n,[e.field]:e.payload};case"SET_ERROR":return{...n,errors:{...n.errors,[e.field]:e.payload}};case"CLEAR_ERRORS":return{...n,errors:{}};case"RESET_FORM":return{name:"",email:"",age:"",errors:{}};default:return n}};function lA(){const[n,e]=I.useReducer(iA,{count:0}),[t,i]=I.useReducer(aA,[]),[o,u]=I.useState(""),[h,p]=I.useReducer(oA,{name:"",email:"",age:"",errors:{}}),g=(S=1)=>{e({type:"INCREMENT",payload:S})},y=(S=1)=>{e({type:"DECREMENT",payload:S})},x=()=>{e({type:"RESET"})},E=S=>{e({type:"SET",payload:S})},N=()=>{o.trim()&&(i({type:"ADD_TODO",payload:o.trim()}),u(""))},k=S=>{i({type:"TOGGLE_TODO",payload:S})},B=S=>{i({type:"DELETE_TODO",payload:S})},Q=()=>{i({type:"CLEAR_COMPLETED"})},L=()=>{i({type:"CLEAR_ALL"})},X=(S,A)=>{p({type:"SET_FIELD",field:S,payload:A}),h.errors[S]&&p({type:"SET_ERROR",field:S,payload:""})},$=()=>{let S=!0;return h.name.trim()||(p({type:"SET_ERROR",field:"name",payload:"El nombre es requerido"}),S=!1),h.email.trim()?/\S+@\S+\.\S+/.test(h.email)||(p({type:"SET_ERROR",field:"email",payload:"Email invlido"}),S=!1):(p({type:"SET_ERROR",field:"email",payload:"El email es requerido"}),S=!1),h.age.trim()?(isNaN(h.age)||h.age<1||h.age>120)&&(p({type:"SET_ERROR",field:"age",payload:"Edad debe ser entre 1 y 120"}),S=!1):(p({type:"SET_ERROR",field:"age",payload:"La edad es requerida"}),S=!1),S},Z=S=>{S.preventDefault(),p({type:"CLEAR_ERRORS"}),$()&&(alert(`Formulario enviado:
${JSON.stringify(h,null,2)}`),p({type:"RESET_FORM"}))},pe=()=>{p({type:"RESET_FORM"})},oe=t.filter(S=>S.completed).length,ye=t.length-oe;return c.jsx("div",{className:"container mt-4",children:c.jsx("div",{className:"row justify-content-center",children:c.jsxs("div",{className:"col-lg-10",children:[c.jsxs("div",{className:"text-center mb-4",children:[c.jsx("h1",{className:"display-4 text-primary",children:" useReducer Hook"}),c.jsx("p",{className:"lead text-muted",children:"Manejo de estado complejo con actions y reducers"})]}),c.jsxs("div",{className:"row",children:[c.jsxs("div",{className:"col-lg-8",children:[c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-primary text-white",children:c.jsx("h5",{className:"mb-0",children:" Contador Avanzado"})}),c.jsxs("div",{className:"card-body text-center",children:[c.jsx("h2",{className:"display-3 text-primary mb-4",children:n.count}),c.jsxs("div",{className:"row mb-3",children:[c.jsx("div",{className:"col-md-4",children:c.jsx("button",{className:"btn btn-outline-success w-100",onClick:()=>g(1),children:"+1"})}),c.jsx("div",{className:"col-md-4",children:c.jsx("button",{className:"btn btn-outline-success w-100",onClick:()=>g(5),children:"+5"})}),c.jsx("div",{className:"col-md-4",children:c.jsx("button",{className:"btn btn-outline-success w-100",onClick:()=>g(10),children:"+10"})})]}),c.jsxs("div",{className:"row mb-3",children:[c.jsx("div",{className:"col-md-4",children:c.jsx("button",{className:"btn btn-outline-warning w-100",onClick:()=>y(1),children:"-1"})}),c.jsx("div",{className:"col-md-4",children:c.jsx("button",{className:"btn btn-outline-warning w-100",onClick:()=>y(5),children:"-5"})}),c.jsx("div",{className:"col-md-4",children:c.jsx("button",{className:"btn btn-outline-warning w-100",onClick:()=>y(10),children:"-10"})})]}),c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-md-6",children:c.jsx("button",{className:"btn btn-secondary w-100",onClick:x,children:" Reset"})}),c.jsx("div",{className:"col-md-6",children:c.jsx("button",{className:"btn btn-info w-100",onClick:()=>E(100),children:"Set 100"})})]})]})]}),c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-success text-white",children:c.jsx("h5",{className:"mb-0",children:" Lista de Tareas"})}),c.jsxs("div",{className:"card-body",children:[c.jsxs("div",{className:"input-group mb-3",children:[c.jsx("input",{type:"text",className:"form-control",placeholder:"Nueva tarea...",value:o,onChange:S=>u(S.target.value),onKeyPress:S=>S.key==="Enter"&&N()}),c.jsx("button",{className:"btn btn-success",onClick:N,disabled:!o.trim(),children:"Agregar"})]}),t.length===0?c.jsx("p",{className:"text-muted text-center",children:"No hay tareas"}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-3",children:[c.jsxs("span",{className:"badge bg-info me-2",children:["Total: ",t.length]}),c.jsxs("span",{className:"badge bg-warning me-2",children:["Pendientes: ",ye]}),c.jsxs("span",{className:"badge bg-success",children:["Completadas: ",oe]})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("button",{className:"btn btn-outline-warning btn-sm me-2",onClick:Q,disabled:oe===0,children:"Limpiar Completadas"}),c.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:L,disabled:t.length===0,children:"Limpiar Todo"})]}),c.jsx("div",{className:"list-group",children:t.map(S=>c.jsxs("div",{className:`list-group-item d-flex justify-content-between align-items-center ${S.completed?"list-group-item-success":""}`,children:[c.jsxs("div",{className:"d-flex align-items-center",children:[c.jsx("input",{className:"form-check-input me-2",type:"checkbox",checked:S.completed,onChange:()=>k(S.id)}),c.jsx("span",{className:S.completed?"text-decoration-line-through text-muted":"",children:S.text})]}),c.jsx("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>B(S.id),children:""})]},S.id))})]})]})]}),c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-warning text-dark",children:c.jsx("h5",{className:"mb-0",children:" Formulario con Validacin"})}),c.jsx("div",{className:"card-body",children:c.jsxs("form",{onSubmit:Z,children:[c.jsxs("div",{className:"row",children:[c.jsx("div",{className:"col-md-6",children:c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"Nombre:"}),c.jsx("input",{type:"text",className:`form-control ${h.errors.name?"is-invalid":""}`,value:h.name,onChange:S=>X("name",S.target.value)}),h.errors.name&&c.jsx("div",{className:"invalid-feedback",children:h.errors.name})]})}),c.jsx("div",{className:"col-md-6",children:c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"Email:"}),c.jsx("input",{type:"email",className:`form-control ${h.errors.email?"is-invalid":""}`,value:h.email,onChange:S=>X("email",S.target.value)}),h.errors.email&&c.jsx("div",{className:"invalid-feedback",children:h.errors.email})]})})]}),c.jsx("div",{className:"row",children:c.jsx("div",{className:"col-md-6",children:c.jsxs("div",{className:"mb-3",children:[c.jsx("label",{className:"form-label",children:"Edad:"}),c.jsx("input",{type:"number",className:`form-control ${h.errors.age?"is-invalid":""}`,value:h.age,onChange:S=>X("age",S.target.value)}),h.errors.age&&c.jsx("div",{className:"invalid-feedback",children:h.errors.age})]})})}),c.jsxs("div",{className:"d-flex gap-2",children:[c.jsx("button",{type:"submit",className:"btn btn-primary",children:"Enviar"}),c.jsx("button",{type:"button",className:"btn btn-secondary",onClick:pe,children:"Reset"})]})]})})]})]}),c.jsxs("div",{className:"col-lg-4",children:[c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-info text-white",children:c.jsx("h6",{className:"mb-0",children:" useState vs useReducer"})}),c.jsxs("div",{className:"card-body",children:[c.jsxs("div",{className:"mb-3",children:[c.jsx("strong",{className:"text-success",children:" Usa useReducer cuando:"}),c.jsxs("ul",{className:"list-unstyled small mt-2",children:[c.jsx("li",{children:" Estado complejo (objetos/arrays)"}),c.jsx("li",{children:" Mltiples sub-valores"}),c.jsx("li",{children:" Lgica de estado compleja"}),c.jsx("li",{children:" Prximo estado depende del anterior"}),c.jsx("li",{children:" Muchas acciones diferentes"})]})]}),c.jsxs("div",{children:[c.jsx("strong",{className:"text-primary",children:" Usa useState cuando:"}),c.jsxs("ul",{className:"list-unstyled small mt-2",children:[c.jsx("li",{children:" Estado simple (primitivos)"}),c.jsx("li",{children:" Pocas actualizaciones"}),c.jsx("li",{children:" Lgica simple"}),c.jsx("li",{children:" Estado independiente"})]})]})]})]}),c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-primary text-white",children:c.jsx("h6",{className:"mb-0",children:" Anatoma del useReducer"})}),c.jsxs("div",{className:"card-body",children:[c.jsxs("div",{className:"mb-3",children:[c.jsx("strong",{children:"1. Reducer Function:"}),c.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:c.jsx("code",{children:`const reducer = (state, action) => {
  switch(action.type) {
    case 'INCREMENT':
      return { count: state.count + 1 };
    default:
      return state;
  }
}`})})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("strong",{children:"2. Hook Usage:"}),c.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:c.jsx("code",{children:`const [state, dispatch] = 
  useReducer(reducer, initialState);`})})]}),c.jsxs("div",{children:[c.jsx("strong",{children:"3. Dispatch Action:"}),c.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:c.jsx("code",{children:`dispatch({ 
  type: 'INCREMENT',
  payload: 5 
});`})})]})]})]}),c.jsxs("div",{className:"card mb-4",children:[c.jsx("div",{className:"card-header bg-secondary text-white",children:c.jsx("h6",{className:"mb-0",children:" Estado Actual"})}),c.jsxs("div",{className:"card-body",children:[c.jsxs("div",{className:"mb-2",children:[c.jsx("strong",{children:"Contador:"})," ",n.count]}),c.jsxs("div",{className:"mb-2",children:[c.jsx("strong",{children:"Total Tareas:"})," ",t.length]}),c.jsxs("div",{className:"mb-2",children:[c.jsx("strong",{children:"Pendientes:"})," ",ye]}),c.jsxs("div",{className:"mb-2",children:[c.jsx("strong",{children:"Completadas:"})," ",oe]}),c.jsxs("div",{className:"mb-2",children:[c.jsx("strong",{children:"Form vlido:"}),c.jsx("span",{className:`badge ms-2 ${Object.keys(h.errors).length===0&&h.name&&h.email&&h.age?"bg-success":"bg-danger"}`,children:Object.keys(h.errors).length===0&&h.name&&h.email&&h.age?"S":"No"})]})]})]}),c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"card-header bg-dark text-white",children:c.jsx("h6",{className:"mb-0",children:" Patrones Comunes"})}),c.jsxs("div",{className:"card-body",children:[c.jsxs("div",{className:"mb-3",children:[c.jsx("strong",{children:"Action Creators:"}),c.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:c.jsx("code",{children:`const increment = (amount) => ({
  type: 'INCREMENT',
  payload: amount
});`})})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("strong",{children:"Lazy Initialization:"}),c.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:c.jsx("code",{children:`const [state, dispatch] = useReducer(
  reducer, 
  null, 
  initFunction
);`})})]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Error Handling:"}),c.jsx("pre",{className:"bg-light p-2 mt-1 rounded small",children:c.jsx("code",{children:`default:
  throw new Error(
    'Unknown action: ' + action.type
  );`})})]})]})]})]})]}),c.jsx("div",{className:"text-center mt-4",children:c.jsx("a",{href:"/",className:"btn btn-secondary btn-lg",children:" Volver al Home"})})]})})})}const ew=I.memo(({onIncrement:n,title:e,color:t})=>{const i=I.useRef(0);return i.current+=1,console.log(`${e} se renderiz ${i.current} veces`),c.jsxs("div",{className:`border border-${t==="success"?"green":"red"}-300 rounded-lg`,children:[c.jsx("div",{className:`${t==="success"?"bg-green-500":"bg-red-500"} text-white px-4 py-2 rounded-t-lg`,children:c.jsx("h6",{className:"text-sm font-semibold",children:e})}),c.jsxs("div",{className:"p-4",children:[c.jsxs("p",{className:"text-gray-700 mb-3",children:["Renders: ",c.jsx("strong",{children:i.current})]}),c.jsx("button",{className:`px-4 py-2 rounded ${t==="success"?"border border-green-500 text-green-600 hover:bg-green-50":"border border-red-500 text-red-600 hover:bg-red-50"} transition-colors`,onClick:n,children:"Incrementar"})]})]})}),cA=I.memo(({items:n,onItemClick:e})=>{const t=I.useRef(0);return t.current+=1,c.jsxs("div",{className:"border border-blue-300 rounded-lg",children:[c.jsx("div",{className:"bg-blue-500 text-white px-4 py-2 rounded-t-lg",children:c.jsxs("h6",{className:"text-sm font-semibold",children:[" Lista de Items (Renders: ",t.current,")"]})}),c.jsx("div",{className:"p-4",children:n.length===0?c.jsx("p",{className:"text-gray-500",children:"No hay items"}):c.jsx("div",{className:"space-y-2",children:n.map(i=>c.jsxs("button",{className:"w-full flex justify-between items-center p-3 border border-gray-200 rounded hover:bg-blue-50 transition-colors",onClick:()=>e(i),children:[c.jsx("span",{children:i.name}),c.jsx("span",{className:"bg-blue-500 text-white px-2 py-1 rounded text-sm",children:i.price})]},i.id))})})]})}),uA=I.memo(({onSearch:n,searchTerm:e})=>{const t=I.useRef(0);return t.current+=1,c.jsxs("div",{className:"border border-green-300 rounded-lg",children:[c.jsx("div",{className:"bg-green-500 text-white px-4 py-2 rounded-t-lg",children:c.jsxs("h6",{className:"text-sm font-semibold",children:[" Buscador (Renders: ",t.current,")"]})}),c.jsx("div",{className:"p-4",children:c.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Buscar items...",value:e,onChange:i=>n(i.target.value)})})]})});function dA(){const[n,e]=I.useState(0),[t,i]=I.useState(0),[o,u]=I.useState(""),[h,p]=I.useState(null),[g]=I.useState([{id:1,name:"Laptop",price:"$999"},{id:2,name:"Mouse",price:"$25"},{id:3,name:"Keyboard",price:"$75"},{id:4,name:"Monitor",price:"$299"},{id:5,name:"Webcam",price:"$89"}]),y=()=>{e($=>$+1)},x=I.useCallback(()=>{e($=>$+1)},[]),E=I.useCallback($=>{e(Z=>Z+$)},[]),N=I.useCallback($=>{u($)},[]),k=I.useCallback($=>{p($),console.log("Item seleccionado:",$)},[]),B=I.useCallback(()=>g.filter($=>$.name.toLowerCase().includes(o.toLowerCase())),[g,o]),Q=()=>{console.log("Accin ejecutada")},L=I.useCallback(()=>n===0?"Contador en cero":n<5?"Contador bajo":n<10?"Contador medio":"Contador alto",[n]),X=I.useCallback(($,Z)=>{switch($){case"reset":e(0),u(""),p(null);break;case"double":e(pe=>pe*2);break;case"increment":e(pe=>pe+(Z||1));break;default:console.log("Accin desconocida:",$)}},[]);return c.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-4xl font-bold text-blue-600 mb-2",children:" useCallback Hook"}),c.jsx("p",{className:"text-lg text-gray-600",children:"Memoizacin de funciones para optimizar performance"})]}),c.jsxs("div",{className:"grid lg:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[c.jsx("div",{className:"bg-blue-500 text-white px-6 py-4 rounded-t-lg",children:c.jsx("h5",{className:"text-lg font-semibold",children:" Contadores Principales"})}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsxs("h3",{className:"text-3xl font-bold text-blue-600",children:["Count: ",n]}),c.jsx("p",{className:"text-gray-600",children:L()})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("h3",{className:"text-3xl font-bold text-gray-600",children:["Other: ",t]}),c.jsx("p",{className:"text-gray-600",children:"Valor independiente"})]})]}),c.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[c.jsx("button",{className:"px-4 py-2 border border-blue-500 text-blue-600 rounded hover:bg-blue-50 transition-colors",onClick:()=>e(n+1),children:"Count +1"}),c.jsx("button",{className:"px-4 py-2 border border-gray-500 text-gray-600 rounded hover:bg-gray-50 transition-colors",onClick:()=>i(t+1),children:"Other +1"}),c.jsx("button",{className:"px-4 py-2 border border-yellow-500 text-yellow-600 rounded hover:bg-yellow-50 transition-colors",onClick:()=>X("double"),children:"Doblar Count"}),c.jsx("button",{className:"px-4 py-2 border border-red-500 text-red-600 rounded hover:bg-red-50 transition-colors",onClick:()=>X("reset"),children:"Reset All"})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[c.jsx("div",{className:"bg-yellow-500 text-black px-6 py-4 rounded-t-lg",children:c.jsx("h5",{className:"text-lg font-semibold",children:" Comparacin de Re-renders"})}),c.jsxs("div",{className:"p-6",children:[c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:c.jsxs("p",{className:"text-blue-800",children:[c.jsx("strong",{children:" Observa los contadores de renders:"}),c.jsx("br",{}),'- El componente "Con useCallback" se re-renderiza menos',c.jsx("br",{}),'- El componente "Sin useCallback" se re-renderiza ms frecuentemente',c.jsx("br",{}),"- Abre la consola para ver los logs"]})}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsx(ew,{onIncrement:x,title:" Con useCallback",color:"success"}),c.jsx(ew,{onIncrement:y,title:" Sin useCallback",color:"danger"})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[c.jsx("div",{className:"bg-blue-500 text-white px-6 py-4 rounded-t-lg",children:c.jsx("h5",{className:"text-lg font-semibold",children:" Bsqueda Optimizada"})}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[c.jsx(uA,{onSearch:N,searchTerm:o}),c.jsx(cA,{items:B(),onItemClick:k})]}),h&&c.jsxs("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:[c.jsx("h6",{className:"font-semibold text-green-800",children:"Item Seleccionado:"}),c.jsxs("p",{className:"text-green-700",children:[c.jsx("strong",{children:h.name})," - ",h.price]})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[c.jsx("div",{className:"bg-gray-600 text-white px-6 py-4 rounded-t-lg",children:c.jsx("h5",{className:"text-lg font-semibold",children:" Acciones Complejas"})}),c.jsxs("div",{className:"p-6",children:[c.jsx("p",{className:"text-gray-600 mb-4",children:"Estas funciones usan useCallback para evitar recreacin innecesaria:"}),c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("button",{className:"px-4 py-2 border border-blue-500 text-blue-600 rounded hover:bg-blue-50 transition-colors",onClick:()=>E(5),children:"Incrementar por 5"}),c.jsx("button",{className:"px-4 py-2 border border-green-500 text-green-600 rounded hover:bg-green-50 transition-colors",onClick:()=>X("increment",3),children:"Accin Compleja: +3"}),c.jsx("button",{className:"px-4 py-2 border border-yellow-500 text-yellow-600 rounded hover:bg-yellow-50 transition-colors",onClick:Q,children:"Accin No Memoizada (ver console)"})]})]})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[c.jsx("div",{className:"bg-blue-500 text-white px-4 py-3 rounded-t-lg",children:c.jsx("h6",{className:"text-sm font-semibold",children:" Sintaxis useCallback"})}),c.jsxs("div",{className:"p-4 text-xs",children:[c.jsxs("div",{className:"mb-3",children:[c.jsx("strong",{children:"Bsico:"}),c.jsx("pre",{className:"bg-gray-100 p-2 mt-1 rounded text-xs overflow-x-auto",children:`const memoizedFn = useCallback(
  () => {
    // funcin
  },
  [dependencies]
);`})]}),c.jsxs("div",{className:"mb-3",children:[c.jsx("strong",{children:"Con parmetros:"}),c.jsx("pre",{className:"bg-gray-100 p-2 mt-1 rounded text-xs overflow-x-auto",children:`const handleClick = useCallback(
  (id) => {
    setSelected(id);
  },
  [setSelected]
);`})]}),c.jsxs("div",{children:[c.jsx("strong",{children:"Sin dependencias:"}),c.jsx("pre",{className:"bg-gray-100 p-2 mt-1 rounded text-xs overflow-x-auto",children:`const increment = useCallback(
  () => setCount(c => c + 1),
  []
);`})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[c.jsx("div",{className:"bg-green-500 text-white px-4 py-3 rounded-t-lg",children:c.jsx("h6",{className:"text-sm font-semibold",children:" Cundo Usar useCallback"})}),c.jsx("div",{className:"p-4 text-xs",children:c.jsxs("ul",{className:"space-y-2",children:[c.jsxs("li",{children:[c.jsx("strong",{children:" Componentes memoizados:"}),c.jsx("br",{}),"Cuando pasas funciones a React.memo()"]}),c.jsxs("li",{children:[c.jsx("strong",{children:" Listas grandes:"}),c.jsx("br",{}),"Event handlers en listas con muchos items"]}),c.jsxs("li",{children:[c.jsx("strong",{children:" Dependencias de hooks:"}),c.jsx("br",{}),"En useEffect, useMemo dependencies"]}),c.jsxs("li",{children:[c.jsx("strong",{children:" Funciones costosas:"}),c.jsx("br",{}),"Funciones que crean objetos complejos"]})]})})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[c.jsx("div",{className:"bg-red-500 text-white px-4 py-3 rounded-t-lg",children:c.jsx("h6",{className:"text-sm font-semibold",children:" Cundo NO Usar"})}),c.jsx("div",{className:"p-4 text-xs",children:c.jsxs("ul",{className:"space-y-2",children:[c.jsxs("li",{children:[c.jsx("strong",{children:" Funciones simples:"}),c.jsx("br",{}),"Funciones muy simples (ms costo que beneficio)"]}),c.jsxs("li",{children:[c.jsx("strong",{children:" Dependencias cambiantes:"}),c.jsx("br",{}),"Si las dependencias cambian en cada render"]}),c.jsxs("li",{children:[c.jsx("strong",{children:' Solo para "optimizacin":'}),c.jsx("br",{}),"Sin medicin real de performance"]}),c.jsxs("li",{children:[c.jsx("strong",{children:" Casos prematuros:"}),c.jsx("br",{}),"Optimizacin prematura sin necesidad real"]})]})})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[c.jsx("div",{className:"bg-blue-500 text-white px-4 py-3 rounded-t-lg",children:c.jsx("h6",{className:"text-sm font-semibold",children:" Estado Actual"})}),c.jsx("div",{className:"p-4 text-xs",children:c.jsx("table",{className:"w-full",children:c.jsxs("tbody",{className:"space-y-1",children:[c.jsxs("tr",{className:"border-b",children:[c.jsx("td",{className:"py-1",children:c.jsx("strong",{children:"Count:"})}),c.jsx("td",{className:"py-1",children:n})]}),c.jsxs("tr",{className:"border-b",children:[c.jsx("td",{className:"py-1",children:c.jsx("strong",{children:"Other Value:"})}),c.jsx("td",{className:"py-1",children:t})]}),c.jsxs("tr",{className:"border-b",children:[c.jsx("td",{className:"py-1",children:c.jsx("strong",{children:"Search Term:"})}),c.jsx("td",{className:"py-1",children:o||"Vaco"})]}),c.jsxs("tr",{className:"border-b",children:[c.jsx("td",{className:"py-1",children:c.jsx("strong",{children:"Filtered Items:"})}),c.jsx("td",{className:"py-1",children:B().length})]}),c.jsxs("tr",{children:[c.jsx("td",{className:"py-1",children:c.jsx("strong",{children:"Selected:"})}),c.jsx("td",{className:"py-1",children:h?h.name:"Ninguno"})]})]})})})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[c.jsx("div",{className:"bg-yellow-500 text-black px-4 py-3 rounded-t-lg",children:c.jsx("h6",{className:"text-sm font-semibold",children:" Tips y Trucos"})}),c.jsx("div",{className:"p-4 text-xs",children:c.jsxs("ul",{className:"space-y-2",children:[c.jsxs("li",{children:[c.jsx("strong",{children:" Profiling:"})," Usa React DevTools Profiler"]}),c.jsxs("li",{children:[c.jsx("strong",{children:" Mide primero:"})," Identifica cuellos de botella reales"]}),c.jsxs("li",{children:[c.jsx("strong",{children:" Combina con memo:"})," useCallback + React.memo"]}),c.jsxs("li",{children:[c.jsx("strong",{children:" Dependencias correctas:"})," Include all dependencies"]}),c.jsxs("li",{children:[c.jsx("strong",{children:" ESLint:"})," Usa exhaustive-deps rule"]})]})})]})]})]}),c.jsx("div",{className:"text-center mt-4",children:c.jsx("a",{href:"/",className:"btn btn-secondary btn-lg",children:" Volver al Home"})})]})})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fA=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),tw=n=>{const e=fA(n);return e.charAt(0).toUpperCase()+e.slice(1)},i_=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),mA=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=I.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:u,iconNode:h,...p},g)=>I.createElement("svg",{ref:g,...pA,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:i_("lucide",o),...!u&&!mA(p)&&{"aria-hidden":"true"},...p},[...h.map(([y,x])=>I.createElement(y,x)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=(n,e)=>{const t=I.forwardRef(({className:i,...o},u)=>I.createElement(gA,{ref:u,iconNode:e,className:i_(`lucide-${hA(tw(n))}`,`lucide-${n}`,i),...o}));return t.displayName=tw(n),t};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],yg=it("arrow-left",yA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],a_=it("book-open",vA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=[["path",{d:"M10.88 21.94 15.46 14",key:"xkve6t"}],["path",{d:"M21.17 8H12",key:"19dcdn"}],["path",{d:"M3.95 6.06 8.54 14",key:"g8jz9m"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],wA=it("chromium",bA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ca=it("circle-check-big",xA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],EA=it("crown",_A);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ka=it("eye-off",TA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Da=it("eye",NA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],AA=it("facebook",SA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],jA=it("github",CA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Ph=it("globe",RA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],nw=it("languages",IA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],sw=it("link-2",kA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Nr=it("lock",DA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],o_=it("log-out",OA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ki=it("mail",PA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],VA=it("plus",MA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],UA=it("search",LA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],l_=it("shield",BA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],c_=it("square-pen",zA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],u_=it("star",HA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],d_=it("trash-2",qA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$A=it("user-check",FA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],KA=it("user-plus",GA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],QA=it("user-x",YA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Hs=it("user",XA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Fd=it("users",WA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],JA=it("x",ZA),eC=()=>{};var rw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},tC=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[t++];e[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[t++],h=n[t++],p=n[t++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|p&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const u=n[t++],h=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},f_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const u=n[o],h=o+1<n.length,p=h?n[o+1]:0,g=o+2<n.length,y=g?n[o+2]:0,x=u>>2,E=(u&3)<<4|p>>4;let N=(p&15)<<2|y>>6,k=y&63;g||(k=64,h||(N=64)),i.push(t[x],t[E],t[N],t[k])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(h_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):tC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const u=t[n.charAt(o++)],p=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,u==null||p==null||y==null||E==null)throw new nC;const N=u<<2|p>>4;if(i.push(N),y!==64){const k=p<<4&240|y>>2;if(i.push(k),E!==64){const B=y<<6&192|E;i.push(B)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class nC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sC=function(n){const e=h_(n);return f_.encodeByteArray(e,!0)},sh=function(n){return sC(n).replace(/\./g,"")},m_=function(n){try{return f_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=()=>rC().__FIREBASE_DEFAULTS__,aC=()=>{if(typeof process>"u"||typeof rw>"u")return;const n=rw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},oC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&m_(n[1]);return e&&JSON.parse(e)},Mh=()=>{try{return eC()||iC()||aC()||oC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},p_=n=>Mh()?.emulatorHosts?.[n],lC=n=>{const e=p_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},g_=()=>Mh()?.config,y_=n=>Mh()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function v_(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...n};return[sh(JSON.stringify(t)),sh(JSON.stringify(h)),""].join(".")}const jc={};function dC(){const n={prod:[],emulator:[]};for(const e of Object.keys(jc))jc[e]?n.emulator.push(e):n.prod.push(e);return n}function hC(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let iw=!1;function b_(n,e){if(typeof window>"u"||typeof document>"u"||!il(window.location.host)||jc[n]===e||jc[n]||iw)return;jc[n]=e;function t(N){return`__firebase__banner__${N}`}const i="__firebase__banner",u=dC().prod.length>0;function h(){const N=document.getElementById(i);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function g(N,k){N.setAttribute("width","24"),N.setAttribute("id",k),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function y(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{iw=!0,h()},N}function x(N,k){N.setAttribute("id",k),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function E(){const N=hC(i),k=t("text"),B=document.getElementById(k)||document.createElement("span"),Q=t("learnmore"),L=document.getElementById(Q)||document.createElement("a"),X=t("preprendIcon"),$=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const Z=N.element;p(Z),x(L,Q);const pe=y();g($,X),Z.append($,B,L,pe),document.body.appendChild(Z)}u?(B.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function mC(){const n=Mh()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function yC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vC(){const n=mn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function bC(){return!mC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wC(){try{return typeof indexedDB=="object"}catch{return!1}}function xC(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="FirebaseError";class Pr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=_C,Object.setPrototypeOf(this,Pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xc.prototype.create)}}class Xc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?EC(u,i):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new Pr(o,p,i)}}function EC(n,e){return n.replace(TC,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const TC=/\{\$([^}]+)}/g;function NC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Di(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const u=n[o],h=e[o];if(aw(u)&&aw(h)){if(!Di(u,h))return!1}else if(u!==h)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function aw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ec(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,u]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Tc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function SC(n,e){const t=new AC(n,e);return t.subscribe.bind(t)}class AC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");CC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=yp),o.error===void 0&&(o.error=yp),o.complete===void 0&&(o.complete=yp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function yp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(n){return n&&n._delegate?n._delegate:n}class Oa{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new cC;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IC(e))try{this.getOrInitializeService({instanceIdentifier:Aa})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});i.resolve(u)}catch{}}}}clearInstance(e=Aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Aa){return this.instances.has(e)}getOptions(e=Aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[u,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);i===p&&h.resolve(o)}return o}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:RC(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Aa){return this.component?this.component.multipleInstances?e:Aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RC(n){return n===Aa?void 0:n}function IC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new jC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Be||(Be={}));const DC={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},OC=Be.INFO,PC={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},MC=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=PC[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vg{constructor(e){this.name=e,this._logLevel=OC,this._logHandler=MC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const VC=(n,e)=>e.some(t=>n instanceof t);let ow,lw;function LC(){return ow||(ow=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UC(){return lw||(lw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const w_=new WeakMap,Pp=new WeakMap,x_=new WeakMap,vp=new WeakMap,bg=new WeakMap;function BC(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",h)},u=()=>{t(Ai(n.result)),o()},h=()=>{i(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&w_.set(t,n)}).catch(()=>{}),bg.set(e,n),e}function zC(n){if(Pp.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",h),n.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",h),n.addEventListener("abort",h)});Pp.set(n,e)}let Mp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Pp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||x_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ai(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function HC(n){Mp=n(Mp)}function qC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(bp(this),e,...t);return x_.set(i,e.sort?e.sort():[e]),Ai(i)}:UC().includes(n)?function(...e){return n.apply(bp(this),e),Ai(w_.get(this))}:function(...e){return Ai(n.apply(bp(this),e))}}function FC(n){return typeof n=="function"?qC(n):(n instanceof IDBTransaction&&zC(n),VC(n,LC())?new Proxy(n,Mp):n)}function Ai(n){if(n instanceof IDBRequest)return BC(n);if(vp.has(n))return vp.get(n);const e=FC(n);return e!==n&&(vp.set(n,e),bg.set(e,n)),e}const bp=n=>bg.get(n);function $C(n,e,{blocked:t,upgrade:i,blocking:o,terminated:u}={}){const h=indexedDB.open(n,e),p=Ai(h);return i&&h.addEventListener("upgradeneeded",g=>{i(Ai(h.result),g.oldVersion,g.newVersion,Ai(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const GC=["get","getKey","getAll","getAllKeys","count"],KC=["put","add","delete","clear"],wp=new Map;function cw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(wp.get(e))return wp.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=KC.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||GC.includes(t)))return;const u=async function(h,...p){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return i&&(y=y.index(p.shift())),(await Promise.all([y[t](...p),o&&g.done]))[0]};return wp.set(e,u),u}HC(n=>({...n,get:(e,t,i)=>cw(e,t)||n.get(e,t,i),has:(e,t)=>!!cw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(QC(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function QC(n){return n.getComponent()?.type==="VERSION"}const Vp="@firebase/app",uw="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr=new vg("@firebase/app"),XC="@firebase/app-compat",WC="@firebase/analytics-compat",ZC="@firebase/analytics",JC="@firebase/app-check-compat",ej="@firebase/app-check",tj="@firebase/auth",nj="@firebase/auth-compat",sj="@firebase/database",rj="@firebase/data-connect",ij="@firebase/database-compat",aj="@firebase/functions",oj="@firebase/functions-compat",lj="@firebase/installations",cj="@firebase/installations-compat",uj="@firebase/messaging",dj="@firebase/messaging-compat",hj="@firebase/performance",fj="@firebase/performance-compat",mj="@firebase/remote-config",pj="@firebase/remote-config-compat",gj="@firebase/storage",yj="@firebase/storage-compat",vj="@firebase/firestore",bj="@firebase/ai",wj="@firebase/firestore-compat",xj="firebase",_j="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="[DEFAULT]",Ej={[Vp]:"fire-core",[XC]:"fire-core-compat",[ZC]:"fire-analytics",[WC]:"fire-analytics-compat",[ej]:"fire-app-check",[JC]:"fire-app-check-compat",[tj]:"fire-auth",[nj]:"fire-auth-compat",[sj]:"fire-rtdb",[rj]:"fire-data-connect",[ij]:"fire-rtdb-compat",[aj]:"fire-fn",[oj]:"fire-fn-compat",[lj]:"fire-iid",[cj]:"fire-iid-compat",[uj]:"fire-fcm",[dj]:"fire-fcm-compat",[hj]:"fire-perf",[fj]:"fire-perf-compat",[mj]:"fire-rc",[pj]:"fire-rc-compat",[gj]:"fire-gcs",[yj]:"fire-gcs-compat",[vj]:"fire-fst",[wj]:"fire-fst-compat",[bj]:"fire-vertex","fire-js":"fire-js",[xj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=new Map,Tj=new Map,Up=new Map;function dw(n,e){try{n.container.addComponent(e)}catch(t){Rr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ko(n){const e=n.name;if(Up.has(e))return Rr.debug(`There were multiple attempts to register component ${e}.`),!1;Up.set(e,n);for(const t of rh.values())dw(t,n);for(const t of Tj.values())dw(t,n);return!0}function wg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Hn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ci=new Xc("app","Firebase",Nj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ci.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al=_j;function __(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:Lp,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Ci.create("bad-app-name",{appName:String(o)});if(t||(t=g_()),!t)throw Ci.create("no-options");const u=rh.get(o);if(u){if(Di(t,u.options)&&Di(i,u.config))return u;throw Ci.create("duplicate-app",{appName:o})}const h=new kC(o);for(const g of Up.values())h.addComponent(g);const p=new Sj(t,i,h);return rh.set(o,p),p}function E_(n=Lp){const e=rh.get(n);if(!e&&n===Lp&&g_())return __();if(!e)throw Ci.create("no-app",{appName:n});return e}function ji(n,e,t){let i=Ej[n]??n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rr.warn(h.join(" "));return}Ko(new Oa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj="firebase-heartbeat-database",Cj=1,Vc="firebase-heartbeat-store";let xp=null;function T_(){return xp||(xp=$C(Aj,Cj,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Vc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ci.create("idb-open",{originalErrorMessage:n.message})})),xp}async function jj(n){try{const t=(await T_()).transaction(Vc),i=await t.objectStore(Vc).get(N_(n));return await t.done,i}catch(e){if(e instanceof Pr)Rr.warn(e.message);else{const t=Ci.create("idb-get",{originalErrorMessage:e?.message});Rr.warn(t.message)}}}async function hw(n,e){try{const i=(await T_()).transaction(Vc,"readwrite");await i.objectStore(Vc).put(e,N_(n)),await i.done}catch(t){if(t instanceof Pr)Rr.warn(t.message);else{const i=Ci.create("idb-set",{originalErrorMessage:t?.message});Rr.warn(i.message)}}}function N_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj=1024,Ij=30;class kj{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Oj(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=fw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>Ij){const o=Pj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Rr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=fw(),{heartbeatsToSend:t,unsentEntries:i}=Dj(this._heartbeatsCache.heartbeats),o=sh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Rr.warn(e),""}}}function fw(){return new Date().toISOString().substring(0,10)}function Dj(n,e=Rj){const t=[];let i=n.slice();for(const o of n){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),mw(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),mw(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class Oj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wC()?xC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await jj(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return hw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return hw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function mw(n){return sh(JSON.stringify({version:2,heartbeats:n})).length}function Pj(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(n){Ko(new Oa("platform-logger",e=>new YC(e),"PRIVATE")),Ko(new Oa("heartbeat",e=>new kj(e),"PRIVATE")),ji(Vp,uw,n),ji(Vp,uw,"esm2020"),ji("fire-js","")}Mj("");function S_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Vj=S_,A_=new Xc("auth","Firebase",S_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new vg("@firebase/auth");function Lj(n,...e){ih.logLevel<=Be.WARN&&ih.warn(`Auth (${al}): ${n}`,...e)}function $d(n,...e){ih.logLevel<=Be.ERROR&&ih.error(`Auth (${al}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(n,...e){throw _g(n,...e)}function Ts(n,...e){return _g(n,...e)}function xg(n,e,t){const i={...Vj(),[e]:t};return new Xc("auth","Firebase",i).create(e,{appName:n.name})}function Sr(n){return xg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function C_(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&us(n,"argument-error"),xg(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _g(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return A_.create(n,...e)}function Se(n,e,...t){if(!n)throw _g(e,...t)}function _r(n){const e="INTERNAL ASSERTION FAILED: "+n;throw $d(e),new Error(e)}function Ir(n,e){n||_r(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(){return typeof self<"u"&&self.location?.href||""}function j_(){return pw()==="http:"||pw()==="https:"}function pw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(j_()||gC()||"connection"in navigator)?navigator.onLine:!0}function Bj(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ir(t>e,"Short delay should be less than long delay!"),this.isMobile=fC()||yC()}get(){return Uj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(n,e){Ir(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qj=new Zc(3e4,6e4);function Mr(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Vr(n,e,t,i,o={}){return I_(n,o,async()=>{let u={},h={};i&&(e==="GET"?h=i:u={body:JSON.stringify(i)});const p=Wc({key:n.config.apiKey,...h}).slice(1),g=await n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);const y={method:e,headers:g,...u};return pC()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&il(n.emulatorConfig.host)&&(y.credentials="include"),R_.fetch()(await k_(n,n.config.apiHost,t,p),y)})}async function I_(n,e,t){n._canInitEmulator=!1;const i={...zj,...e};try{const o=new $j(n),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Pd(n,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const p=u.ok?h.errorMessage:h.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pd(n,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Pd(n,"email-already-in-use",h);if(g==="USER_DISABLED")throw Pd(n,"user-disabled",h);const x=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw xg(n,x,y);us(n,x)}}catch(o){if(o instanceof Pr)throw o;us(n,"network-request-failed",{message:String(o)})}}async function Jc(n,e,t,i,o={}){const u=await Vr(n,e,t,i,o);return"mfaPendingCredential"in u&&us(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function k_(n,e,t,i){const o=`${e}${t}?${i}`,u=n,h=u.config.emulator?Eg(n.config,o):`${n.config.apiScheme}://${o}`;return Hj.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function Fj(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $j{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Ts(this.auth,"network-request-failed")),qj.get())})}}function Pd(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Ts(n,e,i);return o.customData._tokenResponse=t,o}function gw(n){return n!==void 0&&n.enterprise!==void 0}class Gj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Fj(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Kj(n,e){return Vr(n,"GET","/v2/recaptchaConfig",Mr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yj(n,e){return Vr(n,"POST","/v1/accounts:delete",e)}async function oh(n,e){return Vr(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Qj(n,e=!1){const t=Ft(n),i=await t.getIdToken(e),o=Tg(i);Se(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:i,authTime:Rc(_p(o.auth_time)),issuedAtTime:Rc(_p(o.iat)),expirationTime:Rc(_p(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function _p(n){return Number(n)*1e3}function Tg(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return $d("JWT malformed, contained fewer than 3 sections"),null;try{const o=m_(t);return o?JSON.parse(o):($d("Failed to decode base64 JWT payload"),null)}catch(o){return $d("Caught error parsing JWT payload as JSON",o?.toString()),null}}function yw(n){const e=Tg(n);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lc(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Pr&&Xj(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function Xj({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rc(this.lastLoginAt),this.creationTime=Rc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uc(n){const e=n.auth,t=await n.getIdToken(),i=await Lc(n,oh(e,{idToken:t}));Se(i?.users.length,e,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const u=o.providerUserInfo?.length?D_(o.providerUserInfo):[],h=Jj(n.providerData,u),p=n.isAnonymous,g=!(n.email&&o.passwordHash)&&!h?.length,y=p?g:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Bp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,x)}async function Zj(n){const e=Ft(n);await Uc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Jj(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function D_(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eR(n,e){const t=await I_(n,{},async()=>{const i=Wc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=n.config,h=await k_(n,o,"/v1/token",`key=${u}`),p=await n._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:i};return n.emulatorConfig&&il(n.emulatorConfig.host)&&(g.credentials="include"),R_.fetch()(h,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function tR(n,e){return Vr(n,"POST","/v2/accounts:revokeToken",Mr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=yw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:u}=await eR(e,t);this.updateTokensAndExpiration(i,o,Number(u))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:u}=t,h=new Bo;return i&&(Se(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(Se(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Se(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bo,this.toJSON())}_performRefresh(){return _r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(n,e){Se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Es{constructor({uid:e,auth:t,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new Wj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Bp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Lc(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Qj(this,e)}reload(){return Zj(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Es({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Uc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(Sr(this.auth));const e=await this.getIdToken();return await Lc(this,Yj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,h=t.photoURL??void 0,p=t.tenantId??void 0,g=t._redirectEventId??void 0,y=t.createdAt??void 0,x=t.lastLoginAt??void 0,{uid:E,emailVerified:N,isAnonymous:k,providerData:B,stsTokenManager:Q}=t;Se(E&&Q,e,"internal-error");const L=Bo.fromJSON(this.name,Q);Se(typeof E=="string",e,"internal-error"),xi(i,e.name),xi(o,e.name),Se(typeof N=="boolean",e,"internal-error"),Se(typeof k=="boolean",e,"internal-error"),xi(u,e.name),xi(h,e.name),xi(p,e.name),xi(g,e.name),xi(y,e.name),xi(x,e.name);const X=new Es({uid:E,auth:e,email:o,emailVerified:N,displayName:i,isAnonymous:k,photoURL:h,phoneNumber:u,tenantId:p,stsTokenManager:L,createdAt:y,lastLoginAt:x});return B&&Array.isArray(B)&&(X.providerData=B.map($=>({...$}))),g&&(X._redirectEventId=g),X}static async _fromIdTokenResponse(e,t,i=!1){const o=new Bo;o.updateFromServerResponse(t);const u=new Es({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Uc(u),u}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Se(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?D_(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,p=new Bo;p.updateFromIdToken(i);const g=new Es({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Bp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=new Map;function Er(n){Ir(n instanceof Function,"Expected a class definition");let e=vw.get(n);return e?(Ir(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,vw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}O_.type="NONE";const bw=O_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(n,e,t){return`firebase:${n}:${e}:${t}`}class zo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:u}=this.auth;this.fullUserKey=Gd(this.userKey,o.apiKey,u),this.fullPersistenceKey=Gd("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await oh(this.auth,{idToken:e}).catch(()=>{});return t?Es._fromGetAccountInfoResponse(this.auth,t,e):null}return Es._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new zo(Er(bw),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Er(bw);const h=Gd(i,e.config.apiKey,e.name);let p=null;for(const y of t)try{const x=await y._get(h);if(x){let E;if(typeof x=="string"){const N=await oh(e,{idToken:x}).catch(()=>{});if(!N)break;E=await Es._fromGetAccountInfoResponse(e,N,x)}else E=Es._fromJSON(e,x);y!==u&&(p=E),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new zo(u,e,i):(u=g[0],p&&await u._set(h,p.toJSON()),await Promise.all(t.map(async y=>{if(y!==u)try{await y._remove(h)}catch{}})),new zo(u,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(L_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(P_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(B_(e))return"Blackberry";if(z_(e))return"Webos";if(M_(e))return"Safari";if((e.includes("chrome/")||V_(e))&&!e.includes("edge/"))return"Chrome";if(U_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function P_(n=mn()){return/firefox\//i.test(n)}function M_(n=mn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function V_(n=mn()){return/crios\//i.test(n)}function L_(n=mn()){return/iemobile/i.test(n)}function U_(n=mn()){return/android/i.test(n)}function B_(n=mn()){return/blackberry/i.test(n)}function z_(n=mn()){return/webos/i.test(n)}function Ng(n=mn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function nR(n=mn()){return Ng(n)&&!!window.navigator?.standalone}function sR(){return vC()&&document.documentMode===10}function H_(n=mn()){return Ng(n)||U_(n)||z_(n)||B_(n)||/windows phone/i.test(n)||L_(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(n,e=[]){let t;switch(n){case"Browser":t=ww(mn());break;case"Worker":t=`${ww(mn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${al}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=u=>new Promise((h,p)=>{try{const g=e(u);h(g)}catch(g){p(g)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iR(n,e={}){return Vr(n,"GET","/v2/passwordPolicy",Mr(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=6;class oR{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??aR,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xw(this),this.idTokenSubscription=new xw(this),this.beforeStateQueue=new rR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=A_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Er(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await zo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await oh(this,{idToken:e}),i=await Es._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Hn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=i?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===h)&&p?.user&&(i=p.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Uc(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Bj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hn(this.app))return Promise.reject(Sr(this));const t=e?Ft(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(Sr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hn(this.app)?Promise.reject(Sr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Er(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iR(this),t=new oR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await tR(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Er(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await zo.create(this,[Er(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(p,this,"internal-error"),p.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,i,o);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=q_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Lj(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Bi(n){return Ft(n)}class xw{constructor(e){this.auth=e,this.observer=null,this.addObserver=SC(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cR(n){Vh=n}function F_(n){return Vh.loadJS(n)}function uR(){return Vh.recaptchaEnterpriseScript}function dR(){return Vh.gapiScript}function hR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class fR{constructor(){this.enterprise=new mR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class mR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const pR="recaptcha-enterprise",$_="NO_RECAPTCHA";class gR{constructor(e){this.type=pR,this.auth=Bi(e)}async verify(e="verify",t=!1){async function i(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,p)=>{Kj(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new Gj(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,h(y.siteKey)}}).catch(g=>{p(g)})})}function o(u,h,p){const g=window.grecaptcha;gw(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{h(y)}).catch(()=>{h($_)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fR().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{i(this.auth).then(p=>{if(!t&&gw(window.grecaptcha))o(p,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=uR();g.length!==0&&(g+=p),F_(g).then(()=>{o(p,u,h)}).catch(y=>{h(y)})}}).catch(p=>{h(p)})})}}async function _w(n,e,t,i=!1,o=!1){const u=new gR(n);let h;if(o)h=$_;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const p={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return i?Object.assign(p,{captchaResp:h}):Object.assign(p,{captchaResponse:h}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function zp(n,e,t,i,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await _w(n,e,t,t==="getOobCode");return i(n,u)}else return i(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await _w(n,e,t,t==="getOobCode");return i(n,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(n,e){const t=wg(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Di(u,e??{}))return o;us(o,"already-initialized")}return t.initialize({options:e})}function vR(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Er);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function bR(n,e,t){const i=Bi(n);Se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,u=G_(e),{host:h,port:p}=wR(e),g=p===null?"":`:${p}`,y={url:`${u}//${h}${g}/`},x=Object.freeze({host:h,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Se(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Se(Di(y,i.config.emulator)&&Di(x,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=x,i.settings.appVerificationDisabledForTesting=!0,il(h)?(v_(`${u}//${h}${g}`),b_("Auth",!0)):xR()}function G_(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function wR(n){const e=G_(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const u=o[1];return{host:u,port:Ew(i.substr(u.length+1))}}else{const[u,h]=i.split(":");return{host:u,port:Ew(h)}}}function Ew(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function xR(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return _r("not implemented")}_getIdTokenResponse(e){return _r("not implemented")}_linkToIdToken(e,t){return _r("not implemented")}_getReauthenticationResolver(e){return _r("not implemented")}}async function _R(n,e){return Vr(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ER(n,e){return Jc(n,"POST","/v1/accounts:signInWithPassword",Mr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TR(n,e){return Jc(n,"POST","/v1/accounts:signInWithEmailLink",Mr(n,e))}async function NR(n,e){return Jc(n,"POST","/v1/accounts:signInWithEmailLink",Mr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc extends Sg{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Bc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Bc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zp(e,t,"signInWithPassword",ER);case"emailLink":return TR(e,{email:this._email,oobCode:this._password});default:us(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zp(e,i,"signUpPassword",_R);case"emailLink":return NR(e,{idToken:t,email:this._email,oobCode:this._password});default:us(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(n,e){return Jc(n,"POST","/v1/accounts:signInWithIdp",Mr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="http://localhost";class Pa extends Sg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):us("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...u}=t;if(!i||!o)return null;const h=new Pa(i,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Ho(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Ho(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ho(e,t)}buildRequest(){const e={requestUri:SR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Wc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CR(n){const e=Ec(Tc(n)).link,t=e?Ec(Tc(e)).deep_link_id:null,i=Ec(Tc(n)).deep_link_id;return(i?Ec(Tc(i)).link:null)||i||t||e||n}class Ag{constructor(e){const t=Ec(Tc(e)),i=t.apiKey??null,o=t.oobCode??null,u=AR(t.mode??null);Se(i&&o&&u,"argument-error"),this.apiKey=i,this.operation=u,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=CR(e);try{return new Ag(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(){this.providerId=ol.PROVIDER_ID}static credential(e,t){return Bc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Ag.parseLink(t);return Se(i,"argument-error"),Bc._fromEmailAndCode(e,i.code,i.tenantId)}}ol.PROVIDER_ID="password";ol.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ol.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends Lh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends eu{constructor(){super("facebook.com")}static credential(e){return Pa._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.FACEBOOK_SIGN_IN_METHOD="facebook.com";_s.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Pa._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return qs.credential(t,i)}catch{return null}}}qs.GOOGLE_SIGN_IN_METHOD="google.com";qs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends eu{constructor(){super("github.com")}static credential(e){return Pa._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.GITHUB_SIGN_IN_METHOD="github.com";os.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends eu{constructor(){super("twitter.com")}static credential(e,t){return Pa._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return _i.credential(t,i)}catch{return null}}}_i.TWITTER_SIGN_IN_METHOD="twitter.com";_i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jR(n,e){return Jc(n,"POST","/v1/accounts:signUp",Mr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const u=await Es._fromIdTokenResponse(e,i,o),h=Tw(i);return new Ma({user:u,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Tw(i);return new Ma({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Tw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh extends Pr{constructor(e,t,i,o){super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,lh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new lh(e,t,i,o)}}function K_(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?lh._fromErrorAndOperation(n,u,e,i):u})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}async function Y_(n,e,t=!1){const i=await Lc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ma._forOperation(n,"link",i)}async function IR(n,e,t){await Uc(e);const i=RR(e.providerData);Se(i.has(t)===n,e.auth,"provider-already-linked")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(n,e,t=!1){const{auth:i}=n;if(Hn(i.app))return Promise.reject(Sr(i));const o="reauthenticate";try{const u=await Lc(n,K_(i,o,e,n),t);Se(u.idToken,i,"internal-error");const h=Tg(u.idToken);Se(h,i,"internal-error");const{sub:p}=h;return Se(n.uid===p,i,"user-mismatch"),Ma._forOperation(n,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&us(i,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q_(n,e,t=!1){if(Hn(n.app))return Promise.reject(Sr(n));const i="signIn",o=await K_(n,i,e),u=await Ma._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(u.user),u}async function DR(n,e){return Q_(Bi(n),e)}async function OR(n,e){const t=Ft(n);return await IR(!1,t,e.providerId),Y_(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X_(n){const e=Bi(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function W_(n,e,t){if(Hn(n.app))return Promise.reject(Sr(n));const i=Bi(n),h=await zp(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jR).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&X_(n),g}),p=await Ma._fromIdTokenResponse(i,"signIn",h);return await i._updateCurrentUser(p.user),p}function Nw(n,e,t){return Hn(n.app)?Promise.reject(Sr(n)):DR(Ft(n),ol.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&X_(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PR(n,e){return Vr(n,"POST","/v1/accounts:createAuthUri",Mr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MR(n,e){const t=j_()?ah():"http://localhost",i={identifier:e,continueUri:t},{signinMethods:o}=await PR(Ft(n),i);return o||[]}function VR(n,e,t,i){return Ft(n).onIdTokenChanged(e,t,i)}function LR(n,e,t){return Ft(n).beforeAuthStateChanged(e,t)}function Z_(n){return Ft(n).signOut()}const ch="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ch,"1"),this.storage.removeItem(ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=1e3,BR=10;class e2 extends J_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=H_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,p,g)=>{this.notifyListeners(h,g)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},u=this.storage.getItem(i);sR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,BR):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},UR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}e2.type="LOCAL";const zR=e2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2 extends J_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}t2.type="SESSION";const n2=t2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Uh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const p=Array.from(h).map(async y=>y(t.origin,u)),g=await HR(p);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((p,g)=>{const y=Cg("",20);o.port1.start();const x=setTimeout(()=>{g(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(E){const N=E;if(N.data.eventId===y)switch(N.data.status){case"ack":clearTimeout(x),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(N.data.response);break;default:clearTimeout(x),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(){return window}function FR(n){Fs().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(){return typeof Fs().WorkerGlobalScope<"u"&&typeof Fs().importScripts=="function"}async function $R(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GR(){return navigator?.serviceWorker?.controller||null}function KR(){return s2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2="firebaseLocalStorageDb",YR=1,uh="firebaseLocalStorage",i2="fbase_key";class tu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Bh(n,e){return n.transaction([uh],e?"readwrite":"readonly").objectStore(uh)}function QR(){const n=indexedDB.deleteDatabase(r2);return new tu(n).toPromise()}function Hp(){const n=indexedDB.open(r2,YR);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(uh,{keyPath:i2})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(uh)?e(i):(i.close(),await QR(),e(await Hp()))})})}async function Sw(n,e,t){const i=Bh(n,!0).put({[i2]:e,value:t});return new tu(i).toPromise()}async function XR(n,e){const t=Bh(n,!1).get(e),i=await new tu(t).toPromise();return i===void 0?null:i.value}function Aw(n,e){const t=Bh(n,!0).delete(e);return new tu(t).toPromise()}const WR=800,ZR=3;class a2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>ZR)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return s2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uh._getInstance(KR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await $R(),!this.activeServiceWorker)return;this.sender=new qR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hp();return await Sw(e,ch,"1"),await Aw(e,ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Sw(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>XR(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Aw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Bh(o,!1).getAll();return new tu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}a2.type="LOCAL";const JR=a2;new Zc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(n,e){return e?Er(e):(Se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg extends Sg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ho(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ho(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function eI(n){return Q_(n.auth,new Rg(n),n.bypassAuthState)}function tI(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),kR(t,new Rg(n),n.bypassAuthState)}async function nI(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),Y_(t,new Rg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,t,i,o,u=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:u,error:h,type:p}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:i,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eI;case"linkViaPopup":case"linkViaRedirect":return nI;case"reauthViaPopup":case"reauthViaRedirect":return tI;default:us(this.auth,"internal-error")}}resolve(e){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=new Zc(2e3,1e4);async function rI(n,e,t){if(Hn(n.app))return Promise.reject(Ts(n,"operation-not-supported-in-this-environment"));const i=Bi(n);C_(n,e,Lh);const o=jg(i,t);return new Ei(i,"signInViaPopup",e,o).executeNotNull()}async function Ep(n,e,t){const i=Ft(n);C_(i.auth,e,Lh);const o=jg(i.auth,t);return new Ei(i.auth,"linkViaPopup",e,o,i).executeNotNull()}class Ei extends o2{constructor(e,t,i,o,u){super(e,t,o,u),this.provider=i,this.authWindow=null,this.pollId=null,Ei.currentPopupAction&&Ei.currentPopupAction.cancel(),Ei.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Ir(this.filter.length===1,"Popup operations only handle one event");const e=Cg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ts(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ts(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ei.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ts(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sI.get())};e()}}Ei.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="pendingRedirect",Kd=new Map;class aI extends o2{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Kd.get(this.auth._key());if(!e){try{const i=await oI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Kd.set(this.auth._key(),e)}return this.bypassAuthState||Kd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oI(n,e){const t=uI(e),i=cI(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function lI(n,e){Kd.set(n._key(),e)}function cI(n){return Er(n._redirectPersistence)}function uI(n){return Gd(iI,n.config.apiKey,n.name)}async function dI(n,e,t=!1){if(Hn(n.app))return Promise.reject(Sr(n));const i=Bi(n),o=jg(i,e),h=await new aI(i,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=600*1e3;class fI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!l2(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Ts(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cw(e))}saveEventToCache(e){this.cachedEventUids.add(Cw(e)),this.lastProcessedEventTime=Date.now()}}function Cw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function l2({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function mI(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return l2(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pI(n,e={}){return Vr(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yI=/^https?/;async function vI(n){if(n.config.emulator)return;const{authorizedDomains:e}=await pI(n);for(const t of e)try{if(bI(t))return}catch{}us(n,"unauthorized-domain")}function bI(n){const e=ah(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!yI.test(t))return!1;if(gI.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=new Zc(3e4,6e4);function jw(){const n=Fs().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function xI(n){return new Promise((e,t)=>{function i(){jw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jw(),t(Ts(n,"network-request-failed"))},timeout:wI.get()})}if(Fs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Fs().gapi?.load)i();else{const o=hR("iframefcb");return Fs()[o]=()=>{gapi.load?i():t(Ts(n,"network-request-failed"))},F_(`${dR()}?onload=${o}`).catch(u=>t(u))}}).catch(e=>{throw Yd=null,e})}let Yd=null;function _I(n){return Yd=Yd||xI(n),Yd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=new Zc(5e3,15e3),TI="__/auth/iframe",NI="emulator/auth/iframe",SI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CI(n){const e=n.config;Se(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Eg(e,NI):`https://${n.config.authDomain}/${TI}`,i={apiKey:e.apiKey,appName:n.name,v:al},o=AI.get(n.config.apiHost);o&&(i.eid=o);const u=n._getFrameworks();return u.length&&(i.fw=u.join(",")),`${t}?${Wc(i).slice(1)}`}async function jI(n){const e=await _I(n),t=Fs().gapi;return Se(t,n,"internal-error"),e.open({where:document.body,url:CI(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SI,dontclear:!0},i=>new Promise(async(o,u)=>{await i.restyle({setHideOnLeave:!1});const h=Ts(n,"network-request-failed"),p=Fs().setTimeout(()=>{u(h)},EI.get());function g(){Fs().clearTimeout(p),o(i)}i.ping(g).then(g,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},II=500,kI=600,DI="_blank",OI="http://localhost";class Rw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PI(n,e,t,i=II,o=kI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let p="";const g={...RI,width:i.toString(),height:o.toString(),top:u,left:h},y=mn().toLowerCase();t&&(p=V_(y)?DI:t),P_(y)&&(e=e||OI,g.scrollbars="yes");const x=Object.entries(g).reduce((N,[k,B])=>`${N}${k}=${B},`,"");if(nR(y)&&p!=="_self")return MI(e||"",p),new Rw(null);const E=window.open(e||"",p,x);Se(E,n,"popup-blocked");try{E.focus()}catch{}return new Rw(E)}function MI(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI="__/auth/handler",LI="emulator/auth/handler",UI=encodeURIComponent("fac");async function Iw(n,e,t,i,o,u){Se(n.config.authDomain,n,"auth-domain-config-required"),Se(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:al,eventId:o};if(e instanceof Lh){e.setDefaultLanguage(n.languageCode),h.providerId=e.providerId||"",NC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,E]of Object.entries({}))h[x]=E}if(e instanceof eu){const x=e.getScopes().filter(E=>E!=="");x.length>0&&(h.scopes=x.join(","))}n.tenantId&&(h.tid=n.tenantId);const p=h;for(const x of Object.keys(p))p[x]===void 0&&delete p[x];const g=await n._getAppCheckToken(),y=g?`#${UI}=${encodeURIComponent(g)}`:"";return`${BI(n)}?${Wc(p).slice(1)}${y}`}function BI({config:n}){return n.emulator?Eg(n,LI):`https://${n.authDomain}/${VI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="webStorageSupport";class zI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=n2,this._completeRedirectFn=dI,this._overrideRedirectResult=lI}async _openPopup(e,t,i,o){Ir(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Iw(e,t,i,ah(),o);return PI(e,u,Cg())}async _openRedirect(e,t,i,o){await this._originValidation(e);const u=await Iw(e,t,i,ah(),o);return FR(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(Ir(u,"If manager is not set, promise should be"),u)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await jI(e),i=new fI(e);return t.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Tp,{type:Tp},o=>{const u=o?.[0]?.[Tp];u!==void 0&&t(!!u),us(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=vI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return H_()||M_()||Ng()}}const HI=zI;var kw="@firebase/auth",Dw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $I(n){Ko(new Oa("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=i.options;Se(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:h,authDomain:p,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:q_(n)},y=new lR(i,o,u,g);return vR(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Ko(new Oa("auth-internal",e=>{const t=Bi(e.getProvider("auth").getImmediate());return(i=>new qI(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ji(kw,Dw,FI(n)),ji(kw,Dw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=300,KI=y_("authIdTokenMaxAge")||GI;let Ow=null;const YI=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>KI)return;const o=t?.token;Ow!==o&&(Ow=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function QI(n=E_()){const e=wg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=yR(n,{popupRedirectResolver:HI,persistence:[JR,zR,n2]}),i=y_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(i,location.origin);if(location.origin===u.origin){const h=YI(u.toString());LR(t,h,()=>h(t.currentUser)),VR(t,p=>h(p))}}const o=p_("auth");return o&&bR(t,`http://${o}`),t}function XI(){return document.getElementsByTagName("head")?.[0]??document}cR({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const u=Ts("internal-error");u.customData=o,t(u)},i.type="text/javascript",i.charset="UTF-8",XI().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$I("Browser");var WI="firebase",ZI="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ji(WI,ZI,"app");var Pw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ri,c2;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,A){function C(){}C.prototype=A.prototype,S.F=A.prototype,S.prototype=new C,S.prototype.constructor=S,S.D=function(M,O,U){for(var R=Array(arguments.length-2),at=2;at<arguments.length;at++)R[at-2]=arguments[at];return A.prototype[O].apply(M,R)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(S,A,C){C||(C=0);const M=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)M[O]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(O=0;O<16;++O)M[O]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=S.g[0],C=S.g[1],O=S.g[2];let U=S.g[3],R;R=A+(U^C&(O^U))+M[0]+3614090360&4294967295,A=C+(R<<7&4294967295|R>>>25),R=U+(O^A&(C^O))+M[1]+3905402710&4294967295,U=A+(R<<12&4294967295|R>>>20),R=O+(C^U&(A^C))+M[2]+606105819&4294967295,O=U+(R<<17&4294967295|R>>>15),R=C+(A^O&(U^A))+M[3]+3250441966&4294967295,C=O+(R<<22&4294967295|R>>>10),R=A+(U^C&(O^U))+M[4]+4118548399&4294967295,A=C+(R<<7&4294967295|R>>>25),R=U+(O^A&(C^O))+M[5]+1200080426&4294967295,U=A+(R<<12&4294967295|R>>>20),R=O+(C^U&(A^C))+M[6]+2821735955&4294967295,O=U+(R<<17&4294967295|R>>>15),R=C+(A^O&(U^A))+M[7]+4249261313&4294967295,C=O+(R<<22&4294967295|R>>>10),R=A+(U^C&(O^U))+M[8]+1770035416&4294967295,A=C+(R<<7&4294967295|R>>>25),R=U+(O^A&(C^O))+M[9]+2336552879&4294967295,U=A+(R<<12&4294967295|R>>>20),R=O+(C^U&(A^C))+M[10]+4294925233&4294967295,O=U+(R<<17&4294967295|R>>>15),R=C+(A^O&(U^A))+M[11]+2304563134&4294967295,C=O+(R<<22&4294967295|R>>>10),R=A+(U^C&(O^U))+M[12]+1804603682&4294967295,A=C+(R<<7&4294967295|R>>>25),R=U+(O^A&(C^O))+M[13]+4254626195&4294967295,U=A+(R<<12&4294967295|R>>>20),R=O+(C^U&(A^C))+M[14]+2792965006&4294967295,O=U+(R<<17&4294967295|R>>>15),R=C+(A^O&(U^A))+M[15]+1236535329&4294967295,C=O+(R<<22&4294967295|R>>>10),R=A+(O^U&(C^O))+M[1]+4129170786&4294967295,A=C+(R<<5&4294967295|R>>>27),R=U+(C^O&(A^C))+M[6]+3225465664&4294967295,U=A+(R<<9&4294967295|R>>>23),R=O+(A^C&(U^A))+M[11]+643717713&4294967295,O=U+(R<<14&4294967295|R>>>18),R=C+(U^A&(O^U))+M[0]+3921069994&4294967295,C=O+(R<<20&4294967295|R>>>12),R=A+(O^U&(C^O))+M[5]+3593408605&4294967295,A=C+(R<<5&4294967295|R>>>27),R=U+(C^O&(A^C))+M[10]+38016083&4294967295,U=A+(R<<9&4294967295|R>>>23),R=O+(A^C&(U^A))+M[15]+3634488961&4294967295,O=U+(R<<14&4294967295|R>>>18),R=C+(U^A&(O^U))+M[4]+3889429448&4294967295,C=O+(R<<20&4294967295|R>>>12),R=A+(O^U&(C^O))+M[9]+568446438&4294967295,A=C+(R<<5&4294967295|R>>>27),R=U+(C^O&(A^C))+M[14]+3275163606&4294967295,U=A+(R<<9&4294967295|R>>>23),R=O+(A^C&(U^A))+M[3]+4107603335&4294967295,O=U+(R<<14&4294967295|R>>>18),R=C+(U^A&(O^U))+M[8]+1163531501&4294967295,C=O+(R<<20&4294967295|R>>>12),R=A+(O^U&(C^O))+M[13]+2850285829&4294967295,A=C+(R<<5&4294967295|R>>>27),R=U+(C^O&(A^C))+M[2]+4243563512&4294967295,U=A+(R<<9&4294967295|R>>>23),R=O+(A^C&(U^A))+M[7]+1735328473&4294967295,O=U+(R<<14&4294967295|R>>>18),R=C+(U^A&(O^U))+M[12]+2368359562&4294967295,C=O+(R<<20&4294967295|R>>>12),R=A+(C^O^U)+M[5]+4294588738&4294967295,A=C+(R<<4&4294967295|R>>>28),R=U+(A^C^O)+M[8]+2272392833&4294967295,U=A+(R<<11&4294967295|R>>>21),R=O+(U^A^C)+M[11]+1839030562&4294967295,O=U+(R<<16&4294967295|R>>>16),R=C+(O^U^A)+M[14]+4259657740&4294967295,C=O+(R<<23&4294967295|R>>>9),R=A+(C^O^U)+M[1]+2763975236&4294967295,A=C+(R<<4&4294967295|R>>>28),R=U+(A^C^O)+M[4]+1272893353&4294967295,U=A+(R<<11&4294967295|R>>>21),R=O+(U^A^C)+M[7]+4139469664&4294967295,O=U+(R<<16&4294967295|R>>>16),R=C+(O^U^A)+M[10]+3200236656&4294967295,C=O+(R<<23&4294967295|R>>>9),R=A+(C^O^U)+M[13]+681279174&4294967295,A=C+(R<<4&4294967295|R>>>28),R=U+(A^C^O)+M[0]+3936430074&4294967295,U=A+(R<<11&4294967295|R>>>21),R=O+(U^A^C)+M[3]+3572445317&4294967295,O=U+(R<<16&4294967295|R>>>16),R=C+(O^U^A)+M[6]+76029189&4294967295,C=O+(R<<23&4294967295|R>>>9),R=A+(C^O^U)+M[9]+3654602809&4294967295,A=C+(R<<4&4294967295|R>>>28),R=U+(A^C^O)+M[12]+3873151461&4294967295,U=A+(R<<11&4294967295|R>>>21),R=O+(U^A^C)+M[15]+530742520&4294967295,O=U+(R<<16&4294967295|R>>>16),R=C+(O^U^A)+M[2]+3299628645&4294967295,C=O+(R<<23&4294967295|R>>>9),R=A+(O^(C|~U))+M[0]+4096336452&4294967295,A=C+(R<<6&4294967295|R>>>26),R=U+(C^(A|~O))+M[7]+1126891415&4294967295,U=A+(R<<10&4294967295|R>>>22),R=O+(A^(U|~C))+M[14]+2878612391&4294967295,O=U+(R<<15&4294967295|R>>>17),R=C+(U^(O|~A))+M[5]+4237533241&4294967295,C=O+(R<<21&4294967295|R>>>11),R=A+(O^(C|~U))+M[12]+1700485571&4294967295,A=C+(R<<6&4294967295|R>>>26),R=U+(C^(A|~O))+M[3]+2399980690&4294967295,U=A+(R<<10&4294967295|R>>>22),R=O+(A^(U|~C))+M[10]+4293915773&4294967295,O=U+(R<<15&4294967295|R>>>17),R=C+(U^(O|~A))+M[1]+2240044497&4294967295,C=O+(R<<21&4294967295|R>>>11),R=A+(O^(C|~U))+M[8]+1873313359&4294967295,A=C+(R<<6&4294967295|R>>>26),R=U+(C^(A|~O))+M[15]+4264355552&4294967295,U=A+(R<<10&4294967295|R>>>22),R=O+(A^(U|~C))+M[6]+2734768916&4294967295,O=U+(R<<15&4294967295|R>>>17),R=C+(U^(O|~A))+M[13]+1309151649&4294967295,C=O+(R<<21&4294967295|R>>>11),R=A+(O^(C|~U))+M[4]+4149444226&4294967295,A=C+(R<<6&4294967295|R>>>26),R=U+(C^(A|~O))+M[11]+3174756917&4294967295,U=A+(R<<10&4294967295|R>>>22),R=O+(A^(U|~C))+M[2]+718787259&4294967295,O=U+(R<<15&4294967295|R>>>17),R=C+(U^(O|~A))+M[9]+3951481745&4294967295,S.g[0]=S.g[0]+A&4294967295,S.g[1]=S.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,S.g[2]=S.g[2]+O&4294967295,S.g[3]=S.g[3]+U&4294967295}i.prototype.v=function(S,A){A===void 0&&(A=S.length);const C=A-this.blockSize,M=this.C;let O=this.h,U=0;for(;U<A;){if(O==0)for(;U<=C;)o(this,S,U),U+=this.blockSize;if(typeof S=="string"){for(;U<A;)if(M[O++]=S.charCodeAt(U++),O==this.blockSize){o(this,M),O=0;break}}else for(;U<A;)if(M[O++]=S[U++],O==this.blockSize){o(this,M),O=0;break}}this.h=O,this.o+=A},i.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var A=1;A<S.length-8;++A)S[A]=0;A=this.o*8;for(var C=S.length-8;C<S.length;++C)S[C]=A&255,A/=256;for(this.v(S),S=Array(16),A=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)S[A++]=this.g[C]>>>M&255;return S};function u(S,A){var C=p;return Object.prototype.hasOwnProperty.call(C,S)?C[S]:C[S]=A(S)}function h(S,A){this.h=A;const C=[];let M=!0;for(let O=S.length-1;O>=0;O--){const U=S[O]|0;M&&U==A||(C[O]=U,M=!1)}this.g=C}var p={};function g(S){return-128<=S&&S<128?u(S,function(A){return new h([A|0],A<0?-1:0)}):new h([S|0],S<0?-1:0)}function y(S){if(isNaN(S)||!isFinite(S))return E;if(S<0)return L(y(-S));const A=[];let C=1;for(let M=0;S>=C;M++)A[M]=S/C|0,C*=4294967296;return new h(A,0)}function x(S,A){if(S.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(S.charAt(0)=="-")return L(x(S.substring(1),A));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(A,8));let M=E;for(let U=0;U<S.length;U+=8){var O=Math.min(8,S.length-U);const R=parseInt(S.substring(U,U+O),A);O<8?(O=y(Math.pow(A,O)),M=M.j(O).add(y(R))):(M=M.j(C),M=M.add(y(R)))}return M}var E=g(0),N=g(1),k=g(16777216);n=h.prototype,n.m=function(){if(Q(this))return-L(this).m();let S=0,A=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);S+=(M>=0?M:4294967296+M)*A,A*=4294967296}return S},n.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(B(this))return"0";if(Q(this))return"-"+L(this).toString(S);const A=y(Math.pow(S,6));var C=this;let M="";for(;;){const O=pe(C,A).g;C=X(C,O.j(A));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(S);if(C=O,B(C))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},n.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function B(S){if(S.h!=0)return!1;for(let A=0;A<S.g.length;A++)if(S.g[A]!=0)return!1;return!0}function Q(S){return S.h==-1}n.l=function(S){return S=X(this,S),Q(S)?-1:B(S)?0:1};function L(S){const A=S.g.length,C=[];for(let M=0;M<A;M++)C[M]=~S.g[M];return new h(C,~S.h).add(N)}n.abs=function(){return Q(this)?L(this):this},n.add=function(S){const A=Math.max(this.g.length,S.g.length),C=[];let M=0;for(let O=0;O<=A;O++){let U=M+(this.i(O)&65535)+(S.i(O)&65535),R=(U>>>16)+(this.i(O)>>>16)+(S.i(O)>>>16);M=R>>>16,U&=65535,R&=65535,C[O]=R<<16|U}return new h(C,C[C.length-1]&-2147483648?-1:0)};function X(S,A){return S.add(L(A))}n.j=function(S){if(B(this)||B(S))return E;if(Q(this))return Q(S)?L(this).j(L(S)):L(L(this).j(S));if(Q(S))return L(this.j(L(S)));if(this.l(k)<0&&S.l(k)<0)return y(this.m()*S.m());const A=this.g.length+S.g.length,C=[];for(var M=0;M<2*A;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<S.g.length;O++){const U=this.i(M)>>>16,R=this.i(M)&65535,at=S.i(O)>>>16,le=S.i(O)&65535;C[2*M+2*O]+=R*le,$(C,2*M+2*O),C[2*M+2*O+1]+=U*le,$(C,2*M+2*O+1),C[2*M+2*O+1]+=R*at,$(C,2*M+2*O+1),C[2*M+2*O+2]+=U*at,$(C,2*M+2*O+2)}for(S=0;S<A;S++)C[S]=C[2*S+1]<<16|C[2*S];for(S=A;S<2*A;S++)C[S]=0;return new h(C,0)};function $(S,A){for(;(S[A]&65535)!=S[A];)S[A+1]+=S[A]>>>16,S[A]&=65535,A++}function Z(S,A){this.g=S,this.h=A}function pe(S,A){if(B(A))throw Error("division by zero");if(B(S))return new Z(E,E);if(Q(S))return A=pe(L(S),A),new Z(L(A.g),L(A.h));if(Q(A))return A=pe(S,L(A)),new Z(L(A.g),A.h);if(S.g.length>30){if(Q(S)||Q(A))throw Error("slowDivide_ only works with positive integers.");for(var C=N,M=A;M.l(S)<=0;)C=oe(C),M=oe(M);var O=ye(C,1),U=ye(M,1);for(M=ye(M,2),C=ye(C,2);!B(M);){var R=U.add(M);R.l(S)<=0&&(O=O.add(C),U=R),M=ye(M,1),C=ye(C,1)}return A=X(S,O.j(A)),new Z(O,A)}for(O=E;S.l(A)>=0;){for(C=Math.max(1,Math.floor(S.m()/A.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=y(C),R=U.j(A);Q(R)||R.l(S)>0;)C-=M,U=y(C),R=U.j(A);B(U)&&(U=N),O=O.add(U),S=X(S,R)}return new Z(O,S)}n.B=function(S){return pe(this,S).h},n.and=function(S){const A=Math.max(this.g.length,S.g.length),C=[];for(let M=0;M<A;M++)C[M]=this.i(M)&S.i(M);return new h(C,this.h&S.h)},n.or=function(S){const A=Math.max(this.g.length,S.g.length),C=[];for(let M=0;M<A;M++)C[M]=this.i(M)|S.i(M);return new h(C,this.h|S.h)},n.xor=function(S){const A=Math.max(this.g.length,S.g.length),C=[];for(let M=0;M<A;M++)C[M]=this.i(M)^S.i(M);return new h(C,this.h^S.h)};function oe(S){const A=S.g.length+1,C=[];for(let M=0;M<A;M++)C[M]=S.i(M)<<1|S.i(M-1)>>>31;return new h(C,S.h)}function ye(S,A){const C=A>>5;A%=32;const M=S.g.length-C,O=[];for(let U=0;U<M;U++)O[U]=A>0?S.i(U+C)>>>A|S.i(U+C+1)<<32-A:S.i(U+C);return new h(O,S.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,c2=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=x,Ri=h}).apply(typeof Pw<"u"?Pw:typeof self<"u"?self:typeof window<"u"?window:{});var Md=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var u2,Nc,d2,Qd,qp,h2,f2,m2;(function(){var n,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Md=="object"&&Md];for(var v=0;v<d.length;++v){var b=d[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=t(this);function o(d,v){if(v)e:{var b=i;d=d.split(".");for(var T=0;T<d.length-1;T++){var H=d[T];if(!(H in b))break e;b=b[H]}d=d[d.length-1],T=b[d],v=v(T),v!=T&&v!=null&&e(b,d,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(d){return d||function(v){var b=[],T;for(T in v)Object.prototype.hasOwnProperty.call(v,T)&&b.push([T,v[T]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function p(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function g(d,v,b){return d.call.apply(d.bind,arguments)}function y(d,v,b){return y=g,y.apply(null,arguments)}function x(d,v){var b=Array.prototype.slice.call(arguments,1);return function(){var T=b.slice();return T.push.apply(T,arguments),d.apply(this,T)}}function E(d,v){function b(){}b.prototype=v.prototype,d.Z=v.prototype,d.prototype=new b,d.prototype.constructor=d,d.Ob=function(T,H,Y){for(var ce=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)ce[Re-2]=arguments[Re];return v.prototype[H].apply(T,ce)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function k(d){const v=d.length;if(v>0){const b=Array(v);for(let T=0;T<v;T++)b[T]=d[T];return b}return[]}function B(d,v){for(let T=1;T<arguments.length;T++){const H=arguments[T];var b=typeof H;if(b=b!="object"?b:H?Array.isArray(H)?"array":b:"null",b=="array"||b=="object"&&typeof H.length=="number"){b=d.length||0;const Y=H.length||0;d.length=b+Y;for(let ce=0;ce<Y;ce++)d[b+ce]=H[ce]}else d.push(H)}}class Q{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function L(d){h.setTimeout(()=>{throw d},0)}function X(){var d=S;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class ${constructor(){this.h=this.g=null}add(v,b){const T=Z.get();T.set(v,b),this.h?this.h.next=T:this.g=T,this.h=T}}var Z=new Q(()=>new pe,d=>d.reset());class pe{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,ye=!1,S=new $,A=()=>{const d=Promise.resolve(void 0);oe=()=>{d.then(C)}};function C(){for(var d;d=X();){try{d.h.call(d.g)}catch(b){L(b)}var v=Z;v.j(d),v.h<100&&(v.h++,d.next=v.g,v.g=d)}ye=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const b=()=>{};h.addEventListener("test",b,v),h.removeEventListener("test",b,v)}catch{}return d})();function R(d){return/^[\s\xa0]*$/.test(d)}function at(d,v){O.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,v)}E(at,O),at.prototype.init=function(d,v){const b=this.type=d.type,T=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget,v||(b=="mouseover"?v=d.fromElement:b=="mouseout"&&(v=d.toElement)),this.relatedTarget=v,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&at.Z.h.call(this)},at.prototype.h=function(){at.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var le="closure_listenable_"+(Math.random()*1e6|0),F=0;function ae(d,v,b,T,H){this.listener=d,this.proxy=null,this.src=v,this.type=b,this.capture=!!T,this.ha=H,this.key=++F,this.da=this.fa=!1}function fe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ke(d,v,b){for(const T in d)v.call(b,d[T],T,d)}function D(d,v){for(const b in d)v.call(void 0,d[b],b,d)}function re(d){const v={};for(const b in d)v[b]=d[b];return v}const de="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(d,v){let b,T;for(let H=1;H<arguments.length;H++){T=arguments[H];for(b in T)d[b]=T[b];for(let Y=0;Y<de.length;Y++)b=de[Y],Object.prototype.hasOwnProperty.call(T,b)&&(d[b]=T[b])}}function be(d){this.src=d,this.g={},this.h=0}be.prototype.add=function(d,v,b,T,H){const Y=d.toString();d=this.g[Y],d||(d=this.g[Y]=[],this.h++);const ce=te(d,v,T,H);return ce>-1?(v=d[ce],b||(v.fa=!1)):(v=new ae(v,this.src,Y,!!T,H),v.fa=b,d.push(v)),v};function Me(d,v){const b=v.type;if(b in d.g){var T=d.g[b],H=Array.prototype.indexOf.call(T,v,void 0),Y;(Y=H>=0)&&Array.prototype.splice.call(T,H,1),Y&&(fe(v),d.g[b].length==0&&(delete d.g[b],d.h--))}}function te(d,v,b,T){for(let H=0;H<d.length;++H){const Y=d[H];if(!Y.da&&Y.listener==v&&Y.capture==!!b&&Y.ha==T)return H}return-1}var De="closure_lm_"+(Math.random()*1e6|0),xe={};function $e(d,v,b,T,H){if(Array.isArray(v)){for(let Y=0;Y<v.length;Y++)$e(d,v[Y],b,T,H);return null}return b=pu(b),d&&d[le]?d.J(v,b,p(T)?!!T.capture:!1,H):jt(d,v,b,!1,T,H)}function jt(d,v,b,T,H,Y){if(!v)throw Error("Invalid event type");const ce=p(H)?!!H.capture:!!H;let Re=qi(d);if(Re||(d[De]=Re=new be(d)),b=Re.add(v,b,T,ce,Y),b.proxy)return b;if(T=Nn(),b.proxy=T,T.src=d,T.listener=b,d.addEventListener)U||(H=ce),H===void 0&&(H=!1),d.addEventListener(v.toString(),T,H);else if(d.attachEvent)d.attachEvent(gn(v.toString()),T);else if(d.addListener&&d.removeListener)d.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Nn(){function d(b){return v.call(d.src,d.listener,b)}const v=Kn;return d}function Sn(d,v,b,T,H){if(Array.isArray(v))for(var Y=0;Y<v.length;Y++)Sn(d,v[Y],b,T,H);else T=p(T)?!!T.capture:!!T,b=pu(b),d&&d[le]?(d=d.i,Y=String(v).toString(),Y in d.g&&(v=d.g[Y],b=te(v,b,T,H),b>-1&&(fe(v[b]),Array.prototype.splice.call(v,b,1),v.length==0&&(delete d.g[Y],d.h--)))):d&&(d=qi(d))&&(v=d.g[v.toString()],d=-1,v&&(d=te(v,b,T,H)),(b=d>-1?v[d]:null)&&Rt(b))}function Rt(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[le])Me(v.i,d);else{var b=d.type,T=d.proxy;v.removeEventListener?v.removeEventListener(b,T,d.capture):v.detachEvent?v.detachEvent(gn(b),T):v.addListener&&v.removeListener&&v.removeListener(T),(b=qi(v))?(Me(b,d),b.h==0&&(b.src=null,v[De]=null)):fe(d)}}}function gn(d){return d in xe?xe[d]:xe[d]="on"+d}function Kn(d,v){if(d.da)d=!0;else{v=new at(v,this);const b=d.listener,T=d.ha||d.src;d.fa&&Rt(d),d=b.call(T,v)}return d}function qi(d){return d=d[De],d instanceof be?d:null}var An="__closure_events_fn_"+(Math.random()*1e9>>>0);function pu(d){return typeof d=="function"?d:(d[An]||(d[An]=function(v){return d.handleEvent(v)}),d[An])}function Mt(){M.call(this),this.i=new be(this),this.M=this,this.G=null}E(Mt,M),Mt.prototype[le]=!0,Mt.prototype.removeEventListener=function(d,v,b,T){Sn(this,d,v,b,T)};function $t(d,v){var b,T=d.G;if(T)for(b=[];T;T=T.G)b.push(T);if(d=d.M,T=v.type||v,typeof v=="string")v=new O(v,d);else if(v instanceof O)v.target=v.target||d;else{var H=v;v=new O(T,d),ue(v,H)}H=!0;let Y,ce;if(b)for(ce=b.length-1;ce>=0;ce--)Y=v.g=b[ce],H=tr(Y,T,!0,v)&&H;if(Y=v.g=d,H=tr(Y,T,!0,v)&&H,H=tr(Y,T,!1,v)&&H,b)for(ce=0;ce<b.length;ce++)Y=v.g=b[ce],H=tr(Y,T,!1,v)&&H}Mt.prototype.N=function(){if(Mt.Z.N.call(this),this.i){var d=this.i;for(const v in d.g){const b=d.g[v];for(let T=0;T<b.length;T++)fe(b[T]);delete d.g[v],d.h--}}this.G=null},Mt.prototype.J=function(d,v,b,T){return this.i.add(String(d),v,!1,b,T)},Mt.prototype.K=function(d,v,b,T){return this.i.add(String(d),v,!0,b,T)};function tr(d,v,b,T){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();let H=!0;for(let Y=0;Y<v.length;++Y){const ce=v[Y];if(ce&&!ce.da&&ce.capture==b){const Re=ce.listener,ut=ce.ha||ce.src;ce.fa&&Me(d.i,ce),H=Re.call(ut,T)!==!1&&H}}return H&&!T.defaultPrevented}function df(d,v){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=y(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:h.setTimeout(d,v||0)}function gl(d){d.g=df(()=>{d.g=null,d.i&&(d.i=!1,gl(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class hf extends M{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:gl(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fi(d){M.call(this),this.h=d,this.g={}}E(Fi,M);var Lr=[];function on(d){ke(d.g,function(v,b){this.g.hasOwnProperty(b)&&Rt(v)},d),d.g={}}Fi.prototype.N=function(){Fi.Z.N.call(this),on(this)},Fi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yn=h.JSON.stringify,yn=h.JSON.parse,ff=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function gu(){}function yu(){}var Ss={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ur(){O.call(this,"d")}E(Ur,O);function hs(){O.call(this,"c")}E(hs,O);var Qn={},Br=null;function Ka(){return Br=Br||new Mt}Qn.Ia="serverreachability";function yl(d){O.call(this,Qn.Ia,d)}E(yl,O);function zr(d){const v=Ka();$t(v,new yl(v))}Qn.STAT_EVENT="statevent";function Ya(d,v){O.call(this,Qn.STAT_EVENT,d),this.stat=v}E(Ya,O);function wt(d){const v=Ka();$t(v,new Ya(v,d))}Qn.Ja="timingevent";function vu(d,v){O.call(this,Qn.Ja,d),this.size=v}E(vu,O);function Hr(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},v)}function qr(){this.g=!0}qr.prototype.ua=function(){this.g=!1};function vl(d,v,b,T,H,Y){d.info(function(){if(d.g)if(Y){var ce="",Re=Y.split("&");for(let We=0;We<Re.length;We++){var ut=Re[We].split("=");if(ut.length>1){const Et=ut[0];ut=ut[1];const On=Et.split("_");ce=On.length>=2&&On[1]=="type"?ce+(Et+"="+ut+"&"):ce+(Et+"=redacted&")}}}else ce=null;else ce=Y;return"XMLHTTP REQ ("+T+") [attempt "+H+"]: "+v+`
`+b+`
`+ce})}function bl(d,v,b,T,H,Y,ce){d.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+H+"]: "+v+`
`+b+`
`+Y+" "+ce})}function nr(d,v,b,T){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+As(d,b)+(T?" "+T:"")})}function mf(d,v){d.info(function(){return"TIMEOUT: "+v})}qr.prototype.info=function(){};function As(d,v){if(!d.g)return v;if(!v)return null;try{const Y=JSON.parse(v);if(Y){for(d=0;d<Y.length;d++)if(Array.isArray(Y[d])){var b=Y[d];if(!(b.length<2)){var T=b[1];if(Array.isArray(T)&&!(T.length<1)){var H=T[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ce=1;ce<T.length;ce++)T[ce]=""}}}}return Yn(Y)}catch{return v}}var xt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Zt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},sr;function $i(){}E($i,gu),$i.prototype.g=function(){return new XMLHttpRequest},sr=new $i;function Gi(d){return encodeURIComponent(String(d))}function pf(d){var v=1;d=d.split(":");const b=[];for(;v>0&&d.length;)b.push(d.shift()),v--;return d.length&&b.push(d.join(":")),b}function fs(d,v,b,T){this.j=d,this.i=v,this.l=b,this.S=T||1,this.V=new Fi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fr}function Fr(){this.i=null,this.g="",this.h=!1}var Qa={},Cs={};function js(d,v,b){d.M=1,d.A=ir(mt(v)),d.u=b,d.R=!0,$r(d,null)}function $r(d,v){d.F=Date.now(),Ki(d),d.B=mt(d.A);var b=d.B,T=d.S;Array.isArray(T)||(T=[String(T)]),_u(b.i,"t",T),d.C=0,b=d.j.L,d.h=new Fr,d.g=io(d.j,b?v:null,!d.u),d.P>0&&(d.O=new hf(y(d.Y,d,d.g),d.P)),v=d.V,b=d.g,T=d.ba;var H="readystatechange";Array.isArray(H)||(H&&(Lr[0]=H.toString()),H=Lr);for(let Y=0;Y<H.length;Y++){const ce=$e(b,H[Y],T||v.handleEvent,!1,v.h||v);if(!ce)break;v.g[ce.key]=ce}v=d.J?re(d.J):{},d.u?(d.v||(d.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,v)):(d.v="GET",d.g.ea(d.B,d.v,null,v)),zr(),vl(d.i,d.v,d.B,d.l,d.S,d.u)}fs.prototype.ba=function(d){d=d.target;const v=this.O;v&&ln(d)==3?v.j():this.Y(d)},fs.prototype.Y=function(d){try{if(d==this.g)e:{const Re=ln(this.g),ut=this.g.ya(),We=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||ra(this.g)))){this.K||Re!=4||ut==7||(ut==8||We<=0?zr(3):zr(2)),Is(this);var v=this.g.ca();this.X=v;var b=Gr(this);if(this.o=v==200,bl(this.i,this.v,this.B,this.l,this.S,Re,v),this.o){if(this.U&&!this.L){t:{if(this.g){var T,H=this.g;if((T=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var Y=T;break t}}Y=null}if(d=Y)nr(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xa(this,d);else{this.o=!1,this.m=3,wt(12),ks(this),Yi(this);break e}}if(this.R){d=!0;let Et;for(;!this.K&&this.C<b.length;)if(Et=bu(this,b),Et==Cs){Re==4&&(this.m=4,wt(14),d=!1),nr(this.i,this.l,null,"[Incomplete Response]");break}else if(Et==Qa){this.m=4,wt(15),nr(this.i,this.l,b,"[Invalid Chunk]"),d=!1;break}else nr(this.i,this.l,Et,null),Xa(this,Et);if(_t(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||b.length!=0||this.h.h||(this.m=1,wt(16),d=!1),this.o=this.o&&d,!d)nr(this.i,this.l,b,"[Invalid Chunked Response]"),ks(this),Yi(this);else if(b.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),jl(ce),ce.P=!0,wt(11))}}else nr(this.i,this.l,b,null),Xa(this,b);Re==4&&ks(this),this.o&&!this.K&&(Re==4?Rl(this.j,this):(this.o=!1,Ki(this)))}else ia(this.g),v==400&&b.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),ks(this),Yi(this)}}}catch{}finally{}};function Gr(d){if(!_t(d))return d.g.la();const v=ra(d.g);if(v==="")return"";let b="";const T=v.length,H=ln(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return ks(d),Yi(d),"";d.h.i=new h.TextDecoder}for(let Y=0;Y<T;Y++)d.h.h=!0,b+=d.h.i.decode(v[Y],{stream:!(H&&Y==T-1)});return v.length=0,d.h.g+=b,d.C=0,d.h.g}function _t(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function bu(d,v){var b=d.C,T=v.indexOf(`
`,b);return T==-1?Cs:(b=Number(v.substring(b,T)),isNaN(b)?Qa:(T+=1,T+b>v.length?Cs:(v=v.slice(T,T+b),d.C=T+b,v)))}fs.prototype.cancel=function(){this.K=!0,ks(this)};function Ki(d){d.T=Date.now()+d.H,Rs(d,d.H)}function Rs(d,v){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Hr(y(d.aa,d),v)}function Is(d){d.D&&(h.clearTimeout(d.D),d.D=null)}fs.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(mf(this.i,this.B),this.M!=2&&(zr(),wt(17)),ks(this),this.m=2,Yi(this)):Rs(this,this.T-d)};function Yi(d){d.j.I==0||d.K||Rl(d.j,d)}function ks(d){Is(d);var v=d.O;v&&typeof v.dispose=="function"&&v.dispose(),d.O=null,on(d.V),d.g&&(v=d.g,d.g=null,v.abort(),v.dispose())}function Xa(d,v){try{var b=d.j;if(b.I!=0&&(b.g==d||Wi(b.h,d))){if(!d.L&&Wi(b.h,d)&&b.I==3){try{var T=b.Ba.g.parse(v)}catch{T=null}if(Array.isArray(T)&&T.length==3){var H=T;if(H[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<d.F)ro(b),Ds(b);else break e;Cl(b),wt(18)}}else b.xa=H[1],0<b.xa-b.K&&H[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Hr(y(b.Va,b),6e3));Xn(b.h)<=1&&b.ta&&(b.ta=void 0)}else lr(b,11)}else if((d.L||b.g==d)&&ro(b),!R(v))for(H=b.Ba.g.parse(v),v=0;v<H.length;v++){let We=H[v];const Et=We[0];if(!(Et<=b.K))if(b.K=Et,We=We[1],b.I==2)if(We[0]=="c"){b.M=We[1],b.ba=We[2];const On=We[3];On!=null&&(b.ka=On,b.j.info("VER="+b.ka));const Os=We[4];Os!=null&&(b.za=Os,b.j.info("SVER="+b.za));const gs=We[5];gs!=null&&typeof gs=="number"&&gs>0&&(T=1.5*gs,b.O=T,b.j.info("backChannelRequestTimeoutMs_="+T)),T=b;const ys=d.g;if(ys){const vs=ys.g?ys.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vs){var Y=T.h;Y.g||vs.indexOf("spdy")==-1&&vs.indexOf("quic")==-1&&vs.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Wa(Y,Y.h),Y.h=null))}if(T.G){const kl=ys.g?ys.g.getResponseHeader("X-HTTP-Session-Id"):null;kl&&(T.wa=kl,et(T.J,T.G,kl))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-d.F,b.j.info("Handshake RTT: "+b.T+"ms")),T=b;var ce=d;if(T.na=Iu(T,T.L?T.ba:null,T.W),ce.L){rr(T.h,ce);var Re=ce,ut=T.O;ut&&(Re.H=ut),Re.D&&(Is(Re),Ki(Re)),T.g=ce}else Au(T);b.i.length>0&&ca(b)}else We[0]!="stop"&&We[0]!="close"||lr(b,7);else b.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?lr(b,7):oa(b):We[0]!="noop"&&b.l&&b.l.qa(We),b.A=0)}}zr(4)}catch{}}var gf=class{constructor(d,v){this.g=d,this.map=v}};function Qi(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xi(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Xn(d){return d.h?1:d.g?d.g.size:0}function Wi(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Wa(d,v){d.g?d.g.add(v):d.h=v}function rr(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}Qi.prototype.cancel=function(){if(this.i=Za(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Za(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const b of d.g.values())v=v.concat(b.G);return v}return k(d.i)}var Ja=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yf(d,v){if(d){d=d.split("&");for(let b=0;b<d.length;b++){const T=d[b].indexOf("=");let H,Y=null;T>=0?(H=d[b].substring(0,T),Y=d[b].substring(T+1)):H=d[b],v(H,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function ms(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;d instanceof ms?(this.l=d.l,Kr(this,d.j),this.o=d.o,this.g=d.g,Zi(this,d.u),this.h=d.h,Yr(this,Eu(d.i)),this.m=d.m):d&&(v=String(d).match(Ja))?(this.l=!1,Kr(this,v[1]||"",!0),this.o=Ji(v[2]||""),this.g=Ji(v[3]||"",!0),Zi(this,v[4]),this.h=Ji(v[5]||"",!0),Yr(this,v[6]||"",!0),this.m=Ji(v[7]||"")):(this.l=!1,this.i=new Wn(null,this.l))}ms.prototype.toString=function(){const d=[];var v=this.j;v&&d.push(Gt(v,xl,!0),":");var b=this.g;return(b||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Gt(v,xl,!0),"@"),d.push(Gi(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&d.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&d.push("/"),d.push(Gt(b,b.charAt(0)=="/"?Qr:_l,!0))),(b=this.i.toString())&&d.push("?",b),(b=this.m)&&d.push("#",Gt(b,xu)),d.join("")},ms.prototype.resolve=function(d){const v=mt(this);let b=!!d.j;b?Kr(v,d.j):b=!!d.o,b?v.o=d.o:b=!!d.g,b?v.g=d.g:b=d.u!=null;var T=d.h;if(b)Zi(v,d.u);else if(b=!!d.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var H=v.h.lastIndexOf("/");H!=-1&&(T=v.h.slice(0,H+1)+T)}if(H=T,H==".."||H==".")T="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){T=H.lastIndexOf("/",0)==0,H=H.split("/");const Y=[];for(let ce=0;ce<H.length;){const Re=H[ce++];Re=="."?T&&ce==H.length&&Y.push(""):Re==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),T&&ce==H.length&&Y.push("")):(Y.push(Re),T=!0)}T=Y.join("/")}else T=H}return b?v.h=T:b=d.i.toString()!=="",b?Yr(v,Eu(d.i)):b=!!d.m,b&&(v.m=d.m),v};function mt(d){return new ms(d)}function Kr(d,v,b){d.j=b?Ji(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Zi(d,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);d.u=v}else d.u=null}function Yr(d,v,b){v instanceof Wn?(d.i=v,Nl(d.i,d.l)):(b||(v=Gt(v,wu)),d.i=new Wn(v,d.l))}function et(d,v,b){d.i.set(v,b)}function ir(d){return et(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Ji(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Gt(d,v,b){return typeof d=="string"?(d=encodeURI(d).replace(v,wl),b&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function wl(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var xl=/[#\/\?@]/g,_l=/[#\?:]/g,Qr=/[#\?]/g,wu=/[#\?@]/g,xu=/#/g;function Wn(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function ar(d){d.g||(d.g=new Map,d.h=0,d.i&&yf(d.i,function(v,b){d.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}n=Wn.prototype,n.add=function(d,v){ar(this),this.i=null,d=ps(this,d);let b=this.g.get(d);return b||this.g.set(d,b=[]),b.push(v),this.h+=1,this};function El(d,v){ar(d),v=ps(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function Tl(d,v){return ar(d),v=ps(d,v),d.g.has(v)}n.forEach=function(d,v){ar(this),this.g.forEach(function(b,T){b.forEach(function(H){d.call(v,H,T,this)},this)},this)};function eo(d,v){ar(d);let b=[];if(typeof v=="string")Tl(d,v)&&(b=b.concat(d.g.get(ps(d,v))));else for(d=Array.from(d.g.values()),v=0;v<d.length;v++)b=b.concat(d[v]);return b}n.set=function(d,v){return ar(this),this.i=null,d=ps(this,d),Tl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=eo(this,d),d.length>0?String(d[0]):v):v};function _u(d,v,b){El(d,v),b.length>0&&(d.i=null,d.g.set(ps(d,v),k(b)),d.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(let T=0;T<v.length;T++){var b=v[T];const H=Gi(b);b=eo(this,b);for(let Y=0;Y<b.length;Y++){let ce=H;b[Y]!==""&&(ce+="="+Gi(b[Y])),d.push(ce)}}return this.i=d.join("&")};function Eu(d){const v=new Wn;return v.i=d.i,d.g&&(v.g=new Map(d.g),v.h=d.h),v}function ps(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Nl(d,v){v&&!d.j&&(ar(d),d.i=null,d.g.forEach(function(b,T){const H=T.toLowerCase();T!=H&&(El(this,T),_u(this,H,b))},d)),d.j=v}function Sl(d,v){const b=new qr;if(h.Image){const T=new Image;T.onload=x(vn,b,"TestLoadImage: loaded",!0,v,T),T.onerror=x(vn,b,"TestLoadImage: error",!1,v,T),T.onabort=x(vn,b,"TestLoadImage: abort",!1,v,T),T.ontimeout=x(vn,b,"TestLoadImage: timeout",!1,v,T),h.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=d}else v(!1)}function Xr(d,v){const b=new qr,T=new AbortController,H=setTimeout(()=>{T.abort(),vn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:T.signal}).then(Y=>{clearTimeout(H),Y.ok?vn(b,"TestPingServer: ok",!0,v):vn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),vn(b,"TestPingServer: error",!1,v)})}function vn(d,v,b,T,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),T(b)}catch{}}function Tu(){this.g=new ff}function ea(d){this.i=d.Sb||null,this.h=d.ab||!1}E(ea,gu),ea.prototype.g=function(){return new ta(this.i,this.h)};function ta(d,v){Mt.call(this),this.H=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(ta,Mt),n=ta.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=v,this.readyState=1,or(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(v.body=d),(this.H||h).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,bn(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,or(this)),this.g&&(this.readyState=3,or(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Wr(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Wr(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?bn(this):or(this),this.readyState==3&&Wr(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,bn(this))},n.Na=function(d){this.g&&(this.response=d,bn(this))},n.ga=function(){this.g&&bn(this)};function bn(d){d.readyState=4,d.l=null,d.j=null,d.B=null,or(d)}n.setRequestHeader=function(d,v){this.A.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,d.push(b[0]+": "+b[1]),b=v.next();return d.join(`\r
`)};function or(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Zr(d){let v="";return ke(d,function(b,T){v+=T,v+=":",v+=b,v+=`\r
`}),v}function Zn(d,v,b){e:{for(T in b){var T=!1;break e}T=!0}T||(b=Zr(b),typeof d=="string"?b!=null&&Gi(b):et(d,v,b))}function ot(d){Mt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(ot,Mt);var to=/^https?$/i,Nu=["POST","PUT"];n=ot.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,v,b,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():sr.g(),this.g.onreadystatechange=N(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(Y){na(this,Y);return}if(d=b||"",b=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var H in T)b.set(H,T[H]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const Y of T.keys())b.set(Y,T.get(Y));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(b.keys()).find(Y=>Y.toLowerCase()=="content-type"),H=h.FormData&&d instanceof h.FormData,!(Array.prototype.indexOf.call(Nu,v,void 0)>=0)||T||H||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ce]of b)this.g.setRequestHeader(Y,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(Y){na(this,Y)}};function na(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.o=5,sa(d),Vt(d)}function sa(d){d.A||(d.A=!0,$t(d,"complete"),$t(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,$t(this,"complete"),$t(this,"abort"),Vt(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vt(this,!0)),ot.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Al(this):this.Xa())},n.Xa=function(){Al(this)};function Al(d){if(d.h&&typeof u<"u"){if(d.v&&ln(d)==4)setTimeout(d.Ca.bind(d),0);else if($t(d,"readystatechange"),ln(d)==4){d.h=!1;try{const Y=d.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var T;if(T=Y===0){let ce=String(d.D).match(Ja)[1]||null;!ce&&h.self&&h.self.location&&(ce=h.self.location.protocol.slice(0,-1)),T=!to.test(ce?ce.toLowerCase():"")}b=T}if(b)$t(d,"complete"),$t(d,"success");else{d.o=6;try{var H=ln(d)>2?d.g.statusText:""}catch{H=""}d.l=H+" ["+d.ca()+"]",sa(d)}}finally{Vt(d)}}}}function Vt(d,v){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const b=d.g;d.g=null,v||$t(d,"ready");try{b.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ln(d){return d.g?d.g.readyState:0}n.ca=function(){try{return ln(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),yn(v)}};function ra(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ia(d){const v={};d=(d.g&&ln(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<d.length;T++){if(R(d[T]))continue;var b=pf(d[T]);const H=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Y=v[H]||[];v[H]=Y,Y.push(b)}D(v,function(T){return T.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function aa(d,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[d]||v}function no(d){this.za=0,this.i=[],this.j=new qr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=aa("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=aa("baseRetryDelayMs",5e3,d),this.Za=aa("retryDelaySeedMs",1e4,d),this.Ta=aa("forwardChannelMaxRetries",2,d),this.va=aa("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Qi(d&&d.concurrentRequestLimit),this.Ba=new Tu,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=no.prototype,n.ka=8,n.I=1,n.connect=function(d,v,b,T){wt(0),this.W=d,this.H=v||{},b&&T!==void 0&&(this.H.OSID=b,this.H.OAID=T),this.F=this.X,this.J=Iu(this,null,this.W),ca(this)};function oa(d){if(la(d),d.I==3){var v=d.V++,b=mt(d.J);if(et(b,"SID",d.M),et(b,"RID",v),et(b,"TYPE","terminate"),ua(d,b),v=new fs(d,d.j,v),v.M=2,v.A=ir(mt(b)),b=!1,h.navigator&&h.navigator.sendBeacon)try{b=h.navigator.sendBeacon(v.A.toString(),"")}catch{}!b&&h.Image&&(new Image().src=v.A,b=!0),b||(v.g=io(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ki(v)}Ru(d)}function Ds(d){d.g&&(jl(d),d.g.cancel(),d.g=null)}function la(d){Ds(d),d.v&&(h.clearTimeout(d.v),d.v=null),ro(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&h.clearTimeout(d.m),d.m=null)}function ca(d){if(!Xi(d.h)&&!d.m){d.m=!0;var v=d.Ea;oe||A(),ye||(oe(),ye=!0),S.add(v,d),d.D=0}}function vf(d,v){return Xn(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=v.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Hr(y(d.Ea,d,v),ju(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const H=new fs(this,this.j,d);let Y=this.o;if(this.U&&(Y?(Y=re(Y),ue(Y,this.U)):Y=this.U),this.u!==null||this.R||(H.J=Y,Y=null),this.S)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var T=this.i[b];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(v+=T,v>4096){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=so(this,H,v),b=mt(this.J),et(b,"RID",d),et(b,"CVER",22),this.G&&et(b,"X-HTTP-Session-Id",this.G),ua(this,b),Y&&(this.R?v="headers="+Gi(Zr(Y))+"&"+v:this.u&&Zn(b,this.u,Y)),Wa(this.h,H),this.Ra&&et(b,"TYPE","init"),this.S?(et(b,"$req",v),et(b,"SID","null"),H.U=!0,js(H,b,null)):js(H,b,v),this.I=2}}else this.I==3&&(d?Su(this,d):this.i.length==0||Xi(this.h)||Su(this))};function Su(d,v){var b;v?b=v.l:b=d.V++;const T=mt(d.J);et(T,"SID",d.M),et(T,"RID",b),et(T,"AID",d.K),ua(d,T),d.u&&d.o&&Zn(T,d.u,d.o),b=new fs(d,d.j,b,d.D+1),d.u===null&&(b.J=d.o),v&&(d.i=v.G.concat(d.i)),v=so(d,b,1e3),b.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Wa(d.h,b),js(b,T,v)}function ua(d,v){d.H&&ke(d.H,function(b,T){et(v,T,b)}),d.l&&ke({},function(b,T){et(v,T,b)})}function so(d,v,b){b=Math.min(d.i.length,b);const T=d.l?y(d.l.Ka,d.l,d):null;e:{var H=d.i;let Re=-1;for(;;){const ut=["count="+b];Re==-1?b>0?(Re=H[0].g,ut.push("ofs="+Re)):Re=0:ut.push("ofs="+Re);let We=!0;for(let Et=0;Et<b;Et++){var Y=H[Et].g;const On=H[Et].map;if(Y-=Re,Y<0)Re=Math.max(0,H[Et].g-100),We=!1;else try{Y="req"+Y+"_"||"";try{var ce=On instanceof Map?On:Object.entries(On);for(const[Os,gs]of ce){let ys=gs;p(gs)&&(ys=Yn(gs)),ut.push(Y+Os+"="+encodeURIComponent(ys))}}catch(Os){throw ut.push(Y+"type="+encodeURIComponent("_badmap")),Os}}catch{T&&T(On)}}if(We){ce=ut.join("&");break e}}ce=void 0}return d=d.i.splice(0,b),v.G=d,ce}function Au(d){if(!d.g&&!d.v){d.Y=1;var v=d.Da;oe||A(),ye||(oe(),ye=!0),S.add(v,d),d.A=0}}function Cl(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Hr(y(d.Da,d),ju(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,Cu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Hr(y(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Ds(this),Cu(this))};function jl(d){d.B!=null&&(h.clearTimeout(d.B),d.B=null)}function Cu(d){d.g=new fs(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var v=mt(d.na);et(v,"RID","rpc"),et(v,"SID",d.M),et(v,"AID",d.K),et(v,"CI",d.F?"0":"1"),!d.F&&d.ia&&et(v,"TO",d.ia),et(v,"TYPE","xmlhttp"),ua(d,v),d.u&&d.o&&Zn(v,d.u,d.o),d.O&&(d.g.H=d.O);var b=d.g;d=d.ba,b.M=1,b.A=ir(mt(v)),b.u=null,b.R=!0,$r(b,d)}n.Va=function(){this.C!=null&&(this.C=null,Ds(this),Cl(this),wt(19))};function ro(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function Rl(d,v){var b=null;if(d.g==v){ro(d),jl(d),d.g=null;var T=2}else if(Wi(d.h,v))b=v.G,rr(d.h,v),T=1;else return;if(d.I!=0){if(v.o)if(T==1){b=v.u?v.u.length:0,v=Date.now()-v.F;var H=d.D;T=Ka(),$t(T,new vu(T,b)),ca(d)}else Au(d);else if(H=v.m,H==3||H==0&&v.X>0||!(T==1&&vf(d,v)||T==2&&Cl(d)))switch(b&&b.length>0&&(v=d.h,v.i=v.i.concat(b)),H){case 1:lr(d,5);break;case 4:lr(d,10);break;case 3:lr(d,6);break;default:lr(d,2)}}}function ju(d,v){let b=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(b*=2),b*v}function lr(d,v){if(d.j.info("Error code "+v),v==2){var b=y(d.bb,d),T=d.Ua;const H=!T;T=new ms(T||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Kr(T,"https"),ir(T),H?Sl(T.toString(),b):Xr(T.toString(),b)}else wt(2);d.I=0,d.l&&d.l.pa(v),Ru(d),la(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Ru(d){if(d.I=0,d.ja=[],d.l){const v=Za(d.h);(v.length!=0||d.i.length!=0)&&(B(d.ja,v),B(d.ja,d.i),d.h.i.length=0,k(d.i),d.i.length=0),d.l.oa()}}function Iu(d,v,b){var T=b instanceof ms?mt(b):new ms(b);if(T.g!="")v&&(T.g=v+"."+T.g),Zi(T,T.u);else{var H=h.location;T=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;const Y=new ms(null);T&&Kr(Y,T),v&&(Y.g=v),H&&Zi(Y,H),b&&(Y.h=b),T=Y}return b=d.G,v=d.wa,b&&v&&et(T,b,v),et(T,"VER",d.ka),ua(d,T),T}function io(d,v,b){if(v&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Aa&&!d.ma?new ot(new ea({ab:b})):new ot(d.ma),v.Fa(d.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ku(){}n=ku.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ao(){}ao.prototype.g=function(d,v){return new wn(d,v)};function wn(d,v){Mt.call(this),this.g=new no(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(d?d["X-WebChannel-Client-Profile"]=v.sa:d={"X-WebChannel-Client-Profile":v.sa}),this.g.U=d,(d=v&&v.Qb)&&!R(d)&&(this.g.u=d),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!R(v)&&(this.g.G=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Jr(this)}E(wn,Mt),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){oa(this.g)},wn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var b={};b.__data__=d,d=b}else this.v&&(b={},b.__data__=Yn(d),d=b);v.i.push(new gf(v.Ya++,d)),v.I==3&&ca(v)},wn.prototype.N=function(){this.g.l=null,delete this.j,oa(this.g),delete this.g,wn.Z.N.call(this)};function Il(d){Ur.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const b in v){d=b;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}E(Il,Ur);function Du(){hs.call(this),this.status=1}E(Du,hs);function Jr(d){this.g=d}E(Jr,ku),Jr.prototype.ra=function(){$t(this.g,"a")},Jr.prototype.qa=function(d){$t(this.g,new Il(d))},Jr.prototype.pa=function(d){$t(this.g,new Du)},Jr.prototype.oa=function(){$t(this.g,"b")},ao.prototype.createWebChannel=ao.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,m2=function(){return new ao},f2=function(){return Ka()},h2=Qn,qp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xt.NO_ERROR=0,xt.TIMEOUT=8,xt.HTTP_ERROR=6,Qd=xt,Zt.COMPLETE="complete",d2=Zt,yu.EventType=Ss,Ss.OPEN="a",Ss.CLOSE="b",Ss.ERROR="c",Ss.MESSAGE="d",Mt.prototype.listen=Mt.prototype.J,Nc=yu,ot.prototype.listenOnce=ot.prototype.K,ot.prototype.getLastError=ot.prototype.Ha,ot.prototype.getLastErrorCode=ot.prototype.ya,ot.prototype.getStatus=ot.prototype.ca,ot.prototype.getResponseJson=ot.prototype.La,ot.prototype.getResponseText=ot.prototype.la,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Fa,u2=ot}).apply(typeof Md<"u"?Md:typeof self<"u"?self:typeof window<"u"?window:{});const Mw="@firebase/firestore",Vw="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ll="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=new vg("@firebase/firestore");function Mo(){return Va.logLevel}function me(n,...e){if(Va.logLevel<=Be.DEBUG){const t=e.map(Ig);Va.debug(`Firestore (${ll}): ${n}`,...t)}}function kr(n,...e){if(Va.logLevel<=Be.ERROR){const t=e.map(Ig);Va.error(`Firestore (${ll}): ${n}`,...t)}}function Yo(n,...e){if(Va.logLevel<=Be.WARN){const t=e.map(Ig);Va.warn(`Firestore (${ll}): ${n}`,...t)}}function Ig(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,p2(n,i,t)}function p2(n,e,t){let i=`FIRESTORE (${ll}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw kr(i),new Error(i)}function Xe(n,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,n||p2(e,o,i)}function Ie(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Pr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(hn.UNAUTHENTICATED)))}shutdown(){}}class e4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class t4{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xe(this.o===void 0,42304);let i=this.i;const o=g=>this.i!==i?(i=this.i,t(g)):Promise.resolve();let u=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ar,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ar)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Xe(typeof i.accessToken=="string",31837,{l:i}),new g2(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class n4{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class s4{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new n4(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Lw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class r4{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Xe(this.o===void 0,3512);const i=u=>{u.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,me("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>i(u)))};const o=u=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Lw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Xe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Lw(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=i4(40);for(let u=0;u<o.length;++u)i.length<20&&o[u]<t&&(i+=e.charAt(o[u]%62))}return i}}function ze(n,e){return n<e?-1:n>e?1:0}function Fp(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const o=n.charAt(i),u=e.charAt(i);if(o!==u)return Np(o)===Np(u)?ze(o,u):Np(o)?1:-1}return ze(n.length,e.length)}const a4=55296,o4=57343;function Np(n){const e=n.charCodeAt(0);return e>=a4&&e<=o4}function Qo(n,e,t){return n.length===e.length&&n.every(((i,o)=>t(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="__name__";class Bs{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ae(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ae(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Bs.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Bs?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const u=Bs.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return ze(e.length,t.length)}static compareSegments(e,t){const i=Bs.isNumericId(e),o=Bs.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?Bs.extractNumericId(e).compare(Bs.extractNumericId(t)):Fp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ri.fromString(e.substring(4,e.length-2))}}class dt extends Bs{construct(e,t,i){return new dt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ve(ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new dt(t)}static emptyPath(){return new dt([])}}const l4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Bs{construct(e,t,i){return new sn(e,t,i)}static isValidIdentifier(e){return l4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Uw}static keyField(){return new sn([Uw])}static fromServerFormat(e){const t=[];let i="",o=0;const u=()=>{if(i.length===0)throw new ve(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ve(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ve(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(i+=p,o++):(u(),o++)}if(u(),h)throw new ve(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(t)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(dt.fromString(e))}static fromName(e){return new _e(dt.fromString(e).popFirst(5))}static empty(){return new _e(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return dt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new dt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(n,e,t){if(!t)throw new ve(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function c4(n,e,t,i){if(e===!0&&i===!0)throw new ve(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Bw(n){if(!_e.isDocumentKey(n))throw new ve(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function zw(n){if(_e.isDocumentKey(n))throw new ve(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function v2(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Dg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae(12329,{type:typeof n})}function Ns(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ve(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Dg(n);throw new ve(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(n,e){const t={typeString:n};return e&&(t.value=e),t}function nu(n,e){if(!v2(n))throw new ve(ie.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const o=e[i].typeString,u="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const h=n[i];if(o&&typeof h!==o){t=`JSON field '${i}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){t=`Expected '${i}' field to equal '${u.value}'`;break}}if(t)throw new ve(ie.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=-62135596800,qw=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*qw);return new ht(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Hw)throw new ve(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qw}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nu(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Hw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:Ot("string",ht._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new ht(0,0))}static max(){return new je(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=-1;function u4(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=je.fromTimestamp(i===1e9?new ht(t+1,0):new ht(t,i));return new Oi(o,_e.empty(),e)}function d4(n){return new Oi(n.readTime,n.key,zc)}class Oi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Oi(je.min(),_e.empty(),zc)}static max(){return new Oi(je.max(),_e.empty(),zc)}}function h4(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:ze(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class m4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==f4)throw n;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se(((i,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):se.reject(t)}static resolve(e){return new se(((t,i)=>{t(e)}))}static reject(e){return new se(((t,i)=>{i(e)}))}static waitFor(e){return new se(((t,i)=>{let o=0,u=0,h=!1;e.forEach((p=>{++o,p.next((()=>{++u,h&&u===o&&t()}),(g=>i(g)))})),h=!0,u===o&&t()}))}static or(e){let t=se.resolve(!1);for(const i of e)t=t.next((o=>o?se.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,u)=>{i.push(t.call(this,o,u))})),this.waitFor(i)}static mapArray(e,t){return new se(((i,o)=>{const u=e.length,h=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;t(e[y]).next((x=>{h[y]=x,++p,p===u&&i(h)}),(x=>o(x)))}}))}static doWhile(e,t){return new se(((i,o)=>{const u=()=>{e()===!0?t().next((()=>{u()}),o):i()};u()}))}}function p4(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ul(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}zh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og=-1;function Hh(n){return n==null}function dh(n){return n===0&&1/n==-1/0}function g4(n){return typeof n=="number"&&Number.isInteger(n)&&!dh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2="";function y4(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Fw(e)),e=v4(n.get(t),e);return Fw(e)}function v4(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const u=n.charAt(o);switch(u){case"\0":t+="";break;case b2:t+="";break;default:t+=u}}return t}function Fw(n){return n+b2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function zi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function w2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,t){this.comparator=e,this.root=t||nn.EMPTY}insert(e,t){return new yt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vd(this.root,e,this.comparator,!0)}}class Vd{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?i(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,t,i,o,u){this.key=e,this.value=t,this.color=i??nn.RED,this.left=o??nn.EMPTY,this.right=u??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,u){return new nn(e??this.key,t??this.value,i??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const u=i(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,i),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return nn.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,t,i,o,u){return this}insert(e,t,i){return new nn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Gw(this.data.getIterator())}getIteratorFrom(e){return new Gw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new qt(this.comparator);return t.data=e,t}}class Gw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new qn([])}unionWith(e){let t=new qt(sn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new qn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Qo(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new x2("Invalid base64 string: "+u):u}})(e);return new an(t)}static fromUint8Array(e){const t=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new an(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const b4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pi(n){if(Xe(!!n,39018),typeof n=="string"){let e=0;const t=b4.exec(n);if(Xe(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:At(n.seconds),nanos:At(n.nanos)}}function At(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Mi(n){return typeof n=="string"?an.fromBase64String(n):an.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="server_timestamp",E2="__type__",T2="__previous_value__",N2="__local_write_time__";function Pg(n){return(n?.mapValue?.fields||{})[E2]?.stringValue===_2}function qh(n){const e=n.mapValue.fields[T2];return Pg(e)?qh(e):e}function Hc(n){const e=Pi(n.mapValue.fields[N2].timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e,t,i,o,u,h,p,g,y,x){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=x}}const hh="(default)";class qc{constructor(e,t){this.projectId=e,this.database=t||hh}static empty(){return new qc("","")}get isDefaultDatabase(){return this.database===hh}isEqual(e){return e instanceof qc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="__type__",x4="__max__",Ld={mapValue:{}},A2="__vector__",fh="value";function Vi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Pg(n)?4:E4(n)?9007199254740991:_4(n)?10:11:Ae(28295,{value:n})}function Ws(n,e){if(n===e)return!0;const t=Vi(n);if(t!==Vi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Hc(n).isEqual(Hc(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Pi(o.timestampValue),p=Pi(u.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,u){return Mi(o.bytesValue).isEqual(Mi(u.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,u){return At(o.geoPointValue.latitude)===At(u.geoPointValue.latitude)&&At(o.geoPointValue.longitude)===At(u.geoPointValue.longitude)})(n,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return At(o.integerValue)===At(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=At(o.doubleValue),p=At(u.doubleValue);return h===p?dh(h)===dh(p):isNaN(h)&&isNaN(p)}return!1})(n,e);case 9:return Qo(n.arrayValue.values||[],e.arrayValue.values||[],Ws);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},p=u.mapValue.fields||{};if($w(h)!==$w(p))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(p[g]===void 0||!Ws(h[g],p[g])))return!1;return!0})(n,e);default:return Ae(52216,{left:n})}}function Fc(n,e){return(n.values||[]).find((t=>Ws(t,e)))!==void 0}function Xo(n,e){if(n===e)return 0;const t=Vi(n),i=Vi(e);if(t!==i)return ze(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(n.booleanValue,e.booleanValue);case 2:return(function(u,h){const p=At(u.integerValue||u.doubleValue),g=At(h.integerValue||h.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(n,e);case 3:return Kw(n.timestampValue,e.timestampValue);case 4:return Kw(Hc(n),Hc(e));case 5:return Fp(n.stringValue,e.stringValue);case 6:return(function(u,h){const p=Mi(u),g=Mi(h);return p.compareTo(g)})(n.bytesValue,e.bytesValue);case 7:return(function(u,h){const p=u.split("/"),g=h.split("/");for(let y=0;y<p.length&&y<g.length;y++){const x=ze(p[y],g[y]);if(x!==0)return x}return ze(p.length,g.length)})(n.referenceValue,e.referenceValue);case 8:return(function(u,h){const p=ze(At(u.latitude),At(h.latitude));return p!==0?p:ze(At(u.longitude),At(h.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Yw(n.arrayValue,e.arrayValue);case 10:return(function(u,h){const p=u.fields||{},g=h.fields||{},y=p[fh]?.arrayValue,x=g[fh]?.arrayValue,E=ze(y?.values?.length||0,x?.values?.length||0);return E!==0?E:Yw(y,x)})(n.mapValue,e.mapValue);case 11:return(function(u,h){if(u===Ld.mapValue&&h===Ld.mapValue)return 0;if(u===Ld.mapValue)return 1;if(h===Ld.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=h.fields||{},x=Object.keys(y);g.sort(),x.sort();for(let E=0;E<g.length&&E<x.length;++E){const N=Fp(g[E],x[E]);if(N!==0)return N;const k=Xo(p[g[E]],y[x[E]]);if(k!==0)return k}return ze(g.length,x.length)})(n.mapValue,e.mapValue);default:throw Ae(23264,{he:t})}}function Kw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ze(n,e);const t=Pi(n),i=Pi(e),o=ze(t.seconds,i.seconds);return o!==0?o:ze(t.nanos,i.nanos)}function Yw(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const u=Xo(t[o],i[o]);if(u)return u}return ze(t.length,i.length)}function Wo(n){return $p(n)}function $p(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Pi(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Mi(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return _e.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",o=!0;for(const u of t.values||[])o?o=!1:i+=",",i+=$p(u);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of i)u?u=!1:o+=",",o+=`${h}:${$p(t.fields[h])}`;return o+"}"})(n.mapValue):Ae(61005,{value:n})}function Xd(n){switch(Vi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qh(n);return e?16+Xd(e):16;case 5:return 2*n.stringValue.length;case 6:return Mi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,u)=>o+Xd(u)),0)})(n.arrayValue);case 10:case 11:return(function(i){let o=0;return zi(i.fields,((u,h)=>{o+=u.length+Xd(h)})),o})(n.mapValue);default:throw Ae(13486,{value:n})}}function Gp(n){return!!n&&"integerValue"in n}function Mg(n){return!!n&&"arrayValue"in n}function Qw(n){return!!n&&"nullValue"in n}function Xw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Wd(n){return!!n&&"mapValue"in n}function _4(n){return(n?.mapValue?.fields||{})[S2]?.stringValue===A2}function Ic(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return zi(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Ic(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ic(n.arrayValue.values[t]);return e}return{...n}}function E4(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===x4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Wd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ic(t)}setAll(e){let t=sn.emptyPath(),i={},o=[];e.forEach(((h,p)=>{if(!t.isImmediateParentOf(p)){const g=this.getFieldsMap(t);this.applyChanges(g,i,o),i={},o=[],t=p.popLast()}h?i[p.lastSegment()]=Ic(h):o.push(p.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,i,o)}delete(e){const t=this.field(e.popLast());Wd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ws(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Wd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){zi(t,((o,u)=>e[o]=u));for(const o of i)delete e[o]}clone(){return new kn(Ic(this.value))}}function C2(n){const e=[];return zi(n.fields,((t,i)=>{const o=new sn([t]);if(Wd(i)){const u=C2(i.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,t,i,o,u,h,p){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=u,this.data=h,this.documentState=p}static newInvalidDocument(e){return new fn(e,0,je.min(),je.min(),je.min(),kn.empty(),0)}static newFoundDocument(e,t,i,o){return new fn(e,1,t,je.min(),i,o,0)}static newNoDocument(e,t){return new fn(e,2,t,je.min(),je.min(),kn.empty(),0)}static newUnknownDocument(e,t){return new fn(e,3,t,je.min(),je.min(),kn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,t){this.position=e,this.inclusive=t}}function Ww(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const u=e[o],h=n.position[o];if(u.field.isKeyField()?i=_e.comparator(_e.fromName(h.referenceValue),t.key):i=Xo(h,t.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function Zw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ws(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,t="asc"){this.field=e,this.dir=t}}function T4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{}class Ht extends j2{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new S4(e,t,i):t==="array-contains"?new j4(e,i):t==="in"?new R4(e,i):t==="not-in"?new I4(e,i):t==="array-contains-any"?new k4(e,i):new Ht(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new A4(e,i):new C4(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Xo(t,this.value)):t!==null&&Vi(this.value)===Vi(t)&&this.matchesComparison(Xo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zs extends j2{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Zs(e,t)}matches(e){return R2(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function R2(n){return n.op==="and"}function I2(n){return N4(n)&&R2(n)}function N4(n){for(const e of n.filters)if(e instanceof Zs)return!1;return!0}function Kp(n){if(n instanceof Ht)return n.field.canonicalString()+n.op.toString()+Wo(n.value);if(I2(n))return n.filters.map((e=>Kp(e))).join(",");{const e=n.filters.map((t=>Kp(t))).join(",");return`${n.op}(${e})`}}function k2(n,e){return n instanceof Ht?(function(i,o){return o instanceof Ht&&i.op===o.op&&i.field.isEqual(o.field)&&Ws(i.value,o.value)})(n,e):n instanceof Zs?(function(i,o){return o instanceof Zs&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((u,h,p)=>u&&k2(h,o.filters[p])),!0):!1})(n,e):void Ae(19439)}function D2(n){return n instanceof Ht?(function(t){return`${t.field.canonicalString()} ${t.op} ${Wo(t.value)}`})(n):n instanceof Zs?(function(t){return t.op.toString()+" {"+t.getFilters().map(D2).join(" ,")+"}"})(n):"Filter"}class S4 extends Ht{constructor(e,t,i){super(e,t,i),this.key=_e.fromName(i.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class A4 extends Ht{constructor(e,t){super(e,"in",t),this.keys=O2("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class C4 extends Ht{constructor(e,t){super(e,"not-in",t),this.keys=O2("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function O2(n,e){return(e.arrayValue?.values||[]).map((t=>_e.fromName(t.referenceValue)))}class j4 extends Ht{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Mg(t)&&Fc(t.arrayValue,this.value)}}class R4 extends Ht{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Fc(this.value.arrayValue,t)}}class I4 extends Ht{constructor(e,t){super(e,"not-in",t)}matches(e){if(Fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Fc(this.value.arrayValue,t)}}class k4 extends Ht{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Mg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Fc(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,t=null,i=[],o=[],u=null,h=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=u,this.startAt=h,this.endAt=p,this.Te=null}}function Jw(n,e=null,t=[],i=[],o=null,u=null,h=null){return new D4(n,e,t,i,o,u,h)}function Vg(n){const e=Ie(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>Kp(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(u){return u.field.canonicalString()+u.dir})(i))).join(","),Hh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>Wo(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>Wo(i))).join(",")),e.Te=t}return e.Te}function Lg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!T4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!k2(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Zw(n.startAt,e.startAt)&&Zw(n.endAt,e.endAt)}function Yp(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,t=null,i=[],o=[],u=null,h="F",p=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=u,this.limitType=h,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function O4(n,e,t,i,o,u,h,p){return new Fh(n,e,t,i,o,u,h,p)}function Ug(n){return new Fh(n)}function ex(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function P4(n){return n.collectionGroup!==null}function kc(n){const e=Ie(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new qt(sn.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new ph(u,i))})),t.has(sn.keyField().canonicalString())||e.Ie.push(new ph(sn.keyField(),i))}return e.Ie}function $s(n){const e=Ie(n);return e.Ee||(e.Ee=M4(e,kc(n))),e.Ee}function M4(n,e){if(n.limitType==="F")return Jw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new ph(o.field,u)}));const t=n.endAt?new mh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new mh(n.startAt.position,n.startAt.inclusive):null;return Jw(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Qp(n,e,t){return new Fh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function $h(n,e){return Lg($s(n),$s(e))&&n.limitType===e.limitType}function P2(n){return`${Vg($s(n))}|lt:${n.limitType}`}function Vo(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>D2(o))).join(", ")}]`),Hh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>Wo(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>Wo(o))).join(",")),`Target(${i})`})($s(n))}; limitType=${n.limitType})`}function Gh(n,e){return e.isFoundDocument()&&(function(i,o){const u=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):_e.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)})(n,e)&&(function(i,o){for(const u of kc(i))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(n,e)&&(function(i,o){for(const u of i.filters)if(!u.matches(o))return!1;return!0})(n,e)&&(function(i,o){return!(i.startAt&&!(function(h,p,g){const y=Ww(h,p,g);return h.inclusive?y<=0:y<0})(i.startAt,kc(i),o)||i.endAt&&!(function(h,p,g){const y=Ww(h,p,g);return h.inclusive?y>=0:y>0})(i.endAt,kc(i),o))})(n,e)}function V4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function M2(n){return(e,t)=>{let i=!1;for(const o of kc(n)){const u=L4(o,e,t);if(u!==0)return u;i=i||o.field.isKeyField()}return 0}}function L4(n,e,t){const i=n.field.isKeyField()?_e.comparator(e.key,t.key):(function(u,h,p){const g=h.data.field(u),y=p.data.field(u);return g!==null&&y!==null?Xo(g,y):Ae(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ae(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,u]of i)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){zi(this.inner,((t,i)=>{for(const[o,u]of i)e(o,u)}))}isEmpty(){return w2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=new yt(_e.comparator);function Dr(){return U4}const V2=new yt(_e.comparator);function Sc(...n){let e=V2;for(const t of n)e=e.insert(t.key,t);return e}function L2(n){let e=V2;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function ja(){return Dc()}function U2(){return Dc()}function Dc(){return new Ha((n=>n.toString()),((n,e)=>n.isEqual(e)))}const B4=new yt(_e.comparator),z4=new qt(_e.comparator);function He(...n){let e=z4;for(const t of n)e=e.add(t);return e}const H4=new qt(ze);function q4(){return H4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dh(e)?"-0":e}}function B2(n){return{integerValue:""+n}}function F4(n,e){return g4(e)?B2(e):Bg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(){this._=void 0}}function $4(n,e,t){return n instanceof $c?(function(o,u){const h={fields:{[E2]:{stringValue:_2},[N2]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Pg(u)&&(u=qh(u)),u&&(h.fields[T2]=u),{mapValue:h}})(t,e):n instanceof Zo?H2(n,e):n instanceof Gc?q2(n,e):(function(o,u){const h=z2(o,u),p=tx(h)+tx(o.Ae);return Gp(h)&&Gp(o.Ae)?B2(p):Bg(o.serializer,p)})(n,e)}function G4(n,e,t){return n instanceof Zo?H2(n,e):n instanceof Gc?q2(n,e):t}function z2(n,e){return n instanceof gh?(function(i){return Gp(i)||(function(u){return!!u&&"doubleValue"in u})(i)})(e)?e:{integerValue:0}:null}class $c extends Kh{}class Zo extends Kh{constructor(e){super(),this.elements=e}}function H2(n,e){const t=F2(e);for(const i of n.elements)t.some((o=>Ws(o,i)))||t.push(i);return{arrayValue:{values:t}}}class Gc extends Kh{constructor(e){super(),this.elements=e}}function q2(n,e){let t=F2(e);for(const i of n.elements)t=t.filter((o=>!Ws(o,i)));return{arrayValue:{values:t}}}class gh extends Kh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function tx(n){return At(n.integerValue||n.doubleValue)}function F2(n){return Mg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,t){this.field=e,this.transform=t}}function K4(n,e){return n.field.isEqual(e.field)&&(function(i,o){return i instanceof Zo&&o instanceof Zo||i instanceof Gc&&o instanceof Gc?Qo(i.elements,o.elements,Ws):i instanceof gh&&o instanceof gh?Ws(i.Ae,o.Ae):i instanceof $c&&o instanceof $c})(n.transform,e.transform)}class Y4{constructor(e,t){this.version=e,this.transformResults=t}}class cs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new cs}static exists(e){return new cs(void 0,e)}static updateTime(e){return new cs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Yh{}function G2(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new zg(n.key,cs.none()):new su(n.key,n.data,cs.none());{const t=n.data,i=kn.empty();let o=new qt(sn.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?i.delete(u):i.set(u,h),o=o.add(u)}return new Hi(n.key,i,new qn(o.toArray()),cs.none())}}function Q4(n,e,t){n instanceof su?(function(o,u,h){const p=o.value.clone(),g=sx(o.fieldTransforms,u,h.transformResults);p.setAll(g),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(n,e,t):n instanceof Hi?(function(o,u,h){if(!Zd(o.precondition,u))return void u.convertToUnknownDocument(h.version);const p=sx(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(K2(o)),g.setAll(p),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(n,e,t):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function Oc(n,e,t,i){return n instanceof su?(function(u,h,p,g){if(!Zd(u.precondition,h))return p;const y=u.value.clone(),x=rx(u.fieldTransforms,g,h);return y.setAll(x),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(n,e,t,i):n instanceof Hi?(function(u,h,p,g){if(!Zd(u.precondition,h))return p;const y=rx(u.fieldTransforms,g,h),x=h.data;return x.setAll(K2(u)),x.setAll(y),h.convertToFoundDocument(h.version,x).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(n,e,t,i):(function(u,h,p){return Zd(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p})(n,e,t)}function X4(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),u=z2(i.transform,o||null);u!=null&&(t===null&&(t=kn.empty()),t.set(i.field,u))}return t||null}function nx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Qo(i,o,((u,h)=>K4(u,h)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class su extends Yh{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Hi extends Yh{constructor(e,t,i,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function K2(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function sx(n,e,t){const i=new Map;Xe(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const u=n[o],h=u.transform,p=e.data.field(u.field);i.set(u.field,G4(h,p,t[o]))}return i}function rx(n,e,t){const i=new Map;for(const o of n){const u=o.transform,h=t.data.field(o.field);i.set(o.field,$4(u,h,e))}return i}class zg extends Yh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class W4 extends Yh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Q4(u,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Oc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Oc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=U2();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let p=this.applyToLocalView(h,u.mutatedFields);p=t.has(o.key)?null:p;const g=G2(h,p);g!==null&&i.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(je.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),He())}isEqual(e){return this.batchId===e.batchId&&Qo(this.mutations,e.mutations,((t,i)=>nx(t,i)))&&Qo(this.baseMutations,e.baseMutations,((t,i)=>nx(t,i)))}}class Hg{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Xe(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return B4})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,i[h].version);return new Hg(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,Fe;function tk(n){switch(n){case ie.OK:return Ae(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ae(15467,{code:n})}}function Y2(n){if(n===void 0)return kr("GRPC error has no .code"),ie.UNKNOWN;switch(n){case Dt.OK:return ie.OK;case Dt.CANCELLED:return ie.CANCELLED;case Dt.UNKNOWN:return ie.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return ie.INTERNAL;case Dt.UNAVAILABLE:return ie.UNAVAILABLE;case Dt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Dt.NOT_FOUND:return ie.NOT_FOUND;case Dt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Dt.ABORTED:return ie.ABORTED;case Dt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Dt.DATA_LOSS:return ie.DATA_LOSS;default:return Ae(39323,{code:n})}}(Fe=Dt||(Dt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=new Ri([4294967295,4294967295],0);function ix(n){const e=nk().encode(n),t=new c2;return t.update(e),new Uint8Array(t.digest())}function ax(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ri([t,i],0),new Ri([o,u],0)]}class qg{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ac(`Invalid padding: ${t}`);if(i<0)throw new Ac(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ac(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ac(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ri.fromNumber(this.ge)}ye(e,t,i){let o=e.add(t.multiply(Ri.fromNumber(i)));return o.compare(sk)===1&&(o=new Ri([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=ix(e),[i,o]=ax(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(i,o,u);if(!this.we(h))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new qg(u,o,t);return i.forEach((p=>h.insert(p))),h}insert(e){if(this.ge===0)return;const t=ix(e),[i,o]=ax(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(i,o,u);this.Se(h)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,t,i,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,ru.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Qh(je.min(),o,new yt(ze),Dr(),He())}}class ru{constructor(e,t,i,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new ru(i,t,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,t,i,o){this.be=e,this.removedTargetIds=t,this.key=i,this.De=o}}class Q2{constructor(e,t){this.targetId=e,this.Ce=t}}class X2{constructor(e,t,i=an.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class ox{constructor(){this.ve=0,this.Fe=lx(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),t=He(),i=He();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ae(38017,{changeType:u})}})),new ru(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=lx()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class rk{constructor(e){this.Ge=e,this.ze=new Map,this.je=Dr(),this.Je=Ud(),this.He=Ud(),this.Ye=new yt(ze)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,i=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(Yp(u))if(i===0){const h=new _e(u.path);this.et(t,h,fn.newNoDocument(h,je.min()))}else Xe(i===1,20013,{expectedCount:i});else{const h=this._t(t);if(h!==i){const p=this.ut(e),g=p?this.ct(p,e,h):1;if(g!==0){this.it(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:u=0}=t;let h,p;try{h=Mi(i).toUint8Array()}catch(g){if(g instanceof x2)return Yo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new qg(h,o,u)}catch(g){return Yo(g instanceof Ac?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let o=0;return i.forEach((u=>{const h=this.Ge.ht(),p=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(t,u,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((u,h)=>{const p=this.ot(h);if(p){if(u.current&&Yp(p.target)){const g=new _e(p.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,fn.newNoDocument(g,e))}u.Be&&(t.set(h,u.ke()),u.qe())}}));let i=He();this.He.forEach(((u,h)=>{let p=!0;h.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(i=i.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new Qh(e,t,this.Ye,this.je,i);return this.je=Dr(),this.Je=Ud(),this.He=Ud(),this.Ye=new yt(ze),o}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new ox,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new qt(ze),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new qt(ze),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ox),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ud(){return new yt(_e.comparator)}function lx(){return new yt(_e.comparator)}const ik={asc:"ASCENDING",desc:"DESCENDING"},ak={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ok={and:"AND",or:"OR"};class lk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Xp(n,e){return n.useProto3Json||Hh(e)?e:{value:e}}function yh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function W2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ck(n,e){return yh(n,e.toTimestamp())}function Gs(n){return Xe(!!n,49232),je.fromTimestamp((function(t){const i=Pi(t);return new ht(i.seconds,i.nanos)})(n))}function Fg(n,e){return Wp(n,e).canonicalString()}function Wp(n,e){const t=(function(o){return new dt(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Z2(n){const e=dt.fromString(n);return Xe(sE(e),10190,{key:e.toString()}),e}function Zp(n,e){return Fg(n.databaseId,e.path)}function Sp(n,e){const t=Z2(e);if(t.get(1)!==n.databaseId.projectId)throw new ve(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ve(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(eE(t))}function J2(n,e){return Fg(n.databaseId,e)}function uk(n){const e=Z2(n);return e.length===4?dt.emptyPath():eE(e)}function Jp(n){return new dt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function eE(n){return Xe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function cx(n,e,t){return{name:Zp(n,e),fields:t.value.mapValue.fields}}function dk(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ae(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,x){return y.useProto3Json?(Xe(x===void 0||typeof x=="string",58123),an.fromBase64String(x||"")):(Xe(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),an.fromUint8Array(x||new Uint8Array))})(n,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&(function(y){const x=y.code===void 0?ie.UNKNOWN:Y2(y.code);return new ve(x,y.message||"")})(h);t=new X2(i,o,u,p||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Sp(n,i.document.name),u=Gs(i.document.updateTime),h=i.document.createTime?Gs(i.document.createTime):je.min(),p=new kn({mapValue:{fields:i.document.fields}}),g=fn.newFoundDocument(o,u,h,p),y=i.targetIds||[],x=i.removedTargetIds||[];t=new Jd(y,x,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Sp(n,i.document),u=i.readTime?Gs(i.readTime):je.min(),h=fn.newNoDocument(o,u),p=i.removedTargetIds||[];t=new Jd([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Sp(n,i.document),u=i.removedTargetIds||[];t=new Jd([],u,o,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:u}=i,h=new ek(o,u),p=i.targetId;t=new Q2(p,h)}}return t}function hk(n,e){let t;if(e instanceof su)t={update:cx(n,e.key,e.value)};else if(e instanceof zg)t={delete:Zp(n,e.key)};else if(e instanceof Hi)t={update:cx(n,e.key,e.data),updateMask:xk(e.fieldMask)};else{if(!(e instanceof W4))return Ae(16599,{Vt:e.type});t={verify:Zp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(u,h){const p=h.transform;if(p instanceof $c)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Zo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Gc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof gh)return{fieldPath:h.field.canonicalString(),increment:p.Ae};throw Ae(20930,{transform:h.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:ck(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae(27497)})(n,e.precondition)),t}function fk(n,e){return n&&n.length>0?(Xe(e!==void 0,14353),n.map((t=>(function(o,u){let h=o.updateTime?Gs(o.updateTime):Gs(u);return h.isEqual(je.min())&&(h=Gs(u)),new Y4(h,o.transformResults||[])})(t,e)))):[]}function mk(n,e){return{documents:[J2(n,e.path)]}}function pk(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=J2(n,o);const u=(function(y){if(y.length!==0)return nE(Zs.create(y,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const h=(function(y){if(y.length!==0)return y.map((x=>(function(N){return{field:Lo(N.field),direction:vk(N.dir)}})(x)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const p=Xp(n,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:t,parent:o}}function gk(n){let e=uk(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Xe(i===1,65062);const x=t.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let u=[];t.where&&(u=(function(E){const N=tE(E);return N instanceof Zs&&I2(N)?N.getFilters():[N]})(t.where));let h=[];t.orderBy&&(h=(function(E){return E.map((N=>(function(B){return new ph(Uo(B.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(N)))})(t.orderBy));let p=null;t.limit&&(p=(function(E){let N;return N=typeof E=="object"?E.value:E,Hh(N)?null:N})(t.limit));let g=null;t.startAt&&(g=(function(E){const N=!!E.before,k=E.values||[];return new mh(k,N)})(t.startAt));let y=null;return t.endAt&&(y=(function(E){const N=!E.before,k=E.values||[];return new mh(k,N)})(t.endAt)),O4(e,o,h,u,p,"F",g,y)}function yk(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function tE(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Uo(t.unaryFilter.field);return Ht.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Uo(t.unaryFilter.field);return Ht.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Uo(t.unaryFilter.field);return Ht.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Uo(t.unaryFilter.field);return Ht.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Ht.create(Uo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Zs.create(t.compositeFilter.filters.map((i=>tE(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(t.compositeFilter.op))})(n):Ae(30097,{filter:n})}function vk(n){return ik[n]}function bk(n){return ak[n]}function wk(n){return ok[n]}function Lo(n){return{fieldPath:n.canonicalString()}}function Uo(n){return sn.fromServerFormat(n.fieldPath)}function nE(n){return n instanceof Ht?(function(t){if(t.op==="=="){if(Xw(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NAN"}};if(Qw(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Xw(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NOT_NAN"}};if(Qw(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lo(t.field),op:bk(t.op),value:t.value}}})(n):n instanceof Zs?(function(t){const i=t.getFilters().map((o=>nE(o)));return i.length===1?i[0]:{compositeFilter:{op:wk(t.op),filters:i}}})(n):Ae(54877,{filter:n})}function xk(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function sE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,t,i,o,u=je.min(),h=je.min(),p=an.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Ti(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e){this.yt=e}}function Ek(n){const e=gk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Qp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(){this.Cn=new Nk}addToCollectionParentIndex(e,t){return this.Cn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(Oi.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(Oi.min())}updateCollectionGroup(e,t,i){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class Nk{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new qt(dt.comparator),u=!o.has(i);return this.index[t]=o.add(i),u}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new qt(dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rE=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(rE,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Jo(0)}static cr(){return new Jo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="LruGarbageCollector",Sk=1048576;function hx([n,e],[t,i]){const o=ze(n,t);return o===0?ze(e,i):o}class Ak{constructor(e){this.Ir=e,this.buffer=new qt(hx),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();hx(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ck{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(dx,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ul(t)?me(dx,"Ignoring IndexedDB error during garbage collection: ",t):await cl(t)}await this.Vr(3e5)}))}}class jk{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return se.resolve(zh.ce);const i=new Ak(t);return this.mr.forEachTarget(e,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(ux)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ux):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,o,u,h,p,g,y;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,h=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(i=E,p=Date.now(),this.removeTargets(e,i,t)))).next((E=>(u=E,g=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(y=Date.now(),Mo()<=Be.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-x}ms
	Determined least recently used ${o} in `+(p-h)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${E} documents in `+(y-g)+`ms
Total Duration: ${y-x}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E}))))}}function Rk(n,e){return new jk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(){this.changes=new Ha((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?se.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&Oc(i.mutation,o,qn.empty(),ht.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,He()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=He()){const o=ja();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((u=>{let h=Sc();return u.forEach(((p,g)=>{h=h.insert(p,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const i=ja();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,He())))}populateOverlays(e,t,i){const o=[];return i.forEach((u=>{t.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,p)=>{t.set(h,p)}))}))}computeViews(e,t,i,o){let u=Dr();const h=Dc(),p=(function(){return Dc()})();return t.forEach(((g,y)=>{const x=i.get(y.key);o.has(y.key)&&(x===void 0||x.mutation instanceof Hi)?u=u.insert(y.key,y):x!==void 0?(h.set(y.key,x.mutation.getFieldMask()),Oc(x.mutation,y,x.mutation.getFieldMask(),ht.now())):h.set(y.key,qn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,x)=>h.set(y,x))),t.forEach(((y,x)=>p.set(y,new kk(x,h.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,t){const i=Dc();let o=new yt(((h,p)=>h-p)),u=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const p of h)p.keys().forEach((g=>{const y=t.get(g);if(y===null)return;let x=i.get(g)||qn.empty();x=p.applyToLocalView(y,x),i.set(g,x);const E=(o.get(p.batchId)||He()).add(g);o=o.insert(p.batchId,E)}))})).next((()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,x=g.value,E=U2();x.forEach((N=>{if(!u.has(N)){const k=G2(t.get(N),i.get(N));k!==null&&E.set(N,k),u=u.add(N)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,E))}return se.waitFor(h)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return(function(h){return _e.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):P4(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-u.size):se.resolve(ja());let p=zc,g=u;return h.next((y=>se.forEach(y,((x,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),u.get(x)?se.resolve():this.remoteDocumentCache.getEntry(e,x).next((N=>{g=g.insert(x,N)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,He()))).next((x=>({batchId:p,changes:L2(x)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next((i=>{let o=Sc();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const u=t.collectionGroup;let h=Sc();return this.indexManager.getCollectionParents(e,u).next((p=>se.forEach(p,(g=>{const y=(function(E,N){return new Fh(N,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next((x=>{x.forEach(((E,N)=>{h=h.insert(E,N)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,u,o)))).next((h=>{u.forEach(((g,y)=>{const x=y.getKey();h.get(x)===null&&(h=h.insert(x,fn.newInvalidDocument(x)))}));let p=Sc();return h.forEach(((g,y)=>{const x=u.get(g);x!==void 0&&Oc(x.mutation,y,qn.empty(),ht.now()),Gh(t,y)&&(p=p.insert(g,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return se.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Gs(o.createTime)}})(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:Ek(o.bundledQuery),readTime:Gs(o.readTime)}})(t)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(){this.overlays=new yt(_e.comparator),this.qr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ja();return se.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&i.set(o,u)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,u)=>{this.St(e,t,u)})),se.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(i)),se.resolve()}getOverlaysForCollection(e,t,i){const o=ja(),u=t.length+1,h=new _e(t.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>i&&o.set(g.getKey(),g)}return se.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let u=new yt(((y,x)=>y-x));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let x=u.get(y.largestBatchId);x===null&&(x=ja(),u=u.insert(y.largestBatchId,x)),x.set(y.getKey(),y)}}const p=ja(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,x)=>p.set(y,x))),!(p.size()>=o)););return se.resolve(p)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new J4(t,i));let u=this.qr.get(t);u===void 0&&(u=He(),this.qr.set(t,u)),this.qr.set(t,u.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(){this.Qr=new qt(Xt.$r),this.Ur=new qt(Xt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Xt(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new Xt(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new _e(new dt([])),i=new Xt(t,e),o=new Xt(t,e+1),u=[];return this.Ur.forEachInRange([i,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new _e(new dt([])),i=new Xt(t,e),o=new Xt(t,e+1);let u=He();return this.Ur.forEachInRange([i,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const t=new Xt(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Xt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return _e.comparator(e.key,t.key)||ze(e.Yr,t.Yr)}static Kr(e,t){return ze(e.Yr,t.Yr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new qt(Xt.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Z4(u,t,i,o);this.mutationQueue.push(h);for(const p of o)this.Zr=this.Zr.add(new Xt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return se.resolve(h)}lookupMutationBatch(e,t){return se.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.ei(i),u=o<0?0:o;return se.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Og:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Xt(t,0),o=new Xt(t,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([i,o],(h=>{const p=this.Xr(h.Yr);u.push(p)})),se.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new qt(ze);return t.forEach((o=>{const u=new Xt(o,0),h=new Xt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(p=>{i=i.add(p.Yr)}))})),se.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let u=i;_e.isDocumentKey(u)||(u=u.child(""));const h=new Xt(new _e(u),0);let p=new qt(ze);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Yr)),!0)}),h),se.resolve(this.ti(p))}ti(e){const t=[];return e.forEach((i=>{const o=this.Xr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Xe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return se.forEach(t.mutations,(o=>{const u=new Xt(o.key,t.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new Xt(t,0),o=this.Zr.firstAfterOrEqual(i);return se.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e){this.ri=e,this.docs=(function(){return new yt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),u=o?o.size:0,h=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return se.resolve(i?i.document.mutableCopy():fn.newInvalidDocument(t))}getEntries(e,t){let i=Dr();return t.forEach((o=>{const u=this.docs.get(o);i=i.insert(o,u?u.document.mutableCopy():fn.newInvalidDocument(o))})),se.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let u=Dr();const h=t.path,p=new _e(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:x}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||h4(d4(x),i)<=0||(o.has(x.key)||Gh(t,x))&&(u=u.insert(x.key,x.mutableCopy()))}return se.resolve(u)}getAllFromCollectionGroup(e,t,i,o){Ae(9500)}ii(e,t){return se.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new Uk(this)}getSize(e){return se.resolve(this.size)}}class Uk extends Ik{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)})),se.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.persistence=e,this.si=new Ha((t=>Vg(t)),Lg),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.oi=0,this._i=new $g,this.targetCount=0,this.ai=Jo.ur()}forEachTarget(e,t){return this.si.forEach(((i,o)=>t(o))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),se.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Jo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.Pr(t),se.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,i){let o=0;const u=[];return this.si.forEach(((h,p)=>{p.sequenceNumber<=t&&i.get(p.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),se.waitFor(u).next((()=>o))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return se.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),se.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),se.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),se.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return se.resolve(i)}containsKey(e,t){return se.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,t){this.ui={},this.overlays={},this.ci=new zh(0),this.li=!1,this.li=!0,this.hi=new Mk,this.referenceDelegate=e(this),this.Pi=new Bk(this),this.indexManager=new Tk,this.remoteDocumentCache=(function(o){return new Lk(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new _k(t),this.Ii=new Ok(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Pk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new Vk(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){me("MemoryPersistence","Starting transaction:",e);const o=new zk(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,t){return se.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class zk extends m4{constructor(e){super(),this.currentSequenceNumber=e}}class Gg{constructor(e){this.persistence=e,this.Ri=new $g,this.Vi=null}static mi(e){return new Gg(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),se.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),se.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(i=>{const o=_e.fromPath(i);return this.gi(e,o).next((u=>{u||t.removeEntry(o,je.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return se.or([()=>se.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class vh{constructor(e,t){this.persistence=e,this.pi=new Ha((i=>y4(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=Rk(this,t)}static mi(e,t){return new vh(e,t)}Ei(){}di(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((o=>i+o))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return se.forEach(this.pi,((i,o)=>this.br(e,i,o).next((u=>u?se.resolve():t(o)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,t).next((p=>{p||(i++,u.removeEntry(h,je.min()))})))).next((()=>u.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),se.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),se.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Xd(e.data.value)),t}br(e,t,i){return se.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return se.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=o}static As(e,t){let i=He(),o=He();for(const u of t.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Kg(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return bC()?8:p4(mn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,o){const u={result:null};return this.ys(e,t).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,t,o,i).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new Hk;return this.Ss(e,t,h).next((p=>{if(u.result=p,this.Vs)return this.bs(e,t,h,p.size)}))})).next((()=>u.result))}bs(e,t,i,o){return i.documentReadCount<this.fs?(Mo()<=Be.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Vo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(Mo()<=Be.DEBUG&&me("QueryEngine","Query:",Vo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(Mo()<=Be.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Vo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$s(t))):se.resolve())}ys(e,t){if(ex(t))return se.resolve(null);let i=$s(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Qp(t,null,"F"),i=$s(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((u=>{const h=He(...u);return this.ps.getDocuments(e,h).next((p=>this.indexManager.getMinOffset(e,i).next((g=>{const y=this.Ds(t,p);return this.Cs(t,y,h,g.readTime)?this.ys(e,Qp(t,null,"F")):this.vs(e,y,t,g)}))))})))))}ws(e,t,i,o){return ex(t)||o.isEqual(je.min())?se.resolve(null):this.ps.getDocuments(e,i).next((u=>{const h=this.Ds(t,u);return this.Cs(t,h,i,o)?se.resolve(null):(Mo()<=Be.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Vo(t)),this.vs(e,h,t,u4(o,zc)).next((p=>p)))}))}Ds(e,t){let i=new qt(M2(e));return t.forEach(((o,u)=>{Gh(e,u)&&(i=i.add(u))})),i}Cs(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,t,i){return Mo()<=Be.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Vo(t)),this.ps.getDocumentsMatchingQuery(e,t,Oi.min(),i)}vs(e,t,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next((u=>(t.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg="LocalStore",Fk=3e8;class $k{constructor(e,t,i,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new yt(ze),this.xs=new Ha((u=>Vg(u)),Lg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function Gk(n,e,t,i){return new $k(n,e,t,i)}async function aE(n,e){const t=Ie(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((u=>(o=u,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((u=>{const h=[],p=[];let g=He();for(const y of o){h.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}for(const y of u){p.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}return t.localDocuments.getDocuments(i,g).next((y=>({Ls:y,removedBatchIds:h,addedBatchIds:p})))}))}))}function Kk(n,e){const t=Ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),u=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,x){const E=y.batch,N=E.keys();let k=se.resolve();return N.forEach((B=>{k=k.next((()=>x.getEntry(g,B))).next((Q=>{const L=y.docVersions.get(B);Xe(L!==null,48541),Q.version.compareTo(L)<0&&(E.applyToRemoteDocument(Q,y),Q.isValidDocument()&&(Q.setReadTime(y.commitVersion),x.addEntry(Q)))}))})),k.next((()=>p.mutationQueue.removeMutationBatch(g,E)))})(t,i,e,u).next((()=>u.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(p){let g=He();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function oE(n){const e=Ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function Yk(n,e){const t=Ie(n),i=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const p=[];e.targetChanges.forEach(((x,E)=>{const N=o.get(E);if(!N)return;p.push(t.Pi.removeMatchingKeys(u,x.removedDocuments,E).next((()=>t.Pi.addMatchingKeys(u,x.addedDocuments,E))));let k=N.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(E)!==null?k=k.withResumeToken(an.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):x.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(x.resumeToken,i)),o=o.insert(E,k),(function(Q,L,X){return Q.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=Fk?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(N,k,x)&&p.push(t.Pi.updateTargetData(u,k))}));let g=Dr(),y=He();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(u,x))})),p.push(Qk(u,h,e.documentUpdates).next((x=>{g=x.ks,y=x.qs}))),!i.isEqual(je.min())){const x=t.Pi.getLastRemoteSnapshotVersion(u).next((E=>t.Pi.setTargetsMetadata(u,u.currentSequenceNumber,i)));p.push(x)}return se.waitFor(p).next((()=>h.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(t.Ms=o,u)))}function Qk(n,e,t){let i=He(),o=He();return t.forEach((u=>i=i.add(u))),e.getEntries(n,i).next((u=>{let h=Dr();return t.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(je.min())?(e.removeEntry(p,g.readTime),h=h.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(p,g)):me(Yg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:h,qs:o}}))}function Xk(n,e){const t=Ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Og),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function Wk(n,e){const t=Ie(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.Pi.getTargetData(i,e).next((u=>u?(o=u,se.resolve(o)):t.Pi.allocateTargetId(i).next((h=>(o=new Ti(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function eg(n,e,t){const i=Ie(n),o=i.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",u,(h=>i.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!ul(h))throw h;me(Yg,`Failed to update sequence numbers for target ${e}: ${h}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function fx(n,e,t){const i=Ie(n);let o=je.min(),u=He();return i.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,y,x){const E=Ie(g),N=E.xs.get(x);return N!==void 0?se.resolve(E.Ms.get(N)):E.Pi.getTargetData(y,x)})(i,h,$s(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(h,p.targetId).next((g=>{u=g}))})).next((()=>i.Fs.getDocumentsMatchingQuery(h,e,t?o:je.min(),t?u:He()))).next((p=>(Zk(i,V4(e),p),{documents:p,Qs:u})))))}function Zk(n,e,t){let i=n.Os.get(e)||je.min();t.forEach(((o,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)})),n.Os.set(e,i)}class mx{constructor(){this.activeTargetIds=q4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Jk{constructor(){this.Mo=new mx,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new mx,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="ConnectivityMonitor";class gx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(px,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(px,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bd=null;function tg(){return Bd===null?Bd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bd++,"0x"+Bd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="RestConnection",t3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class n3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===hh?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,t,i,o,u){const h=tg(),p=this.zo(e,t.toUriEncodedString());me(Ap,`Sending RPC '${e}' ${h}:`,p,i);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(p),x=il(y);return this.Jo(e,p,g,i,x).then((E=>(me(Ap,`Received RPC '${e}' ${h}: `,E),E)),(E=>{throw Yo(Ap,`RPC '${e}' ${h} failed with error: `,E,"url: ",p,"request:",i),E}))}Ho(e,t,i,o,u,h){return this.Go(e,t,i,o,u)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ll})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,u)=>e[u]=o)),i&&i.headers.forEach(((o,u)=>e[u]=o))}zo(e,t){const i=t3[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn="WebChannelConnection";class r3 extends n3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,o,u){const h=tg();return new Promise(((p,g)=>{const y=new u2;y.setWithCredentials(!0),y.listenOnce(d2.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Qd.NO_ERROR:const E=y.getResponseJson();me(dn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(E)),p(E);break;case Qd.TIMEOUT:me(dn,`RPC '${e}' ${h} timed out`),g(new ve(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Qd.HTTP_ERROR:const N=y.getStatus();if(me(dn,`RPC '${e}' ${h} failed with status:`,N,"response text:",y.getResponseText()),N>0){let k=y.getResponseJson();Array.isArray(k)&&(k=k[0]);const B=k?.error;if(B&&B.status&&B.message){const Q=(function(X){const $=X.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf($)>=0?$:ie.UNKNOWN})(B.status);g(new ve(Q,B.message))}else g(new ve(ie.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ve(ie.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{me(dn,`RPC '${e}' ${h} completed.`)}}));const x=JSON.stringify(o);me(dn,`RPC '${e}' ${h} sending request:`,o),y.send(t,"POST",x,i,15)}))}T_(e,t,i){const o=tg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=m2(),p=f2(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,t,i),g.encodeInitMessageHeaders=!0;const x=u.join("");me(dn,`Creating RPC '${e}' stream ${o}: ${x}`,g);const E=h.createWebChannel(x,g);this.I_(E);let N=!1,k=!1;const B=new s3({Yo:L=>{k?me(dn,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(N||(me(dn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),N=!0),me(dn,`RPC '${e}' stream ${o} sending:`,L),E.send(L))},Zo:()=>E.close()}),Q=(L,X,$)=>{L.listen(X,(Z=>{try{$(Z)}catch(pe){setTimeout((()=>{throw pe}),0)}}))};return Q(E,Nc.EventType.OPEN,(()=>{k||(me(dn,`RPC '${e}' stream ${o} transport opened.`),B.o_())})),Q(E,Nc.EventType.CLOSE,(()=>{k||(k=!0,me(dn,`RPC '${e}' stream ${o} transport closed`),B.a_(),this.E_(E))})),Q(E,Nc.EventType.ERROR,(L=>{k||(k=!0,Yo(dn,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),B.a_(new ve(ie.UNAVAILABLE,"The operation could not be completed")))})),Q(E,Nc.EventType.MESSAGE,(L=>{if(!k){const X=L.data[0];Xe(!!X,16349);const $=X,Z=$?.error||$[0]?.error;if(Z){me(dn,`RPC '${e}' stream ${o} received error:`,Z);const pe=Z.status;let oe=(function(A){const C=Dt[A];if(C!==void 0)return Y2(C)})(pe),ye=Z.message;oe===void 0&&(oe=ie.INTERNAL,ye="Unknown error status: "+pe+" with message "+Z.message),k=!0,B.a_(new ve(oe,ye)),E.close()}else me(dn,`RPC '${e}' stream ${o} received:`,X),B.u_(X)}})),Q(p,h2.STAT_EVENT,(L=>{L.stat===qp.PROXY?me(dn,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===qp.NOPROXY&&me(dn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{B.__()}),0),B}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Cp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(n){return new lk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,t,i=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-i);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx="PersistentStream";class cE{constructor(e,t,i,o,u,h,p,g){this.Mi=e,this.S_=i,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lE(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(kr(t.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===t&&this.G_(i,o)}),(i=>{e((()=>{const o=new ve(ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(yx,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(me(yx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class i3 extends cE{constructor(e,t,i,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,h),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=dk(this.serializer,e),i=(function(u){if(!("targetChange"in u))return je.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?je.min():h.readTime?Gs(h.readTime):je.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=Jp(this.serializer),t.addTarget=(function(u,h){let p;const g=h.target;if(p=Yp(g)?{documents:mk(u,g)}:{query:pk(u,g).ft},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=W2(u,h.resumeToken);const y=Xp(u,h.expectedCount);y!==null&&(p.expectedCount=y)}else if(h.snapshotVersion.compareTo(je.min())>0){p.readTime=yh(u,h.snapshotVersion.toTimestamp());const y=Xp(u,h.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const i=yk(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=Jp(this.serializer),t.removeTarget=e,this.q_(t)}}class a3 extends cE{constructor(e,t,i,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=fk(e.writeResults,e.commitTime),i=Gs(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Jp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>hk(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{}class l3 extends o3{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ve(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,Wp(t,i),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(ie.UNKNOWN,u.toString())}))}Ho(e,t,i,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.Ho(e,Wp(t,i),o,h,p,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ve(ie.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class c3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(kr(t),this.aa=!1):me("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La="RemoteStore";class u3{constructor(e,t,i,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{i.enqueueAndForget((async()=>{qa(this)&&(me(La,"Restarting streams for network reachability change."),await(async function(g){const y=Ie(g);y.Ea.add(4),await iu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Wh(y)})(this))}))})),this.Ra=new c3(i,o)}}async function Wh(n){if(qa(n))for(const e of n.da)await e(!0)}async function iu(n){for(const e of n.da)await e(!1)}function uE(n,e){const t=Ie(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Zg(t)?Wg(t):dl(t).O_()&&Xg(t,e))}function Qg(n,e){const t=Ie(n),i=dl(t);t.Ia.delete(e),i.O_()&&dE(t,e),t.Ia.size===0&&(i.O_()?i.L_():qa(t)&&t.Ra.set("Unknown"))}function Xg(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}dl(n).Y_(e)}function dE(n,e){n.Va.Ue(e),dl(n).Z_(e)}function Wg(n){n.Va=new rk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),dl(n).start(),n.Ra.ua()}function Zg(n){return qa(n)&&!dl(n).x_()&&n.Ia.size>0}function qa(n){return Ie(n).Ea.size===0}function hE(n){n.Va=void 0}async function d3(n){n.Ra.set("Online")}async function h3(n){n.Ia.forEach(((e,t)=>{Xg(n,e)}))}async function f3(n,e){hE(n),Zg(n)?(n.Ra.ha(e),Wg(n)):n.Ra.set("Unknown")}async function m3(n,e,t){if(n.Ra.set("Online"),e instanceof X2&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,h),o.Ia.delete(p),o.Va.removeTarget(p))})(n,e)}catch(i){me(La,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await bh(n,i)}else if(e instanceof Jd?n.Va.Ze(e):e instanceof Q2?n.Va.st(e):n.Va.tt(e),!t.isEqual(je.min()))try{const i=await oE(n.localStore);t.compareTo(i)>=0&&await(function(u,h){const p=u.Va.Tt(h);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const x=u.Ia.get(y);x&&u.Ia.set(y,x.withResumeToken(g.resumeToken,h))}})),p.targetMismatches.forEach(((g,y)=>{const x=u.Ia.get(g);if(!x)return;u.Ia.set(g,x.withResumeToken(an.EMPTY_BYTE_STRING,x.snapshotVersion)),dE(u,g);const E=new Ti(x.target,g,y,x.sequenceNumber);Xg(u,E)})),u.remoteSyncer.applyRemoteEvent(p)})(n,t)}catch(i){me(La,"Failed to raise snapshot:",i),await bh(n,i)}}async function bh(n,e,t){if(!ul(e))throw e;n.Ea.add(1),await iu(n),n.Ra.set("Offline"),t||(t=()=>oE(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{me(La,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Wh(n)}))}function fE(n,e){return e().catch((t=>bh(n,t,e)))}async function Zh(n){const e=Ie(n),t=Li(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Og;for(;p3(e);)try{const o=await Xk(e.localStore,i);if(o===null){e.Ta.length===0&&t.L_();break}i=o.batchId,g3(e,o)}catch(o){await bh(e,o)}mE(e)&&pE(e)}function p3(n){return qa(n)&&n.Ta.length<10}function g3(n,e){n.Ta.push(e);const t=Li(n);t.O_()&&t.X_&&t.ea(e.mutations)}function mE(n){return qa(n)&&!Li(n).x_()&&n.Ta.length>0}function pE(n){Li(n).start()}async function y3(n){Li(n).ra()}async function v3(n){const e=Li(n);for(const t of n.Ta)e.ea(t.mutations)}async function b3(n,e,t){const i=n.Ta.shift(),o=Hg.from(i,e,t);await fE(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Zh(n)}async function w3(n,e){e&&Li(n).X_&&await(async function(i,o){if((function(h){return tk(h)&&h!==ie.ABORTED})(o.code)){const u=i.Ta.shift();Li(i).B_(),await fE(i,(()=>i.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Zh(i)}})(n,e),mE(n)&&pE(n)}async function vx(n,e){const t=Ie(n);t.asyncQueue.verifyOperationInProgress(),me(La,"RemoteStore received new credentials");const i=qa(t);t.Ea.add(3),await iu(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Wh(t)}async function x3(n,e){const t=Ie(n);e?(t.Ea.delete(2),await Wh(t)):e||(t.Ea.add(2),await iu(t),t.Ra.set("Unknown"))}function dl(n){return n.ma||(n.ma=(function(t,i,o){const u=Ie(t);return u.sa(),new i3(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:d3.bind(null,n),t_:h3.bind(null,n),r_:f3.bind(null,n),H_:m3.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Zg(n)?Wg(n):n.Ra.set("Unknown")):(await n.ma.stop(),hE(n))}))),n.ma}function Li(n){return n.fa||(n.fa=(function(t,i,o){const u=Ie(t);return u.sa(),new a3(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:y3.bind(null,n),r_:w3.bind(null,n),ta:v3.bind(null,n),na:b3.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Zh(n)):(await n.fa.stop(),n.Ta.length>0&&(me(La,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,t,i,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,u){const h=Date.now()+i,p=new Jg(e,t,h,o,u);return p.start(i),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ey(n,e){if(kr("AsyncQueue",`${e}: ${n}`),ul(n))return new ve(ie.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{static emptySet(e){return new qo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||_e.comparator(t.key,i.key):(t,i)=>_e.comparator(t.key,i.key),this.keyedMap=Sc(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof qo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new qo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(){this.ga=new yt(_e.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class el{constructor(e,t,i,o,u,h,p,g,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,u){const h=[];return t.forEach((p=>{h.push({type:0,doc:p})})),new el(e,t,qo.emptySet(t),h,i,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class E3{constructor(){this.queries=wx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=Ie(t),u=o.queries;o.queries=wx(),u.forEach(((h,p)=>{for(const g of p.Sa)g.onError(i)}))})(this,new ve(ie.ABORTED,"Firestore shutting down"))}}function wx(){return new Ha((n=>P2(n)),$h)}async function gE(n,e){const t=Ie(n);let i=3;const o=e.query;let u=t.queries.get(o);u?!u.ba()&&e.Da()&&(i=2):(u=new _3,i=e.Da()?0:1);try{switch(i){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const p=ey(h,`Initialization of query '${Vo(e.query)}' failed`);return void e.onError(p)}t.queries.set(o,u),u.Sa.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&ty(t)}async function yE(n,e){const t=Ie(n),i=e.query;let o=3;const u=t.queries.get(i);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function T3(n,e){const t=Ie(n);let i=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const p of h.Sa)p.Fa(o)&&(i=!0);h.wa=o}}i&&ty(t)}function N3(n,e,t){const i=Ie(n),o=i.queries.get(e);if(o)for(const u of o.Sa)u.onError(t);i.queries.delete(e)}function ty(n){n.Ca.forEach((e=>{e.next()}))}var ng,xx;(xx=ng||(ng={})).Ma="default",xx.Cache="cache";class vE{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new el(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=el.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ng.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e){this.key=e}}class wE{constructor(e){this.key=e}}class S3{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=M2(e),this.tu=new qo(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new bx,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((x,E)=>{const N=o.get(x),k=Gh(this.query,E)?E:null,B=!!N&&this.mutatedKeys.has(N.key),Q=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let L=!1;N&&k?N.data.isEqual(k.data)?B!==Q&&(i.track({type:3,doc:k}),L=!0):this.su(N,k)||(i.track({type:2,doc:k}),L=!0,(g&&this.eu(k,g)>0||y&&this.eu(k,y)<0)&&(p=!0)):!N&&k?(i.track({type:0,doc:k}),L=!0):N&&!k&&(i.track({type:1,doc:N}),L=!0,(g||y)&&(p=!0)),L&&(k?(h=h.add(k),u=Q?u.add(x):u.delete(x)):(h=h.delete(x),u=u.delete(x)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const x=this.query.limitType==="F"?h.last():h.first();h=h.delete(x.key),u=u.delete(x.key),i.track({type:1,doc:x})}return{tu:h,iu:i,Cs:p,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((x,E)=>(function(k,B){const Q=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:L})}};return Q(k)-Q(B)})(x.type,E.type)||this.eu(x.doc,E.doc))),this.ou(i),o=o??!1;const p=t&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,h.length!==0||y?{snapshot:new el(this.query,e.tu,u,h,e.mutatedKeys,g===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new wE(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new bE(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=He();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return el.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ny="SyncEngine";class A3{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class C3{constructor(e){this.key=e,this.hu=!1}}class j3{constructor(e,t,i,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Ha((p=>P2(p)),$h),this.Iu=new Map,this.Eu=new Set,this.du=new yt(_e.comparator),this.Au=new Map,this.Ru=new $g,this.Vu={},this.mu=new Map,this.fu=Jo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function R3(n,e,t=!0){const i=SE(n);let o;const u=i.Tu.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await xE(i,e,t,!0),o}async function I3(n,e){const t=SE(n);await xE(t,e,!0,!1)}async function xE(n,e,t,i){const o=await Wk(n.localStore,$s(e)),u=o.targetId,h=n.sharedClientState.addLocalQueryTarget(u,t);let p;return i&&(p=await k3(n,e,u,h==="current",o.resumeToken)),n.isPrimaryClient&&t&&uE(n.remoteStore,o),p}async function k3(n,e,t,i,o){n.pu=(E,N,k)=>(async function(Q,L,X,$){let Z=L.view.ru(X);Z.Cs&&(Z=await fx(Q.localStore,L.query,!1).then((({documents:S})=>L.view.ru(S,Z))));const pe=$&&$.targetChanges.get(L.targetId),oe=$&&$.targetMismatches.get(L.targetId)!=null,ye=L.view.applyChanges(Z,Q.isPrimaryClient,pe,oe);return Ex(Q,L.targetId,ye.au),ye.snapshot})(n,E,N,k);const u=await fx(n.localStore,e,!0),h=new S3(e,u.Qs),p=h.ru(u.documents),g=ru.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=h.applyChanges(p,n.isPrimaryClient,g);Ex(n,t,y.au);const x=new A3(e,t,h);return n.Tu.set(e,x),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),y.snapshot}async function D3(n,e,t){const i=Ie(n),o=i.Tu.get(e),u=i.Iu.get(o.targetId);if(u.length>1)return i.Iu.set(o.targetId,u.filter((h=>!$h(h,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await eg(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Qg(i.remoteStore,o.targetId),sg(i,o.targetId)})).catch(cl)):(sg(i,o.targetId),await eg(i.localStore,o.targetId,!0))}async function O3(n,e){const t=Ie(n),i=t.Tu.get(e),o=t.Iu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Qg(t.remoteStore,i.targetId))}async function P3(n,e,t){const i=H3(n);try{const o=await(function(h,p){const g=Ie(h),y=ht.now(),x=p.reduce(((k,B)=>k.add(B.key)),He());let E,N;return g.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let B=Dr(),Q=He();return g.Ns.getEntries(k,x).next((L=>{B=L,B.forEach(((X,$)=>{$.isValidDocument()||(Q=Q.add(X))}))})).next((()=>g.localDocuments.getOverlayedDocuments(k,B))).next((L=>{E=L;const X=[];for(const $ of p){const Z=X4($,E.get($.key).overlayedDocument);Z!=null&&X.push(new Hi($.key,Z,C2(Z.value.mapValue),cs.exists(!0)))}return g.mutationQueue.addMutationBatch(k,y,X,p)})).next((L=>{N=L;const X=L.applyToLocalDocumentSet(E,Q);return g.documentOverlayCache.saveOverlays(k,L.batchId,X)}))})).then((()=>({batchId:N.batchId,changes:L2(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(h,p,g){let y=h.Vu[h.currentUser.toKey()];y||(y=new yt(ze)),y=y.insert(p,g),h.Vu[h.currentUser.toKey()]=y})(i,o.batchId,t),await au(i,o.changes),await Zh(i.remoteStore)}catch(o){const u=ey(o,"Failed to persist write");t.reject(u)}}async function _E(n,e){const t=Ie(n);try{const i=await Yk(t.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=t.Au.get(u);h&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Xe(h.hu,14607):o.removedDocuments.size>0&&(Xe(h.hu,42227),h.hu=!1))})),await au(t,i,e)}catch(i){await cl(i)}}function _x(n,e,t){const i=Ie(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Tu.forEach(((u,h)=>{const p=h.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(h,p){const g=Ie(h);g.onlineState=p;let y=!1;g.queries.forEach(((x,E)=>{for(const N of E.Sa)N.va(p)&&(y=!0)})),y&&ty(g)})(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function M3(n,e,t){const i=Ie(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Au.get(e),u=o&&o.key;if(u){let h=new yt(_e.comparator);h=h.insert(u,fn.newNoDocument(u,je.min()));const p=He().add(u),g=new Qh(je.min(),new Map,new yt(ze),h,p);await _E(i,g),i.du=i.du.remove(u),i.Au.delete(e),sy(i)}else await eg(i.localStore,e,!1).then((()=>sg(i,e,t))).catch(cl)}async function V3(n,e){const t=Ie(n),i=e.batch.batchId;try{const o=await Kk(t.localStore,e);TE(t,i,null),EE(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await au(t,o)}catch(o){await cl(o)}}async function L3(n,e,t){const i=Ie(n);try{const o=await(function(h,p){const g=Ie(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let x;return g.mutationQueue.lookupMutationBatch(y,p).next((E=>(Xe(E!==null,37113),x=E.keys(),g.mutationQueue.removeMutationBatch(y,E)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,x,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,x))).next((()=>g.localDocuments.getDocuments(y,x)))}))})(i.localStore,e);TE(i,e,t),EE(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await au(i,o)}catch(o){await cl(o)}}function EE(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function TE(n,e,t){const i=Ie(n);let o=i.Vu[i.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function sg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((i=>{n.Ru.containsKey(i)||NE(n,i)}))}function NE(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Qg(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),sy(n))}function Ex(n,e,t){for(const i of t)i instanceof bE?(n.Ru.addReference(i.key,e),U3(n,i)):i instanceof wE?(me(ny,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||NE(n,i.key)):Ae(19791,{wu:i})}function U3(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(me(ny,"New document in limbo: "+t),n.Eu.add(i),sy(n))}function sy(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new _e(dt.fromString(e)),i=n.fu.next();n.Au.set(i,new C3(t)),n.du=n.du.insert(t,i),uE(n.remoteStore,new Ti($s(Ug(t.path)),i,"TargetPurposeLimboResolution",zh.ce))}}async function au(n,e,t){const i=Ie(n),o=[],u=[],h=[];i.Tu.isEmpty()||(i.Tu.forEach(((p,g)=>{h.push(i.pu(g,e,t).then((y=>{if((y||t)&&i.isPrimaryClient){const x=y?!y.fromCache:t?.targetChanges.get(g.targetId)?.current;i.sharedClientState.updateQueryState(g.targetId,x?"current":"not-current")}if(y){o.push(y);const x=Kg.As(g.targetId,y);u.push(x)}})))})),await Promise.all(h),i.Pu.H_(o),await(async function(g,y){const x=Ie(g);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>se.forEach(y,(N=>se.forEach(N.Es,(k=>x.persistence.referenceDelegate.addReference(E,N.targetId,k))).next((()=>se.forEach(N.ds,(k=>x.persistence.referenceDelegate.removeReference(E,N.targetId,k)))))))))}catch(E){if(!ul(E))throw E;me(Yg,"Failed to update sequence numbers: "+E)}for(const E of y){const N=E.targetId;if(!E.fromCache){const k=x.Ms.get(N),B=k.snapshotVersion,Q=k.withLastLimboFreeSnapshotVersion(B);x.Ms=x.Ms.insert(N,Q)}}})(i.localStore,u))}async function B3(n,e){const t=Ie(n);if(!t.currentUser.isEqual(e)){me(ny,"User change. New user:",e.toKey());const i=await aE(t.localStore,e);t.currentUser=e,(function(u,h){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new ve(ie.CANCELLED,h))}))})),u.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await au(t,i.Ls)}}function z3(n,e){const t=Ie(n),i=t.Au.get(e);if(i&&i.hu)return He().add(i.key);{let o=He();const u=t.Iu.get(e);if(!u)return o;for(const h of u){const p=t.Tu.get(h);o=o.unionWith(p.view.nu)}return o}}function SE(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=_E.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=z3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=M3.bind(null,e),e.Pu.H_=T3.bind(null,e.eventManager),e.Pu.yu=N3.bind(null,e.eventManager),e}function H3(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=V3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=L3.bind(null,e),e}class wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Gk(this.persistence,new qk,e.initialUser,this.serializer)}Cu(e){return new iE(Gg.mi,this.serializer)}Du(e){return new Jk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wh.provider={build:()=>new wh};class q3 extends wh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Xe(this.persistence.referenceDelegate instanceof vh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Ck(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new iE((i=>vh.mi(i,t)),this.serializer)}}class rg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>_x(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=B3.bind(null,this.syncEngine),await x3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new E3})()}createDatastore(e){const t=Xh(e.databaseInfo.databaseId),i=(function(u){return new r3(u)})(e.databaseInfo);return(function(u,h,p,g){return new l3(u,h,p,g)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,u,h,p){return new u3(i,o,u,h,p)})(this.localStore,this.datastore,e.asyncQueue,(t=>_x(this.syncEngine,t,0)),(function(){return gx.v()?new gx:new e3})())}createSyncEngine(e,t){return(function(o,u,h,p,g,y,x){const E=new j3(o,u,h,p,g,y);return x&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=Ie(t);me(La,"RemoteStore shutting down."),i.Ea.add(5),await iu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rg.provider={build:()=>new rg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):kr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui="FirestoreClient";class F3{constructor(e,t,i,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=hn.UNAUTHENTICATED,this.clientId=kg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,(async h=>{me(Ui,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(i,(h=>(me(Ui,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=ey(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function jp(n,e){n.asyncQueue.verifyOperationInProgress(),me(Ui,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async o=>{i.isEqual(o)||(await aE(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Tx(n,e){n.asyncQueue.verifyOperationInProgress();const t=await $3(n);me(Ui,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>vx(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,o)=>vx(e.remoteStore,o))),n._onlineComponents=e}async function $3(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){me(Ui,"Using user provided OfflineComponentProvider");try{await jp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Yo("Error using user provided cache. Falling back to memory cache: "+t),await jp(n,new wh)}}else me(Ui,"Using default OfflineComponentProvider"),await jp(n,new q3(void 0));return n._offlineComponents}async function CE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(me(Ui,"Using user provided OnlineComponentProvider"),await Tx(n,n._uninitializedComponentsProvider._online)):(me(Ui,"Using default OnlineComponentProvider"),await Tx(n,new rg))),n._onlineComponents}function G3(n){return CE(n).then((e=>e.syncEngine))}async function jE(n){const e=await CE(n),t=e.eventManager;return t.onListen=R3.bind(null,e.syncEngine),t.onUnlisten=D3.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=I3.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=O3.bind(null,e.syncEngine),t}function K3(n,e,t={}){const i=new Ar;return n.asyncQueue.enqueueAndForget((async()=>(function(u,h,p,g,y){const x=new AE({next:N=>{x.Nu(),h.enqueueAndForget((()=>yE(u,E)));const k=N.docs.has(p);!k&&N.fromCache?y.reject(new ve(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&N.fromCache&&g&&g.source==="server"?y.reject(new ve(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(N)},error:N=>y.reject(N)}),E=new vE(Ug(p.path),x,{includeMetadataChanges:!0,qa:!0});return gE(u,E)})(await jE(n),n.asyncQueue,e,t,i))),i.promise}function Y3(n,e,t={}){const i=new Ar;return n.asyncQueue.enqueueAndForget((async()=>(function(u,h,p,g,y){const x=new AE({next:N=>{x.Nu(),h.enqueueAndForget((()=>yE(u,E))),N.fromCache&&g.source==="server"?y.reject(new ve(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(N)},error:N=>y.reject(N)}),E=new vE(p,x,{includeMetadataChanges:!0,qa:!0});return gE(u,E)})(await jE(n),n.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="firestore.googleapis.com",Sx=!0;class Ax{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IE,this.ssl=Sx}else this.host=e.host,this.ssl=e.ssl??Sx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Sk)throw new ve(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}c4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RE(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ve(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ve(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ve(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jh{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ax({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ax(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new JI;switch(i.type){case"firstParty":return new s4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ve(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=Nx.get(t);i&&(me("ComponentProvider","Removing Datastore"),Nx.delete(t),i.terminate())})(this),Promise.resolve()}}function Q3(n,e,t,i={}){n=Ns(n,Jh);const o=il(e),u=n._getSettings(),h={...u,emulatorOptions:n._getEmulatorOptions()},p=`${e}:${t}`;o&&(v_(`https://${p}`),b_("Firestore",!0)),u.host!==IE&&u.host!==p&&Yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:o,emulatorOptions:i};if(!Di(g,h)&&(n._setSettings(g),i.mockUserToken)){let y,x;if(typeof i.mockUserToken=="string")y=i.mockUserToken,x=hn.MOCK_USER;else{y=uC(i.mockUserToken,n._app?.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new ve(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new hn(E)}n._authCredentials=new e4(new g2(y,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ef(this.firestore,e,this._query)}}class Pt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ii(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pt(this.firestore,e,this._key)}toJSON(){return{type:Pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(nu(t,Pt._jsonSchema))return new Pt(e,i||null,new _e(dt.fromString(t.referencePath)))}}Pt._jsonSchemaVersion="firestore/documentReference/1.0",Pt._jsonSchema={type:Ot("string",Pt._jsonSchemaVersion),referencePath:Ot("string")};class Ii extends ef{constructor(e,t,i){super(e,t,Ug(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new _e(e))}withConverter(e){return new Ii(this.firestore,e,this._path)}}function ig(n,e,...t){if(n=Ft(n),y2("collection","path",e),n instanceof Jh){const i=dt.fromString(e,...t);return zw(i),new Ii(n,null,i)}{if(!(n instanceof Pt||n instanceof Ii))throw new ve(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(dt.fromString(e,...t));return zw(i),new Ii(n.firestore,null,i)}}function _n(n,e,...t){if(n=Ft(n),arguments.length===1&&(e=kg.newId()),y2("doc","path",e),n instanceof Jh){const i=dt.fromString(e,...t);return Bw(i),new Pt(n,null,new _e(i))}{if(!(n instanceof Pt||n instanceof Ii))throw new ve(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(dt.fromString(e,...t));return Bw(i),new Pt(n.firestore,n instanceof Ii?n.converter:null,new _e(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx="AsyncQueue";class jx{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lE(this,"async_queue_retry"),this._c=()=>{const i=Cp();i&&me(Cx,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=Cp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Cp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ar;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ul(e))throw e;me(Cx,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,kr("INTERNAL UNHANDLED ERROR: ",Rx(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Jg.createAndSchedule(this,e,t,i,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ae(47125,{Pc:Rx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Rx(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Fa extends Jh{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new jx,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jx(e),this._firestoreClient=void 0,await e}}}function X3(n,e){const t=typeof n=="object"?n:E_(),i=typeof n=="string"?n:hh,o=wg(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const u=lC("firestore");u&&Q3(o,...u)}return o}function ry(n){if(n._terminated)throw new ve(ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||W3(n),n._firestoreClient}function W3(n){const e=n._freezeSettings(),t=(function(o,u,h,p){return new w4(o,u,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,RE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new F3(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ls(an.fromBase64String(e))}catch(t){throw new ve(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ls(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ls._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nu(e,ls._jsonSchema))return ls.fromBase64String(e.bytes)}}ls._jsonSchemaVersion="firestore/bytes/1.0",ls._jsonSchema={type:Ot("string",ls._jsonSchemaVersion),bytes:Ot("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ks._jsonSchemaVersion}}static fromJSON(e){if(nu(e,Ks._jsonSchema))return new Ks(e.latitude,e.longitude)}}Ks._jsonSchemaVersion="firestore/geoPoint/1.0",Ks._jsonSchema={type:Ot("string",Ks._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ys._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nu(e,Ys._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ys(e.vectorValues);throw new ve(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ys._jsonSchemaVersion="firestore/vectorValue/1.0",Ys._jsonSchema={type:Ot("string",Ys._jsonSchemaVersion),vectorValues:Ot("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=/^__.*__$/;class J3{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Hi(e,this.data,this.fieldMask,t,this.fieldTransforms):new su(e,this.data,t,this.fieldTransforms)}}class kE{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Hi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function DE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:n})}}class nf{constructor(e,t,i,o,u,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new nf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return xh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(DE(this.Ac)&&Z3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class e5{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Xh(e)}Cc(e,t,i,o=!1){return new nf({Ac:e,methodName:t,Dc:i,path:sn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function iy(n){const e=n._freezeSettings(),t=Xh(n._databaseId);return new e5(n._databaseId,!!e.ignoreUndefinedProperties,t)}function OE(n,e,t,i,o,u={}){const h=n.Cc(u.merge||u.mergeFields?2:0,e,t,o);ly("Data must be an object, but it was:",h,i);const p=PE(i,h);let g,y;if(u.merge)g=new qn(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const x=[];for(const E of u.mergeFields){const N=ag(e,E,t);if(!h.contains(N))throw new ve(ie.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);VE(x,N)||x.push(N)}g=new qn(x),y=h.fieldTransforms.filter((E=>g.covers(E.field)))}else g=null,y=h.fieldTransforms;return new J3(new kn(p),g,y)}class sf extends ou{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sf}}function t5(n,e,t){return new nf({Ac:3,Dc:e.settings.Dc,methodName:n._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ay extends ou{_toFieldTransform(e){return new $2(e.path,new $c)}isEqual(e){return e instanceof ay}}class oy extends ou{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=t5(this,e,!0),i=this.vc.map((u=>lu(u,t))),o=new Zo(i);return new $2(e.path,o)}isEqual(e){return e instanceof oy&&Di(this.vc,e.vc)}}function n5(n,e,t,i){const o=n.Cc(1,e,t);ly("Data must be an object, but it was:",o,i);const u=[],h=kn.empty();zi(i,((g,y)=>{const x=cy(e,g,t);y=Ft(y);const E=o.yc(x);if(y instanceof sf)u.push(x);else{const N=lu(y,E);N!=null&&(u.push(x),h.set(x,N))}}));const p=new qn(u);return new kE(h,p,o.fieldTransforms)}function s5(n,e,t,i,o,u){const h=n.Cc(1,e,t),p=[ag(e,i,t)],g=[o];if(u.length%2!=0)throw new ve(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<u.length;N+=2)p.push(ag(e,u[N])),g.push(u[N+1]);const y=[],x=kn.empty();for(let N=p.length-1;N>=0;--N)if(!VE(y,p[N])){const k=p[N];let B=g[N];B=Ft(B);const Q=h.yc(k);if(B instanceof sf)y.push(k);else{const L=lu(B,Q);L!=null&&(y.push(k),x.set(k,L))}}const E=new qn(y);return new kE(x,E,h.fieldTransforms)}function lu(n,e){if(ME(n=Ft(n)))return ly("Unsupported field value:",e,n),PE(n,e);if(n instanceof ou)return(function(i,o){if(!DE(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,o){const u=[];let h=0;for(const p of i){let g=lu(p,o.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(n,e)}return(function(i,o){if((i=Ft(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return F4(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=ht.fromDate(i);return{timestampValue:yh(o.serializer,u)}}if(i instanceof ht){const u=new ht(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:yh(o.serializer,u)}}if(i instanceof Ks)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ls)return{bytesValue:W2(o.serializer,i._byteString)};if(i instanceof Pt){const u=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Fg(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Ys)return(function(h,p){return{mapValue:{fields:{[S2]:{stringValue:A2},[fh]:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Bg(p.serializer,y)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${Dg(i)}`)})(n,e)}function PE(n,e){const t={};return w2(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zi(n,((i,o)=>{const u=lu(o,e.mc(i));u!=null&&(t[i]=u)})),{mapValue:{fields:t}}}function ME(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ht||n instanceof Ks||n instanceof ls||n instanceof Pt||n instanceof ou||n instanceof Ys)}function ly(n,e,t){if(!ME(t)||!v2(t)){const i=Dg(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function ag(n,e,t){if((e=Ft(e))instanceof tf)return e._internalPath;if(typeof e=="string")return cy(n,e);throw xh("Field path arguments must be of type string or ",n,!1,void 0,t)}const r5=new RegExp("[~\\*/\\[\\]]");function cy(n,e,t){if(e.search(r5)>=0)throw xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new tf(...e.split("."))._internalPath}catch{throw xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function xh(n,e,t,i,o){const u=i&&!i.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${i}`),h&&(g+=` in document ${o}`),g+=")"),new ve(ie.INVALID_ARGUMENT,p+n+g)}function VE(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,t,i,o,u){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new i5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(UE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class i5 extends LE{data(){return super.data()}}function UE(n,e){return typeof e=="string"?cy(n,e):e instanceof tf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a5(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ve(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class o5{convertValue(e,t="none"){switch(Vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Mi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return zi(e,((o,u)=>{i[o]=this.convertValue(u,t)})),i}convertVectorValue(e){const t=e.fields?.[fh].arrayValue?.values?.map((i=>At(i.doubleValue)));return new Ys(t)}convertGeoPoint(e){return new Ks(At(e.latitude),At(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=qh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Hc(e));default:return null}}convertTimestamp(e){const t=Pi(e);return new ht(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=dt.fromString(e);Xe(sE(i),9688,{name:e});const o=new qc(i.get(1),i.get(3)),u=new _e(i.popFirst(5));return o.isEqual(t)||kr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class Cc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ra extends LE{constructor(e,t,i,o,u,h){super(e,t,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(UE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ra._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ra._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ra._jsonSchema={type:Ot("string",Ra._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class eh extends Ra{data(e={}){return super.data(e)}}class Fo{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Cc(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new eh(this._firestore,this._userDataWriter,i.key,i,new Cc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((p=>{const g=new eh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Cc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new eh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Cc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,x=-1;return p.type!==0&&(y=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),x=h.indexOf(p.doc.key)),{type:l5(p.type),doc:g,oldIndex:y,newIndex:x}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Fo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=kg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(t.push(u._document),i.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function l5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(n){n=Ns(n,Pt);const e=Ns(n.firestore,Fa);return K3(ry(e),n._key).then((t=>u5(e,n,t)))}Fo._jsonSchemaVersion="firestore/querySnapshot/1.0",Fo._jsonSchema={type:Ot("string",Fo._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class HE extends o5{constructor(e){super(),this.firestore=e}convertBytes(e){return new ls(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,t)}}function qE(n){n=Ns(n,ef);const e=Ns(n.firestore,Fa),t=ry(e),i=new HE(e);return a5(n._query),Y3(t,n._query).then((o=>new Fo(e,i,n,o)))}function uy(n,e,t){n=Ns(n,Pt);const i=Ns(n.firestore,Fa),o=BE(n.converter,e);return rf(i,[OE(iy(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,cs.none())])}function Qs(n,e,t,...i){n=Ns(n,Pt);const o=Ns(n.firestore,Fa),u=iy(o);let h;return h=typeof(e=Ft(e))=="string"||e instanceof tf?s5(u,"updateDoc",n._key,e,t,i):n5(u,"updateDoc",n._key,e),rf(o,[h.toMutation(n._key,cs.exists(!0))])}function FE(n){return rf(Ns(n.firestore,Fa),[new zg(n._key,cs.none())])}function c5(n,e){const t=Ns(n.firestore,Fa),i=_n(n),o=BE(n.converter,e);return rf(t,[OE(iy(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,cs.exists(!1))]).then((()=>i))}function rf(n,e){return(function(i,o){const u=new Ar;return i.asyncQueue.enqueueAndForget((async()=>P3(await G3(i),o,u))),u.promise})(ry(n),e)}function u5(n,e,t){const i=t.docs.get(e._key),o=new HE(n);return new Ra(n,o,e._key,i,new Cc(t.hasPendingWrites,t.fromCache),e.converter)}function as(){return new ay("serverTimestamp")}function Pc(...n){return new oy("arrayUnion",n)}(function(e,t=!0){(function(o){ll=o})(al),Ko(new Oa("firestore",((i,{instanceIdentifier:o,options:u})=>{const h=i.getProvider("app").getImmediate(),p=new Fa(new t4(i.getProvider("auth-internal")),new r4(h,i.getProvider("app-check-internal")),(function(y,x){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ve(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qc(y.options.projectId,x)})(h,o),h);return u={useFetchStreams:t,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),ji(Mw,Vw,e),ji(Mw,Vw,"esm2020")})();const d5={apiKey:"AIzaSyCWttbyjL2Lv0G_vhTPKkY3lzUbvX7yDik",authDomain:"arquitectura-ser.firebaseapp.com",projectId:"arquitectura-ser",storageBucket:"arquitectura-ser.firebasestorage.app",messagingSenderId:"298588646307",appId:"1:298588646307:web:e32bd4de87550f84fa4816"},$E=__(d5),zt=QI($E),rn=X3($E),dy=new qs,h5=new _s,GE=new os;GE.addScope("user:email");GE.setCustomParameters({allow_signup:"false"});dy.setCustomParameters({prompt:"select_account"});/*!
* sweetalert2 v11.23.0
* Released under the MIT License.
*/function KE(n,e,t){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function f5(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ix(n,e){return n.get(KE(n,e))}function m5(n,e,t){f5(n,e),e.set(n,t)}function p5(n,e,t){return n.set(KE(n,e),t),t}const g5=100,Ee={},y5=()=>{Ee.previousActiveElement instanceof HTMLElement?(Ee.previousActiveElement.focus(),Ee.previousActiveElement=null):document.body&&document.body.focus()},v5=n=>new Promise(e=>{if(!n)return e();const t=window.scrollX,i=window.scrollY;Ee.restoreFocusTimeout=setTimeout(()=>{y5(),e()},g5),window.scrollTo(t,i)}),YE="swal2-",b5=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],W=b5.reduce((n,e)=>(n[e]=YE+e,n),{}),w5=["success","warning","info","question","error"],_h=w5.reduce((n,e)=>(n[e]=YE+e,n),{}),QE="SweetAlert2:",hy=n=>n.charAt(0).toUpperCase()+n.slice(1),En=n=>{console.warn(`${QE} ${typeof n=="object"?n.join(" "):n}`)},$a=n=>{console.error(`${QE} ${n}`)},kx=[],x5=n=>{kx.includes(n)||(kx.push(n),En(n))},XE=(n,e=null)=>{x5(`"${n}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},af=n=>typeof n=="function"?n():n,fy=n=>n&&typeof n.toPromise=="function",cu=n=>fy(n)?n.toPromise():Promise.resolve(n),my=n=>n&&Promise.resolve(n)===n,Tn=()=>document.body.querySelector(`.${W.container}`),uu=n=>{const e=Tn();return e?e.querySelector(n):null},$n=n=>uu(`.${n}`),Ke=()=>$n(W.popup),hl=()=>$n(W.icon),_5=()=>$n(W["icon-content"]),WE=()=>$n(W.title),py=()=>$n(W["html-container"]),ZE=()=>$n(W.image),gy=()=>$n(W["progress-steps"]),of=()=>$n(W["validation-message"]),Js=()=>uu(`.${W.actions} .${W.confirm}`),fl=()=>uu(`.${W.actions} .${W.cancel}`),Ga=()=>uu(`.${W.actions} .${W.deny}`),E5=()=>$n(W["input-label"]),ml=()=>uu(`.${W.loader}`),du=()=>$n(W.actions),JE=()=>$n(W.footer),lf=()=>$n(W["timer-progress-bar"]),yy=()=>$n(W.close),T5=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,vy=()=>{const n=Ke();if(!n)return[];const e=n.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),t=Array.from(e).sort((u,h)=>{const p=parseInt(u.getAttribute("tabindex")||"0"),g=parseInt(h.getAttribute("tabindex")||"0");return p>g?1:p<g?-1:0}),i=n.querySelectorAll(T5),o=Array.from(i).filter(u=>u.getAttribute("tabindex")!=="-1");return[...new Set(t.concat(o))].filter(u=>Dn(u))},by=()=>Cr(document.body,W.shown)&&!Cr(document.body,W["toast-shown"])&&!Cr(document.body,W["no-backdrop"]),cf=()=>{const n=Ke();return n?Cr(n,W.toast):!1},N5=()=>{const n=Ke();return n?n.hasAttribute("data-loading"):!1},Gn=(n,e)=>{if(n.textContent="",e){const i=new DOMParser().parseFromString(e,"text/html"),o=i.querySelector("head");o&&Array.from(o.childNodes).forEach(h=>{n.appendChild(h)});const u=i.querySelector("body");u&&Array.from(u.childNodes).forEach(h=>{h instanceof HTMLVideoElement||h instanceof HTMLAudioElement?n.appendChild(h.cloneNode(!0)):n.appendChild(h)})}},Cr=(n,e)=>{if(!e)return!1;const t=e.split(/\s+/);for(let i=0;i<t.length;i++)if(!n.classList.contains(t[i]))return!1;return!0},S5=(n,e)=>{Array.from(n.classList).forEach(t=>{!Object.values(W).includes(t)&&!Object.values(_h).includes(t)&&!Object.values(e.showClass||{}).includes(t)&&n.classList.remove(t)})},Fn=(n,e,t)=>{if(S5(n,e),!e.customClass)return;const i=e.customClass[t];if(i){if(typeof i!="string"&&!i.forEach){En(`Invalid type of customClass.${t}! Expected string or iterable object, got "${typeof i}"`);return}Qe(n,i)}},uf=(n,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return n.querySelector(`.${W.popup} > .${W[e]}`);case"checkbox":return n.querySelector(`.${W.popup} > .${W.checkbox} input`);case"radio":return n.querySelector(`.${W.popup} > .${W.radio} input:checked`)||n.querySelector(`.${W.popup} > .${W.radio} input:first-child`);case"range":return n.querySelector(`.${W.popup} > .${W.range} input`);default:return n.querySelector(`.${W.popup} > .${W.input}`)}},e1=n=>{if(n.focus(),n.type!=="file"){const e=n.value;n.value="",n.value=e}},t1=(n,e,t)=>{!n||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(i=>{Array.isArray(n)?n.forEach(o=>{t?o.classList.add(i):o.classList.remove(i)}):t?n.classList.add(i):n.classList.remove(i)}))},Qe=(n,e)=>{t1(n,e,!0)},ds=(n,e)=>{t1(n,e,!1)},Ni=(n,e)=>{const t=Array.from(n.children);for(let i=0;i<t.length;i++){const o=t[i];if(o instanceof HTMLElement&&Cr(o,e))return o}},Ia=(n,e,t)=>{t===`${parseInt(t)}`&&(t=parseInt(t)),t||parseInt(t)===0?n.style.setProperty(e,typeof t=="number"?`${t}px`:t):n.style.removeProperty(e)},Wt=(n,e="flex")=>{n&&(n.style.display=e)},pn=n=>{n&&(n.style.display="none")},wy=(n,e="block")=>{n&&new MutationObserver(()=>{hu(n,n.innerHTML,e)}).observe(n,{childList:!0,subtree:!0})},Dx=(n,e,t,i)=>{const o=n.querySelector(e);o&&o.style.setProperty(t,i)},hu=(n,e,t="flex")=>{e?Wt(n,t):pn(n)},Dn=n=>!!(n&&(n.offsetWidth||n.offsetHeight||n.getClientRects().length)),A5=()=>!Dn(Js())&&!Dn(Ga())&&!Dn(fl()),og=n=>n.scrollHeight>n.clientHeight,C5=(n,e)=>{let t=n;for(;t&&t!==e;){if(og(t))return!0;t=t.parentElement}return!1},n1=n=>{const e=window.getComputedStyle(n),t=parseFloat(e.getPropertyValue("animation-duration")||"0"),i=parseFloat(e.getPropertyValue("transition-duration")||"0");return t>0||i>0},xy=(n,e=!1)=>{const t=lf();t&&Dn(t)&&(e&&(t.style.transition="none",t.style.width="100%"),setTimeout(()=>{t.style.transition=`width ${n/1e3}s linear`,t.style.width="0%"},10))},j5=()=>{const n=lf();if(!n)return;const e=parseInt(window.getComputedStyle(n).width);n.style.removeProperty("transition"),n.style.width="100%";const t=parseInt(window.getComputedStyle(n).width),i=e/t*100;n.style.width=`${i}%`},R5=()=>typeof window>"u"||typeof document>"u",I5=`
 <div aria-labelledby="${W.title}" aria-describedby="${W["html-container"]}" class="${W.popup}" tabindex="-1">
   <button type="button" class="${W.close}"></button>
   <ul class="${W["progress-steps"]}"></ul>
   <div class="${W.icon}"></div>
   <img class="${W.image}" />
   <h2 class="${W.title}" id="${W.title}"></h2>
   <div class="${W["html-container"]}" id="${W["html-container"]}"></div>
   <input class="${W.input}" id="${W.input}" />
   <input type="file" class="${W.file}" />
   <div class="${W.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${W.select}" id="${W.select}"></select>
   <div class="${W.radio}"></div>
   <label class="${W.checkbox}">
     <input type="checkbox" id="${W.checkbox}" />
     <span class="${W.label}"></span>
   </label>
   <textarea class="${W.textarea}" id="${W.textarea}"></textarea>
   <div class="${W["validation-message"]}" id="${W["validation-message"]}"></div>
   <div class="${W.actions}">
     <div class="${W.loader}"></div>
     <button type="button" class="${W.confirm}"></button>
     <button type="button" class="${W.deny}"></button>
     <button type="button" class="${W.cancel}"></button>
   </div>
   <div class="${W.footer}"></div>
   <div class="${W["timer-progress-bar-container"]}">
     <div class="${W["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),k5=()=>{const n=Tn();return n?(n.remove(),ds([document.documentElement,document.body],[W["no-backdrop"],W["toast-shown"],W["has-column"]]),!0):!1},Sa=()=>{Ee.currentInstance.resetValidationMessage()},D5=()=>{const n=Ke(),e=Ni(n,W.input),t=Ni(n,W.file),i=n.querySelector(`.${W.range} input`),o=n.querySelector(`.${W.range} output`),u=Ni(n,W.select),h=n.querySelector(`.${W.checkbox} input`),p=Ni(n,W.textarea);e.oninput=Sa,t.onchange=Sa,u.onchange=Sa,h.onchange=Sa,p.oninput=Sa,i.oninput=()=>{Sa(),o.value=i.value},i.onchange=()=>{Sa(),o.value=i.value}},O5=n=>typeof n=="string"?document.querySelector(n):n,P5=n=>{const e=Ke();e.setAttribute("role",n.toast?"alert":"dialog"),e.setAttribute("aria-live",n.toast?"polite":"assertive"),n.toast||e.setAttribute("aria-modal","true")},M5=n=>{window.getComputedStyle(n).direction==="rtl"&&Qe(Tn(),W.rtl)},V5=n=>{const e=k5();if(R5()){$a("SweetAlert2 requires document to initialize");return}const t=document.createElement("div");t.className=W.container,e&&Qe(t,W["no-transition"]),Gn(t,I5),t.dataset.swal2Theme=n.theme;const i=O5(n.target);i.appendChild(t),n.topLayer&&(t.setAttribute("popover",""),t.showPopover()),P5(n),M5(i),D5()},_y=(n,e)=>{n instanceof HTMLElement?e.appendChild(n):typeof n=="object"?L5(n,e):n&&Gn(e,n)},L5=(n,e)=>{n.jquery?U5(e,n):Gn(e,n.toString())},U5=(n,e)=>{if(n.textContent="",0 in e)for(let t=0;t in e;t++)n.appendChild(e[t].cloneNode(!0));else n.appendChild(e.cloneNode(!0))},B5=(n,e)=>{const t=du(),i=ml();!t||!i||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?pn(t):Wt(t),Fn(t,e,"actions"),z5(t,i,e),Gn(i,e.loaderHtml||""),Fn(i,e,"loader"))};function z5(n,e,t){const i=Js(),o=Ga(),u=fl();!i||!o||!u||(Ip(i,"confirm",t),Ip(o,"deny",t),Ip(u,"cancel",t),H5(i,o,u,t),t.reverseButtons&&(t.toast?(n.insertBefore(u,i),n.insertBefore(o,i)):(n.insertBefore(u,e),n.insertBefore(o,e),n.insertBefore(i,e))))}function H5(n,e,t,i){if(!i.buttonsStyling){ds([n,e,t],W.styled);return}Qe([n,e,t],W.styled),i.confirmButtonColor&&n.style.setProperty("--swal2-confirm-button-background-color",i.confirmButtonColor),i.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",i.denyButtonColor),i.cancelButtonColor&&t.style.setProperty("--swal2-cancel-button-background-color",i.cancelButtonColor),Rp(n),Rp(e),Rp(t)}function Rp(n){const e=window.getComputedStyle(n);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const t=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");n.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${t}`))}function Ip(n,e,t){const i=hy(e);hu(n,t[`show${i}Button`],"inline-block"),Gn(n,t[`${e}ButtonText`]||""),n.setAttribute("aria-label",t[`${e}ButtonAriaLabel`]||""),n.className=W[e],Fn(n,t,`${e}Button`)}const q5=(n,e)=>{const t=yy();t&&(Gn(t,e.closeButtonHtml||""),Fn(t,e,"closeButton"),hu(t,e.showCloseButton),t.setAttribute("aria-label",e.closeButtonAriaLabel||""))},F5=(n,e)=>{const t=Tn();t&&($5(t,e.backdrop),G5(t,e.position),K5(t,e.grow),Fn(t,e,"container"))};function $5(n,e){typeof e=="string"?n.style.background=e:e||Qe([document.documentElement,document.body],W["no-backdrop"])}function G5(n,e){e&&(e in W?Qe(n,W[e]):(En('The "position" parameter is not valid, defaulting to "center"'),Qe(n,W.center)))}function K5(n,e){e&&Qe(n,W[`grow-${e}`])}var ct={innerParams:new WeakMap,domCache:new WeakMap};const Y5=["input","file","range","select","radio","checkbox","textarea"],Q5=(n,e)=>{const t=Ke();if(!t)return;const i=ct.innerParams.get(n),o=!i||e.input!==i.input;Y5.forEach(u=>{const h=Ni(t,W[u]);h&&(Z5(u,e.inputAttributes),h.className=W[u],o&&pn(h))}),e.input&&(o&&X5(e),J5(e))},X5=n=>{if(!n.input)return;if(!St[n.input]){$a(`Unexpected type of input! Expected ${Object.keys(St).join(" | ")}, got "${n.input}"`);return}const e=s1(n.input);if(!e)return;const t=St[n.input](e,n);Wt(e),n.inputAutoFocus&&setTimeout(()=>{e1(t)})},W5=n=>{for(let e=0;e<n.attributes.length;e++){const t=n.attributes[e].name;["id","type","value","style"].includes(t)||n.removeAttribute(t)}},Z5=(n,e)=>{const t=Ke();if(!t)return;const i=uf(t,n);if(i){W5(i);for(const o in e)i.setAttribute(o,e[o])}},J5=n=>{if(!n.input)return;const e=s1(n.input);e&&Fn(e,n,"input")},Ey=(n,e)=>{!n.placeholder&&e.inputPlaceholder&&(n.placeholder=e.inputPlaceholder)},fu=(n,e,t)=>{if(t.inputLabel){const i=document.createElement("label"),o=W["input-label"];i.setAttribute("for",n.id),i.className=o,typeof t.customClass=="object"&&Qe(i,t.customClass.inputLabel),i.innerText=t.inputLabel,e.insertAdjacentElement("beforebegin",i)}},s1=n=>{const e=Ke();if(e)return Ni(e,W[n]||W.input)},Eh=(n,e)=>{["string","number"].includes(typeof e)?n.value=`${e}`:my(e)||En(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},St={};St.text=St.email=St.password=St.number=St.tel=St.url=St.search=St.date=St["datetime-local"]=St.time=St.week=St.month=(n,e)=>(Eh(n,e.inputValue),fu(n,n,e),Ey(n,e),n.type=e.input,n);St.file=(n,e)=>(fu(n,n,e),Ey(n,e),n);St.range=(n,e)=>{const t=n.querySelector("input"),i=n.querySelector("output");return Eh(t,e.inputValue),t.type=e.input,Eh(i,e.inputValue),fu(t,n,e),n};St.select=(n,e)=>{if(n.textContent="",e.inputPlaceholder){const t=document.createElement("option");Gn(t,e.inputPlaceholder),t.value="",t.disabled=!0,t.selected=!0,n.appendChild(t)}return fu(n,n,e),n};St.radio=n=>(n.textContent="",n);St.checkbox=(n,e)=>{const t=uf(Ke(),"checkbox");t.value="1",t.checked=!!e.inputValue;const i=n.querySelector("span");return Gn(i,e.inputPlaceholder||e.inputLabel),t};St.textarea=(n,e)=>{Eh(n,e.inputValue),Ey(n,e),fu(n,n,e);const t=i=>parseInt(window.getComputedStyle(i).marginLeft)+parseInt(window.getComputedStyle(i).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const i=parseInt(window.getComputedStyle(Ke()).width),o=()=>{if(!document.body.contains(n))return;const u=n.offsetWidth+t(n);u>i?Ke().style.width=`${u}px`:Ia(Ke(),"width",e.width)};new MutationObserver(o).observe(n,{attributes:!0,attributeFilter:["style"]})}}),n};const eD=(n,e)=>{const t=py();t&&(wy(t),Fn(t,e,"htmlContainer"),e.html?(_y(e.html,t),Wt(t,"block")):e.text?(t.textContent=e.text,Wt(t,"block")):pn(t),Q5(n,e))},tD=(n,e)=>{const t=JE();t&&(wy(t),hu(t,e.footer,"block"),e.footer&&_y(e.footer,t),Fn(t,e,"footer"))},nD=(n,e)=>{const t=ct.innerParams.get(n),i=hl();if(!i)return;if(t&&e.icon===t.icon){Px(i,e),Ox(i,e);return}if(!e.icon&&!e.iconHtml){pn(i);return}if(e.icon&&Object.keys(_h).indexOf(e.icon)===-1){$a(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),pn(i);return}Wt(i),Px(i,e),Ox(i,e),Qe(i,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",r1)},Ox=(n,e)=>{for(const[t,i]of Object.entries(_h))e.icon!==t&&ds(n,i);Qe(n,e.icon&&_h[e.icon]),iD(n,e),r1(),Fn(n,e,"icon")},r1=()=>{const n=Ke();if(!n)return;const e=window.getComputedStyle(n).getPropertyValue("background-color"),t=n.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let i=0;i<t.length;i++)t[i].style.backgroundColor=e},sD=n=>`
  ${n.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${n.animation?'<div class="swal2-success-fix"></div>':""}
  ${n.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,rD=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Px=(n,e)=>{if(!e.icon&&!e.iconHtml)return;let t=n.innerHTML,i="";e.iconHtml?i=Mx(e.iconHtml):e.icon==="success"?(i=sD(e),t=t.replace(/ style=".*?"/g,"")):e.icon==="error"?i=rD:e.icon&&(i=Mx({question:"?",warning:"!",info:"i"}[e.icon])),t.trim()!==i.trim()&&Gn(n,i)},iD=(n,e)=>{if(e.iconColor){n.style.color=e.iconColor,n.style.borderColor=e.iconColor;for(const t of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Dx(n,t,"background-color",e.iconColor);Dx(n,".swal2-success-ring","border-color",e.iconColor)}},Mx=n=>`<div class="${W["icon-content"]}">${n}</div>`,aD=(n,e)=>{const t=ZE();if(t){if(!e.imageUrl){pn(t);return}Wt(t,""),t.setAttribute("src",e.imageUrl),t.setAttribute("alt",e.imageAlt||""),Ia(t,"width",e.imageWidth),Ia(t,"height",e.imageHeight),t.className=W.image,Fn(t,e,"image")}};let Ty=!1,i1=0,a1=0,o1=0,l1=0;const oD=n=>{n.addEventListener("mousedown",Th),document.body.addEventListener("mousemove",Nh),n.addEventListener("mouseup",Sh),n.addEventListener("touchstart",Th),document.body.addEventListener("touchmove",Nh),n.addEventListener("touchend",Sh)},lD=n=>{n.removeEventListener("mousedown",Th),document.body.removeEventListener("mousemove",Nh),n.removeEventListener("mouseup",Sh),n.removeEventListener("touchstart",Th),document.body.removeEventListener("touchmove",Nh),n.removeEventListener("touchend",Sh)},Th=n=>{const e=Ke();if(n.target===e||hl().contains(n.target)){Ty=!0;const t=c1(n);i1=t.clientX,a1=t.clientY,o1=parseInt(e.style.insetInlineStart)||0,l1=parseInt(e.style.insetBlockStart)||0,Qe(e,"swal2-dragging")}},Nh=n=>{const e=Ke();if(Ty){let{clientX:t,clientY:i}=c1(n);e.style.insetInlineStart=`${o1+(t-i1)}px`,e.style.insetBlockStart=`${l1+(i-a1)}px`}},Sh=()=>{const n=Ke();Ty=!1,ds(n,"swal2-dragging")},c1=n=>{let e=0,t=0;return n.type.startsWith("mouse")?(e=n.clientX,t=n.clientY):n.type.startsWith("touch")&&(e=n.touches[0].clientX,t=n.touches[0].clientY),{clientX:e,clientY:t}},cD=(n,e)=>{const t=Tn(),i=Ke();if(!(!t||!i)){if(e.toast){Ia(t,"width",e.width),i.style.width="100%";const o=ml();o&&i.insertBefore(o,hl())}else Ia(i,"width",e.width);Ia(i,"padding",e.padding),e.color&&(i.style.color=e.color),e.background&&(i.style.background=e.background),pn(of()),uD(i,e),e.draggable&&!e.toast?(Qe(i,W.draggable),oD(i)):(ds(i,W.draggable),lD(i))}},uD=(n,e)=>{const t=e.showClass||{};n.className=`${W.popup} ${Dn(n)?t.popup:""}`,e.toast?(Qe([document.documentElement,document.body],W["toast-shown"]),Qe(n,W.toast)):Qe(n,W.modal),Fn(n,e,"popup"),typeof e.customClass=="string"&&Qe(n,e.customClass),e.icon&&Qe(n,W[`icon-${e.icon}`])},dD=(n,e)=>{const t=gy();if(!t)return;const{progressSteps:i,currentProgressStep:o}=e;if(!i||i.length===0||o===void 0){pn(t);return}Wt(t),t.textContent="",o>=i.length&&En("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),i.forEach((u,h)=>{const p=hD(u);if(t.appendChild(p),h===o&&Qe(p,W["active-progress-step"]),h!==i.length-1){const g=fD(e);t.appendChild(g)}})},hD=n=>{const e=document.createElement("li");return Qe(e,W["progress-step"]),Gn(e,n),e},fD=n=>{const e=document.createElement("li");return Qe(e,W["progress-step-line"]),n.progressStepsDistance&&Ia(e,"width",n.progressStepsDistance),e},mD=(n,e)=>{const t=WE();t&&(wy(t),hu(t,e.title||e.titleText,"block"),e.title&&_y(e.title,t),e.titleText&&(t.innerText=e.titleText),Fn(t,e,"title"))},u1=(n,e)=>{cD(n,e),F5(n,e),dD(n,e),nD(n,e),aD(n,e),mD(n,e),q5(n,e),eD(n,e),B5(n,e),tD(n,e);const t=Ke();typeof e.didRender=="function"&&t&&e.didRender(t),Ee.eventEmitter.emit("didRender",t)},pD=()=>Dn(Ke()),d1=()=>{var n;return(n=Js())===null||n===void 0?void 0:n.click()},gD=()=>{var n;return(n=Ga())===null||n===void 0?void 0:n.click()},yD=()=>{var n;return(n=fl())===null||n===void 0?void 0:n.click()},pl=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),h1=n=>{n.keydownTarget&&n.keydownHandlerAdded&&(n.keydownTarget.removeEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!1)},vD=(n,e,t)=>{h1(n),e.toast||(n.keydownHandler=i=>wD(e,i,t),n.keydownTarget=e.keydownListenerCapture?window:Ke(),n.keydownListenerCapture=e.keydownListenerCapture,n.keydownTarget.addEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!0)},lg=(n,e)=>{var t;const i=vy();if(i.length){n=n+e,n===-2&&(n=i.length-1),n===i.length?n=0:n===-1&&(n=i.length-1),i[n].focus();return}(t=Ke())===null||t===void 0||t.focus()},f1=["ArrowRight","ArrowDown"],bD=["ArrowLeft","ArrowUp"],wD=(n,e,t)=>{n&&(e.isComposing||e.keyCode===229||(n.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?xD(e,n):e.key==="Tab"?_D(e):[...f1,...bD].includes(e.key)?ED(e.key):e.key==="Escape"&&TD(e,n,t)))},xD=(n,e)=>{if(!af(e.allowEnterKey))return;const t=uf(Ke(),e.input);if(n.target&&t&&n.target instanceof HTMLElement&&n.target.outerHTML===t.outerHTML){if(["textarea","file"].includes(e.input))return;d1(),n.preventDefault()}},_D=n=>{const e=n.target,t=vy();let i=-1;for(let o=0;o<t.length;o++)if(e===t[o]){i=o;break}n.shiftKey?lg(i,-1):lg(i,1),n.stopPropagation(),n.preventDefault()},ED=n=>{const e=du(),t=Js(),i=Ga(),o=fl();if(!e||!t||!i||!o)return;const u=[t,i,o];if(document.activeElement instanceof HTMLElement&&!u.includes(document.activeElement))return;const h=f1.includes(n)?"nextElementSibling":"previousElementSibling";let p=document.activeElement;if(p){for(let g=0;g<e.children.length;g++){if(p=p[h],!p)return;if(p instanceof HTMLButtonElement&&Dn(p))break}p instanceof HTMLButtonElement&&p.focus()}},TD=(n,e,t)=>{n.preventDefault(),af(e.allowEscapeKey)&&t(pl.esc)};var tl={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const ND=()=>{const n=Tn();Array.from(document.body.children).forEach(t=>{t.contains(n)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})},m1=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},p1=typeof window<"u"&&!!window.GestureEvent,SD=()=>{if(p1&&!Cr(document.body,W.iosfix)){const n=document.body.scrollTop;document.body.style.top=`${n*-1}px`,Qe(document.body,W.iosfix),AD()}},AD=()=>{const n=Tn();if(!n)return;let e;n.ontouchstart=t=>{e=CD(t)},n.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}},CD=n=>{const e=n.target,t=Tn(),i=py();return!t||!i||jD(n)||RD(n)?!1:e===t||!og(t)&&e instanceof HTMLElement&&!C5(e,i)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(og(i)&&i.contains(e))},jD=n=>n.touches&&n.touches.length&&n.touches[0].touchType==="stylus",RD=n=>n.touches&&n.touches.length>1,ID=()=>{if(Cr(document.body,W.iosfix)){const n=parseInt(document.body.style.top,10);ds(document.body,W.iosfix),document.body.style.top="",document.body.scrollTop=n*-1}},kD=()=>{const n=document.createElement("div");n.className=W["scrollbar-measure"],document.body.appendChild(n);const e=n.getBoundingClientRect().width-n.clientWidth;return document.body.removeChild(n),e};let $o=null;const DD=n=>{$o===null&&(document.body.scrollHeight>window.innerHeight||n==="scroll")&&($o=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${$o+kD()}px`)},OD=()=>{$o!==null&&(document.body.style.paddingRight=`${$o}px`,$o=null)};function g1(n,e,t,i){cf()?Vx(n,i):(v5(t).then(()=>Vx(n,i)),h1(Ee)),p1?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),by()&&(OD(),ID(),m1()),PD()}function PD(){ds([document.documentElement,document.body],[W.shown,W["height-auto"],W["no-backdrop"],W["toast-shown"]])}function Si(n){n=VD(n);const e=tl.swalPromiseResolve.get(this),t=MD(this);this.isAwaitingPromise?n.isDismissed||(mu(this),e(n)):t&&e(n)}const MD=n=>{const e=Ke();if(!e)return!1;const t=ct.innerParams.get(n);if(!t||Cr(e,t.hideClass.popup))return!1;ds(e,t.showClass.popup),Qe(e,t.hideClass.popup);const i=Tn();return ds(i,t.showClass.backdrop),Qe(i,t.hideClass.backdrop),LD(n,e,t),!0};function y1(n){const e=tl.swalPromiseReject.get(this);mu(this),e&&e(n)}const mu=n=>{n.isAwaitingPromise&&(delete n.isAwaitingPromise,ct.innerParams.get(n)||n._destroy())},VD=n=>typeof n>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},n),LD=(n,e,t)=>{var i;const o=Tn(),u=n1(e);typeof t.willClose=="function"&&t.willClose(e),(i=Ee.eventEmitter)===null||i===void 0||i.emit("willClose",e),u?UD(n,e,o,t.returnFocus,t.didClose):g1(n,o,t.returnFocus,t.didClose)},UD=(n,e,t,i,o)=>{Ee.swalCloseEventFinishedCallback=g1.bind(null,n,t,i,o);const u=function(h){if(h.target===e){var p;(p=Ee.swalCloseEventFinishedCallback)===null||p===void 0||p.call(Ee),delete Ee.swalCloseEventFinishedCallback,e.removeEventListener("animationend",u),e.removeEventListener("transitionend",u)}};e.addEventListener("animationend",u),e.addEventListener("transitionend",u)},Vx=(n,e)=>{setTimeout(()=>{var t;typeof e=="function"&&e.bind(n.params)(),(t=Ee.eventEmitter)===null||t===void 0||t.emit("didClose"),n._destroy&&n._destroy()})},nl=n=>{let e=Ke();if(e||new he,e=Ke(),!e)return;const t=ml();cf()?pn(hl()):BD(e,n),Wt(t),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},BD=(n,e)=>{const t=du(),i=ml();!t||!i||(!e&&Dn(Js())&&(e=Js()),Wt(t),e&&(pn(e),i.setAttribute("data-button-to-replace",e.className),t.insertBefore(i,e)),Qe([n,t],W.loading))},zD=(n,e)=>{e.input==="select"||e.input==="radio"?GD(n,e):["text","email","number","tel","textarea"].some(t=>t===e.input)&&(fy(e.inputValue)||my(e.inputValue))&&(nl(Js()),KD(n,e))},HD=(n,e)=>{const t=n.getInput();if(!t)return null;switch(e.input){case"checkbox":return qD(t);case"radio":return FD(t);case"file":return $D(t);default:return e.inputAutoTrim?t.value.trim():t.value}},qD=n=>n.checked?1:0,FD=n=>n.checked?n.value:null,$D=n=>n.files&&n.files.length?n.getAttribute("multiple")!==null?n.files:n.files[0]:null,GD=(n,e)=>{const t=Ke();if(!t)return;const i=o=>{e.input==="select"?YD(t,Ah(o),e):e.input==="radio"&&QD(t,Ah(o),e)};fy(e.inputOptions)||my(e.inputOptions)?(nl(Js()),cu(e.inputOptions).then(o=>{n.hideLoading(),i(o)})):typeof e.inputOptions=="object"?i(e.inputOptions):$a(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},KD=(n,e)=>{const t=n.getInput();t&&(pn(t),cu(e.inputValue).then(i=>{t.value=e.input==="number"?`${parseFloat(i)||0}`:`${i}`,Wt(t),t.focus(),n.hideLoading()}).catch(i=>{$a(`Error in inputValue promise: ${i}`),t.value="",Wt(t),t.focus(),n.hideLoading()}))};function YD(n,e,t){const i=Ni(n,W.select);if(!i)return;const o=(u,h,p)=>{const g=document.createElement("option");g.value=p,Gn(g,h),g.selected=v1(p,t.inputValue),u.appendChild(g)};e.forEach(u=>{const h=u[0],p=u[1];if(Array.isArray(p)){const g=document.createElement("optgroup");g.label=h,g.disabled=!1,i.appendChild(g),p.forEach(y=>o(g,y[1],y[0]))}else o(i,p,h)}),i.focus()}function QD(n,e,t){const i=Ni(n,W.radio);if(!i)return;e.forEach(u=>{const h=u[0],p=u[1],g=document.createElement("input"),y=document.createElement("label");g.type="radio",g.name=W.radio,g.value=h,v1(h,t.inputValue)&&(g.checked=!0);const x=document.createElement("span");Gn(x,p),x.className=W.label,y.appendChild(g),y.appendChild(x),i.appendChild(y)});const o=i.querySelectorAll("input");o.length&&o[0].focus()}const Ah=n=>{const e=[];return n instanceof Map?n.forEach((t,i)=>{let o=t;typeof o=="object"&&(o=Ah(o)),e.push([i,o])}):Object.keys(n).forEach(t=>{let i=n[t];typeof i=="object"&&(i=Ah(i)),e.push([t,i])}),e},v1=(n,e)=>!!e&&e.toString()===n.toString(),XD=n=>{const e=ct.innerParams.get(n);n.disableButtons(),e.input?b1(n,"confirm"):Sy(n,!0)},WD=n=>{const e=ct.innerParams.get(n);n.disableButtons(),e.returnInputValueOnDeny?b1(n,"deny"):Ny(n,!1)},ZD=(n,e)=>{n.disableButtons(),e(pl.cancel)},b1=(n,e)=>{const t=ct.innerParams.get(n);if(!t.input){$a(`The "input" parameter is needed to be set when using returnInputValueOn${hy(e)}`);return}const i=n.getInput(),o=HD(n,t);t.inputValidator?JD(n,o,e):i&&!i.checkValidity()?(n.enableButtons(),n.showValidationMessage(t.validationMessage||i.validationMessage)):e==="deny"?Ny(n,o):Sy(n,o)},JD=(n,e,t)=>{const i=ct.innerParams.get(n);n.disableInput(),Promise.resolve().then(()=>cu(i.inputValidator(e,i.validationMessage))).then(u=>{n.enableButtons(),n.enableInput(),u?n.showValidationMessage(u):t==="deny"?Ny(n,e):Sy(n,e)})},Ny=(n,e)=>{const t=ct.innerParams.get(n||void 0);t.showLoaderOnDeny&&nl(Ga()),t.preDeny?(n.isAwaitingPromise=!0,Promise.resolve().then(()=>cu(t.preDeny(e,t.validationMessage))).then(o=>{o===!1?(n.hideLoading(),mu(n)):n.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>w1(n||void 0,o))):n.close({isDenied:!0,value:e})},Lx=(n,e)=>{n.close({isConfirmed:!0,value:e})},w1=(n,e)=>{n.rejectPromise(e)},Sy=(n,e)=>{const t=ct.innerParams.get(n||void 0);t.showLoaderOnConfirm&&nl(),t.preConfirm?(n.resetValidationMessage(),n.isAwaitingPromise=!0,Promise.resolve().then(()=>cu(t.preConfirm(e,t.validationMessage))).then(o=>{Dn(of())||o===!1?(n.hideLoading(),mu(n)):Lx(n,typeof o>"u"?e:o)}).catch(o=>w1(n||void 0,o))):Lx(n,e)};function Ch(){const n=ct.innerParams.get(this);if(!n)return;const e=ct.domCache.get(this);pn(e.loader),cf()?n.icon&&Wt(hl()):e6(e),ds([e.popup,e.actions],W.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const e6=n=>{const e=n.popup.getElementsByClassName(n.loader.getAttribute("data-button-to-replace"));e.length?Wt(e[0],"inline-block"):A5()&&pn(n.actions)};function x1(){const n=ct.innerParams.get(this),e=ct.domCache.get(this);return e?uf(e.popup,n.input):null}function _1(n,e,t){const i=ct.domCache.get(n);e.forEach(o=>{i[o].disabled=t})}function E1(n,e){const t=Ke();if(!(!t||!n))if(n.type==="radio"){const i=t.querySelectorAll(`[name="${W.radio}"]`);for(let o=0;o<i.length;o++)i[o].disabled=e}else n.disabled=e}function T1(){_1(this,["confirmButton","denyButton","cancelButton"],!1)}function N1(){_1(this,["confirmButton","denyButton","cancelButton"],!0)}function S1(){E1(this.getInput(),!1)}function A1(){E1(this.getInput(),!0)}function C1(n){const e=ct.domCache.get(this),t=ct.innerParams.get(this);Gn(e.validationMessage,n),e.validationMessage.className=W["validation-message"],t.customClass&&t.customClass.validationMessage&&Qe(e.validationMessage,t.customClass.validationMessage),Wt(e.validationMessage);const i=this.getInput();i&&(i.setAttribute("aria-invalid","true"),i.setAttribute("aria-describedby",W["validation-message"]),e1(i),Qe(i,W.inputerror))}function j1(){const n=ct.domCache.get(this);n.validationMessage&&pn(n.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),ds(e,W.inputerror))}const Go={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},t6=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],n6={allowEnterKey:void 0},s6=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],R1=n=>Object.prototype.hasOwnProperty.call(Go,n),I1=n=>t6.indexOf(n)!==-1,k1=n=>n6[n],r6=n=>{R1(n)||En(`Unknown parameter "${n}"`)},i6=n=>{s6.includes(n)&&En(`The parameter "${n}" is incompatible with toasts`)},a6=n=>{const e=k1(n);e&&XE(n,e)},D1=n=>{n.backdrop===!1&&n.allowOutsideClick&&En('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),n.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(n.theme)&&En(`Invalid theme "${n.theme}"`);for(const e in n)r6(e),n.toast&&i6(e),a6(e)};function O1(n){const e=Tn(),t=Ke(),i=ct.innerParams.get(this);if(!t||Cr(t,i.hideClass.popup)){En("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const o=o6(n),u=Object.assign({},i,o);D1(u),e.dataset.swal2Theme=u.theme,u1(this,u),ct.innerParams.set(this,u),Object.defineProperties(this,{params:{value:Object.assign({},this.params,n),writable:!1,enumerable:!0}})}const o6=n=>{const e={};return Object.keys(n).forEach(t=>{I1(t)?e[t]=n[t]:En(`Invalid parameter to update: ${t}`)}),e};function P1(){const n=ct.domCache.get(this),e=ct.innerParams.get(this);if(!e){M1(this);return}n.popup&&Ee.swalCloseEventFinishedCallback&&(Ee.swalCloseEventFinishedCallback(),delete Ee.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),Ee.eventEmitter.emit("didDestroy"),l6(this)}const l6=n=>{M1(n),delete n.params,delete Ee.keydownHandler,delete Ee.keydownTarget,delete Ee.currentInstance},M1=n=>{n.isAwaitingPromise?(kp(ct,n),n.isAwaitingPromise=!0):(kp(tl,n),kp(ct,n),delete n.isAwaitingPromise,delete n.disableButtons,delete n.enableButtons,delete n.getInput,delete n.disableInput,delete n.enableInput,delete n.hideLoading,delete n.disableLoading,delete n.showValidationMessage,delete n.resetValidationMessage,delete n.close,delete n.closePopup,delete n.closeModal,delete n.closeToast,delete n.rejectPromise,delete n.update,delete n._destroy)},kp=(n,e)=>{for(const t in n)n[t].delete(e)};var c6=Object.freeze({__proto__:null,_destroy:P1,close:Si,closeModal:Si,closePopup:Si,closeToast:Si,disableButtons:N1,disableInput:A1,disableLoading:Ch,enableButtons:T1,enableInput:S1,getInput:x1,handleAwaitingPromise:mu,hideLoading:Ch,rejectPromise:y1,resetValidationMessage:j1,showValidationMessage:C1,update:O1});const u6=(n,e,t)=>{n.toast?d6(n,e,t):(f6(e),m6(e),p6(n,e,t))},d6=(n,e,t)=>{e.popup.onclick=()=>{n&&(h6(n)||n.timer||n.input)||t(pl.close)}},h6=n=>!!(n.showConfirmButton||n.showDenyButton||n.showCancelButton||n.showCloseButton);let jh=!1;const f6=n=>{n.popup.onmousedown=()=>{n.container.onmouseup=function(e){n.container.onmouseup=()=>{},e.target===n.container&&(jh=!0)}}},m6=n=>{n.container.onmousedown=e=>{e.target===n.container&&e.preventDefault(),n.popup.onmouseup=function(t){n.popup.onmouseup=()=>{},(t.target===n.popup||t.target instanceof HTMLElement&&n.popup.contains(t.target))&&(jh=!0)}}},p6=(n,e,t)=>{e.container.onclick=i=>{if(jh){jh=!1;return}i.target===e.container&&af(n.allowOutsideClick)&&t(pl.backdrop)}},g6=n=>typeof n=="object"&&n.jquery,Ux=n=>n instanceof Element||g6(n),y6=n=>{const e={};return typeof n[0]=="object"&&!Ux(n[0])?Object.assign(e,n[0]):["title","html","icon"].forEach((t,i)=>{const o=n[i];typeof o=="string"||Ux(o)?e[t]=o:o!==void 0&&$a(`Unexpected type of ${t}! Expected "string" or "Element", got ${typeof o}`)}),e};function v6(...n){return new this(...n)}function b6(n){class e extends this{_main(i,o){return super._main(i,Object.assign({},n,o))}}return e}const w6=()=>Ee.timeout&&Ee.timeout.getTimerLeft(),V1=()=>{if(Ee.timeout)return j5(),Ee.timeout.stop()},L1=()=>{if(Ee.timeout){const n=Ee.timeout.start();return xy(n),n}},x6=()=>{const n=Ee.timeout;return n&&(n.running?V1():L1())},_6=n=>{if(Ee.timeout){const e=Ee.timeout.increase(n);return xy(e,!0),e}},E6=()=>!!(Ee.timeout&&Ee.timeout.isRunning());let Bx=!1;const cg={};function T6(n="data-swal-template"){cg[n]=this,Bx||(document.body.addEventListener("click",N6),Bx=!0)}const N6=n=>{for(let e=n.target;e&&e!==document;e=e.parentNode)for(const t in cg){const i=e.getAttribute(t);if(i){cg[t].fire({template:i});return}}};class S6{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,t){const i=this._getHandlersByEventName(e);i.includes(t)||i.push(t)}once(e,t){const i=(...o)=>{this.removeListener(e,i),t.apply(this,o)};this.on(e,i)}emit(e,...t){this._getHandlersByEventName(e).forEach(i=>{try{i.apply(this,t)}catch(o){console.error(o)}})}removeListener(e,t){const i=this._getHandlersByEventName(e),o=i.indexOf(t);o>-1&&i.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}Ee.eventEmitter=new S6;const A6=(n,e)=>{Ee.eventEmitter.on(n,e)},C6=(n,e)=>{Ee.eventEmitter.once(n,e)},j6=(n,e)=>{if(!n){Ee.eventEmitter.reset();return}e?Ee.eventEmitter.removeListener(n,e):Ee.eventEmitter.removeAllListeners(n)};var R6=Object.freeze({__proto__:null,argsToParams:y6,bindClickHandler:T6,clickCancel:yD,clickConfirm:d1,clickDeny:gD,enableLoading:nl,fire:v6,getActions:du,getCancelButton:fl,getCloseButton:yy,getConfirmButton:Js,getContainer:Tn,getDenyButton:Ga,getFocusableElements:vy,getFooter:JE,getHtmlContainer:py,getIcon:hl,getIconContent:_5,getImage:ZE,getInputLabel:E5,getLoader:ml,getPopup:Ke,getProgressSteps:gy,getTimerLeft:w6,getTimerProgressBar:lf,getTitle:WE,getValidationMessage:of,increaseTimer:_6,isDeprecatedParameter:k1,isLoading:N5,isTimerRunning:E6,isUpdatableParameter:I1,isValidParameter:R1,isVisible:pD,mixin:b6,off:j6,on:A6,once:C6,resumeTimer:L1,showLoading:nl,stopTimer:V1,toggleTimer:x6});class I6{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const U1=["swal-title","swal-html","swal-footer"],k6=n=>{const e=typeof n.template=="string"?document.querySelector(n.template):n.template;if(!e)return{};const t=e.content;return B6(t),Object.assign(D6(t),O6(t),P6(t),M6(t),V6(t),L6(t),U6(t,U1))},D6=n=>{const e={};return Array.from(n.querySelectorAll("swal-param")).forEach(i=>{Ua(i,["name","value"]);const o=i.getAttribute("name"),u=i.getAttribute("value");!o||!u||(typeof Go[o]=="boolean"?e[o]=u!=="false":typeof Go[o]=="object"?e[o]=JSON.parse(u):e[o]=u)}),e},O6=n=>{const e={};return Array.from(n.querySelectorAll("swal-function-param")).forEach(i=>{const o=i.getAttribute("name"),u=i.getAttribute("value");!o||!u||(e[o]=new Function(`return ${u}`)())}),e},P6=n=>{const e={};return Array.from(n.querySelectorAll("swal-button")).forEach(i=>{Ua(i,["type","color","aria-label"]);const o=i.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=i.innerHTML,e[`show${hy(o)}Button`]=!0,i.hasAttribute("color")&&(e[`${o}ButtonColor`]=i.getAttribute("color")),i.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=i.getAttribute("aria-label")))}),e},M6=n=>{const e={},t=n.querySelector("swal-image");return t&&(Ua(t,["src","width","height","alt"]),t.hasAttribute("src")&&(e.imageUrl=t.getAttribute("src")||void 0),t.hasAttribute("width")&&(e.imageWidth=t.getAttribute("width")||void 0),t.hasAttribute("height")&&(e.imageHeight=t.getAttribute("height")||void 0),t.hasAttribute("alt")&&(e.imageAlt=t.getAttribute("alt")||void 0)),e},V6=n=>{const e={},t=n.querySelector("swal-icon");return t&&(Ua(t,["type","color"]),t.hasAttribute("type")&&(e.icon=t.getAttribute("type")),t.hasAttribute("color")&&(e.iconColor=t.getAttribute("color")),e.iconHtml=t.innerHTML),e},L6=n=>{const e={},t=n.querySelector("swal-input");t&&(Ua(t,["type","label","placeholder","value"]),e.input=t.getAttribute("type")||"text",t.hasAttribute("label")&&(e.inputLabel=t.getAttribute("label")),t.hasAttribute("placeholder")&&(e.inputPlaceholder=t.getAttribute("placeholder")),t.hasAttribute("value")&&(e.inputValue=t.getAttribute("value")));const i=Array.from(n.querySelectorAll("swal-input-option"));return i.length&&(e.inputOptions={},i.forEach(o=>{Ua(o,["value"]);const u=o.getAttribute("value");if(!u)return;const h=o.innerHTML;e.inputOptions[u]=h})),e},U6=(n,e)=>{const t={};for(const i in e){const o=e[i],u=n.querySelector(o);u&&(Ua(u,[]),t[o.replace(/^swal-/,"")]=u.innerHTML.trim())}return t},B6=n=>{const e=U1.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(n.children).forEach(t=>{const i=t.tagName.toLowerCase();e.includes(i)||En(`Unrecognized element <${i}>`)})},Ua=(n,e)=>{Array.from(n.attributes).forEach(t=>{e.indexOf(t.name)===-1&&En([`Unrecognized attribute "${t.name}" on <${n.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},B1=10,z6=n=>{const e=Tn(),t=Ke();typeof n.willOpen=="function"&&n.willOpen(t),Ee.eventEmitter.emit("willOpen",t);const o=window.getComputedStyle(document.body).overflowY;F6(e,t,n),setTimeout(()=>{H6(e,t)},B1),by()&&(q6(e,n.scrollbarPadding,o),ND()),!cf()&&!Ee.previousActiveElement&&(Ee.previousActiveElement=document.activeElement),typeof n.didOpen=="function"&&setTimeout(()=>n.didOpen(t)),Ee.eventEmitter.emit("didOpen",t),ds(e,W["no-transition"])},Rh=n=>{const e=Ke();if(n.target!==e)return;const t=Tn();e.removeEventListener("animationend",Rh),e.removeEventListener("transitionend",Rh),t.style.overflowY="auto"},H6=(n,e)=>{n1(e)?(n.style.overflowY="hidden",e.addEventListener("animationend",Rh),e.addEventListener("transitionend",Rh)):n.style.overflowY="auto"},q6=(n,e,t)=>{SD(),e&&t!=="hidden"&&DD(t),setTimeout(()=>{n.scrollTop=0})},F6=(n,e,t)=>{Qe(n,t.showClass.backdrop),t.animation?(e.style.setProperty("opacity","0","important"),Wt(e,"grid"),setTimeout(()=>{Qe(e,t.showClass.popup),e.style.removeProperty("opacity")},B1)):Wt(e,"grid"),Qe([document.documentElement,document.body],W.shown),t.heightAuto&&t.backdrop&&!t.toast&&Qe([document.documentElement,document.body],W["height-auto"])};var zx={email:(n,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(n)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(n,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(n)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function $6(n){n.inputValidator||(n.input==="email"&&(n.inputValidator=zx.email),n.input==="url"&&(n.inputValidator=zx.url))}function G6(n){(!n.target||typeof n.target=="string"&&!document.querySelector(n.target)||typeof n.target!="string"&&!n.target.appendChild)&&(En('Target parameter is not valid, defaulting to "body"'),n.target="body")}function K6(n){$6(n),n.showLoaderOnConfirm&&!n.preConfirm&&En(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),G6(n),typeof n.title=="string"&&(n.title=n.title.split(`
`).join("<br />")),V5(n)}let zs;var zd=new WeakMap;class Ct{constructor(...e){if(m5(this,zd,void 0),typeof window>"u")return;zs=this;const t=Object.freeze(this.constructor.argsToParams(e));this.params=t,this.isAwaitingPromise=!1,p5(zd,this,this._main(zs.params))}_main(e,t={}){if(D1(Object.assign({},t,e)),Ee.currentInstance){const u=tl.swalPromiseResolve.get(Ee.currentInstance),{isAwaitingPromise:h}=Ee.currentInstance;Ee.currentInstance._destroy(),h||u({isDismissed:!0}),by()&&m1()}Ee.currentInstance=zs;const i=Q6(e,t);K6(i),Object.freeze(i),Ee.timeout&&(Ee.timeout.stop(),delete Ee.timeout),clearTimeout(Ee.restoreFocusTimeout);const o=X6(zs);return u1(zs,i),ct.innerParams.set(zs,i),Y6(zs,o,i)}then(e){return Ix(zd,this).then(e)}finally(e){return Ix(zd,this).finally(e)}}const Y6=(n,e,t)=>new Promise((i,o)=>{const u=h=>{n.close({isDismissed:!0,dismiss:h})};tl.swalPromiseResolve.set(n,i),tl.swalPromiseReject.set(n,o),e.confirmButton.onclick=()=>{XD(n)},e.denyButton.onclick=()=>{WD(n)},e.cancelButton.onclick=()=>{ZD(n,u)},e.closeButton.onclick=()=>{u(pl.close)},u6(t,e,u),vD(Ee,t,u),zD(n,t),z6(t),W6(Ee,t,u),Z6(e,t),setTimeout(()=>{e.container.scrollTop=0})}),Q6=(n,e)=>{const t=k6(n),i=Object.assign({},Go,e,t,n);return i.showClass=Object.assign({},Go.showClass,i.showClass),i.hideClass=Object.assign({},Go.hideClass,i.hideClass),i.animation===!1&&(i.showClass={backdrop:"swal2-noanimation"},i.hideClass={}),i},X6=n=>{const e={popup:Ke(),container:Tn(),actions:du(),confirmButton:Js(),denyButton:Ga(),cancelButton:fl(),loader:ml(),closeButton:yy(),validationMessage:of(),progressSteps:gy()};return ct.domCache.set(n,e),e},W6=(n,e,t)=>{const i=lf();pn(i),e.timer&&(n.timeout=new I6(()=>{t("timer"),delete n.timeout},e.timer),e.timerProgressBar&&(Wt(i),Fn(i,e,"timerProgressBar"),setTimeout(()=>{n.timeout&&n.timeout.running&&xy(e.timer)})))},Z6=(n,e)=>{if(!e.toast){if(!af(e.allowEnterKey)){XE("allowEnterKey"),tO();return}J6(n)||eO(n,e)||lg(-1,1)}},J6=n=>{const e=Array.from(n.popup.querySelectorAll("[autofocus]"));for(const t of e)if(t instanceof HTMLElement&&Dn(t))return t.focus(),!0;return!1},eO=(n,e)=>e.focusDeny&&Dn(n.denyButton)?(n.denyButton.focus(),!0):e.focusCancel&&Dn(n.cancelButton)?(n.cancelButton.focus(),!0):e.focusConfirm&&Dn(n.confirmButton)?(n.confirmButton.focus(),!0):!1,tO=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Ct.prototype.disableButtons=N1;Ct.prototype.enableButtons=T1;Ct.prototype.getInput=x1;Ct.prototype.disableInput=A1;Ct.prototype.enableInput=S1;Ct.prototype.hideLoading=Ch;Ct.prototype.disableLoading=Ch;Ct.prototype.showValidationMessage=C1;Ct.prototype.resetValidationMessage=j1;Ct.prototype.close=Si;Ct.prototype.closePopup=Si;Ct.prototype.closeModal=Si;Ct.prototype.closeToast=Si;Ct.prototype.rejectPromise=y1;Ct.prototype.update=O1;Ct.prototype._destroy=P1;Object.assign(Ct,R6);Object.keys(c6).forEach(n=>{Ct[n]=function(...e){return zs&&zs[n]?zs[n](...e):null}});Ct.DismissReason=pl;Ct.version="11.23.0";const he=Ct;he.default=he;typeof document<"u"&&(function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const nO=()=>{const n=za(),[e,t]=I.useState(!1),[i,o]=I.useState(!1),[u,h]=I.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),[p,g]=I.useState(!1),y=()=>{t(!e)},x=()=>{o(!i)},E=k=>{const{name:B,value:Q}=k.target;h(L=>({...L,[B]:Q}))},N=async k=>{k.preventDefault();const{firstName:B,lastName:Q,email:L,password:X,confirmPassword:$}=u;if(!B||!Q||!L||!X||!$)return he.fire("Error","Todos los campos son obligatorios","error");if(X.length<6)return he.fire("Error","La contrasea debe tener al menos 6 caracteres","error");if(X!==$)return he.fire("Error","Las contraseas no coinciden","error");g(!0);try{const Z=L.toLowerCase(),oe=(await W_(zt,Z,X)).user;await uy(_n(rn,"usuarios",oe.uid),{uid:oe.uid,firstName:B,lastName:Q,email:Z,estado:"activo",rol:"usuario",creado:new Date,metodo:"password"}),he.fire("xito!","Cuenta creada exitosamente","success"),h({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),n("/Dashboard")}catch(Z){console.error("Error completo en registro:",Z),console.error("Cdigo del error:",Z.code),console.error("Mensaje del error:",Z.message),Z.code==="auth/email-already-in-use"?he.fire("Error","Este correo electrnico ya est registrado","error"):Z.code==="auth/weak-password"?he.fire("Error","La contrasea es muy dbil","error"):Z.code==="auth/invalid-email"?he.fire("Error","Correo electrnico invlido","error"):Z.code==="auth/operation-not-allowed"?he.fire("Error","El registro con email/contrasea no est habilitado","error"):Z.code==="auth/network-request-failed"?he.fire("Error","Error de conexin. Verifica tu internet","error"):he.fire({title:"Error en registro",text:`Cdigo: ${Z.code}
Mensaje: ${Z.message}`,icon:"error",confirmButtonText:"OK"})}finally{g(!1)}};return c.jsxs("div",{className:"fixed inset-0 bg-gradient-to-br from-purple-600 via-pink-500 to-orange-400 flex overflow-y-auto ",children:[c.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[c.jsx("div",{className:"absolute top-20 left-20 w-20 h-20 bg-white/10 rounded-full blur-xl"}),c.jsx("div",{className:"absolute top-40 right-32 w-32 h-32 bg-white/5 rounded-full blur-2xl"}),c.jsx("div",{className:"absolute bottom-32 left-40 w-24 h-24 bg-white/10 rounded-full blur-xl"}),c.jsx("div",{className:"absolute bottom-20 right-20 w-16 h-16 bg-white/15 rounded-full blur-lg"})]}),c.jsxs("div",{className:"relative mx-auto w-full flex bg-white/95 backdrop-blur-sm shadow-2xl overflow-hidden",children:[c.jsxs("div",{className:"hidden lg:flex lg:w-2/5 bg-gradient-to-br from-purple-600 to-pink-500 p-12 flex-col justify-center items-center relative",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-600/90 to-pink-500/90"}),c.jsxs("div",{className:"relative text-center",children:[c.jsx("div",{className:"w-48 h-48 mx-auto mb-8 relative",children:c.jsx("div",{className:"w-full h-full bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm",children:c.jsx("div",{className:"text-8xl",children:""})})}),c.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Join Learn Flow"}),c.jsx("p",{className:"text-white/90 text-lg mb-8",children:"Start your English learning journey today"}),c.jsxs("div",{className:"space-y-4 text-white/80",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx(Ca,{className:"w-5 h-5"}),c.jsx("span",{children:"Free to Start"})]}),c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx(u_,{className:"w-5 h-5"}),c.jsx("span",{children:"AI-Powered Learning"})]})]})]}),c.jsx("div",{className:"absolute top-20 left-10 w-6 h-6 bg-white/20 rounded-full animate-bounce",style:{animationDelay:"0s"}}),c.jsx("div",{className:"absolute top-32 right-16 w-4 h-4 bg-white/30 rounded-full animate-bounce",style:{animationDelay:"0.5s"}}),c.jsx("div",{className:"absolute bottom-32 left-16 w-8 h-8 bg-white/15 rounded-full animate-bounce",style:{animationDelay:"1s"}}),c.jsx("div",{className:"absolute bottom-20 right-10 w-5 h-5 bg-white/25 rounded-full animate-bounce",style:{animationDelay:"1.5s"}})]}),c.jsx("div",{className:"w-full lg:w-3/5 p-8 lg:p-12 flex flex-col justify-center",children:c.jsxs("div",{className:"max-w-md mx-auto w-full",children:[c.jsxs("div",{className:"lg:hidden text-center mb-8",children:[c.jsxs("div",{className:"inline-flex items-center gap-2 text-purple-600 mb-4",children:[c.jsx(Ph,{className:"w-8 h-8"}),c.jsx("span",{className:"text-2xl font-bold",children:"Learn Flow"})]}),c.jsx("p",{className:"text-gray-600",children:"Start your English learning journey"})]}),c.jsx("form",{onSubmit:N,className:"register-form",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),c.jsxs("div",{className:"relative",children:[c.jsx(Hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{type:"text",name:"firstName",value:u.firstName,onChange:E,className:"w-full pl-12 pr-4 py-3 border border-gray-300 text-black rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white",placeholder:"First name",required:!0,disabled:p})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),c.jsxs("div",{className:"relative",children:[c.jsx(Hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{type:"text",name:"lastName",value:u.lastName,onChange:E,className:"w-full pl-12 pr-4 py-3 border border-gray-300 text-black rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white",placeholder:"Last name",required:!0,disabled:p})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx(ki,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{type:"email",name:"email",value:u.email,onChange:E,className:"w-full pl-12 pr-4 py-3 border border-gray-300 text-black rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white",placeholder:"Enter your email",required:!0,disabled:p})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(Nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{type:e?"text":"password",name:"password",value:u.password,onChange:E,className:"w-full pl-12 pr-12 py-3 border border-gray-300 text-black rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white",placeholder:"Create password (min. 6 characters)",required:!0,minLength:"6",disabled:p}),c.jsx("button",{type:"button",onClick:y,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",disabled:p,children:e?c.jsx(ka,{className:"w-5 h-5"}):c.jsx(Da,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(Nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{type:i?"text":"password",name:"confirmPassword",value:u.confirmPassword,onChange:E,className:"w-full pl-12 pr-12 py-3 border text-black border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white",placeholder:"Confirm your password",required:!0,disabled:p}),c.jsx("button",{type:"button",onClick:x,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",disabled:p,children:i?c.jsx(ka,{className:"w-5 h-5"}):c.jsx(Da,{className:"w-5 h-5"})})]})]}),c.jsx("button",{type:"submit",disabled:p,className:"w-full bg-gradient-to-r from-purple-600 to-pink-500 text-white py-3 rounded-xl font-semibold text-lg hover:from-purple-700 hover:to-pink-600 transform hover:scale-[1.02] transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:p?c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Creating Account..."]}):"Create Account"})]})}),c.jsxs("div",{className:"mt-8 text-center",children:[c.jsxs("span",{className:"text-gray-600",children:["Already have an account?"," "]}),c.jsx("a",{href:"/Login",className:"text-purple-600 hover:text-purple-700 font-semibold transition-colors",children:"Sign in"})]})]})})]})]})},sO=()=>{const[n,e]=I.useState([]),[t,i]=I.useState(!0),[o,u]=I.useState(!1),[h,p]=I.useState(!1),[g,y]=I.useState(null),[x,E]=I.useState(!1),[N,k]=I.useState({title:"",description:"",status:"pendiente",language:"ingles",level:"principiante"}),B=za(),Q=[{value:"ingles",label:"Ingls",flag:""},{value:"frances",label:"Francs",flag:""},{value:"aleman",label:"Alemn",flag:""},{value:"italiano",label:"Italiano",flag:""},{value:"portugues",label:"Portugus",flag:""},{value:"chino",label:"Chino",flag:""},{value:"japones",label:"Japons",flag:""},{value:"coreano",label:"Coreano",flag:""},{value:"ruso",label:"Ruso",flag:""},{value:"arabe",label:"rabe",flag:""}],L=[{value:"principiante",label:"Principiante (A1-A2)",color:"bg-green-100 text-green-800"},{value:"intermedio",label:"Intermedio (B1-B2)",color:"bg-yellow-100 text-yellow-800"},{value:"avanzado",label:"Avanzado (C1-C2)",color:"bg-red-100 text-red-800"}],X=async()=>{try{i(!0),console.log("Cargando lecciones desde Firebase...");const le=await qE(ig(rn,"lecciones")),F=[];le.forEach(ae=>{F.push({id:ae.id,...ae.data()})}),F.sort((ae,fe)=>{const ke=ae.createdAt?.toDate()||new Date(0);return(fe.createdAt?.toDate()||new Date(0))-ke}),console.log("Lecciones cargadas:",F.length),e(F)}catch(le){console.error("Error loading lessons:",le),he.fire("Error","No se pudieron cargar las lecciones","error")}finally{i(!1)}};I.useEffect(()=>{X()},[]);const $=()=>{p(!1),y(null),k({title:"",description:"",status:"pendiente",language:"ingles",level:"principiante"}),u(!0)},Z=le=>{p(!0),y(le),k({title:le.title,description:le.description,status:le.status,language:le.language,level:le.level}),u(!0)},pe=()=>{u(!1),p(!1),y(null),k({title:"",description:"",status:"pendiente",language:"ingles",level:"principiante"})},oe=le=>{const{name:F,value:ae}=le.target;k(fe=>({...fe,[F]:ae}))},ye=async le=>{if(le.preventDefault(),!N.title.trim())return he.fire("Error","El ttulo es obligatorio","error");E(!0);try{if(h&&g){const F=_n(rn,"lecciones",g.id);await Qs(F,{...N,updatedAt:as()}),e(n.map(ae=>ae.id===g.id?{...ae,...N,updatedAt:new Date}:ae)),he.fire("xito!","Leccin actualizada correctamente","success")}else{const ae={id:(await c5(ig(rn,"lecciones"),{...N,createdAt:as(),updatedAt:as()})).id,...N,createdAt:new Date,updatedAt:new Date};e([ae,...n]),he.fire("xito!","Leccin creada correctamente","success")}pe()}catch(F){console.error("Error saving lesson:",F),he.fire("Error",`No se pudo guardar la leccin: ${F.message}`,"error")}finally{E(!1)}},S=async(le,F)=>{if((await he.fire({title:"Ests seguro?",text:`Quieres eliminar la leccin "${F}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, eliminar",cancelButtonText:"Cancelar"})).isConfirmed)try{await FE(_n(rn,"lecciones",le)),e(n.filter(fe=>fe.id!==le)),he.fire("Eliminada","Leccin eliminada exitosamente","success")}catch(fe){console.error("Error deleting lesson:",fe),he.fire("Error","No se pudo eliminar la leccin","error")}},A=async(le,F)=>{const fe={pendiente:"en-progreso","en-progreso":"completada",completada:"pendiente"}[F]||"pendiente";try{const ke=_n(rn,"lecciones",le);await Qs(ke,{status:fe,updatedAt:as()}),e(n.map(D=>D.id===le?{...D,status:fe}:D)),he.fire({icon:"success",title:"Estado actualizado",text:`Ahora est: ${M(fe)}`,timer:1500,showConfirmButton:!1})}catch(ke){console.error("Error updating status:",ke),he.fire("Error","No se pudo actualizar el estado","error")}},C=le=>{switch(le){case"completada":return"bg-green-100 text-green-800 border-green-200";case"en-progreso":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-yellow-100 text-yellow-800 border-yellow-200"}},M=le=>{switch(le){case"completada":return"Dominada";case"en-progreso":return"Estudiando";default:return"Por Estudiar"}},O=le=>{const F=L.find(ae=>ae.value===le);return F?F.color:"bg-gray-100 text-gray-800"},U=le=>{const F=Q.find(ae=>ae.value===le);return F?F.flag:""},R=le=>{const F=Q.find(ae=>ae.value===le);return F?F.label:le},at=()=>{B("/dashboard")};return c.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-indigo-600 via-gray-700 to-blue-400 overflow-y-auto",children:c.jsxs("div",{className:"w-4/5 h-full mx-auto my-[2%] p-5 md:p-6 lg:p-8 ",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:at,className:"bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white p-2 rounded-lg transition-all duration-200",children:c.jsx(yg,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex items-center gap-3 text-white",children:[c.jsx(nw,{className:"w-8 h-8"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Gestin de Lecciones"}),c.jsx("p",{className:"text-white/80",children:"Administra tu aprendizaje de idiomas"})]})]})]}),c.jsxs("div",{className:"flex items-center ml-4 gap-4",children:[c.jsxs("button",{onClick:$,className:"bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white px-4 py-2 rounded-lg transition-all duration-200 flex items-center gap-2",children:[c.jsx(VA,{className:"w-5 h-5"}),"Nueva Leccin"]}),c.jsxs("div",{className:"text-white text-right",children:[c.jsx("div",{className:"text-2xl text-center font-bold",children:n.length}),c.jsx("div",{className:"text-white/80 text-sm",children:"Total lecciones"})]})]})]}),c.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl p-6 mb-6 shadow-xl",children:c.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:n.filter(le=>le.status==="pendiente").length}),c.jsx("div",{className:"text-sm text-gray-600",children:"Por Estudiar"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-3xl font-bold text-blue-600",children:n.filter(le=>le.status==="en-progreso").length}),c.jsx("div",{className:"text-sm text-gray-600",children:"Estudiando"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-3xl font-bold text-green-600",children:n.filter(le=>le.status==="completada").length}),c.jsx("div",{className:"text-sm text-gray-600",children:"Dominadas"})]})]})}),c.jsx("div",{className:"mb-6",children:c.jsx("button",{onClick:X,className:"bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white px-4 py-2 rounded-lg transition-all duration-200",children:"Actualizar Lista"})}),t?c.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl p-12 text-center shadow-xl",children:[c.jsx(nw,{className:"w-16 h-16 text-gray-400 mx-auto mb-4 animate-pulse"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"Cargando lecciones..."}),c.jsx("p",{className:"text-gray-500",children:"Por favor espera un momento"})]}):n.length===0?c.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl p-12 text-center shadow-xl",children:[c.jsx(Ph,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No hay lecciones"}),c.jsx("p",{className:"text-gray-500 mb-4",children:"Crea tu primera leccin de idiomas para empezar"}),c.jsx("button",{onClick:$,className:"bg-gradient-to-r from-indigo-500 to-purple-500 text-white px-6 py-3 rounded-lg hover:from-indigo-600 hover:to-purple-600 transition-all duration-200",children:"Crear Primera Leccin"})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(le=>c.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[c.jsx("div",{className:"flex items-start justify-between mb-4",children:c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"text-2xl",children:U(le.language)}),c.jsx("h3",{className:"text-lg font-bold text-gray-800",children:le.title})]}),c.jsx("p",{className:"text-sm text-gray-600 mb-3",children:le.description}),c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold border ${C(le.status)}`,children:M(le.status)}),c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${O(le.level)}`,children:L.find(F=>F.value===le.level)?.label.split(" ")[0]}),c.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-medium",children:R(le.language)})]})]})}),c.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t border-gray-200",children:[c.jsxs("button",{onClick:()=>A(le.id,le.status),className:"flex-1 px-3 py-2 bg-indigo-100 text-white rounded-lg hover:bg-indigo-200 transition-all text-sm font-medium",children:[c.jsx(Ca,{className:"w-4 h-4 inline mr-1"}),"Estado"]}),c.jsx("button",{onClick:()=>Z(le),className:"px-3 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-all",children:c.jsx(c_,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>S(le.id,le.title),className:"px-3 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-all",children:c.jsx(d_,{className:"w-4 h-4"})})]})]},le.id))}),o&&c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:c.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:h?"Editar Leccin":"Nueva Leccin"}),c.jsx("button",{onClick:pe,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:x,children:c.jsx(JA,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ttulo de la leccin *"}),c.jsx("input",{type:"text",name:"title",value:N.title,onChange:oe,className:"w-full text-black px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Ej: Vocabulario de viajes",required:!0,disabled:x})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripcin"}),c.jsx("textarea",{name:"description",value:N.description,onChange:oe,rows:3,className:"w-full text-black px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Qu vas a estudiar en esta leccin?",disabled:x})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Idioma"}),c.jsx("select",{name:"language",value:N.language,onChange:oe,className:"w-full text-black px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",disabled:x,children:Q.map(le=>c.jsxs("option",{value:le.value,children:[le.flag," ",le.label]},le.value))})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nivel"}),c.jsx("select",{name:"level",value:N.level,onChange:oe,className:"w-full text-black px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",disabled:x,children:L.map(le=>c.jsx("option",{value:le.value,children:le.label},le.value))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado"}),c.jsxs("select",{name:"status",value:N.status,onChange:oe,className:"w-full text-black px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",disabled:x,children:[c.jsx("option",{value:"pendiente",children:"Por Estudiar"}),c.jsx("option",{value:"en-progreso",children:"Estudiando"}),c.jsx("option",{value:"completada",children:"Dominada"})]})]})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:pe,className:"flex-1 text-white px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-medium",disabled:x,children:"Cancelar"}),c.jsx("button",{type:"button",onClick:ye,disabled:x,className:"flex-1 px-4 py-2 bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded-lg hover:from-indigo-600 hover:to-purple-600 transition-all duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:x?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Guardando..."]}):h?"Actualizar":"Crear"})]})]})]})})})]})})},rO=async n=>{try{await Z_(zt),he.fire("Sesin cerrada","Hasta pronto ","success"),n("/login")}catch{he.fire("Error","No se pudo cerrar sesin","error")}},iO=()=>{const n=za(),[e,t]=I.useState(null),i=u=>{console.log(`Clicked on ${u} module`)},o=()=>{n("/profile")};return c.jsxs("div",{className:"fixed inset-0 bg-gradient-to-br from-purple-600 via-pink-500 to-orange-400 overflow-y-auto p-5",children:[c.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[c.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-white/5 rounded-full blur-3xl"}),c.jsx("div",{className:"absolute bottom-32 right-40 w-40 h-40 bg-white/5 rounded-full blur-3xl"}),c.jsx("div",{className:"absolute top-1/2 left-1/2 w-24 h-24 bg-white/10 rounded-full blur-2xl"})]}),c.jsxs("div",{className:"relative mx-auto w-full max-w-5xl",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsxs("div",{className:"inline-flex items-center gap-3 text-white mb-4",children:[c.jsx(Ph,{className:"w-10 h-10"}),c.jsx("span",{className:"text-5xl font-bold",children:"Learn Flow Dashboard"})]}),c.jsx("p",{className:"text-white/90 text-xl",children:"Gestiona tu plataforma de aprendizaje"}),c.jsxs("div",{className:"mt-6 flex justify-center gap-4",children:[c.jsxs("button",{onClick:o,className:"inline-flex items-center gap-2 bg-purple-600 text-white px-5 py-2 rounded-lg hover:bg-purple-700 transition-all duration-200 transform hover:scale-105",children:[c.jsx(Hs,{size:18}),"Mi Perfil"]}),c.jsxs("button",{onClick:()=>rO(n),className:"inline-flex items-center gap-2 bg-red-600 text-white px-5 py-2 rounded-lg hover:bg-red-700 transition-all duration-200 transform hover:scale-105",children:[c.jsx(o_,{size:18}),"Cerrar sesin"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[c.jsxs("div",{className:`group relative bg-white/90 backdrop-blur-sm rounded-3xl p-8 cursor-pointer transition-all duration-300 transform ${e==="usuarios"?"scale-105 bg-white/95":"hover:scale-102"} shadow-2xl`,onMouseEnter:()=>t("usuarios"),onMouseLeave:()=>t(null),onClick:()=>i("users"),children:[c.jsx("div",{className:"absolute top-6 right-6 w-3 h-3 bg-blue-400/40 rounded-full"}),c.jsx("div",{className:"absolute top-12 right-12 w-2 h-2 bg-purple-400/30 rounded-full"}),c.jsx("div",{className:"absolute bottom-8 left-8 w-4 h-4 bg-blue-300/20 rounded-full"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:`w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center mb-6 transition-all duration-300 ${e==="usuarios"?"rotate-3 scale-110":""}`,children:c.jsx(Fd,{className:"w-8 h-8 text-white"})}),c.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Usuarios"}),c.jsx("p",{className:"text-gray-600 text-lg mb-8 leading-relaxed",children:"Gestiona todos los usuarios de tu plataforma. Crea, edita y administra perfiles, roles y permisos de manera intuitiva."}),c.jsxs("div",{className:"space-y-3 mb-8",children:[c.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),c.jsx("span",{className:"text-sm",children:"Gestin completa de usuarios"})]}),c.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[c.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),c.jsx("span",{className:"text-sm",children:"Control de roles y permisos"})]})]}),c.jsx("div",{className:`transition-all duration-300 ${e==="usuarios"?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:c.jsx("a",{href:"/users",children:c.jsx("button",{className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-3 rounded-xl font-semibold hover:from-blue-600 hover:to-purple-700 transition-all duration-200 shadow-lg",children:"Gestionar Usuarios"})})})]})]}),c.jsxs("div",{className:`group relative bg-white/90 backdrop-blur-sm rounded-3xl p-8 cursor-pointer transition-all duration-300 transform ${e==="lessons"?"scale-105 bg-white/95":"hover:scale-102"} shadow-2xl`,onMouseEnter:()=>t("lessons"),onMouseLeave:()=>t(null),onClick:()=>i("lessons"),children:[c.jsx("div",{className:"absolute top-6 right-6 w-3 h-3 bg-emerald-400/40 rounded-full"}),c.jsx("div",{className:"absolute top-12 right-12 w-2 h-2 bg-teal-400/30 rounded-full"}),c.jsx("div",{className:"absolute bottom-8 left-8 w-4 h-4 bg-emerald-300/20 rounded-full"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:`w-16 h-16 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center mb-6 transition-all duration-300 ${e==="lessons"?"rotate-3 scale-110":""}`,children:c.jsx(a_,{className:"w-8 h-8 text-white"})}),c.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Lessons"}),c.jsx("p",{className:"text-gray-600 text-lg mb-8 leading-relaxed",children:"Administra el contenido educativo. Crea nuevas lecciones, organiza por categoras y gestiona el material de aprendizaje."}),c.jsxs("div",{className:"space-y-3 mb-8",children:[c.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[c.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),c.jsx("span",{className:"text-sm",children:"Contenido interactivo"})]}),c.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[c.jsx("div",{className:"w-2 h-2 bg-teal-500 rounded-full"}),c.jsx("span",{className:"text-sm",children:"Seguimiento de progreso"})]})]}),c.jsx("div",{className:`transition-all duration-300 ${e==="lessons"?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:c.jsx("a",{href:"/Lessons",children:c.jsx("button",{className:"w-full bg-gradient-to-r from-emerald-500 to-teal-600 text-white py-3 rounded-xl font-semibold hover:from-emerald-600 hover:to-teal-700 transition-all duration-200 shadow-lg",children:"Gestionar Lessons"})})})]})]})]}),c.jsx("div",{className:"text-center mt-4",children:c.jsx("p",{className:"text-white/80",children:"Haz clic en cualquier mdulo para acceder a sus funcionalidades"})})]})]})},aO=()=>{const[n,e]=I.useState([]),[t,i]=I.useState(!0),[o,u]=I.useState(""),[h,p]=I.useState("all"),[g,y]=I.useState("all"),[x,E]=I.useState(!1),[N,k]=I.useState(!1),[B,Q]=I.useState(!1),[L,X]=I.useState(!1),[$,Z]=I.useState(!1),[pe,oe]=I.useState(!1),[ye,S]=I.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",role:"usuario"}),[A,C]=I.useState({id:"",firstName:"",lastName:"",email:"",role:"usuario",estado:"activo"}),M=za(),O=()=>{M("/dashboard")},U=async te=>{te.preventDefault();const{firstName:De,lastName:xe,email:$e,password:jt,confirmPassword:Nn,role:Sn}=ye;if(!De||!xe||!$e||!jt||!Nn)return he.fire("Error","Todos los campos son obligatorios","error");if(jt.length<6)return he.fire("Error","La contrasea debe tener al menos 6 caracteres","error");if(jt!==Nn)return he.fire("Error","Las contraseas no coinciden","error");if(!(Sn==="admin"&&!(await he.fire({title:"Crear usuario administrador?",text:"Esta accin crear un usuario con privilegios de administrador",icon:"question",showCancelButton:!0,confirmButtonText:"S, crear admin",cancelButtonText:"Cancelar"})).isConfirmed)){Q(!0);try{const Rt=$e.toLowerCase(),Kn=(await W_(zt,Rt,jt)).user;await uy(_n(rn,"usuarios",Kn.uid),{uid:Kn.uid,firstName:De,lastName:xe,email:Rt,estado:"activo",rol:Sn,creado:new Date,metodo:"password",creadoPor:"admin-interface"});const qi={id:Kn.uid,uid:Kn.uid,firstName:De,lastName:xe,email:Rt,estado:"activo",rol:Sn,creado:new Date,metodo:"password"};e([qi,...n]),he.fire("xito!",`Usuario ${Sn} creado exitosamente`,"success"),S({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",role:"usuario"}),E(!1)}catch(Rt){console.error("Error creando usuario:",Rt),Rt.code==="auth/email-already-in-use"?he.fire("Error","Este correo electrnico ya est registrado","error"):Rt.code==="auth/weak-password"?he.fire("Error","La contrasea es muy dbil","error"):Rt.code==="auth/invalid-email"?he.fire("Error","Correo electrnico invlido","error"):he.fire("Error",`No se pudo crear el usuario: ${Rt.message}`,"error")}finally{Q(!1)}}},R=te=>{C({id:te.id,firstName:te.firstName||"",lastName:te.lastName||"",email:te.email||"",role:te.rol||"usuario",estado:te.estado||"activo"}),k(!0)},at=async te=>{te.preventDefault();const{id:De,firstName:xe,lastName:$e,email:jt,role:Nn,estado:Sn}=A;if(!xe||!$e||!jt)return he.fire("Error","Nombre, apellido y email son obligatorios","error");const Rt=n.find(gn=>gn.id===De);if(!(Nn==="admin"&&Rt?.rol!=="admin"&&!(await he.fire({title:"Cambiar a administrador?",text:"Esta accin dar privilegios de administrador a este usuario",icon:"question",showCancelButton:!0,confirmButtonText:"S, cambiar rol",cancelButtonText:"Cancelar"})).isConfirmed)){X(!0);try{const gn=_n(rn,"usuarios",De);await Qs(gn,{firstName:xe,lastName:$e,email:jt.toLowerCase(),rol:Nn,estado:Sn,actualizado:new Date}),e(n.map(Kn=>Kn.id===De?{...Kn,firstName:xe,lastName:$e,email:jt.toLowerCase(),rol:Nn,estado:Sn}:Kn)),he.fire({title:"Actualizado!",text:"Usuario actualizado exitosamente",icon:"success",timer:1500,showConfirmButton:!1}),k(!1),C({id:"",firstName:"",lastName:"",email:"",role:"usuario",estado:"activo"})}catch(gn){console.error("Error actualizando usuario:",gn),he.fire("Error",`No se pudo actualizar el usuario: ${gn.message}`,"error")}finally{X(!1)}}},le=te=>{const{name:De,value:xe}=te.target;S($e=>({...$e,[De]:xe}))},F=te=>{const{name:De,value:xe}=te.target;C($e=>({...$e,[De]:xe}))},ae=()=>{E(!1),S({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",role:"usuario"}),Z(!1),oe(!1)},fe=()=>{k(!1),C({id:"",firstName:"",lastName:"",email:"",role:"usuario",estado:"activo"})},ke=async()=>{try{i(!0);const te=await qE(ig(rn,"usuarios")),De=[];te.forEach(xe=>{De.push({id:xe.id,...xe.data()})}),De.sort((xe,$e)=>{const jt=xe.creado?.toDate()||new Date(0);return($e.creado?.toDate()||new Date(0))-jt}),e(De)}catch(te){console.error("Error loading users:",te),he.fire("Error",`No se pudieron cargar los usuarios: ${te.message}`,"error")}finally{i(!1)}};I.useEffect(()=>{const te=setTimeout(()=>{i(!1),he.fire("Error","La carga de usuarios tard demasiado. Verifica tu conexin.","warning")},1e4);ke().finally(()=>{clearTimeout(te)})},[]);const D=n.filter(te=>{const De=te.firstName?.toLowerCase().includes(o.toLowerCase())||te.lastName?.toLowerCase().includes(o.toLowerCase())||te.email?.toLowerCase().includes(o.toLowerCase()),xe=h==="all"||te.rol===h,$e=g==="all"||te.estado===g;return De&&xe&&$e}),re=async(te,De)=>{try{const xe=De==="activo"?"inactivo":"activo",$e=_n(rn,"usuarios",te);await Qs($e,{estado:xe}),e(n.map(jt=>jt.id===te?{...jt,estado:xe}:jt)),he.fire("Actualizado",`Usuario ${xe==="activo"?"activado":"desactivado"} exitosamente`,"success")}catch(xe){console.error("Error updating user status:",xe),he.fire("Error","No se pudo actualizar el estado del usuario","error")}},de=async(te,De)=>{if((await he.fire({title:"Ests seguro?",text:`Quieres eliminar al usuario ${De}?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S, eliminar",cancelButtonText:"Cancelar"})).isConfirmed)try{await FE(_n(rn,"usuarios",te)),e(n.filter($e=>$e.id!==te)),he.fire("Eliminado","Usuario eliminado exitosamente","success")}catch($e){console.error("Error deleting user:",$e),he.fire("Error","No se pudo eliminar el usuario","error")}},ue=te=>{switch(te){case"admin":return c.jsx(EA,{className:"w-4 h-4"});case"moderador":return c.jsx(l_,{className:"w-4 h-4"});default:return c.jsx(Hs,{className:"w-4 h-4"})}},be=te=>{switch(te){case"admin":return"bg-purple-100 text-purple-800 border-purple-200";case"moderador":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},Me=(te,De)=>`${te?.charAt(0)||""}${De?.charAt(0)||""}`.toUpperCase();return c.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-green-800 via-emerald-800 to-green-400 overflow-y-auto p-6",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:O,className:"bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white p-2 rounded-lg transition-all duration-200",children:c.jsx(yg,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex items-center gap-3 text-white",children:[c.jsx(Fd,{className:"w-8 h-8"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Gestin de Usuarios"}),c.jsx("p",{className:"text-white/80",children:"Administra todos los usuarios de la plataforma"})]})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("button",{onClick:()=>E(!0),className:"bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white px-4 py-2 rounded-lg transition-all duration-200 flex items-center gap-2",children:[c.jsx(KA,{className:"w-5 h-5"}),"Crear Usuario"]}),c.jsxs("div",{className:"text-white text-right",children:[c.jsx("div",{className:"text-2xl font-bold",children:n.length}),c.jsx("div",{className:"text-white/80 text-sm",children:"Total usuarios"})]})]})]}),c.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl p-6 mb-6 shadow-xl",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(UA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{type:"text",placeholder:"Buscar usuarios...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-black",value:o,onChange:te=>u(te.target.value)})]}),c.jsxs("select",{className:"px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-black",value:h,onChange:te=>p(te.target.value),children:[c.jsx("option",{value:"all",children:"Todos los roles"}),c.jsx("option",{value:"usuario",children:"Usuario"}),c.jsx("option",{value:"admin",children:"Admin"}),c.jsx("option",{value:"moderador",children:"Moderador"})]}),c.jsxs("select",{className:"px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-black",value:g,onChange:te=>y(te.target.value),children:[c.jsx("option",{value:"all",children:"Todos los estados"}),c.jsx("option",{value:"activo",children:"Activo"}),c.jsx("option",{value:"inactivo",children:"Inactivo"})]}),c.jsx("button",{onClick:ke,className:"bg-gradient-to-r from-green-700 to-green-800 text-white px-4 py-2 rounded-lg transition-all duration-200",children:"Actualizar"})]})}),t?c.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl p-12 text-center shadow-xl",children:[c.jsx(Fd,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"Cargando usuarios..."}),c.jsx("p",{className:"text-gray-500",children:"Por favor espera un momento"})]}):D.length===0?c.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl p-12 text-center shadow-xl",children:[c.jsx(Fd,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No se encontraron usuarios"}),c.jsx("p",{className:"text-gray-500",children:"Intenta cambiar los filtros de bsqueda"})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:D.map(te=>c.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl p-6 shadow-xl hover:shadow-2xl transition-all duration-300",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-700 to-green-800 rounded-full flex items-center justify-center text-white font-semibold",children:Me(te.firstName,te.lastName)}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("h3",{className:"font-semibold text-gray-800",children:[te.firstName," ",te.lastName]}),c.jsx("p",{className:"text-sm text-gray-600",children:te.email})]})]}),c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold border ${te.estado==="activo"?"bg-green-100 text-green-800 border-green-200":"bg-red-100 text-red-800 border-red-200"}`,children:te.estado==="activo"?"Activo":"Inactivo"}),c.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-semibold border flex items-center gap-1 ${be(te.rol)}`,children:[ue(te.rol),te.rol?.charAt(0).toUpperCase()+te.rol?.slice(1)]})]}),c.jsxs("div",{className:"space-y-2 mb-4 text-sm text-gray-600",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Creado:"})," "," ",te.creado?.toDate()?.toLocaleDateString()||"N/A"]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Mtodo:"})," ",te.metodo||"N/A"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>re(te.id,te.estado),className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${te.estado==="activo"?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:te.estado==="activo"?c.jsxs(c.Fragment,{children:[c.jsx(QA,{className:"w-4 h-4 inline mr-1"}),"Desactivar"]}):c.jsxs(c.Fragment,{children:[c.jsx($A,{className:"w-4 h-4 inline mr-1"}),"Activar"]})}),c.jsx("button",{onClick:()=>R(te),className:"px-3 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-all duration-200",title:"Editar usuario",children:c.jsx(c_,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>de(te.id,te.email),className:"px-3 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-all duration-200",title:"Eliminar usuario",children:c.jsx(d_,{className:"w-4 h-4"})})]})]},te.id))}),x&&c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:c.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Crear Nuevo Usuario"}),c.jsx("button",{onClick:ae,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:B,children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("form",{onSubmit:U,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rol"}),c.jsxs("select",{name:"role",value:ye.role,onChange:le,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-800",required:!0,disabled:B,children:[c.jsx("option",{value:"usuario",children:"Usuario"}),c.jsx("option",{value:"moderador",children:"Moderador"}),c.jsx("option",{value:"admin",children:"Administrador"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre"}),c.jsxs("div",{className:"relative",children:[c.jsx(Hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),c.jsx("input",{type:"text",name:"firstName",value:ye.firstName,onChange:le,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-800",placeholder:"Nombre",required:!0,disabled:B})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Apellido"}),c.jsxs("div",{className:"relative",children:[c.jsx(Hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),c.jsx("input",{type:"text",name:"lastName",value:ye.lastName,onChange:le,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-800",placeholder:"Apellido",required:!0,disabled:B})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx(ki,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),c.jsx("input",{type:"email",name:"email",value:ye.email,onChange:le,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-800",placeholder:"correo@ejemplo.com",required:!0,disabled:B})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),c.jsxs("div",{className:"relative",children:[c.jsx(Nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),c.jsx("input",{type:$?"text":"password",name:"password",value:ye.password,onChange:le,className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-800",placeholder:"Mnimo 6 caracteres",required:!0,minLength:"6",disabled:B}),c.jsx("button",{type:"button",onClick:()=>Z(!$),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:B,children:$?c.jsx(ka,{className:"w-4 h-4"}):c.jsx(Da,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar Contrasea"}),c.jsxs("div",{className:"relative",children:[c.jsx(Nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),c.jsx("input",{type:pe?"text":"password",name:"confirmPassword",value:ye.confirmPassword,onChange:le,className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-800",placeholder:"Confirmar contrasea",required:!0,disabled:B}),c.jsx("button",{type:"button",onClick:()=>oe(!pe),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:B,children:pe?c.jsx(ka,{className:"w-4 h-4"}):c.jsx(Da,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:ae,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",disabled:B,children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:B,className:"flex-1 px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:B?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creando..."]}):"Crear Usuario"})]})]})]})})}),N&&c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:c.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Editar Usuario"}),c.jsx("button",{onClick:fe,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:L,children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("form",{onSubmit:at,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado"}),c.jsxs("select",{name:"estado",value:A.estado,onChange:F,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-800",required:!0,disabled:L,children:[c.jsx("option",{value:"activo",children:"Activo"}),c.jsx("option",{value:"inactivo",children:"Inactivo"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rol"}),c.jsxs("select",{name:"role",value:A.role,onChange:F,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-800",required:!0,disabled:L,children:[c.jsx("option",{value:"usuario",children:"Usuario"}),c.jsx("option",{value:"moderador",children:"Moderador"}),c.jsx("option",{value:"admin",children:"Administrador"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre"}),c.jsxs("div",{className:"relative",children:[c.jsx(Hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),c.jsx("input",{type:"text",name:"firstName",value:A.firstName,onChange:F,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-800",placeholder:"Nombre",required:!0,disabled:L})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Apellido"}),c.jsxs("div",{className:"relative",children:[c.jsx(Hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),c.jsx("input",{type:"text",name:"lastName",value:A.lastName,onChange:F,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-800",placeholder:"Apellido",required:!0,disabled:L})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx(ki,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),c.jsx("input",{type:"email",name:"email",value:A.email,onChange:F,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-800",placeholder:"correo@ejemplo.com",required:!0,disabled:L})]})]}),c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:c.jsxs("p",{className:"text-sm text-blue-800",children:[c.jsx("strong",{children:"Nota:"}),' Por razones de seguridad, el cambio de contrasea debe ser realizado por el usuario mediante la opcin "Olvid mi contrasea" en el login.']})}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:fe,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",disabled:L,children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:L,className:"flex-1 px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:L?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Actualizando..."]}):"Guardar Cambios"})]})]})]})})})]})})},Hx=()=>{const[n,e]=I.useState(!1),[t,i]=I.useState(""),[o,u]=I.useState(""),[h,p]=I.useState(!1),g=za(),y=()=>e(!n),x=async(X,$)=>{const Z=_n(rn,"users",X.uid),pe=await zE(Z),oe=$.providerId;pe.exists()?(pe.data().providers||[]).includes(oe)?await Qs(Z,{lastLogin:as(),updatedAt:as()}):await Qs(Z,{providers:Pc(oe),lastLogin:as(),updatedAt:as()}):await uy(Z,{uid:X.uid,email:X.email,displayName:X.displayName||"Sin nombre",photoURL:X.photoURL||null,lastLogin:as(),isOnline:!0,providers:[oe],authProvider:oe,updatedAt:as(),createdAt:as()})},E=async(X,$,Z)=>{const{value:pe}=await he.fire({title:"Cuenta existente",text:`Este email ya est registrado. Introduce tu contrasea para vincular ${Z} a tu cuenta.`,input:"password",inputPlaceholder:"Tu contrasea actual",showCancelButton:!0,confirmButtonText:"Vincular cuenta",cancelButtonText:"Cancelar",inputValidator:oe=>{if(!oe)return"La contrasea es requerida"}});if(!pe)return null;try{const ye=(await Nw(zt,X,pe)).user;return await OR(ye,$),await Qs(_n(rn,"users",ye.uid),{providers:Pc($.providerId),updatedAt:as()}),ye}catch(oe){return oe.code==="auth/wrong-password"?he.fire("Error","Contrasea incorrecta","error"):he.fire("Error",oe.message,"error"),null}},N=async(X,$)=>{p(!0);try{const Z=await rI(zt,X),pe=Z.user,oe=pe.email;if(!oe){const{value:S}=await he.fire({title:"Email requerido",input:"email",inputPlaceholder:"tu@email.com",showCancelButton:!0,confirmButtonText:"Continuar",cancelButtonText:"Cancelar"});if(!S){p(!1);return}}const ye=$==="Google"?qs.credentialFromResult(Z):$==="GitHub"?os.credentialFromResult(Z):_s.credentialFromResult(Z);try{const S=await MR(zt,oe);if(S.includes("password")&&$!=="password")if(await E(oe,ye,$)){he.fire(" xito",`${$} vinculado a tu cuenta`,"success"),g("/dashboard");return}else{p(!1);return}if(S.length>0&&!S.includes(ye.providerId)){const{isConfirmed:A}=await he.fire({icon:"warning",title:"Conflicto de cuentas",text:"Este email ya est registrado con otro mtodo. Quieres iniciar sesin con ese mtodo en su lugar?",showCancelButton:!0,confirmButtonText:"S, usar mtodo existente",cancelButtonText:"Cancelar"});A&&he.fire("Info","Por favor usa el mtodo con el que te registraste originalmente","info"),p(!1);return}}catch{console.log("Email no registrado previamente")}await x(pe,pe.providerData[0]),he.fire("Bienvenido!",`Has iniciado sesin con ${$}`,"success"),g("/dashboard")}catch(Z){if(console.error("Error en login social:",Z),Z.code==="auth/popup-closed-by-user")return;Z.code==="auth/account-exists-with-different-credential"?he.fire({icon:"warning",title:"Cuenta existente",text:"Este email ya est registrado con otro mtodo de autenticacin. Por favor inicia sesin con el mtodo original y luego vincula este proveedor desde tu perfil.",confirmButtonText:"Entendido"}):Z.code==="auth/email-already-in-use"?he.fire("Error","Este email ya est en uso con otra cuenta","error"):he.fire("Error",Z.message,"error")}finally{p(!1)}},k=async X=>{if(X.preventDefault(),!t||!o)return he.fire("Error","Completa todos los campos","error");p(!0);try{const Z=(await Nw(zt,t.toLowerCase(),o)).user;await x(Z,Z.providerData[0]),he.fire("Bienvenido!","Has iniciado sesin","success"),g("/dashboard")}catch($){const Z={"auth/user-not-found":"No existe una cuenta con este correo","auth/wrong-password":"Contrasea incorrecta","auth/invalid-email":"Correo invlido","auth/user-disabled":"Cuenta deshabilitada","auth/too-many-requests":"Demasiados intentos fallidos","auth/network-request-failed":"Error de conexin","auth/invalid-credential":"Credenciales invlidas"};he.fire("Error",Z[$.code]||$.message,"error")}finally{p(!1)}},B=()=>N(dy,"Google"),Q=()=>{const X=new _s;X.setCustomParameters({auth_type:"reauthenticate",display:"popup"}),N(X,"Facebook")},L=()=>{const X=new os;X.addScope("user:email"),X.setCustomParameters({allow_signup:"true",prompt:"select_account",login:"",auth_type:"reauthenticate"}),N(X,"GitHub")};return c.jsxs("div",{className:"fixed inset-0 bg-gradient-to-br from-purple-600 via-pink-500 to-orange-400 flex overflow-y-auto",children:[c.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[c.jsx("div",{className:"absolute top-20 left-20 w-20 h-20 bg-white/10 rounded-full blur-xl"}),c.jsx("div",{className:"absolute top-40 right-32 w-32 h-32 bg-white/5 rounded-full blur-2xl"}),c.jsx("div",{className:"absolute bottom-32 left-40 w-24 h-24 bg-white/10 rounded-full blur-xl"}),c.jsx("div",{className:"absolute bottom-20 right-20 w-16 h-16 bg-white/15 rounded-full blur-lg"})]}),c.jsxs("div",{className:"relative mx-auto w-full flex bg-white/95 backdrop-blur-sm shadow-2xl overflow-hidden",children:[c.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-purple-600 to-pink-500 p-12 flex-col justify-center items-center relative",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-600/90 to-pink-500/90"}),c.jsxs("div",{className:"relative z-10 text-center",children:[c.jsx("div",{className:"w-48 h-48 mx-auto mb-8 relative",children:c.jsx("div",{className:"w-full h-full bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm",children:c.jsx("div",{className:"text-8xl",children:""})})}),c.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Learn Flow"}),c.jsx("p",{className:"text-white/90 text-lg mb-8",children:"Master English with AI-powered learning"}),c.jsxs("div",{className:"space-y-4 text-white/80",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx(a_,{className:"w-5 h-5"}),c.jsx("span",{children:"Interactive Lessons"})]}),c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx(u_,{className:"w-5 h-5"}),c.jsx("span",{children:"Personalized Progress"})]})]})]})]}),c.jsx("div",{className:"w-full lg:w-1/2 p-8 lg:p-12 flex flex-col justify-center",children:c.jsxs("div",{className:"max-w-md mx-auto w-full",children:[c.jsxs("div",{className:"lg:hidden text-center mb-8",children:[c.jsxs("div",{className:"inline-flex items-center gap-2 text-purple-600 mb-4",children:[c.jsx(Ph,{className:"w-8 h-8"}),c.jsx("span",{className:"text-2xl font-bold",children:"Learn Flow"})]}),c.jsx("p",{className:"text-gray-600",children:"Master English with AI-powered learning"})]}),c.jsxs("form",{onSubmit:k,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx(ki,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{type:"email",value:t,onChange:X=>i(X.target.value),className:"w-full pl-12 pr-4 py-3 border text-black border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white",placeholder:"Enter your email",required:!0,disabled:h})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(Nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{type:n?"text":"password",value:o,onChange:X=>u(X.target.value),className:"w-full pl-12 pr-12 py-3 border text-black border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white",placeholder:"Enter your password",required:!0,disabled:h}),c.jsx("button",{type:"button",onClick:y,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",disabled:h,children:n?c.jsx(ka,{className:"w-5 h-5"}):c.jsx(Da,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500",disabled:h}),c.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Remember me"})]}),c.jsx(nh,{to:"/ForgotPassword",className:"text-sm text-purple-600 hover:text-purple-700 transition-colors",children:"Forgot password?"})]}),c.jsx("button",{type:"submit",disabled:h,className:"w-full bg-gradient-to-r from-purple-600 to-pink-500 text-white py-3 rounded-xl font-semibold text-lg hover:from-purple-700 hover:to-pink-600 transform hover:scale-[1.02] transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:h?c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Signing In..."]}):"Sign In"})]}),c.jsxs("div",{className:"mt-8",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-gray-300"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),c.jsxs("div",{className:"mt-6 grid grid-cols-3 gap-4",children:[c.jsx("button",{onClick:B,disabled:h,className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Google",children:c.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[c.jsx("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),c.jsx("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),c.jsx("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),c.jsx("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})}),c.jsx("button",{onClick:Q,disabled:h,className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Facebook",children:c.jsx("svg",{className:"w-5 h-5",fill:"#1877f2",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),c.jsx("button",{onClick:L,disabled:h,className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed hover:border-gray-400",title:"GitHub",children:c.jsx("svg",{className:"w-5 h-5",fill:"white",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})})})]})]}),c.jsxs("div",{className:"mt-8 text-center",children:[c.jsx("span",{className:"text-gray-600",children:"Don't have an account? "}),c.jsx(nh,{to:"/register",className:"text-purple-600 hover:text-purple-700 font-semibold transition-colors",children:"Register"})]})]})})]})]})},oO=()=>{const[n,e]=I.useState(""),[t,i]=I.useState(!1),[o,u]=I.useState(!1),h=async g=>{if(g.preventDefault(),!n.trim()){alert("Por favor ingresa tu correo electrnico");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)){alert("Por favor ingresa un correo electrnico vlido");return}i(!0);try{await new Promise(x=>setTimeout(x,1500)),u(!0),console.log("Email de recuperacin enviado a:",n)}catch(x){console.error("Error:",x),x.code==="auth/user-not-found"?alert("No existe una cuenta con este correo electrnico"):x.code==="auth/invalid-email"?alert("Correo electrnico invlido"):alert("Error al enviar el correo. Por favor intenta de nuevo.")}finally{i(!1)}},p=()=>{window.history.back()};return o?c.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-blue-600 via-purple-500 to-pink-500 flex items-center justify-center p-6",children:c.jsx("div",{className:"bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx(ki,{className:"w-10 h-10 text-green-600"})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Correo Enviado!"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Hemos enviado un enlace de recuperacin a:"}),c.jsx("p",{className:"text-lg font-semibold text-gray-800 mb-6",children:n}),c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 text-left",children:[c.jsx("p",{className:"text-sm text-gray-700 mb-2",children:c.jsx("strong",{children:"Instrucciones:"})}),c.jsxs("ol",{className:"text-sm text-gray-600 space-y-1 list-decimal list-inside",children:[c.jsx("li",{children:"Revisa tu bandeja de entrada"}),c.jsx("li",{children:"Haz clic en el enlace del correo"}),c.jsx("li",{children:"Crea tu nueva contrasea"}),c.jsx("li",{children:"Inicia sesin con tu nueva contrasea"})]})]}),c.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"No recibes el correo? Revisa tu carpeta de spam o correo no deseado."}),c.jsx("button",{onClick:p,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 text-white py-3 rounded-xl font-semibold hover:from-blue-600 hover:to-purple-600 transition-all duration-200 shadow-lg",children:"Volver al inicio"})]})})}):c.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-blue-600 via-purple-500 to-pink-500 flex items-center justify-center p-6",children:c.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 w-2/3 ",children:[c.jsxs("button",{onClick:p,className:"flex items-center gap-2 text-white hover:text-gray-800 mb-6 transition-colors",children:[c.jsx(yg,{className:"w-5 h-5"}),c.jsx("span",{children:"Volver"})]}),c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Nr,{className:"w-10 h-10 text-blue-600"})}),c.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Olvidaste tu contrasea?"}),c.jsx("p",{className:"text-gray-600",children:"No te preocupes, te enviaremos un enlace para recuperarla"})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico"}),c.jsxs("div",{className:"relative",children:[c.jsx(ki,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-black w-5 h-5"}),c.jsx("input",{type:"email",value:n,onChange:g=>e(g.target.value),placeholder:"tucorreo@ejemplo.com",className:"w-full pl-11 text-black pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",disabled:t,autoFocus:!0})]})]}),c.jsx("button",{onClick:h,disabled:t,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 text-white py-3 rounded-xl font-semibold hover:from-blue-600 hover:to-purple-600 transition-all duration-200 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:t?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Enviando..."]}):"Enviar enlace de recuperacin"}),c.jsx("div",{className:"text-center",children:c.jsx("button",{onClick:p,className:"text-blue-600 hover:text-blue-700 font-medium transition-colors",children:"Regresar al inicio de sesin"})})]}),c.jsx("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:c.jsx("p",{className:"text-xs text-gray-600 text-center",children:"Por seguridad, el enlace de recuperacin expirar en 1 hora."})})]})})},lO=()=>{const[n,e]=I.useState(""),[t,i]=I.useState(""),[o,u]=I.useState(!1),[h,p]=I.useState(!1),[g,y]=I.useState(!1),[x,E]=I.useState(!1),[N,k]=I.useState(""),[B,Q]=I.useState(!0),[L,X]=I.useState(!1),[$,Z]=I.useState({length:!1,uppercase:!1,lowercase:!1,number:!1});I.useEffect(()=>{const A=new URLSearchParams(window.location.search).get("oobCode");A?(k(A),pe()):(Q(!1),X(!1))},[]),I.useEffect(()=>{Z({length:n.length>=8,uppercase:/[A-Z]/.test(n),lowercase:/[a-z]/.test(n),number:/[0-9]/.test(n)})},[n]);const pe=async S=>{try{await new Promise(A=>setTimeout(A,1e3)),X(!0)}catch(A){console.error("Error validando cdigo:",A),X(!1)}finally{Q(!1)}},oe=async S=>{if(S.preventDefault(),!n.trim()||!t.trim()){alert("Por favor completa todos los campos");return}if(n.length<8){alert("La contrasea debe tener al menos 8 caracteres");return}if(n!==t){alert("Las contraseas no coinciden");return}if(!Object.values($).every(C=>C)){alert("La contrasea debe cumplir con todos los requisitos de seguridad");return}y(!0);try{await new Promise(C=>setTimeout(C,1500)),E(!0),console.log("Contrasea actualizada exitosamente")}catch(C){console.error("Error:",C),C.code==="auth/expired-action-code"?alert("El enlace ha expirado. Solicita uno nuevo."):C.code==="auth/invalid-action-code"?alert("El enlace es invlido. Solicita uno nuevo."):C.code==="auth/weak-password"?alert("La contrasea es muy dbil. Usa una contrasea ms segura."):alert("Error al restablecer la contrasea. Intenta de nuevo.")}finally{y(!1)}},ye=()=>{window.location.href="/"};return B?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-600 via-purple-500 to-pink-500 flex items-center justify-center p-6",children:c.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-indigo-600 mx-auto mb-4"}),c.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Validando enlace..."}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Por favor espera"})]})}):L?x?c.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-indigo-600 via-purple-500 to-pink-500 flex items-center justify-center p-6",children:c.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx(Ca,{className:"w-10 h-10 text-green-600"})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Contrasea Actualizada!"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Tu contrasea ha sido restablecida exitosamente. Ahora puedes iniciar sesin con tu nueva contrasea."}),c.jsx("button",{onClick:ye,className:"w-full bg-gradient-to-r from-indigo-500 to-purple-500 text-white py-3 rounded-xl font-semibold hover:from-indigo-600 hover:to-purple-600 transition-all duration-200 shadow-lg",children:"Ir a Iniciar Sesin"})]})}):c.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-indigo-600 via-purple-500 to-pink-500 flex items-center justify-center p-6",children:c.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("div",{className:"w-20 h-20 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(l_,{className:"w-10 h-10 text-indigo-600"})}),c.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Restablecer Contrasea"}),c.jsx("p",{className:"text-gray-600",children:"Crea una contrasea nueva y segura"})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nueva Contrasea"}),c.jsxs("div",{className:"relative",children:[c.jsx(Nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{type:o?"text":"password",value:n,onChange:S=>e(S.target.value),placeholder:"Mnimo 8 caracteres",className:"w-full pl-11 text-black pr-11 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",disabled:g}),c.jsx("button",{type:"button",onClick:()=>u(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o?c.jsx(ka,{className:"w-5 h-5"}):c.jsx(Da,{className:"w-5 h-5"})})]})]}),n&&c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[c.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Requisitos de seguridad:"}),c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:`flex items-center gap-2 text-sm ${$.length?"text-green-600":"text-gray-500"}`,children:[c.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center ${$.length?"bg-green-100":"bg-gray-200"}`,children:$.length&&c.jsx(Ca,{className:"w-3 h-3"})}),"Mnimo 8 caracteres"]}),c.jsxs("div",{className:`flex items-center gap-2 text-sm ${$.uppercase?"text-green-600":"text-gray-500"}`,children:[c.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center ${$.uppercase?"bg-green-100":"bg-gray-200"}`,children:$.uppercase&&c.jsx(Ca,{className:"w-3 h-3"})}),"Una letra mayscula"]}),c.jsxs("div",{className:`flex items-center gap-2 text-sm ${$.lowercase?"text-green-600":"text-gray-500"}`,children:[c.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center ${$.lowercase?"bg-green-100":"bg-gray-200"}`,children:$.lowercase&&c.jsx(Ca,{className:"w-3 h-3"})}),"Una letra minscula"]}),c.jsxs("div",{className:`flex items-center gap-2 text-sm ${$.number?"text-green-600":"text-gray-500"}`,children:[c.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center ${$.number?"bg-green-100":"bg-gray-200"}`,children:$.number&&c.jsx(Ca,{className:"w-3 h-3"})}),"Un nmero"]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar Contrasea"}),c.jsxs("div",{className:"relative",children:[c.jsx(Nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),c.jsx("input",{type:h?"text":"password",value:t,onChange:S=>i(S.target.value),placeholder:"Repite tu contrasea",className:"w-full text-black pl-11 pr-11 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",disabled:g}),c.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:h?c.jsx(ka,{className:"w-5 h-5"}):c.jsx(Da,{className:"w-5 h-5"})})]}),t&&n!==t&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Las contraseas no coinciden"})]}),c.jsx("button",{onClick:oe,disabled:g||n!==t||!Object.values($).every(S=>S),className:"w-full bg-gradient-to-r from-indigo-500 to-purple-500 text-black py-3 rounded-xl font-semibold hover:from-indigo-600 hover:to-purple-600 transition-all duration-200 shadow-lg  disabled:cursor-not-allowed flex items-center justify-center",children:g?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Actualizando..."]}):"Restablecer Contrasea"}),c.jsx("div",{className:"text-center",children:c.jsx("button",{onClick:ye,className:"text-indigo-600 hover:text-indigo-700 font-medium transition-colors",children:"Volver al inicio de sesin"})})]})]})}):c.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-indigo-600 via-purple-500 to-pink-500 flex items-center justify-center p-6",children:c.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx(Nr,{className:"w-10 h-10 text-red-600"})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Enlace Invlido o Expirado"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"El enlace de recuperacin no es vlido o ya ha sido utilizado."}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{onClick:()=>window.location.href="/ForgotPassword",className:"w-full bg-gradient-to-r from-indigo-500 to-purple-500 text-white py-3 rounded-xl font-semibold hover:from-indigo-600 hover:to-purple-600 transition-all duration-200 shadow-lg",children:"Solicitar nuevo enlace"}),c.jsx("button",{onClick:ye,className:"w-full bg-gray-100 text-gray-700 py-3 rounded-xl font-semibold hover:bg-gray-200 transition-all duration-200",children:"Volver al inicio"})]})]})})},cO=()=>c.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[c.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Poltica de Privacidad"}),c.jsx("p",{className:"mb-4",children:"En ArchitecturaOS, respetamos tu privacidad y nos comprometemos a proteger tus datos personales."}),c.jsx("h2",{className:"text-2xl font-bold mt-6 mb-3",children:"Informacin que recopilamos"}),c.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[c.jsx("li",{children:"Nombre y correo electrnico (al registrarte)"}),c.jsx("li",{children:"Informacin de perfil de redes sociales (si usas login social)"}),c.jsx("li",{children:"Datos de uso de la aplicacin"})]}),c.jsx("h2",{className:"text-2xl font-bold mt-6 mb-3",children:"Cmo usamos tu informacin"}),c.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[c.jsx("li",{children:"Proporcionar y mejorar nuestros servicios"}),c.jsx("li",{children:"Personalizar tu experiencia de aprendizaje"}),c.jsx("li",{children:"Comunicarnos contigo sobre actualizaciones"})]}),c.jsx("h2",{className:"text-2xl font-bold mt-6 mb-3",children:"Contacto"}),c.jsx("p",{children:"Para preguntas sobre esta poltica: daniloww27@gmail.com"})]}),uO=()=>c.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[c.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Trminos del Servicio"}),c.jsx("h2",{className:"text-2xl font-bold mt-6 mb-3",children:"Aceptacin de los trminos"}),c.jsx("p",{className:"mb-4",children:"Al acceder y usar ArchitecturaOS, aceptas estar sujeto a estos trminos."}),c.jsx("h2",{className:"text-2xl font-bold mt-6 mb-3",children:"Uso del servicio"}),c.jsxs("ul",{className:"list-disc ml-6 mb-4",children:[c.jsx("li",{children:"Debes ser mayor de 13 aos para usar este servicio"}),c.jsx("li",{children:"Eres responsable de mantener la seguridad de tu cuenta"}),c.jsx("li",{children:"No puedes usar el servicio para fines ilegales"})]}),c.jsx("h2",{className:"text-2xl font-bold mt-6 mb-3",children:"Propiedad intelectual"}),c.jsx("p",{className:"mb-4",children:"Todo el contenido de la plataforma es propiedad de ArchitecturaOS."}),c.jsx("h2",{className:"text-2xl font-bold mt-6 mb-3",children:"Contacto"}),c.jsx("p",{children:"Para preguntas: daniloww27@gmail.com"})]}),dO=()=>c.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[c.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Eliminacin de Datos de Usuario"}),c.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 mb-6",children:c.jsx("p",{className:"text-blue-700",children:"En ArchitecturaOS respetamos tu privacidad y tu derecho a eliminar tus datos."})}),c.jsx("h2",{className:"text-2xl font-bold mt-6 mb-4",children:"Qu datos se eliminan?"}),c.jsxs("ul",{className:"list-disc ml-6 mb-6 space-y-2",children:[c.jsx("li",{children:"Tu informacin de perfil (nombre, email, foto)"}),c.jsx("li",{children:"Tu historial de progreso y lecciones"}),c.jsx("li",{children:"Tus preferencias y configuraciones"}),c.jsx("li",{children:"Cualquier contenido que hayas creado"})]}),c.jsx("h2",{className:"text-2xl font-bold mt-6 mb-4",children:"Cmo solicitar la eliminacin de tus datos"}),c.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg mb-6",children:[c.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Mtodo 1: Desde la aplicacin"}),c.jsxs("ol",{className:"list-decimal ml-6 space-y-2",children:[c.jsx("li",{children:"Inicia sesin en tu cuenta"}),c.jsxs("li",{children:["Ve a ",c.jsx("strong",{children:"Configuracin  Mi Cuenta"})]}),c.jsxs("li",{children:["Desplzate hasta ",c.jsx("strong",{children:'"Eliminar mi cuenta"'})]}),c.jsx("li",{children:"Confirma la eliminacin"})]}),c.jsx("p",{className:"mt-3 text-sm text-gray-600",children:" Tus datos sern eliminados inmediatamente y de forma permanente."})]}),c.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg mb-6",children:[c.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Mtodo 2: Por correo electrnico"}),c.jsx("p",{className:"mb-3",children:"Si no puedes acceder a tu cuenta, contctanos:"}),c.jsxs("div",{className:"flex items-center gap-2 bg-white p-4 rounded border",children:[c.jsx(ki,{className:"w-5 h-5 text-purple-600"}),c.jsx("a",{href:"mailto:daniloww27@gmail.com",className:"text-purple-600 hover:underline",children:"daniloww27@gmail.com"})]}),c.jsx("p",{className:"mt-3 text-sm text-gray-600",children:"Incluye en tu mensaje:"}),c.jsxs("ul",{className:"list-disc ml-6 mt-2 text-sm text-gray-600",children:[c.jsx("li",{children:"Tu correo electrnico registrado"}),c.jsx("li",{children:'Asunto: "Solicitud de eliminacin de datos"'})]}),c.jsx("p",{className:"mt-3 text-sm text-gray-600",children:" Procesaremos tu solicitud en un plazo de 30 das."})]}),c.jsx("h2",{className:"text-2xl font-bold mt-8 mb-4",children:"Datos que permanecen"}),c.jsx("p",{className:"mb-3",children:"Por razones legales y de seguridad, podemos retener:"}),c.jsxs("ul",{className:"list-disc ml-6 mb-6 space-y-2 text-gray-700",children:[c.jsx("li",{children:"Registros de transacciones (si aplica)"}),c.jsx("li",{children:"Informacin requerida por ley durante el perodo de retencin legal"}),c.jsx("li",{children:"Datos anonimizados para anlisis estadsticos"})]}),c.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 p-4 mt-6",children:c.jsxs("p",{className:"text-yellow-800",children:[c.jsx("strong",{children:" Advertencia:"})," La eliminacin de datos es permanente e irreversible. No podremos recuperar tu cuenta ni tu progreso despus de la eliminacin."]})}),c.jsx("h2",{className:"text-2xl font-bold mt-8 mb-4",children:"Preguntas frecuentes"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Cunto tiempo toma eliminar mis datos?"}),c.jsx("p",{className:"text-gray-700",children:"Si lo haces desde la aplicacin, es inmediato. Por correo, hasta 30 das."})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Puedo recuperar mi cuenta despus?"}),c.jsx("p",{className:"text-gray-700",children:"No. La eliminacin es permanente. Debers crear una nueva cuenta si deseas volver."})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Se eliminarn mis datos de Facebook?"}),c.jsx("p",{className:"text-gray-700",children:"Esta accin solo elimina datos de ArchitecturaOS. Para eliminar datos de Facebook, debes hacerlo desde tu cuenta de Facebook."})]})]}),c.jsxs("div",{className:"mt-8 p-6 bg-purple-50 rounded-lg",children:[c.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Necesitas ayuda?"}),c.jsxs("p",{className:"text-gray-700",children:["Contctanos en: ",c.jsx("a",{href:"mailto:daniloww27@gmail.com",className:"text-purple-600 hover:underline",children:"daniloww27@gmail.com"})]})]})]}),hO=()=>{const[n,e]=I.useState(null),[t,i]=I.useState([]),[o,u]=I.useState(!0),[h,p]=I.useState(!1),g=za();I.useEffect(()=>{(async()=>{const B=zt.currentUser;if(!B)return g("/login");try{const Q=await zE(_n(rn,"usuarios",B.uid));Q.exists()&&e(Q.data()),i(B.providerData.map(L=>L.providerId))}catch(Q){console.error("Error fetching user:",Q)}finally{u(!1)}})()},[g]);const y=async()=>{p(!0);try{if(!zt.currentUser)throw new Error("No hay usuario autenticado");const k=new os;k.addScope("user:email"),k.setCustomParameters({allow_signup:"false",prompt:"consent",login:zt.currentUser.email});let L=(await Ep(zt.currentUser,k)).user.email;L||(L=zt.currentUser.email,console.log("GitHub no proporcion email, usando email actual:",L)),await Qs(_n(rn,"usuarios",zt.currentUser.uid),{providers:Pc("github.com"),email:L,updatedAt:new Date}),i(X=>{const $=[...X,"github.com"];return[...new Set($)]}),he.fire({icon:"success",title:" Vinculado",text:`GitHub vinculado exitosamente a ${L}`,timer:3e3})}catch(k){console.error("Error detallado linking GitHub:",k),k.code==="auth/provider-already-linked"?(he.fire("","GitHub ya est vinculado a tu cuenta","info"),i(B=>[...B,"github.com"])):k.code==="auth/email-already-in-use"?he.fire({icon:"error",title:"Email en uso",text:"Este email de GitHub ya est asociado a otra cuenta. No se puede vincular."}):k.code==="auth/credential-already-in-use"?he.fire(" Error","Estas credenciales de GitHub ya estn en uso con otra cuenta","error"):k.code==="auth/popup-closed-by-user"||(k.code==="auth/requires-recent-login"?he.fire({icon:"warning",title:"Reautenticacin requerida",text:"Por favor inicia sesin nuevamente para vincular GitHub"}):he.fire({icon:"error",title:"Error",text:k.message||"Error al vincular GitHub"}))}finally{p(!1)}},x=async()=>{p(!0);try{const k=await Ep(zt.currentUser,dy);await Qs(_n(rn,"usuarios",zt.currentUser.uid),{providers:Pc("google.com"),updatedAt:new Date}),i(B=>[...B,"google.com"]),he.fire(" Vinculado","Google vinculado exitosamente","success")}catch(k){k.code==="auth/provider-already-linked"?(he.fire("","Google ya est vinculado a tu cuenta","info"),i(B=>[...B,"google.com"])):he.fire(" Error",k.message,"error")}finally{p(!1)}},E=async()=>{p(!0);try{const k=await Ep(zt.currentUser,h5);await Qs(_n(rn,"usuarios",zt.currentUser.uid),{providers:Pc("facebook.com"),updatedAt:new Date}),i(B=>[...B,"facebook.com"]),he.fire(" Vinculado","Facebook vinculado exitosamente","success")}catch(k){k.code==="auth/provider-already-linked"?(he.fire("","Facebook ya est vinculado a tu cuenta","info"),i(B=>[...B,"facebook.com"])):he.fire(" Error",k.message,"error")}finally{p(!1)}},N=async()=>{try{await Z_(zt),g("/login")}catch{he.fire(" Error","Error al cerrar sesin","error")}};return o?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-600 via-pink-500 to-orange-400 flex items-center justify-center",children:c.jsxs("div",{className:"text-white text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),c.jsx("p",{children:"Cargando perfil..."})]})}):c.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-purple-600 via-pink-500 to-orange-400 p-4",children:c.jsxs("div",{className:"max-w-2xl mx-auto bg-white/90 backdrop-blur-sm rounded-3xl mt-10 p-6 shadow-2xl",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-8",children:[c.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 flex items-center gap-3",children:[c.jsx(Hs,{className:"w-8 h-8"})," Mi Perfil"]}),c.jsxs("button",{onClick:N,className:"flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-xl transition-colors font-semibold",children:[c.jsx(o_,{className:"w-5 h-5"})," Cerrar sesin"]})]}),c.jsxs("div",{className:"space-y-4 mb-8 p-4 bg-gray-50 rounded-2xl",children:[c.jsxs("div",{className:"flex items-center gap-3 text-lg text-gray-700",children:[c.jsx(ki,{className:"w-5 h-5"}),c.jsxs("div",{children:[c.jsx("strong",{children:"Email:"})," ",n?.email||zt.currentUser?.email]})]}),c.jsxs("div",{className:"flex items-center gap-3 text-lg text-gray-700",children:[c.jsx(Hs,{className:"w-5 h-5"}),c.jsxs("div",{children:[c.jsx("strong",{children:"Nombre:"})," ",n?.firstName||"No especificado"," ",n?.lastName||""]})]})]}),c.jsxs("div",{className:"mb-8",children:[c.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[c.jsx(sw,{className:"w-6 h-6"})," Proveedores vinculados"]}),c.jsx("div",{className:"space-y-3",children:[{id:"google.com",name:"Google",icon:c.jsx(wA,{className:"w-5 h-5"}),color:"hover:bg-red-50 border-red-200",action:x},{id:"facebook.com",name:"Facebook",icon:c.jsx(AA,{className:"w-5 h-5"}),color:"hover:bg-blue-50 border-blue-200",action:E},{id:"github.com",name:"GitHub",icon:c.jsx(jA,{className:"w-5 h-5"}),color:"hover:bg-gray-50 border-gray-200",action:y}].map(k=>c.jsxs("div",{className:`flex items-center justify-between border-2 rounded-xl p-4 transition-all duration-200 ${k.color}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[k.icon,c.jsx("span",{className:"font-medium text-gray-800",children:k.name})]}),t.includes(k.id)?c.jsx("span",{className:"text-green-600 font-semibold bg-green-100 px-3 py-1 rounded-full text-sm",children:"Vinculado"}):c.jsx("button",{onClick:k.action,disabled:h,className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:h?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Vinculando..."]}):c.jsxs(c.Fragment,{children:[c.jsx(sw,{className:"w-4 h-4"})," Vincular"]})})]},k.id))})]}),c.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-2xl p-4 mb-6",children:[c.jsx("h3",{className:"font-semibold text-purple-800 mb-2",children:" Informacin importante"}),c.jsx("p",{className:"text-purple-700 text-sm",children:"Al vincular proveedores, podrs iniciar sesin con cualquiera de ellos usando el mismo email. Todos los proveedores vinculados compartirn el mismo perfil y progreso."})]}),c.jsx("div",{className:"text-center",children:c.jsx("button",{onClick:()=>g("/dashboard"),className:"text-white font-semibold transition-colors",children:" Volver al Dashboard"})})]})})};function fO(){return c.jsx(VS,{children:c.jsxs(mS,{children:[c.jsx(Bt,{path:"/",element:c.jsx(Hx,{})}),c.jsx(Bt,{path:"/useEffect",element:c.jsx(YS,{})}),c.jsx(Bt,{path:"/useState",element:c.jsx(TN,{})}),c.jsx(Bt,{path:"/useNavigate",element:c.jsx(KS,{})}),c.jsx(Bt,{path:"/useContext",element:c.jsx(sA,{})}),c.jsx(Bt,{path:"/useReducer",element:c.jsx(lA,{})}),c.jsx(Bt,{path:"/useCallback",element:c.jsx(dA,{})}),c.jsx(Bt,{path:"/Register",element:c.jsx(nO,{})}),c.jsx(Bt,{path:"/Lessons",element:c.jsx(sO,{})}),c.jsx(Bt,{path:"/Dashboard",element:c.jsx(iO,{})}),c.jsx(Bt,{path:"/Users",element:c.jsx(aO,{})}),c.jsx(Bt,{path:"/Login",element:c.jsx(Hx,{})}),c.jsx(Bt,{path:"/ForgotPassword",element:c.jsx(oO,{})}),c.jsx(Bt,{path:"/ResetPassword",element:c.jsx(lO,{})}),c.jsx(Bt,{path:"/privacy",element:c.jsx(cO,{})}),c.jsx(Bt,{path:"/terms",element:c.jsx(uO,{})}),c.jsx(Bt,{path:"/data-deletion",element:c.jsx(dO,{})}),c.jsx(Bt,{path:"/profile",element:c.jsx(hO,{})})]})})}EN.createRoot(document.getElementById("root")).render(c.jsx(I.StrictMode,{children:c.jsx(fO,{})}));
